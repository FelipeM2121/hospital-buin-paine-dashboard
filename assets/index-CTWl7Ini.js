var cw=n=>{throw TypeError(n)};var Vg=(n,e,t)=>e.has(n)||cw("Cannot "+t);var mt=(n,e,t)=>(Vg(n,e,"read from private field"),t?t.call(n):e.get(n)),Xi=(n,e,t)=>e.has(n)?cw("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),zn=(n,e,t,i)=>(Vg(n,e,"write to private field"),i?i.call(n,t):e.set(n,t),t),Ki=(n,e,t)=>(Vg(n,e,"access private method"),t);var uw=(n,e,t,i)=>({set _(r){zn(n,e,r,t)},get _(){return mt(n,e,i)}});function Uk(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function Zr(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Yg={exports:{}},pc={};var dw;function Hk(){if(dw)return pc;dw=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,r,s){var l=null;if(s!==void 0&&(l=""+s),r.key!==void 0&&(l=""+r.key),"key"in r){s={};for(var c in r)c!=="key"&&(s[c]=r[c])}else s=r;return r=s.ref,{$$typeof:n,type:i,key:l,ref:r!==void 0?r:null,props:s}}return pc.Fragment=e,pc.jsx=t,pc.jsxs=t,pc}var fw;function qk(){return fw||(fw=1,Yg.exports=Hk()),Yg.exports}var N=qk(),Xg={exports:{}},Te={};var hw;function $k(){if(hw)return Te;hw=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),g=Symbol.iterator;function y(I){return I===null||typeof I!="object"?null:(I=g&&I[g]||I["@@iterator"],typeof I=="function"?I:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,E={};function x(I,K,ne){this.props=I,this.context=K,this.refs=E,this.updater=ne||S}x.prototype.isReactComponent={},x.prototype.setState=function(I,K){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,K,"setState")},x.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function O(){}O.prototype=x.prototype;function T(I,K,ne){this.props=I,this.context=K,this.refs=E,this.updater=ne||S}var P=T.prototype=new O;P.constructor=T,A(P,x.prototype),P.isPureReactComponent=!0;var M=Array.isArray;function _(){}var L={H:null,A:null,T:null,S:null},B=Object.prototype.hasOwnProperty;function F(I,K,ne){var oe=ne.ref;return{$$typeof:n,type:I,key:K,ref:oe!==void 0?oe:null,props:ne}}function X(I,K){return F(I.type,K,I.props)}function q(I){return typeof I=="object"&&I!==null&&I.$$typeof===n}function $(I){var K={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(ne){return K[ne]})}var se=/\/+/g;function re(I,K){return typeof I=="object"&&I!==null&&I.key!=null?$(""+I.key):K.toString(36)}function ce(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(_,_):(I.status="pending",I.then(function(K){I.status==="pending"&&(I.status="fulfilled",I.value=K)},function(K){I.status==="pending"&&(I.status="rejected",I.reason=K)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function j(I,K,ne,oe,ve){var Ee=typeof I;(Ee==="undefined"||Ee==="boolean")&&(I=null);var de=!1;if(I===null)de=!0;else switch(Ee){case"bigint":case"string":case"number":de=!0;break;case"object":switch(I.$$typeof){case n:case e:de=!0;break;case h:return de=I._init,j(de(I._payload),K,ne,oe,ve)}}if(de)return ve=ve(I),de=oe===""?"."+re(I,0):oe,M(ve)?(ne="",de!=null&&(ne=de.replace(se,"$&/")+"/"),j(ve,K,ne,"",function(Oe){return Oe})):ve!=null&&(q(ve)&&(ve=X(ve,ne+(ve.key==null||I&&I.key===ve.key?"":(""+ve.key).replace(se,"$&/")+"/")+de)),K.push(ve)),1;de=0;var ct=oe===""?".":oe+":";if(M(I))for(var J=0;J<I.length;J++)oe=I[J],Ee=ct+re(oe,J),de+=j(oe,K,ne,Ee,ve);else if(J=y(I),typeof J=="function")for(I=J.call(I),J=0;!(oe=I.next()).done;)oe=oe.value,Ee=ct+re(oe,J++),de+=j(oe,K,ne,Ee,ve);else if(Ee==="object"){if(typeof I.then=="function")return j(ce(I),K,ne,oe,ve);throw K=String(I),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return de}function H(I,K,ne){if(I==null)return I;var oe=[],ve=0;return j(I,oe,"","",function(Ee){return K.call(ne,Ee,ve++)}),oe}function ie(I){if(I._status===-1){var K=I._result;K=K(),K.then(function(ne){(I._status===0||I._status===-1)&&(I._status=1,I._result=ne)},function(ne){(I._status===0||I._status===-1)&&(I._status=2,I._result=ne)}),I._status===-1&&(I._status=0,I._result=K)}if(I._status===1)return I._result.default;throw I._result}var le=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},pe={map:H,forEach:function(I,K,ne){H(I,function(){K.apply(this,arguments)},ne)},count:function(I){var K=0;return H(I,function(){K++}),K},toArray:function(I){return H(I,function(K){return K})||[]},only:function(I){if(!q(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return Te.Activity=p,Te.Children=pe,Te.Component=x,Te.Fragment=t,Te.Profiler=r,Te.PureComponent=T,Te.StrictMode=i,Te.Suspense=d,Te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,Te.__COMPILER_RUNTIME={__proto__:null,c:function(I){return L.H.useMemoCache(I)}},Te.cache=function(I){return function(){return I.apply(null,arguments)}},Te.cacheSignal=function(){return null},Te.cloneElement=function(I,K,ne){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var oe=A({},I.props),ve=I.key;if(K!=null)for(Ee in K.key!==void 0&&(ve=""+K.key),K)!B.call(K,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&K.ref===void 0||(oe[Ee]=K[Ee]);var Ee=arguments.length-2;if(Ee===1)oe.children=ne;else if(1<Ee){for(var de=Array(Ee),ct=0;ct<Ee;ct++)de[ct]=arguments[ct+2];oe.children=de}return F(I.type,ve,oe)},Te.createContext=function(I){return I={$$typeof:l,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:s,_context:I},I},Te.createElement=function(I,K,ne){var oe,ve={},Ee=null;if(K!=null)for(oe in K.key!==void 0&&(Ee=""+K.key),K)B.call(K,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(ve[oe]=K[oe]);var de=arguments.length-2;if(de===1)ve.children=ne;else if(1<de){for(var ct=Array(de),J=0;J<de;J++)ct[J]=arguments[J+2];ve.children=ct}if(I&&I.defaultProps)for(oe in de=I.defaultProps,de)ve[oe]===void 0&&(ve[oe]=de[oe]);return F(I,Ee,ve)},Te.createRef=function(){return{current:null}},Te.forwardRef=function(I){return{$$typeof:c,render:I}},Te.isValidElement=q,Te.lazy=function(I){return{$$typeof:h,_payload:{_status:-1,_result:I},_init:ie}},Te.memo=function(I,K){return{$$typeof:f,type:I,compare:K===void 0?null:K}},Te.startTransition=function(I){var K=L.T,ne={};L.T=ne;try{var oe=I(),ve=L.S;ve!==null&&ve(ne,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(_,le)}catch(Ee){le(Ee)}finally{K!==null&&ne.types!==null&&(K.types=ne.types),L.T=K}},Te.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},Te.use=function(I){return L.H.use(I)},Te.useActionState=function(I,K,ne){return L.H.useActionState(I,K,ne)},Te.useCallback=function(I,K){return L.H.useCallback(I,K)},Te.useContext=function(I){return L.H.useContext(I)},Te.useDebugValue=function(){},Te.useDeferredValue=function(I,K){return L.H.useDeferredValue(I,K)},Te.useEffect=function(I,K){return L.H.useEffect(I,K)},Te.useEffectEvent=function(I){return L.H.useEffectEvent(I)},Te.useId=function(){return L.H.useId()},Te.useImperativeHandle=function(I,K,ne){return L.H.useImperativeHandle(I,K,ne)},Te.useInsertionEffect=function(I,K){return L.H.useInsertionEffect(I,K)},Te.useLayoutEffect=function(I,K){return L.H.useLayoutEffect(I,K)},Te.useMemo=function(I,K){return L.H.useMemo(I,K)},Te.useOptimistic=function(I,K){return L.H.useOptimistic(I,K)},Te.useReducer=function(I,K,ne){return L.H.useReducer(I,K,ne)},Te.useRef=function(I){return L.H.useRef(I)},Te.useState=function(I){return L.H.useState(I)},Te.useSyncExternalStore=function(I,K,ne){return L.H.useSyncExternalStore(I,K,ne)},Te.useTransition=function(){return L.H.useTransition()},Te.version="19.2.4",Te}var pw;function cl(){return pw||(pw=1,Xg.exports=$k()),Xg.exports}var C=cl();const Gk=Zr(C),Vk=Uk({__proto__:null,default:Gk},[C]);var Kg={exports:{}},mc={},Wg={exports:{}},Zg={};var mw;function Yk(){return mw||(mw=1,(function(n){function e(j,H){var ie=j.length;j.push(H);e:for(;0<ie;){var le=ie-1>>>1,pe=j[le];if(0<r(pe,H))j[le]=H,j[ie]=pe,ie=le;else break e}}function t(j){return j.length===0?null:j[0]}function i(j){if(j.length===0)return null;var H=j[0],ie=j.pop();if(ie!==H){j[0]=ie;e:for(var le=0,pe=j.length,I=pe>>>1;le<I;){var K=2*(le+1)-1,ne=j[K],oe=K+1,ve=j[oe];if(0>r(ne,ie))oe<pe&&0>r(ve,ne)?(j[le]=ve,j[oe]=ie,le=oe):(j[le]=ne,j[K]=ie,le=K);else if(oe<pe&&0>r(ve,ie))j[le]=ve,j[oe]=ie,le=oe;else break e}}return H}function r(j,H){var ie=j.sortIndex-H.sortIndex;return ie!==0?ie:j.id-H.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var d=[],f=[],h=1,p=null,g=3,y=!1,S=!1,A=!1,E=!1,x=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function P(j){for(var H=t(f);H!==null;){if(H.callback===null)i(f);else if(H.startTime<=j)i(f),H.sortIndex=H.expirationTime,e(d,H);else break;H=t(f)}}function M(j){if(A=!1,P(j),!S)if(t(d)!==null)S=!0,_||(_=!0,$());else{var H=t(f);H!==null&&ce(M,H.startTime-j)}}var _=!1,L=-1,B=5,F=-1;function X(){return E?!0:!(n.unstable_now()-F<B)}function q(){if(E=!1,_){var j=n.unstable_now();F=j;var H=!0;try{e:{S=!1,A&&(A=!1,O(L),L=-1),y=!0;var ie=g;try{t:{for(P(j),p=t(d);p!==null&&!(p.expirationTime>j&&X());){var le=p.callback;if(typeof le=="function"){p.callback=null,g=p.priorityLevel;var pe=le(p.expirationTime<=j);if(j=n.unstable_now(),typeof pe=="function"){p.callback=pe,P(j),H=!0;break t}p===t(d)&&i(d),P(j)}else i(d);p=t(d)}if(p!==null)H=!0;else{var I=t(f);I!==null&&ce(M,I.startTime-j),H=!1}}break e}finally{p=null,g=ie,y=!1}H=void 0}}finally{H?$():_=!1}}}var $;if(typeof T=="function")$=function(){T(q)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,re=se.port2;se.port1.onmessage=q,$=function(){re.postMessage(null)}}else $=function(){x(q,0)};function ce(j,H){L=x(function(){j(n.unstable_now())},H)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(j){j.callback=null},n.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<j?Math.floor(1e3/j):5},n.unstable_getCurrentPriorityLevel=function(){return g},n.unstable_next=function(j){switch(g){case 1:case 2:case 3:var H=3;break;default:H=g}var ie=g;g=H;try{return j()}finally{g=ie}},n.unstable_requestPaint=function(){E=!0},n.unstable_runWithPriority=function(j,H){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var ie=g;g=j;try{return H()}finally{g=ie}},n.unstable_scheduleCallback=function(j,H,ie){var le=n.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?le+ie:le):ie=le,j){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=ie+pe,j={id:h++,callback:H,priorityLevel:j,startTime:ie,expirationTime:pe,sortIndex:-1},ie>le?(j.sortIndex=ie,e(f,j),t(d)===null&&j===t(f)&&(A?(O(L),L=-1):A=!0,ce(M,ie-le))):(j.sortIndex=pe,e(d,j),S||y||(S=!0,_||(_=!0,$()))),j},n.unstable_shouldYield=X,n.unstable_wrapCallback=function(j){var H=g;return function(){var ie=g;g=H;try{return j.apply(this,arguments)}finally{g=ie}}}})(Zg)),Zg}var gw;function Xk(){return gw||(gw=1,Wg.exports=Yk()),Wg.exports}var Qg={exports:{}},An={};var vw;function Kk(){if(vw)return An;vw=1;var n=cl();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function s(d,f,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:p==null?null:""+p,children:d,containerInfo:f,implementation:h}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return An.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,An.createPortal=function(d,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return s(d,f,null,h)},An.flushSync=function(d){var f=l.T,h=i.p;try{if(l.T=null,i.p=2,d)return d()}finally{l.T=f,i.p=h,i.d.f()}},An.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(d,f))},An.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},An.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var h=f.as,p=c(h,f.crossOrigin),g=typeof f.integrity=="string"?f.integrity:void 0,y=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?i.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:g,fetchPriority:y}):h==="script"&&i.d.X(d,{crossOrigin:p,integrity:g,fetchPriority:y,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},An.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=c(f.as,f.crossOrigin);i.d.M(d,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(d)},An.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,p=c(h,f.crossOrigin);i.d.L(d,h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},An.preloadModule=function(d,f){if(typeof d=="string")if(f){var h=c(f.as,f.crossOrigin);i.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(d)},An.requestFormReset=function(d){i.d.r(d)},An.unstable_batchedUpdates=function(d,f){return d(f)},An.useFormState=function(d,f,h){return l.H.useFormState(d,f,h)},An.useFormStatus=function(){return l.H.useHostTransitionStatus()},An.version="19.2.4",An}var yw;function G_(){if(yw)return Qg.exports;yw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Qg.exports=Kk(),Qg.exports}var bw;function Wk(){if(bw)return mc;bw=1;var n=Xk(),e=cl(),t=G_();function i(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var o=a,u=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(u=o.return),a=o.return;while(a)}return o.tag===3?u:null}function l(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function c(a){if(a.tag===31){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function d(a){if(s(a)!==a)throw Error(i(188))}function f(a){var o=a.alternate;if(!o){if(o=s(a),o===null)throw Error(i(188));return o!==a?null:a}for(var u=a,m=o;;){var v=u.return;if(v===null)break;var b=v.alternate;if(b===null){if(m=v.return,m!==null){u=m;continue}break}if(v.child===b.child){for(b=v.child;b;){if(b===u)return d(v),a;if(b===m)return d(v),o;b=b.sibling}throw Error(i(188))}if(u.return!==m.return)u=v,m=b;else{for(var w=!1,D=v.child;D;){if(D===u){w=!0,u=v,m=b;break}if(D===m){w=!0,m=v,u=b;break}D=D.sibling}if(!w){for(D=b.child;D;){if(D===u){w=!0,u=b,m=v;break}if(D===m){w=!0,m=b,u=v;break}D=D.sibling}if(!w)throw Error(i(189))}}if(u.alternate!==m)throw Error(i(190))}if(u.tag!==3)throw Error(i(188));return u.stateNode.current===u?a:o}function h(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=h(a),o!==null)return o;a=a.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),T=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),X=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function $(a){return a===null||typeof a!="object"?null:(a=q&&a[q]||a["@@iterator"],typeof a=="function"?a:null)}var se=Symbol.for("react.client.reference");function re(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===se?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case A:return"Fragment";case x:return"Profiler";case E:return"StrictMode";case M:return"Suspense";case _:return"SuspenseList";case F:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case S:return"Portal";case T:return a.displayName||"Context";case O:return(a._context.displayName||"Context")+".Consumer";case P:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case L:return o=a.displayName||null,o!==null?o:re(a.type)||"Memo";case B:o=a._payload,a=a._init;try{return re(a(o))}catch{}}return null}var ce=Array.isArray,j=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},le=[],pe=-1;function I(a){return{current:a}}function K(a){0>pe||(a.current=le[pe],le[pe]=null,pe--)}function ne(a,o){pe++,le[pe]=a.current,a.current=o}var oe=I(null),ve=I(null),Ee=I(null),de=I(null);function ct(a,o){switch(ne(Ee,o),ne(ve,a),ne(oe,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?Lx(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=Lx(o),a=Nx(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}K(oe),ne(oe,a)}function J(){K(oe),K(ve),K(Ee)}function Oe(a){a.memoizedState!==null&&ne(de,a);var o=oe.current,u=Nx(o,a.type);o!==u&&(ne(ve,a),ne(oe,u))}function Pe(a){ve.current===a&&(K(oe),K(ve)),de.current===a&&(K(de),uc._currentValue=ie)}var ae,Lt;function Re(a){if(ae===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);ae=o&&o[1]||"",Lt=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ae+a+Lt}var sn=!1;function on(a,o){if(!a||sn)return"";sn=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(o){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(Z){var W=Z}Reflect.construct(a,[],te)}else{try{te.call()}catch(Z){W=Z}a.call(te.prototype)}}else{try{throw Error()}catch(Z){W=Z}(te=a())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(Z){if(Z&&W&&typeof Z.stack=="string")return[Z.stack,W.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=m.DetermineComponentFrameRoot(),w=b[0],D=b[1];if(w&&D){var k=w.split(`
`),V=D.split(`
`);for(v=m=0;m<k.length&&!k[m].includes("DetermineComponentFrameRoot");)m++;for(;v<V.length&&!V[v].includes("DetermineComponentFrameRoot");)v++;if(m===k.length||v===V.length)for(m=k.length-1,v=V.length-1;1<=m&&0<=v&&k[m]!==V[v];)v--;for(;1<=m&&0<=v;m--,v--)if(k[m]!==V[v]){if(m!==1||v!==1)do if(m--,v--,0>v||k[m]!==V[v]){var Q=`
`+k[m].replace(" at new "," at ");return a.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",a.displayName)),Q}while(1<=m&&0<=v);break}}}finally{sn=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?Re(u):""}function hr(a,o){switch(a.tag){case 26:case 27:case 5:return Re(a.type);case 16:return Re("Lazy");case 13:return a.child!==o&&o!==null?Re("Suspense Fallback"):Re("Suspense");case 19:return Re("SuspenseList");case 0:case 15:return on(a.type,!1);case 11:return on(a.type.render,!1);case 1:return on(a.type,!0);case 31:return Re("Activity");default:return""}}function Sl(a){try{var o="",u=null;do o+=hr(a,u),u=a,a=a.return;while(a);return o}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var Dp=Object.prototype.hasOwnProperty,Lp=n.unstable_scheduleCallback,Np=n.unstable_cancelCallback,bR=n.unstable_shouldYield,AR=n.unstable_requestPaint,Gn=n.unstable_now,SR=n.unstable_getCurrentPriorityLevel,u1=n.unstable_ImmediatePriority,d1=n.unstable_UserBlockingPriority,Pu=n.unstable_NormalPriority,ER=n.unstable_LowPriority,f1=n.unstable_IdlePriority,xR=n.log,wR=n.unstable_setDisableYieldValue,El=null,Vn=null;function aa(a){if(typeof xR=="function"&&wR(a),Vn&&typeof Vn.setStrictMode=="function")try{Vn.setStrictMode(El,a)}catch{}}var Yn=Math.clz32?Math.clz32:TR,CR=Math.log,OR=Math.LN2;function TR(a){return a>>>=0,a===0?32:31-(CR(a)/OR|0)|0}var Du=256,Lu=262144,Nu=4194304;function Ka(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Ru(a,o,u){var m=a.pendingLanes;if(m===0)return 0;var v=0,b=a.suspendedLanes,w=a.pingedLanes;a=a.warmLanes;var D=m&134217727;return D!==0?(m=D&~b,m!==0?v=Ka(m):(w&=D,w!==0?v=Ka(w):u||(u=D&~a,u!==0&&(v=Ka(u))))):(D=m&~b,D!==0?v=Ka(D):w!==0?v=Ka(w):u||(u=m&~a,u!==0&&(v=Ka(u)))),v===0?0:o!==0&&o!==v&&(o&b)===0&&(b=v&-v,u=o&-o,b>=u||b===32&&(u&4194048)!==0)?o:v}function xl(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function MR(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function h1(){var a=Nu;return Nu<<=1,(Nu&62914560)===0&&(Nu=4194304),a}function Rp(a){for(var o=[],u=0;31>u;u++)o.push(a);return o}function wl(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function _R(a,o,u,m,v,b){var w=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var D=a.entanglements,k=a.expirationTimes,V=a.hiddenUpdates;for(u=w&~u;0<u;){var Q=31-Yn(u),te=1<<Q;D[Q]=0,k[Q]=-1;var W=V[Q];if(W!==null)for(V[Q]=null,Q=0;Q<W.length;Q++){var Z=W[Q];Z!==null&&(Z.lane&=-536870913)}u&=~te}m!==0&&p1(a,m,0),b!==0&&v===0&&a.tag!==0&&(a.suspendedLanes|=b&~(w&~o))}function p1(a,o,u){a.pendingLanes|=o,a.suspendedLanes&=~o;var m=31-Yn(o);a.entangledLanes|=o,a.entanglements[m]=a.entanglements[m]|1073741824|u&261930}function m1(a,o){var u=a.entangledLanes|=o;for(a=a.entanglements;u;){var m=31-Yn(u),v=1<<m;v&o|a[m]&o&&(a[m]|=o),u&=~v}}function g1(a,o){var u=o&-o;return u=(u&42)!==0?1:Ip(u),(u&(a.suspendedLanes|o))!==0?0:u}function Ip(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function kp(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function v1(){var a=H.p;return a!==0?a:(a=window.event,a===void 0?32:nw(a.type))}function y1(a,o){var u=H.p;try{return H.p=a,o()}finally{H.p=u}}var sa=Math.random().toString(36).slice(2),ln="__reactFiber$"+sa,Ln="__reactProps$"+sa,Vs="__reactContainer$"+sa,Bp="__reactEvents$"+sa,PR="__reactListeners$"+sa,DR="__reactHandles$"+sa,b1="__reactResources$"+sa,Cl="__reactMarker$"+sa;function jp(a){delete a[ln],delete a[Ln],delete a[Bp],delete a[PR],delete a[DR]}function Ys(a){var o=a[ln];if(o)return o;for(var u=a.parentNode;u;){if(o=u[Vs]||u[ln]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(a=Fx(a);a!==null;){if(u=a[ln])return u;a=Fx(a)}return o}a=u,u=a.parentNode}return null}function Xs(a){if(a=a[ln]||a[Vs]){var o=a.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return a}return null}function Ol(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(i(33))}function Ks(a){var o=a[b1];return o||(o=a[b1]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Kt(a){a[Cl]=!0}var A1=new Set,S1={};function Wa(a,o){Ws(a,o),Ws(a+"Capture",o)}function Ws(a,o){for(S1[a]=o,a=0;a<o.length;a++)A1.add(o[a])}var LR=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),E1={},x1={};function NR(a){return Dp.call(x1,a)?!0:Dp.call(E1,a)?!1:LR.test(a)?x1[a]=!0:(E1[a]=!0,!1)}function Iu(a,o,u){if(NR(o))if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var m=o.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+u)}}function ku(a,o,u){if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+u)}}function pr(a,o,u,m){if(m===null)a.removeAttribute(u);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(o,u,""+m)}}function ui(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function w1(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function RR(a,o,u){var m=Object.getOwnPropertyDescriptor(a.constructor.prototype,o);if(!a.hasOwnProperty(o)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var v=m.get,b=m.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return v.call(this)},set:function(w){u=""+w,b.call(this,w)}}),Object.defineProperty(a,o,{enumerable:m.enumerable}),{getValue:function(){return u},setValue:function(w){u=""+w},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function zp(a){if(!a._valueTracker){var o=w1(a)?"checked":"value";a._valueTracker=RR(a,o,""+a[o])}}function C1(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var u=o.getValue(),m="";return a&&(m=w1(a)?a.checked?"true":"false":a.value),a=m,a!==u?(o.setValue(a),!0):!1}function Bu(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var IR=/[\n"\\]/g;function di(a){return a.replace(IR,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Fp(a,o,u,m,v,b,w,D){a.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?a.type=w:a.removeAttribute("type"),o!=null?w==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+ui(o)):a.value!==""+ui(o)&&(a.value=""+ui(o)):w!=="submit"&&w!=="reset"||a.removeAttribute("value"),o!=null?Up(a,w,ui(o)):u!=null?Up(a,w,ui(u)):m!=null&&a.removeAttribute("value"),v==null&&b!=null&&(a.defaultChecked=!!b),v!=null&&(a.checked=v&&typeof v!="function"&&typeof v!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?a.name=""+ui(D):a.removeAttribute("name")}function O1(a,o,u,m,v,b,w,D){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(a.type=b),o!=null||u!=null){if(!(b!=="submit"&&b!=="reset"||o!=null)){zp(a);return}u=u!=null?""+ui(u):"",o=o!=null?""+ui(o):u,D||o===a.value||(a.value=o),a.defaultValue=o}m=m??v,m=typeof m!="function"&&typeof m!="symbol"&&!!m,a.checked=D?a.checked:!!m,a.defaultChecked=!!m,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(a.name=w),zp(a)}function Up(a,o,u){o==="number"&&Bu(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function Zs(a,o,u,m){if(a=a.options,o){o={};for(var v=0;v<u.length;v++)o["$"+u[v]]=!0;for(u=0;u<a.length;u++)v=o.hasOwnProperty("$"+a[u].value),a[u].selected!==v&&(a[u].selected=v),v&&m&&(a[u].defaultSelected=!0)}else{for(u=""+ui(u),o=null,v=0;v<a.length;v++){if(a[v].value===u){a[v].selected=!0,m&&(a[v].defaultSelected=!0);return}o!==null||a[v].disabled||(o=a[v])}o!==null&&(o.selected=!0)}}function T1(a,o,u){if(o!=null&&(o=""+ui(o),o!==a.value&&(a.value=o),u==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=u!=null?""+ui(u):""}function M1(a,o,u,m){if(o==null){if(m!=null){if(u!=null)throw Error(i(92));if(ce(m)){if(1<m.length)throw Error(i(93));m=m[0]}u=m}u==null&&(u=""),o=u}u=ui(o),a.defaultValue=u,m=a.textContent,m===u&&m!==""&&m!==null&&(a.value=m),zp(a)}function Qs(a,o){if(o){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=o;return}}a.textContent=o}var kR=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _1(a,o,u){var m=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?m?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":m?a.setProperty(o,u):typeof u!="number"||u===0||kR.has(o)?o==="float"?a.cssFloat=u:a[o]=(""+u).trim():a[o]=u+"px"}function P1(a,o,u){if(o!=null&&typeof o!="object")throw Error(i(62));if(a=a.style,u!=null){for(var m in u)!u.hasOwnProperty(m)||o!=null&&o.hasOwnProperty(m)||(m.indexOf("--")===0?a.setProperty(m,""):m==="float"?a.cssFloat="":a[m]="");for(var v in o)m=o[v],o.hasOwnProperty(v)&&u[v]!==m&&_1(a,v,m)}else for(var b in o)o.hasOwnProperty(b)&&_1(a,b,o[b])}function Hp(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var BR=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jR=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ju(a){return jR.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function mr(){}var qp=null;function $p(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Js=null,eo=null;function D1(a){var o=Xs(a);if(o&&(a=o.stateNode)){var u=a[Ln]||null;e:switch(a=o.stateNode,o.type){case"input":if(Fp(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+di(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var m=u[o];if(m!==a&&m.form===a.form){var v=m[Ln]||null;if(!v)throw Error(i(90));Fp(m,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(o=0;o<u.length;o++)m=u[o],m.form===a.form&&C1(m)}break e;case"textarea":T1(a,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&Zs(a,!!u.multiple,o,!1)}}}var Gp=!1;function L1(a,o,u){if(Gp)return a(o,u);Gp=!0;try{var m=a(o);return m}finally{if(Gp=!1,(Js!==null||eo!==null)&&(Cd(),Js&&(o=Js,a=eo,eo=Js=null,D1(o),a)))for(o=0;o<a.length;o++)D1(a[o])}}function Tl(a,o){var u=a.stateNode;if(u===null)return null;var m=u[Ln]||null;if(m===null)return null;u=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(a=a.type,m=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!m;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(i(231,o,typeof u));return u}var gr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vp=!1;if(gr)try{var Ml={};Object.defineProperty(Ml,"passive",{get:function(){Vp=!0}}),window.addEventListener("test",Ml,Ml),window.removeEventListener("test",Ml,Ml)}catch{Vp=!1}var oa=null,Yp=null,zu=null;function N1(){if(zu)return zu;var a,o=Yp,u=o.length,m,v="value"in oa?oa.value:oa.textContent,b=v.length;for(a=0;a<u&&o[a]===v[a];a++);var w=u-a;for(m=1;m<=w&&o[u-m]===v[b-m];m++);return zu=v.slice(a,1<m?1-m:void 0)}function Fu(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function Uu(){return!0}function R1(){return!1}function Nn(a){function o(u,m,v,b,w){this._reactName=u,this._targetInst=v,this.type=m,this.nativeEvent=b,this.target=w,this.currentTarget=null;for(var D in a)a.hasOwnProperty(D)&&(u=a[D],this[D]=u?u(b):b[D]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Uu:R1,this.isPropagationStopped=R1,this}return p(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Uu)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Uu)},persist:function(){},isPersistent:Uu}),o}var Za={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hu=Nn(Za),_l=p({},Za,{view:0,detail:0}),zR=Nn(_l),Xp,Kp,Pl,qu=p({},_l,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zp,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Pl&&(Pl&&a.type==="mousemove"?(Xp=a.screenX-Pl.screenX,Kp=a.screenY-Pl.screenY):Kp=Xp=0,Pl=a),Xp)},movementY:function(a){return"movementY"in a?a.movementY:Kp}}),I1=Nn(qu),FR=p({},qu,{dataTransfer:0}),UR=Nn(FR),HR=p({},_l,{relatedTarget:0}),Wp=Nn(HR),qR=p({},Za,{animationName:0,elapsedTime:0,pseudoElement:0}),$R=Nn(qR),GR=p({},Za,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),VR=Nn(GR),YR=p({},Za,{data:0}),k1=Nn(YR),XR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},KR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},WR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ZR(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=WR[a])?!!o[a]:!1}function Zp(){return ZR}var QR=p({},_l,{key:function(a){if(a.key){var o=XR[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=Fu(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?KR[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zp,charCode:function(a){return a.type==="keypress"?Fu(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Fu(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),JR=Nn(QR),eI=p({},qu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),B1=Nn(eI),tI=p({},_l,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zp}),nI=Nn(tI),iI=p({},Za,{propertyName:0,elapsedTime:0,pseudoElement:0}),rI=Nn(iI),aI=p({},qu,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),sI=Nn(aI),oI=p({},Za,{newState:0,oldState:0}),lI=Nn(oI),cI=[9,13,27,32],Qp=gr&&"CompositionEvent"in window,Dl=null;gr&&"documentMode"in document&&(Dl=document.documentMode);var uI=gr&&"TextEvent"in window&&!Dl,j1=gr&&(!Qp||Dl&&8<Dl&&11>=Dl),z1=" ",F1=!1;function U1(a,o){switch(a){case"keyup":return cI.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function H1(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var to=!1;function dI(a,o){switch(a){case"compositionend":return H1(o);case"keypress":return o.which!==32?null:(F1=!0,z1);case"textInput":return a=o.data,a===z1&&F1?null:a;default:return null}}function fI(a,o){if(to)return a==="compositionend"||!Qp&&U1(a,o)?(a=N1(),zu=Yp=oa=null,to=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return j1&&o.locale!=="ko"?null:o.data;default:return null}}var hI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function q1(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!hI[a.type]:o==="textarea"}function $1(a,o,u,m){Js?eo?eo.push(m):eo=[m]:Js=m,o=Ld(o,"onChange"),0<o.length&&(u=new Hu("onChange","change",null,u,m),a.push({event:u,listeners:o}))}var Ll=null,Nl=null;function pI(a){Ox(a,0)}function $u(a){var o=Ol(a);if(C1(o))return a}function G1(a,o){if(a==="change")return o}var V1=!1;if(gr){var Jp;if(gr){var em="oninput"in document;if(!em){var Y1=document.createElement("div");Y1.setAttribute("oninput","return;"),em=typeof Y1.oninput=="function"}Jp=em}else Jp=!1;V1=Jp&&(!document.documentMode||9<document.documentMode)}function X1(){Ll&&(Ll.detachEvent("onpropertychange",K1),Nl=Ll=null)}function K1(a){if(a.propertyName==="value"&&$u(Nl)){var o=[];$1(o,Nl,a,$p(a)),L1(pI,o)}}function mI(a,o,u){a==="focusin"?(X1(),Ll=o,Nl=u,Ll.attachEvent("onpropertychange",K1)):a==="focusout"&&X1()}function gI(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return $u(Nl)}function vI(a,o){if(a==="click")return $u(o)}function yI(a,o){if(a==="input"||a==="change")return $u(o)}function bI(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var Xn=typeof Object.is=="function"?Object.is:bI;function Rl(a,o){if(Xn(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var u=Object.keys(a),m=Object.keys(o);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var v=u[m];if(!Dp.call(o,v)||!Xn(a[v],o[v]))return!1}return!0}function W1(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Z1(a,o){var u=W1(a);a=0;for(var m;u;){if(u.nodeType===3){if(m=a+u.textContent.length,a<=o&&m>=o)return{node:u,offset:o-a};a=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=W1(u)}}function Q1(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?Q1(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function J1(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=Bu(a.document);o instanceof a.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)a=o.contentWindow;else break;o=Bu(a.document)}return o}function tm(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var AI=gr&&"documentMode"in document&&11>=document.documentMode,no=null,nm=null,Il=null,im=!1;function eS(a,o,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;im||no==null||no!==Bu(m)||(m=no,"selectionStart"in m&&tm(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Il&&Rl(Il,m)||(Il=m,m=Ld(nm,"onSelect"),0<m.length&&(o=new Hu("onSelect","select",null,o,u),a.push({event:o,listeners:m}),o.target=no)))}function Qa(a,o){var u={};return u[a.toLowerCase()]=o.toLowerCase(),u["Webkit"+a]="webkit"+o,u["Moz"+a]="moz"+o,u}var io={animationend:Qa("Animation","AnimationEnd"),animationiteration:Qa("Animation","AnimationIteration"),animationstart:Qa("Animation","AnimationStart"),transitionrun:Qa("Transition","TransitionRun"),transitionstart:Qa("Transition","TransitionStart"),transitioncancel:Qa("Transition","TransitionCancel"),transitionend:Qa("Transition","TransitionEnd")},rm={},tS={};gr&&(tS=document.createElement("div").style,"AnimationEvent"in window||(delete io.animationend.animation,delete io.animationiteration.animation,delete io.animationstart.animation),"TransitionEvent"in window||delete io.transitionend.transition);function Ja(a){if(rm[a])return rm[a];if(!io[a])return a;var o=io[a],u;for(u in o)if(o.hasOwnProperty(u)&&u in tS)return rm[a]=o[u];return a}var nS=Ja("animationend"),iS=Ja("animationiteration"),rS=Ja("animationstart"),SI=Ja("transitionrun"),EI=Ja("transitionstart"),xI=Ja("transitioncancel"),aS=Ja("transitionend"),sS=new Map,am="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");am.push("scrollEnd");function Ri(a,o){sS.set(a,o),Wa(o,[a])}var Gu=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},fi=[],ro=0,sm=0;function Vu(){for(var a=ro,o=sm=ro=0;o<a;){var u=fi[o];fi[o++]=null;var m=fi[o];fi[o++]=null;var v=fi[o];fi[o++]=null;var b=fi[o];if(fi[o++]=null,m!==null&&v!==null){var w=m.pending;w===null?v.next=v:(v.next=w.next,w.next=v),m.pending=v}b!==0&&oS(u,v,b)}}function Yu(a,o,u,m){fi[ro++]=a,fi[ro++]=o,fi[ro++]=u,fi[ro++]=m,sm|=m,a.lanes|=m,a=a.alternate,a!==null&&(a.lanes|=m)}function om(a,o,u,m){return Yu(a,o,u,m),Xu(a)}function es(a,o){return Yu(a,null,null,o),Xu(a)}function oS(a,o,u){a.lanes|=u;var m=a.alternate;m!==null&&(m.lanes|=u);for(var v=!1,b=a.return;b!==null;)b.childLanes|=u,m=b.alternate,m!==null&&(m.childLanes|=u),b.tag===22&&(a=b.stateNode,a===null||a._visibility&1||(v=!0)),a=b,b=b.return;return a.tag===3?(b=a.stateNode,v&&o!==null&&(v=31-Yn(u),a=b.hiddenUpdates,m=a[v],m===null?a[v]=[o]:m.push(o),o.lane=u|536870912),b):null}function Xu(a){if(50<ic)throw ic=0,gg=null,Error(i(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var ao={};function wI(a,o,u,m){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(a,o,u,m){return new wI(a,o,u,m)}function lm(a){return a=a.prototype,!(!a||!a.isReactComponent)}function vr(a,o){var u=a.alternate;return u===null?(u=Kn(a.tag,o,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=o,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&65011712,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,o=a.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function lS(a,o){a.flags&=65011714;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,o=u.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function Ku(a,o,u,m,v,b){var w=0;if(m=a,typeof a=="function")lm(a)&&(w=1);else if(typeof a=="string")w=_k(a,u,oe.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case F:return a=Kn(31,u,o,v),a.elementType=F,a.lanes=b,a;case A:return ts(u.children,v,b,o);case E:w=8,v|=24;break;case x:return a=Kn(12,u,o,v|2),a.elementType=x,a.lanes=b,a;case M:return a=Kn(13,u,o,v),a.elementType=M,a.lanes=b,a;case _:return a=Kn(19,u,o,v),a.elementType=_,a.lanes=b,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case T:w=10;break e;case O:w=9;break e;case P:w=11;break e;case L:w=14;break e;case B:w=16,m=null;break e}w=29,u=Error(i(130,a===null?"null":typeof a,"")),m=null}return o=Kn(w,u,o,v),o.elementType=a,o.type=m,o.lanes=b,o}function ts(a,o,u,m){return a=Kn(7,a,m,o),a.lanes=u,a}function cm(a,o,u){return a=Kn(6,a,null,o),a.lanes=u,a}function cS(a){var o=Kn(18,null,null,0);return o.stateNode=a,o}function um(a,o,u){return o=Kn(4,a.children!==null?a.children:[],a.key,o),o.lanes=u,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var uS=new WeakMap;function hi(a,o){if(typeof a=="object"&&a!==null){var u=uS.get(a);return u!==void 0?u:(o={value:a,source:o,stack:Sl(o)},uS.set(a,o),o)}return{value:a,source:o,stack:Sl(o)}}var so=[],oo=0,Wu=null,kl=0,pi=[],mi=0,la=null,$i=1,Gi="";function yr(a,o){so[oo++]=kl,so[oo++]=Wu,Wu=a,kl=o}function dS(a,o,u){pi[mi++]=$i,pi[mi++]=Gi,pi[mi++]=la,la=a;var m=$i;a=Gi;var v=32-Yn(m)-1;m&=~(1<<v),u+=1;var b=32-Yn(o)+v;if(30<b){var w=v-v%5;b=(m&(1<<w)-1).toString(32),m>>=w,v-=w,$i=1<<32-Yn(o)+v|u<<v|m,Gi=b+a}else $i=1<<b|u<<v|m,Gi=a}function dm(a){a.return!==null&&(yr(a,1),dS(a,1,0))}function fm(a){for(;a===Wu;)Wu=so[--oo],so[oo]=null,kl=so[--oo],so[oo]=null;for(;a===la;)la=pi[--mi],pi[mi]=null,Gi=pi[--mi],pi[mi]=null,$i=pi[--mi],pi[mi]=null}function fS(a,o){pi[mi++]=$i,pi[mi++]=Gi,pi[mi++]=la,$i=o.id,Gi=o.overflow,la=a}var cn=null,ut=null,Be=!1,ca=null,gi=!1,hm=Error(i(519));function ua(a){var o=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Bl(hi(o,a)),hm}function hS(a){var o=a.stateNode,u=a.type,m=a.memoizedProps;switch(o[ln]=a,o[Ln]=m,u){case"dialog":Ne("cancel",o),Ne("close",o);break;case"iframe":case"object":case"embed":Ne("load",o);break;case"video":case"audio":for(u=0;u<ac.length;u++)Ne(ac[u],o);break;case"source":Ne("error",o);break;case"img":case"image":case"link":Ne("error",o),Ne("load",o);break;case"details":Ne("toggle",o);break;case"input":Ne("invalid",o),O1(o,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":Ne("invalid",o);break;case"textarea":Ne("invalid",o),M1(o,m.value,m.defaultValue,m.children)}u=m.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||m.suppressHydrationWarning===!0||Px(o.textContent,u)?(m.popover!=null&&(Ne("beforetoggle",o),Ne("toggle",o)),m.onScroll!=null&&Ne("scroll",o),m.onScrollEnd!=null&&Ne("scrollend",o),m.onClick!=null&&(o.onclick=mr),o=!0):o=!1,o||ua(a,!0)}function pS(a){for(cn=a.return;cn;)switch(cn.tag){case 5:case 31:case 13:gi=!1;return;case 27:case 3:gi=!0;return;default:cn=cn.return}}function lo(a){if(a!==cn)return!1;if(!Be)return pS(a),Be=!0,!1;var o=a.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||Dg(a.type,a.memoizedProps)),u=!u),u&&ut&&ua(a),pS(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));ut=zx(a)}else if(o===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));ut=zx(a)}else o===27?(o=ut,wa(a.type)?(a=kg,kg=null,ut=a):ut=o):ut=cn?yi(a.stateNode.nextSibling):null;return!0}function ns(){ut=cn=null,Be=!1}function pm(){var a=ca;return a!==null&&(Bn===null?Bn=a:Bn.push.apply(Bn,a),ca=null),a}function Bl(a){ca===null?ca=[a]:ca.push(a)}var mm=I(null),is=null,br=null;function da(a,o,u){ne(mm,o._currentValue),o._currentValue=u}function Ar(a){a._currentValue=mm.current,K(mm)}function gm(a,o,u){for(;a!==null;){var m=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),a===u)break;a=a.return}}function vm(a,o,u,m){var v=a.child;for(v!==null&&(v.return=a);v!==null;){var b=v.dependencies;if(b!==null){var w=v.child;b=b.firstContext;e:for(;b!==null;){var D=b;b=v;for(var k=0;k<o.length;k++)if(D.context===o[k]){b.lanes|=u,D=b.alternate,D!==null&&(D.lanes|=u),gm(b.return,u,a),m||(w=null);break e}b=D.next}}else if(v.tag===18){if(w=v.return,w===null)throw Error(i(341));w.lanes|=u,b=w.alternate,b!==null&&(b.lanes|=u),gm(w,u,a),w=null}else w=v.child;if(w!==null)w.return=v;else for(w=v;w!==null;){if(w===a){w=null;break}if(v=w.sibling,v!==null){v.return=w.return,w=v;break}w=w.return}v=w}}function co(a,o,u,m){a=null;for(var v=o,b=!1;v!==null;){if(!b){if((v.flags&524288)!==0)b=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var w=v.alternate;if(w===null)throw Error(i(387));if(w=w.memoizedProps,w!==null){var D=v.type;Xn(v.pendingProps.value,w.value)||(a!==null?a.push(D):a=[D])}}else if(v===de.current){if(w=v.alternate,w===null)throw Error(i(387));w.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(a!==null?a.push(uc):a=[uc])}v=v.return}a!==null&&vm(o,a,u,m),o.flags|=262144}function Zu(a){for(a=a.firstContext;a!==null;){if(!Xn(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function rs(a){is=a,br=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function un(a){return mS(is,a)}function Qu(a,o){return is===null&&rs(a),mS(a,o)}function mS(a,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},br===null){if(a===null)throw Error(i(308));br=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else br=br.next=o;return u}var CI=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(u,m){a.push(m)}};this.abort=function(){o.aborted=!0,a.forEach(function(u){return u()})}},OI=n.unstable_scheduleCallback,TI=n.unstable_NormalPriority,Nt={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ym(){return{controller:new CI,data:new Map,refCount:0}}function jl(a){a.refCount--,a.refCount===0&&OI(TI,function(){a.controller.abort()})}var zl=null,bm=0,uo=0,fo=null;function MI(a,o){if(zl===null){var u=zl=[];bm=0,uo=Eg(),fo={status:"pending",value:void 0,then:function(m){u.push(m)}}}return bm++,o.then(gS,gS),o}function gS(){if(--bm===0&&zl!==null){fo!==null&&(fo.status="fulfilled");var a=zl;zl=null,uo=0,fo=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function _I(a,o){var u=[],m={status:"pending",value:null,reason:null,then:function(v){u.push(v)}};return a.then(function(){m.status="fulfilled",m.value=o;for(var v=0;v<u.length;v++)(0,u[v])(o)},function(v){for(m.status="rejected",m.reason=v,v=0;v<u.length;v++)(0,u[v])(void 0)}),m}var vS=j.S;j.S=function(a,o){ex=Gn(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&MI(a,o),vS!==null&&vS(a,o)};var as=I(null);function Am(){var a=as.current;return a!==null?a:at.pooledCache}function Ju(a,o){o===null?ne(as,as.current):ne(as,o.pool)}function yS(){var a=Am();return a===null?null:{parent:Nt._currentValue,pool:a}}var ho=Error(i(460)),Sm=Error(i(474)),ed=Error(i(542)),td={then:function(){}};function bS(a){return a=a.status,a==="fulfilled"||a==="rejected"}function AS(a,o,u){switch(u=a[u],u===void 0?a.push(o):u!==o&&(o.then(mr,mr),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,ES(a),a;default:if(typeof o.status=="string")o.then(mr,mr);else{if(a=at,a!==null&&100<a.shellSuspendCounter)throw Error(i(482));a=o,a.status="pending",a.then(function(m){if(o.status==="pending"){var v=o;v.status="fulfilled",v.value=m}},function(m){if(o.status==="pending"){var v=o;v.status="rejected",v.reason=m}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,ES(a),a}throw os=o,ho}}function ss(a){try{var o=a._init;return o(a._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(os=u,ho):u}}var os=null;function SS(){if(os===null)throw Error(i(459));var a=os;return os=null,a}function ES(a){if(a===ho||a===ed)throw Error(i(483))}var po=null,Fl=0;function nd(a){var o=Fl;return Fl+=1,po===null&&(po=[]),AS(po,a,o)}function Ul(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function id(a,o){throw o.$$typeof===g?Error(i(525)):(a=Object.prototype.toString.call(o),Error(i(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function xS(a){function o(U,z){if(a){var G=U.deletions;G===null?(U.deletions=[z],U.flags|=16):G.push(z)}}function u(U,z){if(!a)return null;for(;z!==null;)o(U,z),z=z.sibling;return null}function m(U){for(var z=new Map;U!==null;)U.key!==null?z.set(U.key,U):z.set(U.index,U),U=U.sibling;return z}function v(U,z){return U=vr(U,z),U.index=0,U.sibling=null,U}function b(U,z,G){return U.index=G,a?(G=U.alternate,G!==null?(G=G.index,G<z?(U.flags|=67108866,z):G):(U.flags|=67108866,z)):(U.flags|=1048576,z)}function w(U){return a&&U.alternate===null&&(U.flags|=67108866),U}function D(U,z,G,ee){return z===null||z.tag!==6?(z=cm(G,U.mode,ee),z.return=U,z):(z=v(z,G),z.return=U,z)}function k(U,z,G,ee){var Ae=G.type;return Ae===A?Q(U,z,G.props.children,ee,G.key):z!==null&&(z.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===B&&ss(Ae)===z.type)?(z=v(z,G.props),Ul(z,G),z.return=U,z):(z=Ku(G.type,G.key,G.props,null,U.mode,ee),Ul(z,G),z.return=U,z)}function V(U,z,G,ee){return z===null||z.tag!==4||z.stateNode.containerInfo!==G.containerInfo||z.stateNode.implementation!==G.implementation?(z=um(G,U.mode,ee),z.return=U,z):(z=v(z,G.children||[]),z.return=U,z)}function Q(U,z,G,ee,Ae){return z===null||z.tag!==7?(z=ts(G,U.mode,ee,Ae),z.return=U,z):(z=v(z,G),z.return=U,z)}function te(U,z,G){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=cm(""+z,U.mode,G),z.return=U,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case y:return G=Ku(z.type,z.key,z.props,null,U.mode,G),Ul(G,z),G.return=U,G;case S:return z=um(z,U.mode,G),z.return=U,z;case B:return z=ss(z),te(U,z,G)}if(ce(z)||$(z))return z=ts(z,U.mode,G,null),z.return=U,z;if(typeof z.then=="function")return te(U,nd(z),G);if(z.$$typeof===T)return te(U,Qu(U,z),G);id(U,z)}return null}function W(U,z,G,ee){var Ae=z!==null?z.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return Ae!==null?null:D(U,z,""+G,ee);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case y:return G.key===Ae?k(U,z,G,ee):null;case S:return G.key===Ae?V(U,z,G,ee):null;case B:return G=ss(G),W(U,z,G,ee)}if(ce(G)||$(G))return Ae!==null?null:Q(U,z,G,ee,null);if(typeof G.then=="function")return W(U,z,nd(G),ee);if(G.$$typeof===T)return W(U,z,Qu(U,G),ee);id(U,G)}return null}function Z(U,z,G,ee,Ae){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return U=U.get(G)||null,D(z,U,""+ee,Ae);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case y:return U=U.get(ee.key===null?G:ee.key)||null,k(z,U,ee,Ae);case S:return U=U.get(ee.key===null?G:ee.key)||null,V(z,U,ee,Ae);case B:return ee=ss(ee),Z(U,z,G,ee,Ae)}if(ce(ee)||$(ee))return U=U.get(G)||null,Q(z,U,ee,Ae,null);if(typeof ee.then=="function")return Z(U,z,G,nd(ee),Ae);if(ee.$$typeof===T)return Z(U,z,G,Qu(z,ee),Ae);id(z,ee)}return null}function me(U,z,G,ee){for(var Ae=null,ze=null,ge=z,De=z=0,ke=null;ge!==null&&De<G.length;De++){ge.index>De?(ke=ge,ge=null):ke=ge.sibling;var Fe=W(U,ge,G[De],ee);if(Fe===null){ge===null&&(ge=ke);break}a&&ge&&Fe.alternate===null&&o(U,ge),z=b(Fe,z,De),ze===null?Ae=Fe:ze.sibling=Fe,ze=Fe,ge=ke}if(De===G.length)return u(U,ge),Be&&yr(U,De),Ae;if(ge===null){for(;De<G.length;De++)ge=te(U,G[De],ee),ge!==null&&(z=b(ge,z,De),ze===null?Ae=ge:ze.sibling=ge,ze=ge);return Be&&yr(U,De),Ae}for(ge=m(ge);De<G.length;De++)ke=Z(ge,U,De,G[De],ee),ke!==null&&(a&&ke.alternate!==null&&ge.delete(ke.key===null?De:ke.key),z=b(ke,z,De),ze===null?Ae=ke:ze.sibling=ke,ze=ke);return a&&ge.forEach(function(_a){return o(U,_a)}),Be&&yr(U,De),Ae}function xe(U,z,G,ee){if(G==null)throw Error(i(151));for(var Ae=null,ze=null,ge=z,De=z=0,ke=null,Fe=G.next();ge!==null&&!Fe.done;De++,Fe=G.next()){ge.index>De?(ke=ge,ge=null):ke=ge.sibling;var _a=W(U,ge,Fe.value,ee);if(_a===null){ge===null&&(ge=ke);break}a&&ge&&_a.alternate===null&&o(U,ge),z=b(_a,z,De),ze===null?Ae=_a:ze.sibling=_a,ze=_a,ge=ke}if(Fe.done)return u(U,ge),Be&&yr(U,De),Ae;if(ge===null){for(;!Fe.done;De++,Fe=G.next())Fe=te(U,Fe.value,ee),Fe!==null&&(z=b(Fe,z,De),ze===null?Ae=Fe:ze.sibling=Fe,ze=Fe);return Be&&yr(U,De),Ae}for(ge=m(ge);!Fe.done;De++,Fe=G.next())Fe=Z(ge,U,De,Fe.value,ee),Fe!==null&&(a&&Fe.alternate!==null&&ge.delete(Fe.key===null?De:Fe.key),z=b(Fe,z,De),ze===null?Ae=Fe:ze.sibling=Fe,ze=Fe);return a&&ge.forEach(function(Fk){return o(U,Fk)}),Be&&yr(U,De),Ae}function nt(U,z,G,ee){if(typeof G=="object"&&G!==null&&G.type===A&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case y:e:{for(var Ae=G.key;z!==null;){if(z.key===Ae){if(Ae=G.type,Ae===A){if(z.tag===7){u(U,z.sibling),ee=v(z,G.props.children),ee.return=U,U=ee;break e}}else if(z.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===B&&ss(Ae)===z.type){u(U,z.sibling),ee=v(z,G.props),Ul(ee,G),ee.return=U,U=ee;break e}u(U,z);break}else o(U,z);z=z.sibling}G.type===A?(ee=ts(G.props.children,U.mode,ee,G.key),ee.return=U,U=ee):(ee=Ku(G.type,G.key,G.props,null,U.mode,ee),Ul(ee,G),ee.return=U,U=ee)}return w(U);case S:e:{for(Ae=G.key;z!==null;){if(z.key===Ae)if(z.tag===4&&z.stateNode.containerInfo===G.containerInfo&&z.stateNode.implementation===G.implementation){u(U,z.sibling),ee=v(z,G.children||[]),ee.return=U,U=ee;break e}else{u(U,z);break}else o(U,z);z=z.sibling}ee=um(G,U.mode,ee),ee.return=U,U=ee}return w(U);case B:return G=ss(G),nt(U,z,G,ee)}if(ce(G))return me(U,z,G,ee);if($(G)){if(Ae=$(G),typeof Ae!="function")throw Error(i(150));return G=Ae.call(G),xe(U,z,G,ee)}if(typeof G.then=="function")return nt(U,z,nd(G),ee);if(G.$$typeof===T)return nt(U,z,Qu(U,G),ee);id(U,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,z!==null&&z.tag===6?(u(U,z.sibling),ee=v(z,G),ee.return=U,U=ee):(u(U,z),ee=cm(G,U.mode,ee),ee.return=U,U=ee),w(U)):u(U,z)}return function(U,z,G,ee){try{Fl=0;var Ae=nt(U,z,G,ee);return po=null,Ae}catch(ge){if(ge===ho||ge===ed)throw ge;var ze=Kn(29,ge,null,U.mode);return ze.lanes=ee,ze.return=U,ze}}}var ls=xS(!0),wS=xS(!1),fa=!1;function Em(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xm(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function ha(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function pa(a,o,u){var m=a.updateQueue;if(m===null)return null;if(m=m.shared,(He&2)!==0){var v=m.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),m.pending=o,o=Xu(a),oS(a,null,u),o}return Yu(a,m,o,u),Xu(a)}function Hl(a,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var m=o.lanes;m&=a.pendingLanes,u|=m,o.lanes=u,m1(a,u)}}function wm(a,o){var u=a.updateQueue,m=a.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var v=null,b=null;if(u=u.firstBaseUpdate,u!==null){do{var w={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};b===null?v=b=w:b=b.next=w,u=u.next}while(u!==null);b===null?v=b=o:b=b.next=o}else v=b=o;u={baseState:m.baseState,firstBaseUpdate:v,lastBaseUpdate:b,shared:m.shared,callbacks:m.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=o:a.next=o,u.lastBaseUpdate=o}var Cm=!1;function ql(){if(Cm){var a=fo;if(a!==null)throw a}}function $l(a,o,u,m){Cm=!1;var v=a.updateQueue;fa=!1;var b=v.firstBaseUpdate,w=v.lastBaseUpdate,D=v.shared.pending;if(D!==null){v.shared.pending=null;var k=D,V=k.next;k.next=null,w===null?b=V:w.next=V,w=k;var Q=a.alternate;Q!==null&&(Q=Q.updateQueue,D=Q.lastBaseUpdate,D!==w&&(D===null?Q.firstBaseUpdate=V:D.next=V,Q.lastBaseUpdate=k))}if(b!==null){var te=v.baseState;w=0,Q=V=k=null,D=b;do{var W=D.lane&-536870913,Z=W!==D.lane;if(Z?(Ie&W)===W:(m&W)===W){W!==0&&W===uo&&(Cm=!0),Q!==null&&(Q=Q.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var me=a,xe=D;W=o;var nt=u;switch(xe.tag){case 1:if(me=xe.payload,typeof me=="function"){te=me.call(nt,te,W);break e}te=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=xe.payload,W=typeof me=="function"?me.call(nt,te,W):me,W==null)break e;te=p({},te,W);break e;case 2:fa=!0}}W=D.callback,W!==null&&(a.flags|=64,Z&&(a.flags|=8192),Z=v.callbacks,Z===null?v.callbacks=[W]:Z.push(W))}else Z={lane:W,tag:D.tag,payload:D.payload,callback:D.callback,next:null},Q===null?(V=Q=Z,k=te):Q=Q.next=Z,w|=W;if(D=D.next,D===null){if(D=v.shared.pending,D===null)break;Z=D,D=Z.next,Z.next=null,v.lastBaseUpdate=Z,v.shared.pending=null}}while(!0);Q===null&&(k=te),v.baseState=k,v.firstBaseUpdate=V,v.lastBaseUpdate=Q,b===null&&(v.shared.lanes=0),ba|=w,a.lanes=w,a.memoizedState=te}}function CS(a,o){if(typeof a!="function")throw Error(i(191,a));a.call(o)}function OS(a,o){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)CS(u[a],o)}var mo=I(null),rd=I(0);function TS(a,o){a=_r,ne(rd,a),ne(mo,o),_r=a|o.baseLanes}function Om(){ne(rd,_r),ne(mo,mo.current)}function Tm(){_r=rd.current,K(mo),K(rd)}var Wn=I(null),vi=null;function ma(a){var o=a.alternate;ne(_t,_t.current&1),ne(Wn,a),vi===null&&(o===null||mo.current!==null||o.memoizedState!==null)&&(vi=a)}function Mm(a){ne(_t,_t.current),ne(Wn,a),vi===null&&(vi=a)}function MS(a){a.tag===22?(ne(_t,_t.current),ne(Wn,a),vi===null&&(vi=a)):ga()}function ga(){ne(_t,_t.current),ne(Wn,Wn.current)}function Zn(a){K(Wn),vi===a&&(vi=null),K(_t)}var _t=I(0);function ad(a){for(var o=a;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||Rg(u)||Ig(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Sr=0,_e=null,et=null,Rt=null,sd=!1,go=!1,cs=!1,od=0,Gl=0,vo=null,PI=0;function Et(){throw Error(i(321))}function _m(a,o){if(o===null)return!1;for(var u=0;u<o.length&&u<a.length;u++)if(!Xn(a[u],o[u]))return!1;return!0}function Pm(a,o,u,m,v,b){return Sr=b,_e=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,j.H=a===null||a.memoizedState===null?dE:Gm,cs=!1,b=u(m,v),cs=!1,go&&(b=PS(o,u,m,v)),_S(a),b}function _S(a){j.H=Xl;var o=et!==null&&et.next!==null;if(Sr=0,Rt=et=_e=null,sd=!1,Gl=0,vo=null,o)throw Error(i(300));a===null||It||(a=a.dependencies,a!==null&&Zu(a)&&(It=!0))}function PS(a,o,u,m){_e=a;var v=0;do{if(go&&(vo=null),Gl=0,go=!1,25<=v)throw Error(i(301));if(v+=1,Rt=et=null,a.updateQueue!=null){var b=a.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}j.H=fE,b=o(u,m)}while(go);return b}function DI(){var a=j.H,o=a.useState()[0];return o=typeof o.then=="function"?Vl(o):o,a=a.useState()[0],(et!==null?et.memoizedState:null)!==a&&(_e.flags|=1024),o}function Dm(){var a=od!==0;return od=0,a}function Lm(a,o,u){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~u}function Nm(a){if(sd){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}sd=!1}Sr=0,Rt=et=_e=null,go=!1,Gl=od=0,vo=null}function Cn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?_e.memoizedState=Rt=a:Rt=Rt.next=a,Rt}function Pt(){if(et===null){var a=_e.alternate;a=a!==null?a.memoizedState:null}else a=et.next;var o=Rt===null?_e.memoizedState:Rt.next;if(o!==null)Rt=o,et=a;else{if(a===null)throw _e.alternate===null?Error(i(467)):Error(i(310));et=a,a={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},Rt===null?_e.memoizedState=Rt=a:Rt=Rt.next=a}return Rt}function ld(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vl(a){var o=Gl;return Gl+=1,vo===null&&(vo=[]),a=AS(vo,a,o),o=_e,(Rt===null?o.memoizedState:Rt.next)===null&&(o=o.alternate,j.H=o===null||o.memoizedState===null?dE:Gm),a}function cd(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Vl(a);if(a.$$typeof===T)return un(a)}throw Error(i(438,String(a)))}function Rm(a){var o=null,u=_e.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var m=_e.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(o={data:m.data.map(function(v){return v.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=ld(),_e.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(a),m=0;m<a;m++)u[m]=X;return o.index++,u}function Er(a,o){return typeof o=="function"?o(a):o}function ud(a){var o=Pt();return Im(o,et,a)}function Im(a,o,u){var m=a.queue;if(m===null)throw Error(i(311));m.lastRenderedReducer=u;var v=a.baseQueue,b=m.pending;if(b!==null){if(v!==null){var w=v.next;v.next=b.next,b.next=w}o.baseQueue=v=b,m.pending=null}if(b=a.baseState,v===null)a.memoizedState=b;else{o=v.next;var D=w=null,k=null,V=o,Q=!1;do{var te=V.lane&-536870913;if(te!==V.lane?(Ie&te)===te:(Sr&te)===te){var W=V.revertLane;if(W===0)k!==null&&(k=k.next={lane:0,revertLane:0,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),te===uo&&(Q=!0);else if((Sr&W)===W){V=V.next,W===uo&&(Q=!0);continue}else te={lane:0,revertLane:V.revertLane,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},k===null?(D=k=te,w=b):k=k.next=te,_e.lanes|=W,ba|=W;te=V.action,cs&&u(b,te),b=V.hasEagerState?V.eagerState:u(b,te)}else W={lane:te,revertLane:V.revertLane,gesture:V.gesture,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},k===null?(D=k=W,w=b):k=k.next=W,_e.lanes|=te,ba|=te;V=V.next}while(V!==null&&V!==o);if(k===null?w=b:k.next=D,!Xn(b,a.memoizedState)&&(It=!0,Q&&(u=fo,u!==null)))throw u;a.memoizedState=b,a.baseState=w,a.baseQueue=k,m.lastRenderedState=b}return v===null&&(m.lanes=0),[a.memoizedState,m.dispatch]}function km(a){var o=Pt(),u=o.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=a;var m=u.dispatch,v=u.pending,b=o.memoizedState;if(v!==null){u.pending=null;var w=v=v.next;do b=a(b,w.action),w=w.next;while(w!==v);Xn(b,o.memoizedState)||(It=!0),o.memoizedState=b,o.baseQueue===null&&(o.baseState=b),u.lastRenderedState=b}return[b,m]}function DS(a,o,u){var m=_e,v=Pt(),b=Be;if(b){if(u===void 0)throw Error(i(407));u=u()}else u=o();var w=!Xn((et||v).memoizedState,u);if(w&&(v.memoizedState=u,It=!0),v=v.queue,zm(RS.bind(null,m,v,a),[a]),v.getSnapshot!==o||w||Rt!==null&&Rt.memoizedState.tag&1){if(m.flags|=2048,yo(9,{destroy:void 0},NS.bind(null,m,v,u,o),null),at===null)throw Error(i(349));b||(Sr&127)!==0||LS(m,o,u)}return u}function LS(a,o,u){a.flags|=16384,a={getSnapshot:o,value:u},o=_e.updateQueue,o===null?(o=ld(),_e.updateQueue=o,o.stores=[a]):(u=o.stores,u===null?o.stores=[a]:u.push(a))}function NS(a,o,u,m){o.value=u,o.getSnapshot=m,IS(o)&&kS(a)}function RS(a,o,u){return u(function(){IS(o)&&kS(a)})}function IS(a){var o=a.getSnapshot;a=a.value;try{var u=o();return!Xn(a,u)}catch{return!0}}function kS(a){var o=es(a,2);o!==null&&jn(o,a,2)}function Bm(a){var o=Cn();if(typeof a=="function"){var u=a;if(a=u(),cs){aa(!0);try{u()}finally{aa(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Er,lastRenderedState:a},o}function BS(a,o,u,m){return a.baseState=u,Im(a,et,typeof m=="function"?m:Er)}function LI(a,o,u,m,v){if(hd(a))throw Error(i(485));if(a=o.action,a!==null){var b={payload:v,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){b.listeners.push(w)}};j.T!==null?u(!0):b.isTransition=!1,m(b),u=o.pending,u===null?(b.next=o.pending=b,jS(o,b)):(b.next=u.next,o.pending=u.next=b)}}function jS(a,o){var u=o.action,m=o.payload,v=a.state;if(o.isTransition){var b=j.T,w={};j.T=w;try{var D=u(v,m),k=j.S;k!==null&&k(w,D),zS(a,o,D)}catch(V){jm(a,o,V)}finally{b!==null&&w.types!==null&&(b.types=w.types),j.T=b}}else try{b=u(v,m),zS(a,o,b)}catch(V){jm(a,o,V)}}function zS(a,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(m){FS(a,o,m)},function(m){return jm(a,o,m)}):FS(a,o,u)}function FS(a,o,u){o.status="fulfilled",o.value=u,US(o),a.state=u,o=a.pending,o!==null&&(u=o.next,u===o?a.pending=null:(u=u.next,o.next=u,jS(a,u)))}function jm(a,o,u){var m=a.pending;if(a.pending=null,m!==null){m=m.next;do o.status="rejected",o.reason=u,US(o),o=o.next;while(o!==m)}a.action=null}function US(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function HS(a,o){return o}function qS(a,o){if(Be){var u=at.formState;if(u!==null){e:{var m=_e;if(Be){if(ut){t:{for(var v=ut,b=gi;v.nodeType!==8;){if(!b){v=null;break t}if(v=yi(v.nextSibling),v===null){v=null;break t}}b=v.data,v=b==="F!"||b==="F"?v:null}if(v){ut=yi(v.nextSibling),m=v.data==="F!";break e}}ua(m)}m=!1}m&&(o=u[0])}}return u=Cn(),u.memoizedState=u.baseState=o,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:HS,lastRenderedState:o},u.queue=m,u=lE.bind(null,_e,m),m.dispatch=u,m=Bm(!1),b=$m.bind(null,_e,!1,m.queue),m=Cn(),v={state:o,dispatch:null,action:a,pending:null},m.queue=v,u=LI.bind(null,_e,v,b,u),v.dispatch=u,m.memoizedState=a,[o,u,!1]}function $S(a){var o=Pt();return GS(o,et,a)}function GS(a,o,u){if(o=Im(a,o,HS)[0],a=ud(Er)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var m=Vl(o)}catch(w){throw w===ho?ed:w}else m=o;o=Pt();var v=o.queue,b=v.dispatch;return u!==o.memoizedState&&(_e.flags|=2048,yo(9,{destroy:void 0},NI.bind(null,v,u),null)),[m,b,a]}function NI(a,o){a.action=o}function VS(a){var o=Pt(),u=et;if(u!==null)return GS(o,u,a);Pt(),o=o.memoizedState,u=Pt();var m=u.queue.dispatch;return u.memoizedState=a,[o,m,!1]}function yo(a,o,u,m){return a={tag:a,create:u,deps:m,inst:o,next:null},o=_e.updateQueue,o===null&&(o=ld(),_e.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=a.next=a:(m=u.next,u.next=a,a.next=m,o.lastEffect=a),a}function YS(){return Pt().memoizedState}function dd(a,o,u,m){var v=Cn();_e.flags|=a,v.memoizedState=yo(1|o,{destroy:void 0},u,m===void 0?null:m)}function fd(a,o,u,m){var v=Pt();m=m===void 0?null:m;var b=v.memoizedState.inst;et!==null&&m!==null&&_m(m,et.memoizedState.deps)?v.memoizedState=yo(o,b,u,m):(_e.flags|=a,v.memoizedState=yo(1|o,b,u,m))}function XS(a,o){dd(8390656,8,a,o)}function zm(a,o){fd(2048,8,a,o)}function RI(a){_e.flags|=4;var o=_e.updateQueue;if(o===null)o=ld(),_e.updateQueue=o,o.events=[a];else{var u=o.events;u===null?o.events=[a]:u.push(a)}}function KS(a){var o=Pt().memoizedState;return RI({ref:o,nextImpl:a}),function(){if((He&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}function WS(a,o){return fd(4,2,a,o)}function ZS(a,o){return fd(4,4,a,o)}function QS(a,o){if(typeof o=="function"){a=a();var u=o(a);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function JS(a,o,u){u=u!=null?u.concat([a]):null,fd(4,4,QS.bind(null,o,a),u)}function Fm(){}function eE(a,o){var u=Pt();o=o===void 0?null:o;var m=u.memoizedState;return o!==null&&_m(o,m[1])?m[0]:(u.memoizedState=[a,o],a)}function tE(a,o){var u=Pt();o=o===void 0?null:o;var m=u.memoizedState;if(o!==null&&_m(o,m[1]))return m[0];if(m=a(),cs){aa(!0);try{a()}finally{aa(!1)}}return u.memoizedState=[m,o],m}function Um(a,o,u){return u===void 0||(Sr&1073741824)!==0&&(Ie&261930)===0?a.memoizedState=o:(a.memoizedState=u,a=nx(),_e.lanes|=a,ba|=a,u)}function nE(a,o,u,m){return Xn(u,o)?u:mo.current!==null?(a=Um(a,u,m),Xn(a,o)||(It=!0),a):(Sr&42)===0||(Sr&1073741824)!==0&&(Ie&261930)===0?(It=!0,a.memoizedState=u):(a=nx(),_e.lanes|=a,ba|=a,o)}function iE(a,o,u,m,v){var b=H.p;H.p=b!==0&&8>b?b:8;var w=j.T,D={};j.T=D,$m(a,!1,o,u);try{var k=v(),V=j.S;if(V!==null&&V(D,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var Q=_I(k,m);Yl(a,o,Q,ei(a))}else Yl(a,o,m,ei(a))}catch(te){Yl(a,o,{then:function(){},status:"rejected",reason:te},ei())}finally{H.p=b,w!==null&&D.types!==null&&(w.types=D.types),j.T=w}}function II(){}function Hm(a,o,u,m){if(a.tag!==5)throw Error(i(476));var v=rE(a).queue;iE(a,v,o,ie,u===null?II:function(){return aE(a),u(m)})}function rE(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Er,lastRenderedState:ie},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Er,lastRenderedState:u},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function aE(a){var o=rE(a);o.next===null&&(o=a.alternate.memoizedState),Yl(a,o.next.queue,{},ei())}function qm(){return un(uc)}function sE(){return Pt().memoizedState}function oE(){return Pt().memoizedState}function kI(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var u=ei();a=ha(u);var m=pa(o,a,u);m!==null&&(jn(m,o,u),Hl(m,o,u)),o={cache:ym()},a.payload=o;return}o=o.return}}function BI(a,o,u){var m=ei();u={lane:m,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},hd(a)?cE(o,u):(u=om(a,o,u,m),u!==null&&(jn(u,a,m),uE(u,o,m)))}function lE(a,o,u){var m=ei();Yl(a,o,u,m)}function Yl(a,o,u,m){var v={lane:m,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(hd(a))cE(o,v);else{var b=a.alternate;if(a.lanes===0&&(b===null||b.lanes===0)&&(b=o.lastRenderedReducer,b!==null))try{var w=o.lastRenderedState,D=b(w,u);if(v.hasEagerState=!0,v.eagerState=D,Xn(D,w))return Yu(a,o,v,0),at===null&&Vu(),!1}catch{}if(u=om(a,o,v,m),u!==null)return jn(u,a,m),uE(u,o,m),!0}return!1}function $m(a,o,u,m){if(m={lane:2,revertLane:Eg(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},hd(a)){if(o)throw Error(i(479))}else o=om(a,u,m,2),o!==null&&jn(o,a,2)}function hd(a){var o=a.alternate;return a===_e||o!==null&&o===_e}function cE(a,o){go=sd=!0;var u=a.pending;u===null?o.next=o:(o.next=u.next,u.next=o),a.pending=o}function uE(a,o,u){if((u&4194048)!==0){var m=o.lanes;m&=a.pendingLanes,u|=m,o.lanes=u,m1(a,u)}}var Xl={readContext:un,use:cd,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useLayoutEffect:Et,useInsertionEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useSyncExternalStore:Et,useId:Et,useHostTransitionStatus:Et,useFormState:Et,useActionState:Et,useOptimistic:Et,useMemoCache:Et,useCacheRefresh:Et};Xl.useEffectEvent=Et;var dE={readContext:un,use:cd,useCallback:function(a,o){return Cn().memoizedState=[a,o===void 0?null:o],a},useContext:un,useEffect:XS,useImperativeHandle:function(a,o,u){u=u!=null?u.concat([a]):null,dd(4194308,4,QS.bind(null,o,a),u)},useLayoutEffect:function(a,o){return dd(4194308,4,a,o)},useInsertionEffect:function(a,o){dd(4,2,a,o)},useMemo:function(a,o){var u=Cn();o=o===void 0?null:o;var m=a();if(cs){aa(!0);try{a()}finally{aa(!1)}}return u.memoizedState=[m,o],m},useReducer:function(a,o,u){var m=Cn();if(u!==void 0){var v=u(o);if(cs){aa(!0);try{u(o)}finally{aa(!1)}}}else v=o;return m.memoizedState=m.baseState=v,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:v},m.queue=a,a=a.dispatch=BI.bind(null,_e,a),[m.memoizedState,a]},useRef:function(a){var o=Cn();return a={current:a},o.memoizedState=a},useState:function(a){a=Bm(a);var o=a.queue,u=lE.bind(null,_e,o);return o.dispatch=u,[a.memoizedState,u]},useDebugValue:Fm,useDeferredValue:function(a,o){var u=Cn();return Um(u,a,o)},useTransition:function(){var a=Bm(!1);return a=iE.bind(null,_e,a.queue,!0,!1),Cn().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,u){var m=_e,v=Cn();if(Be){if(u===void 0)throw Error(i(407));u=u()}else{if(u=o(),at===null)throw Error(i(349));(Ie&127)!==0||LS(m,o,u)}v.memoizedState=u;var b={value:u,getSnapshot:o};return v.queue=b,XS(RS.bind(null,m,b,a),[a]),m.flags|=2048,yo(9,{destroy:void 0},NS.bind(null,m,b,u,o),null),u},useId:function(){var a=Cn(),o=at.identifierPrefix;if(Be){var u=Gi,m=$i;u=(m&~(1<<32-Yn(m)-1)).toString(32)+u,o="_"+o+"R_"+u,u=od++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=PI++,o="_"+o+"r_"+u.toString(32)+"_";return a.memoizedState=o},useHostTransitionStatus:qm,useFormState:qS,useActionState:qS,useOptimistic:function(a){var o=Cn();o.memoizedState=o.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=$m.bind(null,_e,!0,u),u.dispatch=o,[a,o]},useMemoCache:Rm,useCacheRefresh:function(){return Cn().memoizedState=kI.bind(null,_e)},useEffectEvent:function(a){var o=Cn(),u={impl:a};return o.memoizedState=u,function(){if((He&2)!==0)throw Error(i(440));return u.impl.apply(void 0,arguments)}}},Gm={readContext:un,use:cd,useCallback:eE,useContext:un,useEffect:zm,useImperativeHandle:JS,useInsertionEffect:WS,useLayoutEffect:ZS,useMemo:tE,useReducer:ud,useRef:YS,useState:function(){return ud(Er)},useDebugValue:Fm,useDeferredValue:function(a,o){var u=Pt();return nE(u,et.memoizedState,a,o)},useTransition:function(){var a=ud(Er)[0],o=Pt().memoizedState;return[typeof a=="boolean"?a:Vl(a),o]},useSyncExternalStore:DS,useId:sE,useHostTransitionStatus:qm,useFormState:$S,useActionState:$S,useOptimistic:function(a,o){var u=Pt();return BS(u,et,a,o)},useMemoCache:Rm,useCacheRefresh:oE};Gm.useEffectEvent=KS;var fE={readContext:un,use:cd,useCallback:eE,useContext:un,useEffect:zm,useImperativeHandle:JS,useInsertionEffect:WS,useLayoutEffect:ZS,useMemo:tE,useReducer:km,useRef:YS,useState:function(){return km(Er)},useDebugValue:Fm,useDeferredValue:function(a,o){var u=Pt();return et===null?Um(u,a,o):nE(u,et.memoizedState,a,o)},useTransition:function(){var a=km(Er)[0],o=Pt().memoizedState;return[typeof a=="boolean"?a:Vl(a),o]},useSyncExternalStore:DS,useId:sE,useHostTransitionStatus:qm,useFormState:VS,useActionState:VS,useOptimistic:function(a,o){var u=Pt();return et!==null?BS(u,et,a,o):(u.baseState=a,[a,u.queue.dispatch])},useMemoCache:Rm,useCacheRefresh:oE};fE.useEffectEvent=KS;function Vm(a,o,u,m){o=a.memoizedState,u=u(m,o),u=u==null?o:p({},o,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var Ym={enqueueSetState:function(a,o,u){a=a._reactInternals;var m=ei(),v=ha(m);v.payload=o,u!=null&&(v.callback=u),o=pa(a,v,m),o!==null&&(jn(o,a,m),Hl(o,a,m))},enqueueReplaceState:function(a,o,u){a=a._reactInternals;var m=ei(),v=ha(m);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=pa(a,v,m),o!==null&&(jn(o,a,m),Hl(o,a,m))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var u=ei(),m=ha(u);m.tag=2,o!=null&&(m.callback=o),o=pa(a,m,u),o!==null&&(jn(o,a,u),Hl(o,a,u))}};function hE(a,o,u,m,v,b,w){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(m,b,w):o.prototype&&o.prototype.isPureReactComponent?!Rl(u,m)||!Rl(v,b):!0}function pE(a,o,u,m){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,m),o.state!==a&&Ym.enqueueReplaceState(o,o.state,null)}function us(a,o){var u=o;if("ref"in o){u={};for(var m in o)m!=="ref"&&(u[m]=o[m])}if(a=a.defaultProps){u===o&&(u=p({},u));for(var v in a)u[v]===void 0&&(u[v]=a[v])}return u}function mE(a){Gu(a)}function gE(a){console.error(a)}function vE(a){Gu(a)}function pd(a,o){try{var u=a.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(m){setTimeout(function(){throw m})}}function yE(a,o,u){try{var m=a.onCaughtError;m(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Xm(a,o,u){return u=ha(u),u.tag=3,u.payload={element:null},u.callback=function(){pd(a,o)},u}function bE(a){return a=ha(a),a.tag=3,a}function AE(a,o,u,m){var v=u.type.getDerivedStateFromError;if(typeof v=="function"){var b=m.value;a.payload=function(){return v(b)},a.callback=function(){yE(o,u,m)}}var w=u.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(a.callback=function(){yE(o,u,m),typeof v!="function"&&(Aa===null?Aa=new Set([this]):Aa.add(this));var D=m.stack;this.componentDidCatch(m.value,{componentStack:D!==null?D:""})})}function jI(a,o,u,m,v){if(u.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(o=u.alternate,o!==null&&co(o,u,v,!0),u=Wn.current,u!==null){switch(u.tag){case 31:case 13:return vi===null?Od():u.alternate===null&&xt===0&&(xt=3),u.flags&=-257,u.flags|=65536,u.lanes=v,m===td?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([m]):o.add(m),bg(a,m,v)),!1;case 22:return u.flags|=65536,m===td?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([m])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([m]):u.add(m)),bg(a,m,v)),!1}throw Error(i(435,u.tag))}return bg(a,m,v),Od(),!1}if(Be)return o=Wn.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=v,m!==hm&&(a=Error(i(422),{cause:m}),Bl(hi(a,u)))):(m!==hm&&(o=Error(i(423),{cause:m}),Bl(hi(o,u))),a=a.current.alternate,a.flags|=65536,v&=-v,a.lanes|=v,m=hi(m,u),v=Xm(a.stateNode,m,v),wm(a,v),xt!==4&&(xt=2)),!1;var b=Error(i(520),{cause:m});if(b=hi(b,u),nc===null?nc=[b]:nc.push(b),xt!==4&&(xt=2),o===null)return!0;m=hi(m,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,a=v&-v,u.lanes|=a,a=Xm(u.stateNode,m,a),wm(u,a),!1;case 1:if(o=u.type,b=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Aa===null||!Aa.has(b))))return u.flags|=65536,v&=-v,u.lanes|=v,v=bE(v),AE(v,a,u,m),wm(u,v),!1}u=u.return}while(u!==null);return!1}var Km=Error(i(461)),It=!1;function dn(a,o,u,m){o.child=a===null?wS(o,null,u,m):ls(o,a.child,u,m)}function SE(a,o,u,m,v){u=u.render;var b=o.ref;if("ref"in m){var w={};for(var D in m)D!=="ref"&&(w[D]=m[D])}else w=m;return rs(o),m=Pm(a,o,u,w,b,v),D=Dm(),a!==null&&!It?(Lm(a,o,v),xr(a,o,v)):(Be&&D&&dm(o),o.flags|=1,dn(a,o,m,v),o.child)}function EE(a,o,u,m,v){if(a===null){var b=u.type;return typeof b=="function"&&!lm(b)&&b.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=b,xE(a,o,b,m,v)):(a=Ku(u.type,null,m,o,o.mode,v),a.ref=o.ref,a.return=o,o.child=a)}if(b=a.child,!ig(a,v)){var w=b.memoizedProps;if(u=u.compare,u=u!==null?u:Rl,u(w,m)&&a.ref===o.ref)return xr(a,o,v)}return o.flags|=1,a=vr(b,m),a.ref=o.ref,a.return=o,o.child=a}function xE(a,o,u,m,v){if(a!==null){var b=a.memoizedProps;if(Rl(b,m)&&a.ref===o.ref)if(It=!1,o.pendingProps=m=b,ig(a,v))(a.flags&131072)!==0&&(It=!0);else return o.lanes=a.lanes,xr(a,o,v)}return Wm(a,o,u,m,v)}function wE(a,o,u,m){var v=m.children,b=a!==null?a.memoizedState:null;if(a===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((o.flags&128)!==0){if(b=b!==null?b.baseLanes|u:u,a!==null){for(m=o.child=a.child,v=0;m!==null;)v=v|m.lanes|m.childLanes,m=m.sibling;m=v&~b}else m=0,o.child=null;return CE(a,o,b,u,m)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&Ju(o,b!==null?b.cachePool:null),b!==null?TS(o,b):Om(),MS(o);else return m=o.lanes=536870912,CE(a,o,b!==null?b.baseLanes|u:u,u,m)}else b!==null?(Ju(o,b.cachePool),TS(o,b),ga(),o.memoizedState=null):(a!==null&&Ju(o,null),Om(),ga());return dn(a,o,v,u),o.child}function Kl(a,o){return a!==null&&a.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function CE(a,o,u,m,v){var b=Am();return b=b===null?null:{parent:Nt._currentValue,pool:b},o.memoizedState={baseLanes:u,cachePool:b},a!==null&&Ju(o,null),Om(),MS(o),a!==null&&co(a,o,m,!0),o.childLanes=v,null}function md(a,o){return o=vd({mode:o.mode,children:o.children},a.mode),o.ref=a.ref,a.child=o,o.return=a,o}function OE(a,o,u){return ls(o,a.child,null,u),a=md(o,o.pendingProps),a.flags|=2,Zn(o),o.memoizedState=null,a}function zI(a,o,u){var m=o.pendingProps,v=(o.flags&128)!==0;if(o.flags&=-129,a===null){if(Be){if(m.mode==="hidden")return a=md(o,m),o.lanes=536870912,Kl(null,a);if(Mm(o),(a=ut)?(a=jx(a,gi),a=a!==null&&a.data==="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:la!==null?{id:$i,overflow:Gi}:null,retryLane:536870912,hydrationErrors:null},u=cS(a),u.return=o,o.child=u,cn=o,ut=null)):a=null,a===null)throw ua(o);return o.lanes=536870912,null}return md(o,m)}var b=a.memoizedState;if(b!==null){var w=b.dehydrated;if(Mm(o),v)if(o.flags&256)o.flags&=-257,o=OE(a,o,u);else if(o.memoizedState!==null)o.child=a.child,o.flags|=128,o=null;else throw Error(i(558));else if(It||co(a,o,u,!1),v=(u&a.childLanes)!==0,It||v){if(m=at,m!==null&&(w=g1(m,u),w!==0&&w!==b.retryLane))throw b.retryLane=w,es(a,w),jn(m,a,w),Km;Od(),o=OE(a,o,u)}else a=b.treeContext,ut=yi(w.nextSibling),cn=o,Be=!0,ca=null,gi=!1,a!==null&&fS(o,a),o=md(o,m),o.flags|=4096;return o}return a=vr(a.child,{mode:m.mode,children:m.children}),a.ref=o.ref,o.child=a,a.return=o,a}function gd(a,o){var u=o.ref;if(u===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(i(284));(a===null||a.ref!==u)&&(o.flags|=4194816)}}function Wm(a,o,u,m,v){return rs(o),u=Pm(a,o,u,m,void 0,v),m=Dm(),a!==null&&!It?(Lm(a,o,v),xr(a,o,v)):(Be&&m&&dm(o),o.flags|=1,dn(a,o,u,v),o.child)}function TE(a,o,u,m,v,b){return rs(o),o.updateQueue=null,u=PS(o,m,u,v),_S(a),m=Dm(),a!==null&&!It?(Lm(a,o,b),xr(a,o,b)):(Be&&m&&dm(o),o.flags|=1,dn(a,o,u,b),o.child)}function ME(a,o,u,m,v){if(rs(o),o.stateNode===null){var b=ao,w=u.contextType;typeof w=="object"&&w!==null&&(b=un(w)),b=new u(m,b),o.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Ym,o.stateNode=b,b._reactInternals=o,b=o.stateNode,b.props=m,b.state=o.memoizedState,b.refs={},Em(o),w=u.contextType,b.context=typeof w=="object"&&w!==null?un(w):ao,b.state=o.memoizedState,w=u.getDerivedStateFromProps,typeof w=="function"&&(Vm(o,u,w,m),b.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(w=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),w!==b.state&&Ym.enqueueReplaceState(b,b.state,null),$l(o,m,b,v),ql(),b.state=o.memoizedState),typeof b.componentDidMount=="function"&&(o.flags|=4194308),m=!0}else if(a===null){b=o.stateNode;var D=o.memoizedProps,k=us(u,D);b.props=k;var V=b.context,Q=u.contextType;w=ao,typeof Q=="object"&&Q!==null&&(w=un(Q));var te=u.getDerivedStateFromProps;Q=typeof te=="function"||typeof b.getSnapshotBeforeUpdate=="function",D=o.pendingProps!==D,Q||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(D||V!==w)&&pE(o,b,m,w),fa=!1;var W=o.memoizedState;b.state=W,$l(o,m,b,v),ql(),V=o.memoizedState,D||W!==V||fa?(typeof te=="function"&&(Vm(o,u,te,m),V=o.memoizedState),(k=fa||hE(o,u,k,m,W,V,w))?(Q||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(o.flags|=4194308)):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=V),b.props=m,b.state=V,b.context=w,m=k):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{b=o.stateNode,xm(a,o),w=o.memoizedProps,Q=us(u,w),b.props=Q,te=o.pendingProps,W=b.context,V=u.contextType,k=ao,typeof V=="object"&&V!==null&&(k=un(V)),D=u.getDerivedStateFromProps,(V=typeof D=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(w!==te||W!==k)&&pE(o,b,m,k),fa=!1,W=o.memoizedState,b.state=W,$l(o,m,b,v),ql();var Z=o.memoizedState;w!==te||W!==Z||fa||a!==null&&a.dependencies!==null&&Zu(a.dependencies)?(typeof D=="function"&&(Vm(o,u,D,m),Z=o.memoizedState),(Q=fa||hE(o,u,Q,m,W,Z,k)||a!==null&&a.dependencies!==null&&Zu(a.dependencies))?(V||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(m,Z,k),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(m,Z,k)),typeof b.componentDidUpdate=="function"&&(o.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof b.componentDidUpdate!="function"||w===a.memoizedProps&&W===a.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||w===a.memoizedProps&&W===a.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=Z),b.props=m,b.state=Z,b.context=k,m=Q):(typeof b.componentDidUpdate!="function"||w===a.memoizedProps&&W===a.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||w===a.memoizedProps&&W===a.memoizedState||(o.flags|=1024),m=!1)}return b=m,gd(a,o),m=(o.flags&128)!==0,b||m?(b=o.stateNode,u=m&&typeof u.getDerivedStateFromError!="function"?null:b.render(),o.flags|=1,a!==null&&m?(o.child=ls(o,a.child,null,v),o.child=ls(o,null,u,v)):dn(a,o,u,v),o.memoizedState=b.state,a=o.child):a=xr(a,o,v),a}function _E(a,o,u,m){return ns(),o.flags|=256,dn(a,o,u,m),o.child}var Zm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qm(a){return{baseLanes:a,cachePool:yS()}}function Jm(a,o,u){return a=a!==null?a.childLanes&~u:0,o&&(a|=Jn),a}function PE(a,o,u){var m=o.pendingProps,v=!1,b=(o.flags&128)!==0,w;if((w=b)||(w=a!==null&&a.memoizedState===null?!1:(_t.current&2)!==0),w&&(v=!0,o.flags&=-129),w=(o.flags&32)!==0,o.flags&=-33,a===null){if(Be){if(v?ma(o):ga(),(a=ut)?(a=jx(a,gi),a=a!==null&&a.data!=="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:la!==null?{id:$i,overflow:Gi}:null,retryLane:536870912,hydrationErrors:null},u=cS(a),u.return=o,o.child=u,cn=o,ut=null)):a=null,a===null)throw ua(o);return Ig(a)?o.lanes=32:o.lanes=536870912,null}var D=m.children;return m=m.fallback,v?(ga(),v=o.mode,D=vd({mode:"hidden",children:D},v),m=ts(m,v,u,null),D.return=o,m.return=o,D.sibling=m,o.child=D,m=o.child,m.memoizedState=Qm(u),m.childLanes=Jm(a,w,u),o.memoizedState=Zm,Kl(null,m)):(ma(o),eg(o,D))}var k=a.memoizedState;if(k!==null&&(D=k.dehydrated,D!==null)){if(b)o.flags&256?(ma(o),o.flags&=-257,o=tg(a,o,u)):o.memoizedState!==null?(ga(),o.child=a.child,o.flags|=128,o=null):(ga(),D=m.fallback,v=o.mode,m=vd({mode:"visible",children:m.children},v),D=ts(D,v,u,null),D.flags|=2,m.return=o,D.return=o,m.sibling=D,o.child=m,ls(o,a.child,null,u),m=o.child,m.memoizedState=Qm(u),m.childLanes=Jm(a,w,u),o.memoizedState=Zm,o=Kl(null,m));else if(ma(o),Ig(D)){if(w=D.nextSibling&&D.nextSibling.dataset,w)var V=w.dgst;w=V,m=Error(i(419)),m.stack="",m.digest=w,Bl({value:m,source:null,stack:null}),o=tg(a,o,u)}else if(It||co(a,o,u,!1),w=(u&a.childLanes)!==0,It||w){if(w=at,w!==null&&(m=g1(w,u),m!==0&&m!==k.retryLane))throw k.retryLane=m,es(a,m),jn(w,a,m),Km;Rg(D)||Od(),o=tg(a,o,u)}else Rg(D)?(o.flags|=192,o.child=a.child,o=null):(a=k.treeContext,ut=yi(D.nextSibling),cn=o,Be=!0,ca=null,gi=!1,a!==null&&fS(o,a),o=eg(o,m.children),o.flags|=4096);return o}return v?(ga(),D=m.fallback,v=o.mode,k=a.child,V=k.sibling,m=vr(k,{mode:"hidden",children:m.children}),m.subtreeFlags=k.subtreeFlags&65011712,V!==null?D=vr(V,D):(D=ts(D,v,u,null),D.flags|=2),D.return=o,m.return=o,m.sibling=D,o.child=m,Kl(null,m),m=o.child,D=a.child.memoizedState,D===null?D=Qm(u):(v=D.cachePool,v!==null?(k=Nt._currentValue,v=v.parent!==k?{parent:k,pool:k}:v):v=yS(),D={baseLanes:D.baseLanes|u,cachePool:v}),m.memoizedState=D,m.childLanes=Jm(a,w,u),o.memoizedState=Zm,Kl(a.child,m)):(ma(o),u=a.child,a=u.sibling,u=vr(u,{mode:"visible",children:m.children}),u.return=o,u.sibling=null,a!==null&&(w=o.deletions,w===null?(o.deletions=[a],o.flags|=16):w.push(a)),o.child=u,o.memoizedState=null,u)}function eg(a,o){return o=vd({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function vd(a,o){return a=Kn(22,a,null,o),a.lanes=0,a}function tg(a,o,u){return ls(o,a.child,null,u),a=eg(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function DE(a,o,u){a.lanes|=o;var m=a.alternate;m!==null&&(m.lanes|=o),gm(a.return,o,u)}function ng(a,o,u,m,v,b){var w=a.memoizedState;w===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:v,treeForkCount:b}:(w.isBackwards=o,w.rendering=null,w.renderingStartTime=0,w.last=m,w.tail=u,w.tailMode=v,w.treeForkCount=b)}function LE(a,o,u){var m=o.pendingProps,v=m.revealOrder,b=m.tail;m=m.children;var w=_t.current,D=(w&2)!==0;if(D?(w=w&1|2,o.flags|=128):w&=1,ne(_t,w),dn(a,o,m,u),m=Be?kl:0,!D&&a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&DE(a,u,o);else if(a.tag===19)DE(a,u,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(v){case"forwards":for(u=o.child,v=null;u!==null;)a=u.alternate,a!==null&&ad(a)===null&&(v=u),u=u.sibling;u=v,u===null?(v=o.child,o.child=null):(v=u.sibling,u.sibling=null),ng(o,!1,v,u,b,m);break;case"backwards":case"unstable_legacy-backwards":for(u=null,v=o.child,o.child=null;v!==null;){if(a=v.alternate,a!==null&&ad(a)===null){o.child=v;break}a=v.sibling,v.sibling=u,u=v,v=a}ng(o,!0,u,null,b,m);break;case"together":ng(o,!1,null,null,void 0,m);break;default:o.memoizedState=null}return o.child}function xr(a,o,u){if(a!==null&&(o.dependencies=a.dependencies),ba|=o.lanes,(u&o.childLanes)===0)if(a!==null){if(co(a,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(i(153));if(o.child!==null){for(a=o.child,u=vr(a,a.pendingProps),o.child=u,u.return=o;a.sibling!==null;)a=a.sibling,u=u.sibling=vr(a,a.pendingProps),u.return=o;u.sibling=null}return o.child}function ig(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&Zu(a)))}function FI(a,o,u){switch(o.tag){case 3:ct(o,o.stateNode.containerInfo),da(o,Nt,a.memoizedState.cache),ns();break;case 27:case 5:Oe(o);break;case 4:ct(o,o.stateNode.containerInfo);break;case 10:da(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Mm(o),null;break;case 13:var m=o.memoizedState;if(m!==null)return m.dehydrated!==null?(ma(o),o.flags|=128,null):(u&o.child.childLanes)!==0?PE(a,o,u):(ma(o),a=xr(a,o,u),a!==null?a.sibling:null);ma(o);break;case 19:var v=(a.flags&128)!==0;if(m=(u&o.childLanes)!==0,m||(co(a,o,u,!1),m=(u&o.childLanes)!==0),v){if(m)return LE(a,o,u);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),ne(_t,_t.current),m)break;return null;case 22:return o.lanes=0,wE(a,o,u,o.pendingProps);case 24:da(o,Nt,a.memoizedState.cache)}return xr(a,o,u)}function NE(a,o,u){if(a!==null)if(a.memoizedProps!==o.pendingProps)It=!0;else{if(!ig(a,u)&&(o.flags&128)===0)return It=!1,FI(a,o,u);It=(a.flags&131072)!==0}else It=!1,Be&&(o.flags&1048576)!==0&&dS(o,kl,o.index);switch(o.lanes=0,o.tag){case 16:e:{var m=o.pendingProps;if(a=ss(o.elementType),o.type=a,typeof a=="function")lm(a)?(m=us(a,m),o.tag=1,o=ME(null,o,a,m,u)):(o.tag=0,o=Wm(null,o,a,m,u));else{if(a!=null){var v=a.$$typeof;if(v===P){o.tag=11,o=SE(null,o,a,m,u);break e}else if(v===L){o.tag=14,o=EE(null,o,a,m,u);break e}}throw o=re(a)||a,Error(i(306,o,""))}}return o;case 0:return Wm(a,o,o.type,o.pendingProps,u);case 1:return m=o.type,v=us(m,o.pendingProps),ME(a,o,m,v,u);case 3:e:{if(ct(o,o.stateNode.containerInfo),a===null)throw Error(i(387));m=o.pendingProps;var b=o.memoizedState;v=b.element,xm(a,o),$l(o,m,null,u);var w=o.memoizedState;if(m=w.cache,da(o,Nt,m),m!==b.cache&&vm(o,[Nt],u,!0),ql(),m=w.element,b.isDehydrated)if(b={element:m,isDehydrated:!1,cache:w.cache},o.updateQueue.baseState=b,o.memoizedState=b,o.flags&256){o=_E(a,o,m,u);break e}else if(m!==v){v=hi(Error(i(424)),o),Bl(v),o=_E(a,o,m,u);break e}else for(a=o.stateNode.containerInfo,a.nodeType===9?a=a.body:a=a.nodeName==="HTML"?a.ownerDocument.body:a,ut=yi(a.firstChild),cn=o,Be=!0,ca=null,gi=!0,u=wS(o,null,m,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(ns(),m===v){o=xr(a,o,u);break e}dn(a,o,m,u)}o=o.child}return o;case 26:return gd(a,o),a===null?(u=$x(o.type,null,o.pendingProps,null))?o.memoizedState=u:Be||(u=o.type,a=o.pendingProps,m=Nd(Ee.current).createElement(u),m[ln]=o,m[Ln]=a,fn(m,u,a),Kt(m),o.stateNode=m):o.memoizedState=$x(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return Oe(o),a===null&&Be&&(m=o.stateNode=Ux(o.type,o.pendingProps,Ee.current),cn=o,gi=!0,v=ut,wa(o.type)?(kg=v,ut=yi(m.firstChild)):ut=v),dn(a,o,o.pendingProps.children,u),gd(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&Be&&((v=m=ut)&&(m=gk(m,o.type,o.pendingProps,gi),m!==null?(o.stateNode=m,cn=o,ut=yi(m.firstChild),gi=!1,v=!0):v=!1),v||ua(o)),Oe(o),v=o.type,b=o.pendingProps,w=a!==null?a.memoizedProps:null,m=b.children,Dg(v,b)?m=null:w!==null&&Dg(v,w)&&(o.flags|=32),o.memoizedState!==null&&(v=Pm(a,o,DI,null,null,u),uc._currentValue=v),gd(a,o),dn(a,o,m,u),o.child;case 6:return a===null&&Be&&((a=u=ut)&&(u=vk(u,o.pendingProps,gi),u!==null?(o.stateNode=u,cn=o,ut=null,a=!0):a=!1),a||ua(o)),null;case 13:return PE(a,o,u);case 4:return ct(o,o.stateNode.containerInfo),m=o.pendingProps,a===null?o.child=ls(o,null,m,u):dn(a,o,m,u),o.child;case 11:return SE(a,o,o.type,o.pendingProps,u);case 7:return dn(a,o,o.pendingProps,u),o.child;case 8:return dn(a,o,o.pendingProps.children,u),o.child;case 12:return dn(a,o,o.pendingProps.children,u),o.child;case 10:return m=o.pendingProps,da(o,o.type,m.value),dn(a,o,m.children,u),o.child;case 9:return v=o.type._context,m=o.pendingProps.children,rs(o),v=un(v),m=m(v),o.flags|=1,dn(a,o,m,u),o.child;case 14:return EE(a,o,o.type,o.pendingProps,u);case 15:return xE(a,o,o.type,o.pendingProps,u);case 19:return LE(a,o,u);case 31:return zI(a,o,u);case 22:return wE(a,o,u,o.pendingProps);case 24:return rs(o),m=un(Nt),a===null?(v=Am(),v===null&&(v=at,b=ym(),v.pooledCache=b,b.refCount++,b!==null&&(v.pooledCacheLanes|=u),v=b),o.memoizedState={parent:m,cache:v},Em(o),da(o,Nt,v)):((a.lanes&u)!==0&&(xm(a,o),$l(o,null,null,u),ql()),v=a.memoizedState,b=o.memoizedState,v.parent!==m?(v={parent:m,cache:m},o.memoizedState=v,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=v),da(o,Nt,m)):(m=b.cache,da(o,Nt,m),m!==v.cache&&vm(o,[Nt],u,!0))),dn(a,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}function wr(a){a.flags|=4}function rg(a,o,u,m,v){if((o=(a.mode&32)!==0)&&(o=!1),o){if(a.flags|=16777216,(v&335544128)===v)if(a.stateNode.complete)a.flags|=8192;else if(sx())a.flags|=8192;else throw os=td,Sm}else a.flags&=-16777217}function RE(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!Kx(o))if(sx())a.flags|=8192;else throw os=td,Sm}function yd(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?h1():536870912,a.lanes|=o,Eo|=o)}function Wl(a,o){if(!Be)switch(a.tailMode){case"hidden":o=a.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:m.sibling=null}}function dt(a){var o=a.alternate!==null&&a.alternate.child===a.child,u=0,m=0;if(o)for(var v=a.child;v!==null;)u|=v.lanes|v.childLanes,m|=v.subtreeFlags&65011712,m|=v.flags&65011712,v.return=a,v=v.sibling;else for(v=a.child;v!==null;)u|=v.lanes|v.childLanes,m|=v.subtreeFlags,m|=v.flags,v.return=a,v=v.sibling;return a.subtreeFlags|=m,a.childLanes=u,o}function UI(a,o,u){var m=o.pendingProps;switch(fm(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(o),null;case 1:return dt(o),null;case 3:return u=o.stateNode,m=null,a!==null&&(m=a.memoizedState.cache),o.memoizedState.cache!==m&&(o.flags|=2048),Ar(Nt),J(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(lo(o)?wr(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,pm())),dt(o),null;case 26:var v=o.type,b=o.memoizedState;return a===null?(wr(o),b!==null?(dt(o),RE(o,b)):(dt(o),rg(o,v,null,m,u))):b?b!==a.memoizedState?(wr(o),dt(o),RE(o,b)):(dt(o),o.flags&=-16777217):(a=a.memoizedProps,a!==m&&wr(o),dt(o),rg(o,v,a,m,u)),null;case 27:if(Pe(o),u=Ee.current,v=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==m&&wr(o);else{if(!m){if(o.stateNode===null)throw Error(i(166));return dt(o),null}a=oe.current,lo(o)?hS(o):(a=Ux(v,m,u),o.stateNode=a,wr(o))}return dt(o),null;case 5:if(Pe(o),v=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==m&&wr(o);else{if(!m){if(o.stateNode===null)throw Error(i(166));return dt(o),null}if(b=oe.current,lo(o))hS(o);else{var w=Nd(Ee.current);switch(b){case 1:b=w.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:b=w.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":b=w.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":b=w.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":b=w.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof m.is=="string"?w.createElement("select",{is:m.is}):w.createElement("select"),m.multiple?b.multiple=!0:m.size&&(b.size=m.size);break;default:b=typeof m.is=="string"?w.createElement(v,{is:m.is}):w.createElement(v)}}b[ln]=o,b[Ln]=m;e:for(w=o.child;w!==null;){if(w.tag===5||w.tag===6)b.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===o)break e;for(;w.sibling===null;){if(w.return===null||w.return===o)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}o.stateNode=b;e:switch(fn(b,v,m),v){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&wr(o)}}return dt(o),rg(o,o.type,a===null?null:a.memoizedProps,o.pendingProps,u),null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==m&&wr(o);else{if(typeof m!="string"&&o.stateNode===null)throw Error(i(166));if(a=Ee.current,lo(o)){if(a=o.stateNode,u=o.memoizedProps,m=null,v=cn,v!==null)switch(v.tag){case 27:case 5:m=v.memoizedProps}a[ln]=o,a=!!(a.nodeValue===u||m!==null&&m.suppressHydrationWarning===!0||Px(a.nodeValue,u)),a||ua(o,!0)}else a=Nd(a).createTextNode(m),a[ln]=o,o.stateNode=a}return dt(o),null;case 31:if(u=o.memoizedState,a===null||a.memoizedState!==null){if(m=lo(o),u!==null){if(a===null){if(!m)throw Error(i(318));if(a=o.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(557));a[ln]=o}else ns(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;dt(o),a=!1}else u=pm(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=u),a=!0;if(!a)return o.flags&256?(Zn(o),o):(Zn(o),null);if((o.flags&128)!==0)throw Error(i(558))}return dt(o),null;case 13:if(m=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(v=lo(o),m!==null&&m.dehydrated!==null){if(a===null){if(!v)throw Error(i(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(i(317));v[ln]=o}else ns(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;dt(o),v=!1}else v=pm(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=v),v=!0;if(!v)return o.flags&256?(Zn(o),o):(Zn(o),null)}return Zn(o),(o.flags&128)!==0?(o.lanes=u,o):(u=m!==null,a=a!==null&&a.memoizedState!==null,u&&(m=o.child,v=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(v=m.alternate.memoizedState.cachePool.pool),b=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(b=m.memoizedState.cachePool.pool),b!==v&&(m.flags|=2048)),u!==a&&u&&(o.child.flags|=8192),yd(o,o.updateQueue),dt(o),null);case 4:return J(),a===null&&Og(o.stateNode.containerInfo),dt(o),null;case 10:return Ar(o.type),dt(o),null;case 19:if(K(_t),m=o.memoizedState,m===null)return dt(o),null;if(v=(o.flags&128)!==0,b=m.rendering,b===null)if(v)Wl(m,!1);else{if(xt!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(b=ad(a),b!==null){for(o.flags|=128,Wl(m,!1),a=b.updateQueue,o.updateQueue=a,yd(o,a),o.subtreeFlags=0,a=u,u=o.child;u!==null;)lS(u,a),u=u.sibling;return ne(_t,_t.current&1|2),Be&&yr(o,m.treeForkCount),o.child}a=a.sibling}m.tail!==null&&Gn()>xd&&(o.flags|=128,v=!0,Wl(m,!1),o.lanes=4194304)}else{if(!v)if(a=ad(b),a!==null){if(o.flags|=128,v=!0,a=a.updateQueue,o.updateQueue=a,yd(o,a),Wl(m,!0),m.tail===null&&m.tailMode==="hidden"&&!b.alternate&&!Be)return dt(o),null}else 2*Gn()-m.renderingStartTime>xd&&u!==536870912&&(o.flags|=128,v=!0,Wl(m,!1),o.lanes=4194304);m.isBackwards?(b.sibling=o.child,o.child=b):(a=m.last,a!==null?a.sibling=b:o.child=b,m.last=b)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=Gn(),a.sibling=null,u=_t.current,ne(_t,v?u&1|2:u&1),Be&&yr(o,m.treeForkCount),a):(dt(o),null);case 22:case 23:return Zn(o),Tm(),m=o.memoizedState!==null,a!==null?a.memoizedState!==null!==m&&(o.flags|=8192):m&&(o.flags|=8192),m?(u&536870912)!==0&&(o.flags&128)===0&&(dt(o),o.subtreeFlags&6&&(o.flags|=8192)):dt(o),u=o.updateQueue,u!==null&&yd(o,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==u&&(o.flags|=2048),a!==null&&K(as),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),Ar(Nt),dt(o),null;case 25:return null;case 30:return null}throw Error(i(156,o.tag))}function HI(a,o){switch(fm(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return Ar(Nt),J(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return Pe(o),null;case 31:if(o.memoizedState!==null){if(Zn(o),o.alternate===null)throw Error(i(340));ns()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 13:if(Zn(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(i(340));ns()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return K(_t),null;case 4:return J(),null;case 10:return Ar(o.type),null;case 22:case 23:return Zn(o),Tm(),a!==null&&K(as),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return Ar(Nt),null;case 25:return null;default:return null}}function IE(a,o){switch(fm(o),o.tag){case 3:Ar(Nt),J();break;case 26:case 27:case 5:Pe(o);break;case 4:J();break;case 31:o.memoizedState!==null&&Zn(o);break;case 13:Zn(o);break;case 19:K(_t);break;case 10:Ar(o.type);break;case 22:case 23:Zn(o),Tm(),a!==null&&K(as);break;case 24:Ar(Nt)}}function Zl(a,o){try{var u=o.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var v=m.next;u=v;do{if((u.tag&a)===a){m=void 0;var b=u.create,w=u.inst;m=b(),w.destroy=m}u=u.next}while(u!==v)}}catch(D){Ze(o,o.return,D)}}function va(a,o,u){try{var m=o.updateQueue,v=m!==null?m.lastEffect:null;if(v!==null){var b=v.next;m=b;do{if((m.tag&a)===a){var w=m.inst,D=w.destroy;if(D!==void 0){w.destroy=void 0,v=o;var k=u,V=D;try{V()}catch(Q){Ze(v,k,Q)}}}m=m.next}while(m!==b)}}catch(Q){Ze(o,o.return,Q)}}function kE(a){var o=a.updateQueue;if(o!==null){var u=a.stateNode;try{OS(o,u)}catch(m){Ze(a,a.return,m)}}}function BE(a,o,u){u.props=us(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(m){Ze(a,o,m)}}function Ql(a,o){try{var u=a.ref;if(u!==null){switch(a.tag){case 26:case 27:case 5:var m=a.stateNode;break;case 30:m=a.stateNode;break;default:m=a.stateNode}typeof u=="function"?a.refCleanup=u(m):u.current=m}}catch(v){Ze(a,o,v)}}function Vi(a,o){var u=a.ref,m=a.refCleanup;if(u!==null)if(typeof m=="function")try{m()}catch(v){Ze(a,o,v)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(v){Ze(a,o,v)}else u.current=null}function jE(a){var o=a.type,u=a.memoizedProps,m=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&m.focus();break e;case"img":u.src?m.src=u.src:u.srcSet&&(m.srcset=u.srcSet)}}catch(v){Ze(a,a.return,v)}}function ag(a,o,u){try{var m=a.stateNode;uk(m,a.type,u,o),m[Ln]=o}catch(v){Ze(a,a.return,v)}}function zE(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&wa(a.type)||a.tag===4}function sg(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||zE(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&wa(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function og(a,o,u){var m=a.tag;if(m===5||m===6)a=a.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(a,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(a),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=mr));else if(m!==4&&(m===27&&wa(a.type)&&(u=a.stateNode,o=null),a=a.child,a!==null))for(og(a,o,u),a=a.sibling;a!==null;)og(a,o,u),a=a.sibling}function bd(a,o,u){var m=a.tag;if(m===5||m===6)a=a.stateNode,o?u.insertBefore(a,o):u.appendChild(a);else if(m!==4&&(m===27&&wa(a.type)&&(u=a.stateNode),a=a.child,a!==null))for(bd(a,o,u),a=a.sibling;a!==null;)bd(a,o,u),a=a.sibling}function FE(a){var o=a.stateNode,u=a.memoizedProps;try{for(var m=a.type,v=o.attributes;v.length;)o.removeAttributeNode(v[0]);fn(o,m,u),o[ln]=a,o[Ln]=u}catch(b){Ze(a,a.return,b)}}var Cr=!1,kt=!1,lg=!1,UE=typeof WeakSet=="function"?WeakSet:Set,Wt=null;function qI(a,o){if(a=a.containerInfo,_g=Fd,a=J1(a),tm(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{u=(u=a.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var v=m.anchorOffset,b=m.focusNode;m=m.focusOffset;try{u.nodeType,b.nodeType}catch{u=null;break e}var w=0,D=-1,k=-1,V=0,Q=0,te=a,W=null;t:for(;;){for(var Z;te!==u||v!==0&&te.nodeType!==3||(D=w+v),te!==b||m!==0&&te.nodeType!==3||(k=w+m),te.nodeType===3&&(w+=te.nodeValue.length),(Z=te.firstChild)!==null;)W=te,te=Z;for(;;){if(te===a)break t;if(W===u&&++V===v&&(D=w),W===b&&++Q===m&&(k=w),(Z=te.nextSibling)!==null)break;te=W,W=te.parentNode}te=Z}u=D===-1||k===-1?null:{start:D,end:k}}else u=null}u=u||{start:0,end:0}}else u=null;for(Pg={focusedElem:a,selectionRange:u},Fd=!1,Wt=o;Wt!==null;)if(o=Wt,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,Wt=a;else for(;Wt!==null;){switch(o=Wt,b=o.alternate,a=o.flags,o.tag){case 0:if((a&4)!==0&&(a=o.updateQueue,a=a!==null?a.events:null,a!==null))for(u=0;u<a.length;u++)v=a[u],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&b!==null){a=void 0,u=o,v=b.memoizedProps,b=b.memoizedState,m=u.stateNode;try{var me=us(u.type,v);a=m.getSnapshotBeforeUpdate(me,b),m.__reactInternalSnapshotBeforeUpdate=a}catch(xe){Ze(u,u.return,xe)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,u=a.nodeType,u===9)Ng(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Ng(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(i(163))}if(a=o.sibling,a!==null){a.return=o.return,Wt=a;break}Wt=o.return}}function HE(a,o,u){var m=u.flags;switch(u.tag){case 0:case 11:case 15:Tr(a,u),m&4&&Zl(5,u);break;case 1:if(Tr(a,u),m&4)if(a=u.stateNode,o===null)try{a.componentDidMount()}catch(w){Ze(u,u.return,w)}else{var v=us(u.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(v,o,a.__reactInternalSnapshotBeforeUpdate)}catch(w){Ze(u,u.return,w)}}m&64&&kE(u),m&512&&Ql(u,u.return);break;case 3:if(Tr(a,u),m&64&&(a=u.updateQueue,a!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{OS(a,o)}catch(w){Ze(u,u.return,w)}}break;case 27:o===null&&m&4&&FE(u);case 26:case 5:Tr(a,u),o===null&&m&4&&jE(u),m&512&&Ql(u,u.return);break;case 12:Tr(a,u);break;case 31:Tr(a,u),m&4&&GE(a,u);break;case 13:Tr(a,u),m&4&&VE(a,u),m&64&&(a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(u=QI.bind(null,u),yk(a,u))));break;case 22:if(m=u.memoizedState!==null||Cr,!m){o=o!==null&&o.memoizedState!==null||kt,v=Cr;var b=kt;Cr=m,(kt=o)&&!b?Mr(a,u,(u.subtreeFlags&8772)!==0):Tr(a,u),Cr=v,kt=b}break;case 30:break;default:Tr(a,u)}}function qE(a){var o=a.alternate;o!==null&&(a.alternate=null,qE(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&jp(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var pt=null,Rn=!1;function Or(a,o,u){for(u=u.child;u!==null;)$E(a,o,u),u=u.sibling}function $E(a,o,u){if(Vn&&typeof Vn.onCommitFiberUnmount=="function")try{Vn.onCommitFiberUnmount(El,u)}catch{}switch(u.tag){case 26:kt||Vi(u,o),Or(a,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:kt||Vi(u,o);var m=pt,v=Rn;wa(u.type)&&(pt=u.stateNode,Rn=!1),Or(a,o,u),oc(u.stateNode),pt=m,Rn=v;break;case 5:kt||Vi(u,o);case 6:if(m=pt,v=Rn,pt=null,Or(a,o,u),pt=m,Rn=v,pt!==null)if(Rn)try{(pt.nodeType===9?pt.body:pt.nodeName==="HTML"?pt.ownerDocument.body:pt).removeChild(u.stateNode)}catch(b){Ze(u,o,b)}else try{pt.removeChild(u.stateNode)}catch(b){Ze(u,o,b)}break;case 18:pt!==null&&(Rn?(a=pt,kx(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,u.stateNode),Po(a)):kx(pt,u.stateNode));break;case 4:m=pt,v=Rn,pt=u.stateNode.containerInfo,Rn=!0,Or(a,o,u),pt=m,Rn=v;break;case 0:case 11:case 14:case 15:va(2,u,o),kt||va(4,u,o),Or(a,o,u);break;case 1:kt||(Vi(u,o),m=u.stateNode,typeof m.componentWillUnmount=="function"&&BE(u,o,m)),Or(a,o,u);break;case 21:Or(a,o,u);break;case 22:kt=(m=kt)||u.memoizedState!==null,Or(a,o,u),kt=m;break;default:Or(a,o,u)}}function GE(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Po(a)}catch(u){Ze(o,o.return,u)}}}function VE(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Po(a)}catch(u){Ze(o,o.return,u)}}function $I(a){switch(a.tag){case 31:case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new UE),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new UE),o;default:throw Error(i(435,a.tag))}}function Ad(a,o){var u=$I(a);o.forEach(function(m){if(!u.has(m)){u.add(m);var v=JI.bind(null,a,m);m.then(v,v)}})}function In(a,o){var u=o.deletions;if(u!==null)for(var m=0;m<u.length;m++){var v=u[m],b=a,w=o,D=w;e:for(;D!==null;){switch(D.tag){case 27:if(wa(D.type)){pt=D.stateNode,Rn=!1;break e}break;case 5:pt=D.stateNode,Rn=!1;break e;case 3:case 4:pt=D.stateNode.containerInfo,Rn=!0;break e}D=D.return}if(pt===null)throw Error(i(160));$E(b,w,v),pt=null,Rn=!1,b=v.alternate,b!==null&&(b.return=null),v.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)YE(o,a),o=o.sibling}var Ii=null;function YE(a,o){var u=a.alternate,m=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:In(o,a),kn(a),m&4&&(va(3,a,a.return),Zl(3,a),va(5,a,a.return));break;case 1:In(o,a),kn(a),m&512&&(kt||u===null||Vi(u,u.return)),m&64&&Cr&&(a=a.updateQueue,a!==null&&(m=a.callbacks,m!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?m:u.concat(m))));break;case 26:var v=Ii;if(In(o,a),kn(a),m&512&&(kt||u===null||Vi(u,u.return)),m&4){var b=u!==null?u.memoizedState:null;if(m=a.memoizedState,u===null)if(m===null)if(a.stateNode===null){e:{m=a.type,u=a.memoizedProps,v=v.ownerDocument||v;t:switch(m){case"title":b=v.getElementsByTagName("title")[0],(!b||b[Cl]||b[ln]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=v.createElement(m),v.head.insertBefore(b,v.querySelector("head > title"))),fn(b,m,u),b[ln]=a,Kt(b),m=b;break e;case"link":var w=Yx("link","href",v).get(m+(u.href||""));if(w){for(var D=0;D<w.length;D++)if(b=w[D],b.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&b.getAttribute("rel")===(u.rel==null?null:u.rel)&&b.getAttribute("title")===(u.title==null?null:u.title)&&b.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){w.splice(D,1);break t}}b=v.createElement(m),fn(b,m,u),v.head.appendChild(b);break;case"meta":if(w=Yx("meta","content",v).get(m+(u.content||""))){for(D=0;D<w.length;D++)if(b=w[D],b.getAttribute("content")===(u.content==null?null:""+u.content)&&b.getAttribute("name")===(u.name==null?null:u.name)&&b.getAttribute("property")===(u.property==null?null:u.property)&&b.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&b.getAttribute("charset")===(u.charSet==null?null:u.charSet)){w.splice(D,1);break t}}b=v.createElement(m),fn(b,m,u),v.head.appendChild(b);break;default:throw Error(i(468,m))}b[ln]=a,Kt(b),m=b}a.stateNode=m}else Xx(v,a.type,a.stateNode);else a.stateNode=Vx(v,m,a.memoizedProps);else b!==m?(b===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):b.count--,m===null?Xx(v,a.type,a.stateNode):Vx(v,m,a.memoizedProps)):m===null&&a.stateNode!==null&&ag(a,a.memoizedProps,u.memoizedProps)}break;case 27:In(o,a),kn(a),m&512&&(kt||u===null||Vi(u,u.return)),u!==null&&m&4&&ag(a,a.memoizedProps,u.memoizedProps);break;case 5:if(In(o,a),kn(a),m&512&&(kt||u===null||Vi(u,u.return)),a.flags&32){v=a.stateNode;try{Qs(v,"")}catch(me){Ze(a,a.return,me)}}m&4&&a.stateNode!=null&&(v=a.memoizedProps,ag(a,v,u!==null?u.memoizedProps:v)),m&1024&&(lg=!0);break;case 6:if(In(o,a),kn(a),m&4){if(a.stateNode===null)throw Error(i(162));m=a.memoizedProps,u=a.stateNode;try{u.nodeValue=m}catch(me){Ze(a,a.return,me)}}break;case 3:if(kd=null,v=Ii,Ii=Rd(o.containerInfo),In(o,a),Ii=v,kn(a),m&4&&u!==null&&u.memoizedState.isDehydrated)try{Po(o.containerInfo)}catch(me){Ze(a,a.return,me)}lg&&(lg=!1,XE(a));break;case 4:m=Ii,Ii=Rd(a.stateNode.containerInfo),In(o,a),kn(a),Ii=m;break;case 12:In(o,a),kn(a);break;case 31:In(o,a),kn(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,Ad(a,m)));break;case 13:In(o,a),kn(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Ed=Gn()),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,Ad(a,m)));break;case 22:v=a.memoizedState!==null;var k=u!==null&&u.memoizedState!==null,V=Cr,Q=kt;if(Cr=V||v,kt=Q||k,In(o,a),kt=Q,Cr=V,kn(a),m&8192)e:for(o=a.stateNode,o._visibility=v?o._visibility&-2:o._visibility|1,v&&(u===null||k||Cr||kt||ds(a)),u=null,o=a;;){if(o.tag===5||o.tag===26){if(u===null){k=u=o;try{if(b=k.stateNode,v)w=b.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{D=k.stateNode;var te=k.memoizedProps.style,W=te!=null&&te.hasOwnProperty("display")?te.display:null;D.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(me){Ze(k,k.return,me)}}}else if(o.tag===6){if(u===null){k=o;try{k.stateNode.nodeValue=v?"":k.memoizedProps}catch(me){Ze(k,k.return,me)}}}else if(o.tag===18){if(u===null){k=o;try{var Z=k.stateNode;v?Bx(Z,!0):Bx(k.stateNode,!1)}catch(me){Ze(k,k.return,me)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}m&4&&(m=a.updateQueue,m!==null&&(u=m.retryQueue,u!==null&&(m.retryQueue=null,Ad(a,u))));break;case 19:In(o,a),kn(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,Ad(a,m)));break;case 30:break;case 21:break;default:In(o,a),kn(a)}}function kn(a){var o=a.flags;if(o&2){try{for(var u,m=a.return;m!==null;){if(zE(m)){u=m;break}m=m.return}if(u==null)throw Error(i(160));switch(u.tag){case 27:var v=u.stateNode,b=sg(a);bd(a,b,v);break;case 5:var w=u.stateNode;u.flags&32&&(Qs(w,""),u.flags&=-33);var D=sg(a);bd(a,D,w);break;case 3:case 4:var k=u.stateNode.containerInfo,V=sg(a);og(a,V,k);break;default:throw Error(i(161))}}catch(Q){Ze(a,a.return,Q)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function XE(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;XE(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function Tr(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)HE(a,o.alternate,o),o=o.sibling}function ds(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:va(4,o,o.return),ds(o);break;case 1:Vi(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&BE(o,o.return,u),ds(o);break;case 27:oc(o.stateNode);case 26:case 5:Vi(o,o.return),ds(o);break;case 22:o.memoizedState===null&&ds(o);break;case 30:ds(o);break;default:ds(o)}a=a.sibling}}function Mr(a,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var m=o.alternate,v=a,b=o,w=b.flags;switch(b.tag){case 0:case 11:case 15:Mr(v,b,u),Zl(4,b);break;case 1:if(Mr(v,b,u),m=b,v=m.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(V){Ze(m,m.return,V)}if(m=b,v=m.updateQueue,v!==null){var D=m.stateNode;try{var k=v.shared.hiddenCallbacks;if(k!==null)for(v.shared.hiddenCallbacks=null,v=0;v<k.length;v++)CS(k[v],D)}catch(V){Ze(m,m.return,V)}}u&&w&64&&kE(b),Ql(b,b.return);break;case 27:FE(b);case 26:case 5:Mr(v,b,u),u&&m===null&&w&4&&jE(b),Ql(b,b.return);break;case 12:Mr(v,b,u);break;case 31:Mr(v,b,u),u&&w&4&&GE(v,b);break;case 13:Mr(v,b,u),u&&w&4&&VE(v,b);break;case 22:b.memoizedState===null&&Mr(v,b,u),Ql(b,b.return);break;case 30:break;default:Mr(v,b,u)}o=o.sibling}}function cg(a,o){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&jl(u))}function ug(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&jl(a))}function ki(a,o,u,m){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)KE(a,o,u,m),o=o.sibling}function KE(a,o,u,m){var v=o.flags;switch(o.tag){case 0:case 11:case 15:ki(a,o,u,m),v&2048&&Zl(9,o);break;case 1:ki(a,o,u,m);break;case 3:ki(a,o,u,m),v&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&jl(a)));break;case 12:if(v&2048){ki(a,o,u,m),a=o.stateNode;try{var b=o.memoizedProps,w=b.id,D=b.onPostCommit;typeof D=="function"&&D(w,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(k){Ze(o,o.return,k)}}else ki(a,o,u,m);break;case 31:ki(a,o,u,m);break;case 13:ki(a,o,u,m);break;case 23:break;case 22:b=o.stateNode,w=o.alternate,o.memoizedState!==null?b._visibility&2?ki(a,o,u,m):Jl(a,o):b._visibility&2?ki(a,o,u,m):(b._visibility|=2,bo(a,o,u,m,(o.subtreeFlags&10256)!==0||!1)),v&2048&&cg(w,o);break;case 24:ki(a,o,u,m),v&2048&&ug(o.alternate,o);break;default:ki(a,o,u,m)}}function bo(a,o,u,m,v){for(v=v&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var b=a,w=o,D=u,k=m,V=w.flags;switch(w.tag){case 0:case 11:case 15:bo(b,w,D,k,v),Zl(8,w);break;case 23:break;case 22:var Q=w.stateNode;w.memoizedState!==null?Q._visibility&2?bo(b,w,D,k,v):Jl(b,w):(Q._visibility|=2,bo(b,w,D,k,v)),v&&V&2048&&cg(w.alternate,w);break;case 24:bo(b,w,D,k,v),v&&V&2048&&ug(w.alternate,w);break;default:bo(b,w,D,k,v)}o=o.sibling}}function Jl(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=a,m=o,v=m.flags;switch(m.tag){case 22:Jl(u,m),v&2048&&cg(m.alternate,m);break;case 24:Jl(u,m),v&2048&&ug(m.alternate,m);break;default:Jl(u,m)}o=o.sibling}}var ec=8192;function Ao(a,o,u){if(a.subtreeFlags&ec)for(a=a.child;a!==null;)WE(a,o,u),a=a.sibling}function WE(a,o,u){switch(a.tag){case 26:Ao(a,o,u),a.flags&ec&&a.memoizedState!==null&&Pk(u,Ii,a.memoizedState,a.memoizedProps);break;case 5:Ao(a,o,u);break;case 3:case 4:var m=Ii;Ii=Rd(a.stateNode.containerInfo),Ao(a,o,u),Ii=m;break;case 22:a.memoizedState===null&&(m=a.alternate,m!==null&&m.memoizedState!==null?(m=ec,ec=16777216,Ao(a,o,u),ec=m):Ao(a,o,u));break;default:Ao(a,o,u)}}function ZE(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function tc(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var m=o[u];Wt=m,JE(m,a)}ZE(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)QE(a),a=a.sibling}function QE(a){switch(a.tag){case 0:case 11:case 15:tc(a),a.flags&2048&&va(9,a,a.return);break;case 3:tc(a);break;case 12:tc(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,Sd(a)):tc(a);break;default:tc(a)}}function Sd(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var m=o[u];Wt=m,JE(m,a)}ZE(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:va(8,o,o.return),Sd(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,Sd(o));break;default:Sd(o)}a=a.sibling}}function JE(a,o){for(;Wt!==null;){var u=Wt;switch(u.tag){case 0:case 11:case 15:va(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var m=u.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:jl(u.memoizedState.cache)}if(m=u.child,m!==null)m.return=u,Wt=m;else e:for(u=a;Wt!==null;){m=Wt;var v=m.sibling,b=m.return;if(qE(m),m===u){Wt=null;break e}if(v!==null){v.return=b,Wt=v;break e}Wt=b}}}var GI={getCacheForType:function(a){var o=un(Nt),u=o.data.get(a);return u===void 0&&(u=a(),o.data.set(a,u)),u},cacheSignal:function(){return un(Nt).controller.signal}},VI=typeof WeakMap=="function"?WeakMap:Map,He=0,at=null,Le=null,Ie=0,We=0,Qn=null,ya=!1,So=!1,dg=!1,_r=0,xt=0,ba=0,fs=0,fg=0,Jn=0,Eo=0,nc=null,Bn=null,hg=!1,Ed=0,ex=0,xd=1/0,wd=null,Aa=null,Ut=0,Sa=null,xo=null,Pr=0,pg=0,mg=null,tx=null,ic=0,gg=null;function ei(){return(He&2)!==0&&Ie!==0?Ie&-Ie:j.T!==null?Eg():v1()}function nx(){if(Jn===0)if((Ie&536870912)===0||Be){var a=Lu;Lu<<=1,(Lu&3932160)===0&&(Lu=262144),Jn=a}else Jn=536870912;return a=Wn.current,a!==null&&(a.flags|=32),Jn}function jn(a,o,u){(a===at&&(We===2||We===9)||a.cancelPendingCommit!==null)&&(wo(a,0),Ea(a,Ie,Jn,!1)),wl(a,u),((He&2)===0||a!==at)&&(a===at&&((He&2)===0&&(fs|=u),xt===4&&Ea(a,Ie,Jn,!1)),Yi(a))}function ix(a,o,u){if((He&6)!==0)throw Error(i(327));var m=!u&&(o&127)===0&&(o&a.expiredLanes)===0||xl(a,o),v=m?KI(a,o):yg(a,o,!0),b=m;do{if(v===0){So&&!m&&Ea(a,o,0,!1);break}else{if(u=a.current.alternate,b&&!YI(u)){v=yg(a,o,!1),b=!1;continue}if(v===2){if(b=o,a.errorRecoveryDisabledLanes&b)var w=0;else w=a.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){o=w;e:{var D=a;v=nc;var k=D.current.memoizedState.isDehydrated;if(k&&(wo(D,w).flags|=256),w=yg(D,w,!1),w!==2){if(dg&&!k){D.errorRecoveryDisabledLanes|=b,fs|=b,v=4;break e}b=Bn,Bn=v,b!==null&&(Bn===null?Bn=b:Bn.push.apply(Bn,b))}v=w}if(b=!1,v!==2)continue}}if(v===1){wo(a,0),Ea(a,o,0,!0);break}e:{switch(m=a,b=v,b){case 0:case 1:throw Error(i(345));case 4:if((o&4194048)!==o)break;case 6:Ea(m,o,Jn,!ya);break e;case 2:Bn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((o&62914560)===o&&(v=Ed+300-Gn(),10<v)){if(Ea(m,o,Jn,!ya),Ru(m,0,!0)!==0)break e;Pr=o,m.timeoutHandle=Rx(rx.bind(null,m,u,Bn,wd,hg,o,Jn,fs,Eo,ya,b,"Throttled",-0,0),v);break e}rx(m,u,Bn,wd,hg,o,Jn,fs,Eo,ya,b,null,-0,0)}}break}while(!0);Yi(a)}function rx(a,o,u,m,v,b,w,D,k,V,Q,te,W,Z){if(a.timeoutHandle=-1,te=o.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:mr},WE(o,b,te);var me=(b&62914560)===b?Ed-Gn():(b&4194048)===b?ex-Gn():0;if(me=Dk(te,me),me!==null){Pr=b,a.cancelPendingCommit=me(fx.bind(null,a,o,b,u,m,v,w,D,k,Q,te,null,W,Z)),Ea(a,b,w,!V);return}}fx(a,o,b,u,m,v,w,D,k)}function YI(a){for(var o=a;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var m=0;m<u.length;m++){var v=u[m],b=v.getSnapshot;v=v.value;try{if(!Xn(b(),v))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ea(a,o,u,m){o&=~fg,o&=~fs,a.suspendedLanes|=o,a.pingedLanes&=~o,m&&(a.warmLanes|=o),m=a.expirationTimes;for(var v=o;0<v;){var b=31-Yn(v),w=1<<b;m[b]=-1,v&=~w}u!==0&&p1(a,u,o)}function Cd(){return(He&6)===0?(rc(0),!1):!0}function vg(){if(Le!==null){if(We===0)var a=Le.return;else a=Le,br=is=null,Nm(a),po=null,Fl=0,a=Le;for(;a!==null;)IE(a.alternate,a),a=a.return;Le=null}}function wo(a,o){var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,hk(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),Pr=0,vg(),at=a,Le=u=vr(a.current,null),Ie=o,We=0,Qn=null,ya=!1,So=xl(a,o),dg=!1,Eo=Jn=fg=fs=ba=xt=0,Bn=nc=null,hg=!1,(o&8)!==0&&(o|=o&32);var m=a.entangledLanes;if(m!==0)for(a=a.entanglements,m&=o;0<m;){var v=31-Yn(m),b=1<<v;o|=a[v],m&=~b}return _r=o,Vu(),u}function ax(a,o){_e=null,j.H=Xl,o===ho||o===ed?(o=SS(),We=3):o===Sm?(o=SS(),We=4):We=o===Km?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Qn=o,Le===null&&(xt=1,pd(a,hi(o,a.current)))}function sx(){var a=Wn.current;return a===null?!0:(Ie&4194048)===Ie?vi===null:(Ie&62914560)===Ie||(Ie&536870912)!==0?a===vi:!1}function ox(){var a=j.H;return j.H=Xl,a===null?Xl:a}function lx(){var a=j.A;return j.A=GI,a}function Od(){xt=4,ya||(Ie&4194048)!==Ie&&Wn.current!==null||(So=!0),(ba&134217727)===0&&(fs&134217727)===0||at===null||Ea(at,Ie,Jn,!1)}function yg(a,o,u){var m=He;He|=2;var v=ox(),b=lx();(at!==a||Ie!==o)&&(wd=null,wo(a,o)),o=!1;var w=xt;e:do try{if(We!==0&&Le!==null){var D=Le,k=Qn;switch(We){case 8:vg(),w=6;break e;case 3:case 2:case 9:case 6:Wn.current===null&&(o=!0);var V=We;if(We=0,Qn=null,Co(a,D,k,V),u&&So){w=0;break e}break;default:V=We,We=0,Qn=null,Co(a,D,k,V)}}XI(),w=xt;break}catch(Q){ax(a,Q)}while(!0);return o&&a.shellSuspendCounter++,br=is=null,He=m,j.H=v,j.A=b,Le===null&&(at=null,Ie=0,Vu()),w}function XI(){for(;Le!==null;)cx(Le)}function KI(a,o){var u=He;He|=2;var m=ox(),v=lx();at!==a||Ie!==o?(wd=null,xd=Gn()+500,wo(a,o)):So=xl(a,o);e:do try{if(We!==0&&Le!==null){o=Le;var b=Qn;t:switch(We){case 1:We=0,Qn=null,Co(a,o,b,1);break;case 2:case 9:if(bS(b)){We=0,Qn=null,ux(o);break}o=function(){We!==2&&We!==9||at!==a||(We=7),Yi(a)},b.then(o,o);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:bS(b)?(We=0,Qn=null,ux(o)):(We=0,Qn=null,Co(a,o,b,7));break;case 5:var w=null;switch(Le.tag){case 26:w=Le.memoizedState;case 5:case 27:var D=Le;if(w?Kx(w):D.stateNode.complete){We=0,Qn=null;var k=D.sibling;if(k!==null)Le=k;else{var V=D.return;V!==null?(Le=V,Td(V)):Le=null}break t}}We=0,Qn=null,Co(a,o,b,5);break;case 6:We=0,Qn=null,Co(a,o,b,6);break;case 8:vg(),xt=6;break e;default:throw Error(i(462))}}WI();break}catch(Q){ax(a,Q)}while(!0);return br=is=null,j.H=m,j.A=v,He=u,Le!==null?0:(at=null,Ie=0,Vu(),xt)}function WI(){for(;Le!==null&&!bR();)cx(Le)}function cx(a){var o=NE(a.alternate,a,_r);a.memoizedProps=a.pendingProps,o===null?Td(a):Le=o}function ux(a){var o=a,u=o.alternate;switch(o.tag){case 15:case 0:o=TE(u,o,o.pendingProps,o.type,void 0,Ie);break;case 11:o=TE(u,o,o.pendingProps,o.type.render,o.ref,Ie);break;case 5:Nm(o);default:IE(u,o),o=Le=lS(o,_r),o=NE(u,o,_r)}a.memoizedProps=a.pendingProps,o===null?Td(a):Le=o}function Co(a,o,u,m){br=is=null,Nm(o),po=null,Fl=0;var v=o.return;try{if(jI(a,v,o,u,Ie)){xt=1,pd(a,hi(u,a.current)),Le=null;return}}catch(b){if(v!==null)throw Le=v,b;xt=1,pd(a,hi(u,a.current)),Le=null;return}o.flags&32768?(Be||m===1?a=!0:So||(Ie&536870912)!==0?a=!1:(ya=a=!0,(m===2||m===9||m===3||m===6)&&(m=Wn.current,m!==null&&m.tag===13&&(m.flags|=16384))),dx(o,a)):Td(o)}function Td(a){var o=a;do{if((o.flags&32768)!==0){dx(o,ya);return}a=o.return;var u=UI(o.alternate,o,_r);if(u!==null){Le=u;return}if(o=o.sibling,o!==null){Le=o;return}Le=o=a}while(o!==null);xt===0&&(xt=5)}function dx(a,o){do{var u=HI(a.alternate,a);if(u!==null){u.flags&=32767,Le=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(a=a.sibling,a!==null)){Le=a;return}Le=a=u}while(a!==null);xt=6,Le=null}function fx(a,o,u,m,v,b,w,D,k){a.cancelPendingCommit=null;do Md();while(Ut!==0);if((He&6)!==0)throw Error(i(327));if(o!==null){if(o===a.current)throw Error(i(177));if(b=o.lanes|o.childLanes,b|=sm,_R(a,u,b,w,D,k),a===at&&(Le=at=null,Ie=0),xo=o,Sa=a,Pr=u,pg=b,mg=v,tx=m,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,ek(Pu,function(){return vx(),null})):(a.callbackNode=null,a.callbackPriority=0),m=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||m){m=j.T,j.T=null,v=H.p,H.p=2,w=He,He|=4;try{qI(a,o,u)}finally{He=w,H.p=v,j.T=m}}Ut=1,hx(),px(),mx()}}function hx(){if(Ut===1){Ut=0;var a=Sa,o=xo,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=j.T,j.T=null;var m=H.p;H.p=2;var v=He;He|=4;try{YE(o,a);var b=Pg,w=J1(a.containerInfo),D=b.focusedElem,k=b.selectionRange;if(w!==D&&D&&D.ownerDocument&&Q1(D.ownerDocument.documentElement,D)){if(k!==null&&tm(D)){var V=k.start,Q=k.end;if(Q===void 0&&(Q=V),"selectionStart"in D)D.selectionStart=V,D.selectionEnd=Math.min(Q,D.value.length);else{var te=D.ownerDocument||document,W=te&&te.defaultView||window;if(W.getSelection){var Z=W.getSelection(),me=D.textContent.length,xe=Math.min(k.start,me),nt=k.end===void 0?xe:Math.min(k.end,me);!Z.extend&&xe>nt&&(w=nt,nt=xe,xe=w);var U=Z1(D,xe),z=Z1(D,nt);if(U&&z&&(Z.rangeCount!==1||Z.anchorNode!==U.node||Z.anchorOffset!==U.offset||Z.focusNode!==z.node||Z.focusOffset!==z.offset)){var G=te.createRange();G.setStart(U.node,U.offset),Z.removeAllRanges(),xe>nt?(Z.addRange(G),Z.extend(z.node,z.offset)):(G.setEnd(z.node,z.offset),Z.addRange(G))}}}}for(te=[],Z=D;Z=Z.parentNode;)Z.nodeType===1&&te.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<te.length;D++){var ee=te[D];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}Fd=!!_g,Pg=_g=null}finally{He=v,H.p=m,j.T=u}}a.current=o,Ut=2}}function px(){if(Ut===2){Ut=0;var a=Sa,o=xo,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=j.T,j.T=null;var m=H.p;H.p=2;var v=He;He|=4;try{HE(a,o.alternate,o)}finally{He=v,H.p=m,j.T=u}}Ut=3}}function mx(){if(Ut===4||Ut===3){Ut=0,AR();var a=Sa,o=xo,u=Pr,m=tx;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Ut=5:(Ut=0,xo=Sa=null,gx(a,a.pendingLanes));var v=a.pendingLanes;if(v===0&&(Aa=null),kp(u),o=o.stateNode,Vn&&typeof Vn.onCommitFiberRoot=="function")try{Vn.onCommitFiberRoot(El,o,void 0,(o.current.flags&128)===128)}catch{}if(m!==null){o=j.T,v=H.p,H.p=2,j.T=null;try{for(var b=a.onRecoverableError,w=0;w<m.length;w++){var D=m[w];b(D.value,{componentStack:D.stack})}}finally{j.T=o,H.p=v}}(Pr&3)!==0&&Md(),Yi(a),v=a.pendingLanes,(u&261930)!==0&&(v&42)!==0?a===gg?ic++:(ic=0,gg=a):ic=0,rc(0)}}function gx(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,jl(o)))}function Md(){return hx(),px(),mx(),vx()}function vx(){if(Ut!==5)return!1;var a=Sa,o=pg;pg=0;var u=kp(Pr),m=j.T,v=H.p;try{H.p=32>u?32:u,j.T=null,u=mg,mg=null;var b=Sa,w=Pr;if(Ut=0,xo=Sa=null,Pr=0,(He&6)!==0)throw Error(i(331));var D=He;if(He|=4,QE(b.current),KE(b,b.current,w,u),He=D,rc(0,!1),Vn&&typeof Vn.onPostCommitFiberRoot=="function")try{Vn.onPostCommitFiberRoot(El,b)}catch{}return!0}finally{H.p=v,j.T=m,gx(a,o)}}function yx(a,o,u){o=hi(u,o),o=Xm(a.stateNode,o,2),a=pa(a,o,2),a!==null&&(wl(a,2),Yi(a))}function Ze(a,o,u){if(a.tag===3)yx(a,a,u);else for(;o!==null;){if(o.tag===3){yx(o,a,u);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Aa===null||!Aa.has(m))){a=hi(u,a),u=bE(2),m=pa(o,u,2),m!==null&&(AE(u,m,o,a),wl(m,2),Yi(m));break}}o=o.return}}function bg(a,o,u){var m=a.pingCache;if(m===null){m=a.pingCache=new VI;var v=new Set;m.set(o,v)}else v=m.get(o),v===void 0&&(v=new Set,m.set(o,v));v.has(u)||(dg=!0,v.add(u),a=ZI.bind(null,a,o,u),o.then(a,a))}function ZI(a,o,u){var m=a.pingCache;m!==null&&m.delete(o),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,at===a&&(Ie&u)===u&&(xt===4||xt===3&&(Ie&62914560)===Ie&&300>Gn()-Ed?(He&2)===0&&wo(a,0):fg|=u,Eo===Ie&&(Eo=0)),Yi(a)}function bx(a,o){o===0&&(o=h1()),a=es(a,o),a!==null&&(wl(a,o),Yi(a))}function QI(a){var o=a.memoizedState,u=0;o!==null&&(u=o.retryLane),bx(a,u)}function JI(a,o){var u=0;switch(a.tag){case 31:case 13:var m=a.stateNode,v=a.memoizedState;v!==null&&(u=v.retryLane);break;case 19:m=a.stateNode;break;case 22:m=a.stateNode._retryCache;break;default:throw Error(i(314))}m!==null&&m.delete(o),bx(a,u)}function ek(a,o){return Lp(a,o)}var _d=null,Oo=null,Ag=!1,Pd=!1,Sg=!1,xa=0;function Yi(a){a!==Oo&&a.next===null&&(Oo===null?_d=Oo=a:Oo=Oo.next=a),Pd=!0,Ag||(Ag=!0,nk())}function rc(a,o){if(!Sg&&Pd){Sg=!0;do for(var u=!1,m=_d;m!==null;){if(a!==0){var v=m.pendingLanes;if(v===0)var b=0;else{var w=m.suspendedLanes,D=m.pingedLanes;b=(1<<31-Yn(42|a)+1)-1,b&=v&~(w&~D),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(u=!0,xx(m,b))}else b=Ie,b=Ru(m,m===at?b:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(b&3)===0||xl(m,b)||(u=!0,xx(m,b));m=m.next}while(u);Sg=!1}}function tk(){Ax()}function Ax(){Pd=Ag=!1;var a=0;xa!==0&&fk()&&(a=xa);for(var o=Gn(),u=null,m=_d;m!==null;){var v=m.next,b=Sx(m,o);b===0?(m.next=null,u===null?_d=v:u.next=v,v===null&&(Oo=u)):(u=m,(a!==0||(b&3)!==0)&&(Pd=!0)),m=v}Ut!==0&&Ut!==5||rc(a),xa!==0&&(xa=0)}function Sx(a,o){for(var u=a.suspendedLanes,m=a.pingedLanes,v=a.expirationTimes,b=a.pendingLanes&-62914561;0<b;){var w=31-Yn(b),D=1<<w,k=v[w];k===-1?((D&u)===0||(D&m)!==0)&&(v[w]=MR(D,o)):k<=o&&(a.expiredLanes|=D),b&=~D}if(o=at,u=Ie,u=Ru(a,a===o?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m=a.callbackNode,u===0||a===o&&(We===2||We===9)||a.cancelPendingCommit!==null)return m!==null&&m!==null&&Np(m),a.callbackNode=null,a.callbackPriority=0;if((u&3)===0||xl(a,u)){if(o=u&-u,o===a.callbackPriority)return o;switch(m!==null&&Np(m),kp(u)){case 2:case 8:u=d1;break;case 32:u=Pu;break;case 268435456:u=f1;break;default:u=Pu}return m=Ex.bind(null,a),u=Lp(u,m),a.callbackPriority=o,a.callbackNode=u,o}return m!==null&&m!==null&&Np(m),a.callbackPriority=2,a.callbackNode=null,2}function Ex(a,o){if(Ut!==0&&Ut!==5)return a.callbackNode=null,a.callbackPriority=0,null;var u=a.callbackNode;if(Md()&&a.callbackNode!==u)return null;var m=Ie;return m=Ru(a,a===at?m:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m===0?null:(ix(a,m,o),Sx(a,Gn()),a.callbackNode!=null&&a.callbackNode===u?Ex.bind(null,a):null)}function xx(a,o){if(Md())return null;ix(a,o,!0)}function nk(){pk(function(){(He&6)!==0?Lp(u1,tk):Ax()})}function Eg(){if(xa===0){var a=uo;a===0&&(a=Du,Du<<=1,(Du&261888)===0&&(Du=256)),xa=a}return xa}function wx(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:ju(""+a)}function Cx(a,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,a.id&&u.setAttribute("form",a.id),o.parentNode.insertBefore(u,o),a=new FormData(a),u.parentNode.removeChild(u),a}function ik(a,o,u,m,v){if(o==="submit"&&u&&u.stateNode===v){var b=wx((v[Ln]||null).action),w=m.submitter;w&&(o=(o=w[Ln]||null)?wx(o.formAction):w.getAttribute("formAction"),o!==null&&(b=o,w=null));var D=new Hu("action","action",null,m,v);a.push({event:D,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(xa!==0){var k=w?Cx(v,w):new FormData(v);Hm(u,{pending:!0,data:k,method:v.method,action:b},null,k)}}else typeof b=="function"&&(D.preventDefault(),k=w?Cx(v,w):new FormData(v),Hm(u,{pending:!0,data:k,method:v.method,action:b},b,k))},currentTarget:v}]})}}for(var xg=0;xg<am.length;xg++){var wg=am[xg],rk=wg.toLowerCase(),ak=wg[0].toUpperCase()+wg.slice(1);Ri(rk,"on"+ak)}Ri(nS,"onAnimationEnd"),Ri(iS,"onAnimationIteration"),Ri(rS,"onAnimationStart"),Ri("dblclick","onDoubleClick"),Ri("focusin","onFocus"),Ri("focusout","onBlur"),Ri(SI,"onTransitionRun"),Ri(EI,"onTransitionStart"),Ri(xI,"onTransitionCancel"),Ri(aS,"onTransitionEnd"),Ws("onMouseEnter",["mouseout","mouseover"]),Ws("onMouseLeave",["mouseout","mouseover"]),Ws("onPointerEnter",["pointerout","pointerover"]),Ws("onPointerLeave",["pointerout","pointerover"]),Wa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Wa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Wa("onBeforeInput",["compositionend","keypress","textInput","paste"]),Wa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Wa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Wa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ac="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sk=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ac));function Ox(a,o){o=(o&4)!==0;for(var u=0;u<a.length;u++){var m=a[u],v=m.event;m=m.listeners;e:{var b=void 0;if(o)for(var w=m.length-1;0<=w;w--){var D=m[w],k=D.instance,V=D.currentTarget;if(D=D.listener,k!==b&&v.isPropagationStopped())break e;b=D,v.currentTarget=V;try{b(v)}catch(Q){Gu(Q)}v.currentTarget=null,b=k}else for(w=0;w<m.length;w++){if(D=m[w],k=D.instance,V=D.currentTarget,D=D.listener,k!==b&&v.isPropagationStopped())break e;b=D,v.currentTarget=V;try{b(v)}catch(Q){Gu(Q)}v.currentTarget=null,b=k}}}}function Ne(a,o){var u=o[Bp];u===void 0&&(u=o[Bp]=new Set);var m=a+"__bubble";u.has(m)||(Tx(o,a,2,!1),u.add(m))}function Cg(a,o,u){var m=0;o&&(m|=4),Tx(u,a,m,o)}var Dd="_reactListening"+Math.random().toString(36).slice(2);function Og(a){if(!a[Dd]){a[Dd]=!0,A1.forEach(function(u){u!=="selectionchange"&&(sk.has(u)||Cg(u,!1,a),Cg(u,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[Dd]||(o[Dd]=!0,Cg("selectionchange",!1,o))}}function Tx(a,o,u,m){switch(nw(o)){case 2:var v=Rk;break;case 8:v=Ik;break;default:v=Ug}u=v.bind(null,o,u,a),v=void 0,!Vp||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),m?v!==void 0?a.addEventListener(o,u,{capture:!0,passive:v}):a.addEventListener(o,u,!0):v!==void 0?a.addEventListener(o,u,{passive:v}):a.addEventListener(o,u,!1)}function Tg(a,o,u,m,v){var b=m;if((o&1)===0&&(o&2)===0&&m!==null)e:for(;;){if(m===null)return;var w=m.tag;if(w===3||w===4){var D=m.stateNode.containerInfo;if(D===v)break;if(w===4)for(w=m.return;w!==null;){var k=w.tag;if((k===3||k===4)&&w.stateNode.containerInfo===v)return;w=w.return}for(;D!==null;){if(w=Ys(D),w===null)return;if(k=w.tag,k===5||k===6||k===26||k===27){m=b=w;continue e}D=D.parentNode}}m=m.return}L1(function(){var V=b,Q=$p(u),te=[];e:{var W=sS.get(a);if(W!==void 0){var Z=Hu,me=a;switch(a){case"keypress":if(Fu(u)===0)break e;case"keydown":case"keyup":Z=JR;break;case"focusin":me="focus",Z=Wp;break;case"focusout":me="blur",Z=Wp;break;case"beforeblur":case"afterblur":Z=Wp;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=I1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=UR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=nI;break;case nS:case iS:case rS:Z=$R;break;case aS:Z=rI;break;case"scroll":case"scrollend":Z=zR;break;case"wheel":Z=sI;break;case"copy":case"cut":case"paste":Z=VR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=B1;break;case"toggle":case"beforetoggle":Z=lI}var xe=(o&4)!==0,nt=!xe&&(a==="scroll"||a==="scrollend"),U=xe?W!==null?W+"Capture":null:W;xe=[];for(var z=V,G;z!==null;){var ee=z;if(G=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||G===null||U===null||(ee=Tl(z,U),ee!=null&&xe.push(sc(z,ee,G))),nt)break;z=z.return}0<xe.length&&(W=new Z(W,me,null,u,Q),te.push({event:W,listeners:xe}))}}if((o&7)===0){e:{if(W=a==="mouseover"||a==="pointerover",Z=a==="mouseout"||a==="pointerout",W&&u!==qp&&(me=u.relatedTarget||u.fromElement)&&(Ys(me)||me[Vs]))break e;if((Z||W)&&(W=Q.window===Q?Q:(W=Q.ownerDocument)?W.defaultView||W.parentWindow:window,Z?(me=u.relatedTarget||u.toElement,Z=V,me=me?Ys(me):null,me!==null&&(nt=s(me),xe=me.tag,me!==nt||xe!==5&&xe!==27&&xe!==6)&&(me=null)):(Z=null,me=V),Z!==me)){if(xe=I1,ee="onMouseLeave",U="onMouseEnter",z="mouse",(a==="pointerout"||a==="pointerover")&&(xe=B1,ee="onPointerLeave",U="onPointerEnter",z="pointer"),nt=Z==null?W:Ol(Z),G=me==null?W:Ol(me),W=new xe(ee,z+"leave",Z,u,Q),W.target=nt,W.relatedTarget=G,ee=null,Ys(Q)===V&&(xe=new xe(U,z+"enter",me,u,Q),xe.target=G,xe.relatedTarget=nt,ee=xe),nt=ee,Z&&me)t:{for(xe=ok,U=Z,z=me,G=0,ee=U;ee;ee=xe(ee))G++;ee=0;for(var Ae=z;Ae;Ae=xe(Ae))ee++;for(;0<G-ee;)U=xe(U),G--;for(;0<ee-G;)z=xe(z),ee--;for(;G--;){if(U===z||z!==null&&U===z.alternate){xe=U;break t}U=xe(U),z=xe(z)}xe=null}else xe=null;Z!==null&&Mx(te,W,Z,xe,!1),me!==null&&nt!==null&&Mx(te,nt,me,xe,!0)}}e:{if(W=V?Ol(V):window,Z=W.nodeName&&W.nodeName.toLowerCase(),Z==="select"||Z==="input"&&W.type==="file")var ze=G1;else if(q1(W))if(V1)ze=yI;else{ze=gI;var ge=mI}else Z=W.nodeName,!Z||Z.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?V&&Hp(V.elementType)&&(ze=G1):ze=vI;if(ze&&(ze=ze(a,V))){$1(te,ze,u,Q);break e}ge&&ge(a,W,V),a==="focusout"&&V&&W.type==="number"&&V.memoizedProps.value!=null&&Up(W,"number",W.value)}switch(ge=V?Ol(V):window,a){case"focusin":(q1(ge)||ge.contentEditable==="true")&&(no=ge,nm=V,Il=null);break;case"focusout":Il=nm=no=null;break;case"mousedown":im=!0;break;case"contextmenu":case"mouseup":case"dragend":im=!1,eS(te,u,Q);break;case"selectionchange":if(AI)break;case"keydown":case"keyup":eS(te,u,Q)}var De;if(Qp)e:{switch(a){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else to?U1(a,u)&&(ke="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(ke="onCompositionStart");ke&&(j1&&u.locale!=="ko"&&(to||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&to&&(De=N1()):(oa=Q,Yp="value"in oa?oa.value:oa.textContent,to=!0)),ge=Ld(V,ke),0<ge.length&&(ke=new k1(ke,a,null,u,Q),te.push({event:ke,listeners:ge}),De?ke.data=De:(De=H1(u),De!==null&&(ke.data=De)))),(De=uI?dI(a,u):fI(a,u))&&(ke=Ld(V,"onBeforeInput"),0<ke.length&&(ge=new k1("onBeforeInput","beforeinput",null,u,Q),te.push({event:ge,listeners:ke}),ge.data=De)),ik(te,a,V,u,Q)}Ox(te,o)})}function sc(a,o,u){return{instance:a,listener:o,currentTarget:u}}function Ld(a,o){for(var u=o+"Capture",m=[];a!==null;){var v=a,b=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||b===null||(v=Tl(a,u),v!=null&&m.unshift(sc(a,v,b)),v=Tl(a,o),v!=null&&m.push(sc(a,v,b))),a.tag===3)return m;a=a.return}return[]}function ok(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function Mx(a,o,u,m,v){for(var b=o._reactName,w=[];u!==null&&u!==m;){var D=u,k=D.alternate,V=D.stateNode;if(D=D.tag,k!==null&&k===m)break;D!==5&&D!==26&&D!==27||V===null||(k=V,v?(V=Tl(u,b),V!=null&&w.unshift(sc(u,V,k))):v||(V=Tl(u,b),V!=null&&w.push(sc(u,V,k)))),u=u.return}w.length!==0&&a.push({event:o,listeners:w})}var lk=/\r\n?/g,ck=/\u0000|\uFFFD/g;function _x(a){return(typeof a=="string"?a:""+a).replace(lk,`
`).replace(ck,"")}function Px(a,o){return o=_x(o),_x(a)===o}function tt(a,o,u,m,v,b){switch(u){case"children":typeof m=="string"?o==="body"||o==="textarea"&&m===""||Qs(a,m):(typeof m=="number"||typeof m=="bigint")&&o!=="body"&&Qs(a,""+m);break;case"className":ku(a,"class",m);break;case"tabIndex":ku(a,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":ku(a,u,m);break;case"style":P1(a,m,b);break;case"data":if(o!=="object"){ku(a,"data",m);break}case"src":case"href":if(m===""&&(o!=="a"||u!=="href")){a.removeAttribute(u);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(u);break}m=ju(""+m),a.setAttribute(u,m);break;case"action":case"formAction":if(typeof m=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(u==="formAction"?(o!=="input"&&tt(a,o,"name",v.name,v,null),tt(a,o,"formEncType",v.formEncType,v,null),tt(a,o,"formMethod",v.formMethod,v,null),tt(a,o,"formTarget",v.formTarget,v,null)):(tt(a,o,"encType",v.encType,v,null),tt(a,o,"method",v.method,v,null),tt(a,o,"target",v.target,v,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(u);break}m=ju(""+m),a.setAttribute(u,m);break;case"onClick":m!=null&&(a.onclick=mr);break;case"onScroll":m!=null&&Ne("scroll",a);break;case"onScrollEnd":m!=null&&Ne("scrollend",a);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(i(61));if(u=m.__html,u!=null){if(v.children!=null)throw Error(i(60));a.innerHTML=u}}break;case"multiple":a.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":a.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){a.removeAttribute("xlink:href");break}u=ju(""+m),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(u,""+m):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":m===!0?a.setAttribute(u,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(u,m):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?a.setAttribute(u,m):a.removeAttribute(u);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?a.removeAttribute(u):a.setAttribute(u,m);break;case"popover":Ne("beforetoggle",a),Ne("toggle",a),Iu(a,"popover",m);break;case"xlinkActuate":pr(a,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":pr(a,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":pr(a,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":pr(a,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":pr(a,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":pr(a,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":pr(a,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":pr(a,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":pr(a,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Iu(a,"is",m);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=BR.get(u)||u,Iu(a,u,m))}}function Mg(a,o,u,m,v,b){switch(u){case"style":P1(a,m,b);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(i(61));if(u=m.__html,u!=null){if(v.children!=null)throw Error(i(60));a.innerHTML=u}}break;case"children":typeof m=="string"?Qs(a,m):(typeof m=="number"||typeof m=="bigint")&&Qs(a,""+m);break;case"onScroll":m!=null&&Ne("scroll",a);break;case"onScrollEnd":m!=null&&Ne("scrollend",a);break;case"onClick":m!=null&&(a.onclick=mr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!S1.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(v=u.endsWith("Capture"),o=u.slice(2,v?u.length-7:void 0),b=a[Ln]||null,b=b!=null?b[u]:null,typeof b=="function"&&a.removeEventListener(o,b,v),typeof m=="function")){typeof b!="function"&&b!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(o,m,v);break e}u in a?a[u]=m:m===!0?a.setAttribute(u,""):Iu(a,u,m)}}}function fn(a,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",a),Ne("load",a);var m=!1,v=!1,b;for(b in u)if(u.hasOwnProperty(b)){var w=u[b];if(w!=null)switch(b){case"src":m=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:tt(a,o,b,w,u,null)}}v&&tt(a,o,"srcSet",u.srcSet,u,null),m&&tt(a,o,"src",u.src,u,null);return;case"input":Ne("invalid",a);var D=b=w=v=null,k=null,V=null;for(m in u)if(u.hasOwnProperty(m)){var Q=u[m];if(Q!=null)switch(m){case"name":v=Q;break;case"type":w=Q;break;case"checked":k=Q;break;case"defaultChecked":V=Q;break;case"value":b=Q;break;case"defaultValue":D=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,o));break;default:tt(a,o,m,Q,u,null)}}O1(a,b,D,k,V,w,v,!1);return;case"select":Ne("invalid",a),m=w=b=null;for(v in u)if(u.hasOwnProperty(v)&&(D=u[v],D!=null))switch(v){case"value":b=D;break;case"defaultValue":w=D;break;case"multiple":m=D;default:tt(a,o,v,D,u,null)}o=b,u=w,a.multiple=!!m,o!=null?Zs(a,!!m,o,!1):u!=null&&Zs(a,!!m,u,!0);return;case"textarea":Ne("invalid",a),b=v=m=null;for(w in u)if(u.hasOwnProperty(w)&&(D=u[w],D!=null))switch(w){case"value":m=D;break;case"defaultValue":v=D;break;case"children":b=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(i(91));break;default:tt(a,o,w,D,u,null)}M1(a,m,v,b);return;case"option":for(k in u)u.hasOwnProperty(k)&&(m=u[k],m!=null)&&(k==="selected"?a.selected=m&&typeof m!="function"&&typeof m!="symbol":tt(a,o,k,m,u,null));return;case"dialog":Ne("beforetoggle",a),Ne("toggle",a),Ne("cancel",a),Ne("close",a);break;case"iframe":case"object":Ne("load",a);break;case"video":case"audio":for(m=0;m<ac.length;m++)Ne(ac[m],a);break;case"image":Ne("error",a),Ne("load",a);break;case"details":Ne("toggle",a);break;case"embed":case"source":case"link":Ne("error",a),Ne("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(V in u)if(u.hasOwnProperty(V)&&(m=u[V],m!=null))switch(V){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:tt(a,o,V,m,u,null)}return;default:if(Hp(o)){for(Q in u)u.hasOwnProperty(Q)&&(m=u[Q],m!==void 0&&Mg(a,o,Q,m,u,void 0));return}}for(D in u)u.hasOwnProperty(D)&&(m=u[D],m!=null&&tt(a,o,D,m,u,null))}function uk(a,o,u,m){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,b=null,w=null,D=null,k=null,V=null,Q=null;for(Z in u){var te=u[Z];if(u.hasOwnProperty(Z)&&te!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":k=te;default:m.hasOwnProperty(Z)||tt(a,o,Z,null,m,te)}}for(var W in m){var Z=m[W];if(te=u[W],m.hasOwnProperty(W)&&(Z!=null||te!=null))switch(W){case"type":b=Z;break;case"name":v=Z;break;case"checked":V=Z;break;case"defaultChecked":Q=Z;break;case"value":w=Z;break;case"defaultValue":D=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,o));break;default:Z!==te&&tt(a,o,W,Z,m,te)}}Fp(a,w,D,k,V,Q,b,v);return;case"select":Z=w=D=W=null;for(b in u)if(k=u[b],u.hasOwnProperty(b)&&k!=null)switch(b){case"value":break;case"multiple":Z=k;default:m.hasOwnProperty(b)||tt(a,o,b,null,m,k)}for(v in m)if(b=m[v],k=u[v],m.hasOwnProperty(v)&&(b!=null||k!=null))switch(v){case"value":W=b;break;case"defaultValue":D=b;break;case"multiple":w=b;default:b!==k&&tt(a,o,v,b,m,k)}o=D,u=w,m=Z,W!=null?Zs(a,!!u,W,!1):!!m!=!!u&&(o!=null?Zs(a,!!u,o,!0):Zs(a,!!u,u?[]:"",!1));return;case"textarea":Z=W=null;for(D in u)if(v=u[D],u.hasOwnProperty(D)&&v!=null&&!m.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:tt(a,o,D,null,m,v)}for(w in m)if(v=m[w],b=u[w],m.hasOwnProperty(w)&&(v!=null||b!=null))switch(w){case"value":W=v;break;case"defaultValue":Z=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(i(91));break;default:v!==b&&tt(a,o,w,v,m,b)}T1(a,W,Z);return;case"option":for(var me in u)W=u[me],u.hasOwnProperty(me)&&W!=null&&!m.hasOwnProperty(me)&&(me==="selected"?a.selected=!1:tt(a,o,me,null,m,W));for(k in m)W=m[k],Z=u[k],m.hasOwnProperty(k)&&W!==Z&&(W!=null||Z!=null)&&(k==="selected"?a.selected=W&&typeof W!="function"&&typeof W!="symbol":tt(a,o,k,W,m,Z));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in u)W=u[xe],u.hasOwnProperty(xe)&&W!=null&&!m.hasOwnProperty(xe)&&tt(a,o,xe,null,m,W);for(V in m)if(W=m[V],Z=u[V],m.hasOwnProperty(V)&&W!==Z&&(W!=null||Z!=null))switch(V){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,o));break;default:tt(a,o,V,W,m,Z)}return;default:if(Hp(o)){for(var nt in u)W=u[nt],u.hasOwnProperty(nt)&&W!==void 0&&!m.hasOwnProperty(nt)&&Mg(a,o,nt,void 0,m,W);for(Q in m)W=m[Q],Z=u[Q],!m.hasOwnProperty(Q)||W===Z||W===void 0&&Z===void 0||Mg(a,o,Q,W,m,Z);return}}for(var U in u)W=u[U],u.hasOwnProperty(U)&&W!=null&&!m.hasOwnProperty(U)&&tt(a,o,U,null,m,W);for(te in m)W=m[te],Z=u[te],!m.hasOwnProperty(te)||W===Z||W==null&&Z==null||tt(a,o,te,W,m,Z)}function Dx(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function dk(){if(typeof performance.getEntriesByType=="function"){for(var a=0,o=0,u=performance.getEntriesByType("resource"),m=0;m<u.length;m++){var v=u[m],b=v.transferSize,w=v.initiatorType,D=v.duration;if(b&&D&&Dx(w)){for(w=0,D=v.responseEnd,m+=1;m<u.length;m++){var k=u[m],V=k.startTime;if(V>D)break;var Q=k.transferSize,te=k.initiatorType;Q&&Dx(te)&&(k=k.responseEnd,w+=Q*(k<D?1:(D-V)/(k-V)))}if(--m,o+=8*(b+w)/(v.duration/1e3),a++,10<a)break}}if(0<a)return o/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var _g=null,Pg=null;function Nd(a){return a.nodeType===9?a:a.ownerDocument}function Lx(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Nx(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function Dg(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Lg=null;function fk(){var a=window.event;return a&&a.type==="popstate"?a===Lg?!1:(Lg=a,!0):(Lg=null,!1)}var Rx=typeof setTimeout=="function"?setTimeout:void 0,hk=typeof clearTimeout=="function"?clearTimeout:void 0,Ix=typeof Promise=="function"?Promise:void 0,pk=typeof queueMicrotask=="function"?queueMicrotask:typeof Ix<"u"?function(a){return Ix.resolve(null).then(a).catch(mk)}:Rx;function mk(a){setTimeout(function(){throw a})}function wa(a){return a==="head"}function kx(a,o){var u=o,m=0;do{var v=u.nextSibling;if(a.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"||u==="/&"){if(m===0){a.removeChild(v),Po(o);return}m--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")m++;else if(u==="html")oc(a.ownerDocument.documentElement);else if(u==="head"){u=a.ownerDocument.head,oc(u);for(var b=u.firstChild;b;){var w=b.nextSibling,D=b.nodeName;b[Cl]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&b.rel.toLowerCase()==="stylesheet"||u.removeChild(b),b=w}}else u==="body"&&oc(a.ownerDocument.body);u=v}while(u);Po(o)}function Bx(a,o){var u=a;a=0;do{var m=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(a===0)break;a--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||a++;u=m}while(u)}function Ng(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Ng(u),jp(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function gk(a,o,u,m){for(;a.nodeType===1;){var v=u;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!m&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(m){if(!a[Cl])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(b=a.getAttribute("rel"),b==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(b!==v.rel||a.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||a.getAttribute("title")!==(v.title==null?null:v.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(b=a.getAttribute("src"),(b!==(v.src==null?null:v.src)||a.getAttribute("type")!==(v.type==null?null:v.type)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&b&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var b=v.name==null?null:""+v.name;if(v.type==="hidden"&&a.getAttribute("name")===b)return a}else return a;if(a=yi(a.nextSibling),a===null)break}return null}function vk(a,o,u){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=yi(a.nextSibling),a===null))return null;return a}function jx(a,o){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!o||(a=yi(a.nextSibling),a===null))return null;return a}function Rg(a){return a.data==="$?"||a.data==="$~"}function Ig(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function yk(a,o){var u=a.ownerDocument;if(a.data==="$~")a._reactRetry=o;else if(a.data!=="$?"||u.readyState!=="loading")o();else{var m=function(){o(),u.removeEventListener("DOMContentLoaded",m)};u.addEventListener("DOMContentLoaded",m),a._reactRetry=m}}function yi(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return a}var kg=null;function zx(a){a=a.nextSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="/$"||u==="/&"){if(o===0)return yi(a.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}a=a.nextSibling}return null}function Fx(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return a;o--}else u!=="/$"&&u!=="/&"||o++}a=a.previousSibling}return null}function Ux(a,o,u){switch(o=Nd(u),a){case"html":if(a=o.documentElement,!a)throw Error(i(452));return a;case"head":if(a=o.head,!a)throw Error(i(453));return a;case"body":if(a=o.body,!a)throw Error(i(454));return a;default:throw Error(i(451))}}function oc(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);jp(a)}var bi=new Map,Hx=new Set;function Rd(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Dr=H.d;H.d={f:bk,r:Ak,D:Sk,C:Ek,L:xk,m:wk,X:Ok,S:Ck,M:Tk};function bk(){var a=Dr.f(),o=Cd();return a||o}function Ak(a){var o=Xs(a);o!==null&&o.tag===5&&o.type==="form"?aE(o):Dr.r(a)}var To=typeof document>"u"?null:document;function qx(a,o,u){var m=To;if(m&&typeof o=="string"&&o){var v=di(o);v='link[rel="'+a+'"][href="'+v+'"]',typeof u=="string"&&(v+='[crossorigin="'+u+'"]'),Hx.has(v)||(Hx.add(v),a={rel:a,crossOrigin:u,href:o},m.querySelector(v)===null&&(o=m.createElement("link"),fn(o,"link",a),Kt(o),m.head.appendChild(o)))}}function Sk(a){Dr.D(a),qx("dns-prefetch",a,null)}function Ek(a,o){Dr.C(a,o),qx("preconnect",a,o)}function xk(a,o,u){Dr.L(a,o,u);var m=To;if(m&&a&&o){var v='link[rel="preload"][as="'+di(o)+'"]';o==="image"&&u&&u.imageSrcSet?(v+='[imagesrcset="'+di(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(v+='[imagesizes="'+di(u.imageSizes)+'"]')):v+='[href="'+di(a)+'"]';var b=v;switch(o){case"style":b=Mo(a);break;case"script":b=_o(a)}bi.has(b)||(a=p({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:a,as:o},u),bi.set(b,a),m.querySelector(v)!==null||o==="style"&&m.querySelector(lc(b))||o==="script"&&m.querySelector(cc(b))||(o=m.createElement("link"),fn(o,"link",a),Kt(o),m.head.appendChild(o)))}}function wk(a,o){Dr.m(a,o);var u=To;if(u&&a){var m=o&&typeof o.as=="string"?o.as:"script",v='link[rel="modulepreload"][as="'+di(m)+'"][href="'+di(a)+'"]',b=v;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=_o(a)}if(!bi.has(b)&&(a=p({rel:"modulepreload",href:a},o),bi.set(b,a),u.querySelector(v)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(cc(b)))return}m=u.createElement("link"),fn(m,"link",a),Kt(m),u.head.appendChild(m)}}}function Ck(a,o,u){Dr.S(a,o,u);var m=To;if(m&&a){var v=Ks(m).hoistableStyles,b=Mo(a);o=o||"default";var w=v.get(b);if(!w){var D={loading:0,preload:null};if(w=m.querySelector(lc(b)))D.loading=5;else{a=p({rel:"stylesheet",href:a,"data-precedence":o},u),(u=bi.get(b))&&Bg(a,u);var k=w=m.createElement("link");Kt(k),fn(k,"link",a),k._p=new Promise(function(V,Q){k.onload=V,k.onerror=Q}),k.addEventListener("load",function(){D.loading|=1}),k.addEventListener("error",function(){D.loading|=2}),D.loading|=4,Id(w,o,m)}w={type:"stylesheet",instance:w,count:1,state:D},v.set(b,w)}}}function Ok(a,o){Dr.X(a,o);var u=To;if(u&&a){var m=Ks(u).hoistableScripts,v=_o(a),b=m.get(v);b||(b=u.querySelector(cc(v)),b||(a=p({src:a,async:!0},o),(o=bi.get(v))&&jg(a,o),b=u.createElement("script"),Kt(b),fn(b,"link",a),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},m.set(v,b))}}function Tk(a,o){Dr.M(a,o);var u=To;if(u&&a){var m=Ks(u).hoistableScripts,v=_o(a),b=m.get(v);b||(b=u.querySelector(cc(v)),b||(a=p({src:a,async:!0,type:"module"},o),(o=bi.get(v))&&jg(a,o),b=u.createElement("script"),Kt(b),fn(b,"link",a),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},m.set(v,b))}}function $x(a,o,u,m){var v=(v=Ee.current)?Rd(v):null;if(!v)throw Error(i(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=Mo(u.href),u=Ks(v).hoistableStyles,m=u.get(o),m||(m={type:"style",instance:null,count:0,state:null},u.set(o,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=Mo(u.href);var b=Ks(v).hoistableStyles,w=b.get(a);if(w||(v=v.ownerDocument||v,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(a,w),(b=v.querySelector(lc(a)))&&!b._p&&(w.instance=b,w.state.loading=5),bi.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},bi.set(a,u),b||Mk(v,a,u,w.state))),o&&m===null)throw Error(i(528,""));return w}if(o&&m!==null)throw Error(i(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=_o(u),u=Ks(v).hoistableScripts,m=u.get(o),m||(m={type:"script",instance:null,count:0,state:null},u.set(o,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,a))}}function Mo(a){return'href="'+di(a)+'"'}function lc(a){return'link[rel="stylesheet"]['+a+"]"}function Gx(a){return p({},a,{"data-precedence":a.precedence,precedence:null})}function Mk(a,o,u,m){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?m.loading=1:(o=a.createElement("link"),m.preload=o,o.addEventListener("load",function(){return m.loading|=1}),o.addEventListener("error",function(){return m.loading|=2}),fn(o,"link",u),Kt(o),a.head.appendChild(o))}function _o(a){return'[src="'+di(a)+'"]'}function cc(a){return"script[async]"+a}function Vx(a,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var m=a.querySelector('style[data-href~="'+di(u.href)+'"]');if(m)return o.instance=m,Kt(m),m;var v=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return m=(a.ownerDocument||a).createElement("style"),Kt(m),fn(m,"style",v),Id(m,u.precedence,a),o.instance=m;case"stylesheet":v=Mo(u.href);var b=a.querySelector(lc(v));if(b)return o.state.loading|=4,o.instance=b,Kt(b),b;m=Gx(u),(v=bi.get(v))&&Bg(m,v),b=(a.ownerDocument||a).createElement("link"),Kt(b);var w=b;return w._p=new Promise(function(D,k){w.onload=D,w.onerror=k}),fn(b,"link",m),o.state.loading|=4,Id(b,u.precedence,a),o.instance=b;case"script":return b=_o(u.src),(v=a.querySelector(cc(b)))?(o.instance=v,Kt(v),v):(m=u,(v=bi.get(b))&&(m=p({},u),jg(m,v)),a=a.ownerDocument||a,v=a.createElement("script"),Kt(v),fn(v,"link",m),a.head.appendChild(v),o.instance=v);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(m=o.instance,o.state.loading|=4,Id(m,u.precedence,a));return o.instance}function Id(a,o,u){for(var m=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=m.length?m[m.length-1]:null,b=v,w=0;w<m.length;w++){var D=m[w];if(D.dataset.precedence===o)b=D;else if(b!==v)break}b?b.parentNode.insertBefore(a,b.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(a,o.firstChild))}function Bg(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function jg(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var kd=null;function Yx(a,o,u){if(kd===null){var m=new Map,v=kd=new Map;v.set(u,m)}else v=kd,m=v.get(u),m||(m=new Map,v.set(u,m));if(m.has(a))return m;for(m.set(a,null),u=u.getElementsByTagName(a),v=0;v<u.length;v++){var b=u[v];if(!(b[Cl]||b[ln]||a==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var w=b.getAttribute(o)||"";w=a+w;var D=m.get(w);D?D.push(b):m.set(w,[b])}}return m}function Xx(a,o,u){a=a.ownerDocument||a,a.head.insertBefore(u,o==="title"?a.querySelector("head > title"):null)}function _k(a,o,u){if(u===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;return o.rel==="stylesheet"?(a=o.disabled,typeof o.precedence=="string"&&a==null):!0;case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function Kx(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function Pk(a,o,u,m){if(u.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var v=Mo(m.href),b=o.querySelector(lc(v));if(b){o=b._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(a.count++,a=Bd.bind(a),o.then(a,a)),u.state.loading|=4,u.instance=b,Kt(b);return}b=o.ownerDocument||o,m=Gx(m),(v=bi.get(v))&&Bg(m,v),b=b.createElement("link"),Kt(b);var w=b;w._p=new Promise(function(D,k){w.onload=D,w.onerror=k}),fn(b,"link",m),u.instance=b}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(a.count++,u=Bd.bind(a),o.addEventListener("load",u),o.addEventListener("error",u))}}var zg=0;function Dk(a,o){return a.stylesheets&&a.count===0&&zd(a,a.stylesheets),0<a.count||0<a.imgCount?function(u){var m=setTimeout(function(){if(a.stylesheets&&zd(a,a.stylesheets),a.unsuspend){var b=a.unsuspend;a.unsuspend=null,b()}},6e4+o);0<a.imgBytes&&zg===0&&(zg=62500*dk());var v=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&zd(a,a.stylesheets),a.unsuspend)){var b=a.unsuspend;a.unsuspend=null,b()}},(a.imgBytes>zg?50:800)+o);return a.unsuspend=u,function(){a.unsuspend=null,clearTimeout(m),clearTimeout(v)}}:null}function Bd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)zd(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var jd=null;function zd(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,jd=new Map,o.forEach(Lk,a),jd=null,Bd.call(a))}function Lk(a,o){if(!(o.state.loading&4)){var u=jd.get(a);if(u)var m=u.get(null);else{u=new Map,jd.set(a,u);for(var v=a.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<v.length;b++){var w=v[b];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(u.set(w.dataset.precedence,w),m=w)}m&&u.set(null,m)}v=o.instance,w=v.getAttribute("data-precedence"),b=u.get(w)||m,b===m&&u.set(null,v),u.set(w,v),this.count++,m=Bd.bind(this),v.addEventListener("load",m),v.addEventListener("error",m),b?b.parentNode.insertBefore(v,b.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(v,a.firstChild)),o.state.loading|=4}}var uc={$$typeof:T,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function Nk(a,o,u,m,v,b,w,D,k){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Rp(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rp(0),this.hiddenUpdates=Rp(null),this.identifierPrefix=m,this.onUncaughtError=v,this.onCaughtError=b,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function Wx(a,o,u,m,v,b,w,D,k,V,Q,te){return a=new Nk(a,o,u,w,k,V,Q,te,D),o=1,b===!0&&(o|=24),b=Kn(3,null,null,o),a.current=b,b.stateNode=a,o=ym(),o.refCount++,a.pooledCache=o,o.refCount++,b.memoizedState={element:m,isDehydrated:u,cache:o},Em(b),a}function Zx(a){return a?(a=ao,a):ao}function Qx(a,o,u,m,v,b){v=Zx(v),m.context===null?m.context=v:m.pendingContext=v,m=ha(o),m.payload={element:u},b=b===void 0?null:b,b!==null&&(m.callback=b),u=pa(a,m,o),u!==null&&(jn(u,a,o),Hl(u,a,o))}function Jx(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<o?u:o}}function Fg(a,o){Jx(a,o),(a=a.alternate)&&Jx(a,o)}function ew(a){if(a.tag===13||a.tag===31){var o=es(a,67108864);o!==null&&jn(o,a,67108864),Fg(a,67108864)}}function tw(a){if(a.tag===13||a.tag===31){var o=ei();o=Ip(o);var u=es(a,o);u!==null&&jn(u,a,o),Fg(a,o)}}var Fd=!0;function Rk(a,o,u,m){var v=j.T;j.T=null;var b=H.p;try{H.p=2,Ug(a,o,u,m)}finally{H.p=b,j.T=v}}function Ik(a,o,u,m){var v=j.T;j.T=null;var b=H.p;try{H.p=8,Ug(a,o,u,m)}finally{H.p=b,j.T=v}}function Ug(a,o,u,m){if(Fd){var v=Hg(m);if(v===null)Tg(a,o,m,Ud,u),iw(a,m);else if(Bk(v,a,o,u,m))m.stopPropagation();else if(iw(a,m),o&4&&-1<kk.indexOf(a)){for(;v!==null;){var b=Xs(v);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var w=Ka(b.pendingLanes);if(w!==0){var D=b;for(D.pendingLanes|=2,D.entangledLanes|=2;w;){var k=1<<31-Yn(w);D.entanglements[1]|=k,w&=~k}Yi(b),(He&6)===0&&(xd=Gn()+500,rc(0))}}break;case 31:case 13:D=es(b,2),D!==null&&jn(D,b,2),Cd(),Fg(b,2)}if(b=Hg(m),b===null&&Tg(a,o,m,Ud,u),b===v)break;v=b}v!==null&&m.stopPropagation()}else Tg(a,o,m,null,u)}}function Hg(a){return a=$p(a),qg(a)}var Ud=null;function qg(a){if(Ud=null,a=Ys(a),a!==null){var o=s(a);if(o===null)a=null;else{var u=o.tag;if(u===13){if(a=l(o),a!==null)return a;a=null}else if(u===31){if(a=c(o),a!==null)return a;a=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return Ud=a,null}function nw(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(SR()){case u1:return 2;case d1:return 8;case Pu:case ER:return 32;case f1:return 268435456;default:return 32}default:return 32}}var $g=!1,Ca=null,Oa=null,Ta=null,dc=new Map,fc=new Map,Ma=[],kk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function iw(a,o){switch(a){case"focusin":case"focusout":Ca=null;break;case"dragenter":case"dragleave":Oa=null;break;case"mouseover":case"mouseout":Ta=null;break;case"pointerover":case"pointerout":dc.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":fc.delete(o.pointerId)}}function hc(a,o,u,m,v,b){return a===null||a.nativeEvent!==b?(a={blockedOn:o,domEventName:u,eventSystemFlags:m,nativeEvent:b,targetContainers:[v]},o!==null&&(o=Xs(o),o!==null&&ew(o)),a):(a.eventSystemFlags|=m,o=a.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),a)}function Bk(a,o,u,m,v){switch(o){case"focusin":return Ca=hc(Ca,a,o,u,m,v),!0;case"dragenter":return Oa=hc(Oa,a,o,u,m,v),!0;case"mouseover":return Ta=hc(Ta,a,o,u,m,v),!0;case"pointerover":var b=v.pointerId;return dc.set(b,hc(dc.get(b)||null,a,o,u,m,v)),!0;case"gotpointercapture":return b=v.pointerId,fc.set(b,hc(fc.get(b)||null,a,o,u,m,v)),!0}return!1}function rw(a){var o=Ys(a.target);if(o!==null){var u=s(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){a.blockedOn=o,y1(a.priority,function(){tw(u)});return}}else if(o===31){if(o=c(u),o!==null){a.blockedOn=o,y1(a.priority,function(){tw(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Hd(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var u=Hg(a.nativeEvent);if(u===null){u=a.nativeEvent;var m=new u.constructor(u.type,u);qp=m,u.target.dispatchEvent(m),qp=null}else return o=Xs(u),o!==null&&ew(o),a.blockedOn=u,!1;o.shift()}return!0}function aw(a,o,u){Hd(a)&&u.delete(o)}function jk(){$g=!1,Ca!==null&&Hd(Ca)&&(Ca=null),Oa!==null&&Hd(Oa)&&(Oa=null),Ta!==null&&Hd(Ta)&&(Ta=null),dc.forEach(aw),fc.forEach(aw)}function qd(a,o){a.blockedOn===o&&(a.blockedOn=null,$g||($g=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,jk)))}var $d=null;function sw(a){$d!==a&&($d=a,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){$d===a&&($d=null);for(var o=0;o<a.length;o+=3){var u=a[o],m=a[o+1],v=a[o+2];if(typeof m!="function"){if(qg(m||u)===null)continue;break}var b=Xs(u);b!==null&&(a.splice(o,3),o-=3,Hm(b,{pending:!0,data:v,method:u.method,action:m},m,v))}}))}function Po(a){function o(k){return qd(k,a)}Ca!==null&&qd(Ca,a),Oa!==null&&qd(Oa,a),Ta!==null&&qd(Ta,a),dc.forEach(o),fc.forEach(o);for(var u=0;u<Ma.length;u++){var m=Ma[u];m.blockedOn===a&&(m.blockedOn=null)}for(;0<Ma.length&&(u=Ma[0],u.blockedOn===null);)rw(u),u.blockedOn===null&&Ma.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(m=0;m<u.length;m+=3){var v=u[m],b=u[m+1],w=v[Ln]||null;if(typeof b=="function")w||sw(u);else if(w){var D=null;if(b&&b.hasAttribute("formAction")){if(v=b,w=b[Ln]||null)D=w.formAction;else if(qg(v)!==null)continue}else D=w.action;typeof D=="function"?u[m+1]=D:(u.splice(m,3),m-=3),sw(u)}}}function ow(){function a(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(w){return v=w})},focusReset:"manual",scroll:"manual"})}function o(){v!==null&&(v(),v=null),m||setTimeout(u,20)}function u(){if(!m&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,v=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){m=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),v!==null&&(v(),v=null)}}}function Gg(a){this._internalRoot=a}Gd.prototype.render=Gg.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(i(409));var u=o.current,m=ei();Qx(u,m,a,o,null,null)},Gd.prototype.unmount=Gg.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;Qx(a.current,2,null,a,null,null),Cd(),o[Vs]=null}};function Gd(a){this._internalRoot=a}Gd.prototype.unstable_scheduleHydration=function(a){if(a){var o=v1();a={blockedOn:null,target:a,priority:o};for(var u=0;u<Ma.length&&o!==0&&o<Ma[u].priority;u++);Ma.splice(u,0,a),u===0&&rw(a)}};var lw=e.version;if(lw!=="19.2.4")throw Error(i(527,lw,"19.2.4"));H.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(i(188)):(a=Object.keys(a).join(","),Error(i(268,a)));return a=f(o),a=a!==null?h(a):null,a=a===null?null:a.stateNode,a};var zk={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vd.isDisabled&&Vd.supportsFiber)try{El=Vd.inject(zk),Vn=Vd}catch{}}return mc.createRoot=function(a,o){if(!r(a))throw Error(i(299));var u=!1,m="",v=mE,b=gE,w=vE;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(w=o.onRecoverableError)),o=Wx(a,1,!1,null,null,u,m,null,v,b,w,ow),a[Vs]=o.current,Og(a),new Gg(o)},mc.hydrateRoot=function(a,o,u){if(!r(a))throw Error(i(299));var m=!1,v="",b=mE,w=gE,D=vE,k=null;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(b=u.onUncaughtError),u.onCaughtError!==void 0&&(w=u.onCaughtError),u.onRecoverableError!==void 0&&(D=u.onRecoverableError),u.formState!==void 0&&(k=u.formState)),o=Wx(a,1,!0,o,u??null,m,v,k,b,w,D,ow),o.context=Zx(null),u=o.current,m=ei(),m=Ip(m),v=ha(m),v.callback=null,pa(u,v,m),u=m,o.current.lanes=u,wl(o,u),Yi(o),a[Vs]=o.current,Og(a),new Gd(o)},mc.version="19.2.4",mc}var Aw;function Zk(){if(Aw)return Kg.exports;Aw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Kg.exports=Wk(),Kg.exports}var Qk=Zk();const On=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),Fy=[.001,0,0,.001,0,0],Jg=1.35,ti={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Ia={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},zc="pdfjs_internal_editor_",Me={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},je={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},Jk={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Uy={TRIANGLES:1,LATTICE:2},Ht={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Af={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},jt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},jo={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Oh={ERRORS:0,WARNINGS:1,INFOS:5},Fc={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},gc={moveTo:0,lineTo:1,curveTo:2,quadraticCurveTo:3,closePath:4},eB={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Th=Oh.WARNINGS;function tB(n){Number.isInteger(n)&&(Th=n)}function nB(){return Th}function Mh(n){Th>=Oh.INFOS&&console.info(`Info: ${n}`)}function we(n){Th>=Oh.WARNINGS&&console.warn(`Warning: ${n}`)}function Ye(n){throw new Error(n)}function Ve(n,e){n||Ye(e)}function iB(n){switch(n?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function V_(n,e=null,t=null){if(!n)return null;if(t&&typeof n=="string"&&(t.addDefaultProtocol&&n.startsWith("www.")&&n.match(/\./g)?.length>=2&&(n=`http://${n}`),t.tryConvertEncoding))try{n=cB(n)}catch{}const i=e?URL.parse(n,e):URL.parse(n);return iB(i)?i:null}function Y_(n,e,t=!1){const i=URL.parse(n);return i?(i.hash=e,i.href):t&&V_(n,"http://example.com")?n.split("#",1)[0]+`${e?`#${e}`:""}`:""}function Ce(n,e,t,i=!1){return Object.defineProperty(n,e,{value:t,enumerable:!i,configurable:!0,writable:!1}),t}const Fs=(function(){function e(t,i){this.message=t,this.name=i}return e.prototype=new Error,e.constructor=e,e})();class Sw extends Fs{constructor(e,t){super(e,"PasswordException"),this.code=t}}class ev extends Fs{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class Hy extends Fs{constructor(e){super(e,"InvalidPDFException")}}class _f extends Fs{constructor(e,t,i){super(e,"ResponseException"),this.status=t,this.missing=i}}class rB extends Fs{constructor(e){super(e,"FormatError")}}class Ua extends Fs{constructor(e){super(e,"AbortException")}}function aB(n){(typeof n!="object"||n?.length===void 0)&&Ye("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const i=[];for(let r=0;r<e;r+=t){const s=Math.min(r+t,e),l=n.subarray(r,s);i.push(String.fromCharCode.apply(null,l))}return i.join("")}function _h(n){typeof n!="string"&&Ye("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let i=0;i<e;++i)t[i]=n.charCodeAt(i)&255;return t}function sB(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function oB(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function lB(){try{return new Function(""),!0}catch{return!1}}class Gt{static get isLittleEndian(){return Ce(this,"isLittleEndian",oB())}static get isEvalSupported(){return Ce(this,"isEvalSupported",lB())}static get isOffscreenCanvasSupported(){return Ce(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Ce(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get isFloat16ArraySupported(){return Ce(this,"isFloat16ArraySupported",typeof Float16Array<"u")}static get isSanitizerSupported(){return Ce(this,"isSanitizerSupported",typeof Sanitizer<"u")}static get platform(){const{platform:e,userAgent:t}=navigator;return Ce(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){return Ce(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const tv=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));class ue{static makeHexColor(e,t,i){return`#${tv[e]}${tv[t]}${tv[i]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,t){let i;e[0]?(e[0]<0&&(i=t[0],t[0]=t[2],t[2]=i),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(i=t[1],t[1]=t[3],t[3]=i),t[1]*=e[3],t[3]*=e[3]):(i=t[0],t[0]=t[1],t[1]=i,i=t[2],t[2]=t[3],t[3]=i,e[1]<0&&(i=t[1],t[1]=t[3],t[3]=i),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(i=t[0],t[0]=t[2],t[2]=i),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static multiplyByDOMMatrix(e,t){return[e[0]*t.a+e[2]*t.b,e[1]*t.a+e[3]*t.b,e[0]*t.c+e[2]*t.d,e[1]*t.c+e[3]*t.d,e[0]*t.e+e[2]*t.f+e[4],e[1]*t.e+e[3]*t.f+e[5]]}static applyTransform(e,t,i=0){const r=e[i],s=e[i+1];e[i]=r*t[0]+s*t[2]+t[4],e[i+1]=r*t[1]+s*t[3]+t[5]}static applyTransformToBezier(e,t,i=0){const r=t[0],s=t[1],l=t[2],c=t[3],d=t[4],f=t[5];for(let h=0;h<6;h+=2){const p=e[i+h],g=e[i+h+1];e[i+h]=p*r+g*l+d,e[i+h+1]=p*s+g*c+f}}static applyInverseTransform(e,t){const i=e[0],r=e[1],s=t[0]*t[3]-t[1]*t[2];e[0]=(i*t[3]-r*t[2]+t[2]*t[5]-t[4]*t[3])/s,e[1]=(-i*t[1]+r*t[0]+t[4]*t[1]-t[5]*t[0])/s}static axialAlignedBoundingBox(e,t,i){const r=t[0],s=t[1],l=t[2],c=t[3],d=t[4],f=t[5],h=e[0],p=e[1],g=e[2],y=e[3];let S=r*h+d,A=S,E=r*g+d,x=E,O=c*p+f,T=O,P=c*y+f,M=P;if(s!==0||l!==0){const _=s*h,L=s*g,B=l*p,F=l*y;S+=B,x+=B,E+=F,A+=F,O+=_,M+=_,P+=L,T+=L}i[0]=Math.min(i[0],S,E,A,x),i[1]=Math.min(i[1],O,P,T,M),i[2]=Math.max(i[2],S,E,A,x),i[3]=Math.max(i[3],O,P,T,M)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const i=e[0],r=e[1],s=e[2],l=e[3],c=i**2+r**2,d=i*s+r*l,f=s**2+l**2,h=(c+f)/2,p=Math.sqrt(h**2-(c*f-d**2));t[0]=Math.sqrt(h+p||1),t[1]=Math.sqrt(h-p||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const i=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),r=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(i>r)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),l=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>l?null:[i,s,r,l]}static pointBoundingBox(e,t,i){i[0]=Math.min(i[0],e),i[1]=Math.min(i[1],t),i[2]=Math.max(i[2],e),i[3]=Math.max(i[3],t)}static rectBoundingBox(e,t,i,r,s){s[0]=Math.min(s[0],e,i),s[1]=Math.min(s[1],t,r),s[2]=Math.max(s[2],e,i),s[3]=Math.max(s[3],t,r)}static#e(e,t,i,r,s,l,c,d,f,h){if(f<=0||f>=1)return;const p=1-f,g=f*f,y=g*f,S=p*(p*(p*e+3*f*t)+3*g*i)+y*r,A=p*(p*(p*s+3*f*l)+3*g*c)+y*d;h[0]=Math.min(h[0],S),h[1]=Math.min(h[1],A),h[2]=Math.max(h[2],S),h[3]=Math.max(h[3],A)}static#t(e,t,i,r,s,l,c,d,f,h,p,g){if(Math.abs(f)<1e-12){Math.abs(h)>=1e-12&&this.#e(e,t,i,r,s,l,c,d,-p/h,g);return}const y=h**2-4*p*f;if(y<0)return;const S=Math.sqrt(y),A=2*f;this.#e(e,t,i,r,s,l,c,d,(-h+S)/A,g),this.#e(e,t,i,r,s,l,c,d,(-h-S)/A,g)}static bezierBoundingBox(e,t,i,r,s,l,c,d,f){f[0]=Math.min(f[0],e,c),f[1]=Math.min(f[1],t,d),f[2]=Math.max(f[2],e,c),f[3]=Math.max(f[3],t,d),this.#t(e,i,s,c,t,r,l,d,3*(-e+3*(i-s)+c),6*(e-2*i+s),3*(i-e),f),this.#t(e,i,s,c,t,r,l,d,3*(-t+3*(r-l)+d),6*(t-2*r+l),3*(r-t),f)}}function cB(n){return decodeURIComponent(escape(n))}let nv=null,Ew=null;function uB(n){return nv||(nv=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Ew=new Map([["","t"]])),n.replaceAll(nv,(e,t,i)=>t?t.normalize("NFKC"):Ew.get(i))}function X_(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const n=new Uint8Array(32);return crypto.getRandomValues(n),aB(n)}const Ho="pdfjs_internal_id_";function dB(n,e,t){if(!Array.isArray(t)||t.length<2)return!1;const[i,r,...s]=t;if(!n(i)&&!Number.isInteger(i)||!e(r))return!1;const l=s.length;let c=!0;switch(r.name){case"XYZ":if(l<2||l>3)return!1;break;case"Fit":case"FitB":return l===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(l>1)return!1;break;case"FitR":if(l!==4)return!1;c=!1;break;default:return!1}for(const d of s)if(!(typeof d=="number"||c&&d===null))return!1;return!0}function mn(n,e,t){return Math.min(Math.max(n,e),t)}typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(n){return n.reduce((e,t)=>e+t,0)});class Uc{static textContent(e){const t=[],i={items:t,styles:Object.create(null)};function r(s){if(!s)return;let l=null;const c=s.name;if(c==="#text")l=s.value;else if(Uc.shouldBuildText(c))s?.attributes?.textContent?l=s.attributes.textContent:s.value&&(l=s.value);else return;if(l!==null&&t.push({str:l}),!!s.children)for(const d of s.children)r(d)}return r(e),i}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}class K_{static setupStorage(e,t,i,r,s){const l=r.getValue(t,{value:null});switch(i.name){case"textarea":if(l.value!==null&&(e.textContent=l.value),s==="print")break;e.addEventListener("input",c=>{r.setValue(t,{value:c.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(l.value===i.attributes.xfaOn?e.setAttribute("checked",!0):l.value===i.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",c=>{r.setValue(t,{value:c.target.checked?c.target.getAttribute("xfaOn"):c.target.getAttribute("xfaOff")})})}else{if(l.value!==null&&e.setAttribute("value",l.value),s==="print")break;e.addEventListener("input",c=>{r.setValue(t,{value:c.target.value})})}break;case"select":if(l.value!==null){e.setAttribute("value",l.value);for(const c of i.children)c.attributes.value===l.value?c.attributes.selected=!0:c.attributes.hasOwnProperty("selected")&&delete c.attributes.selected}e.addEventListener("input",c=>{const d=c.target.options,f=d.selectedIndex===-1?"":d[d.selectedIndex].value;r.setValue(t,{value:f})});break}}static setAttributes({html:e,element:t,storage:i=null,intent:r,linkService:s}){const{attributes:l}=t,c=e instanceof HTMLAnchorElement;l.type==="radio"&&(l.name=`${l.name}-${r}`);for(const[d,f]of Object.entries(l))if(f!=null)switch(d){case"class":f.length&&e.setAttribute(d,f.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",f);break;case"style":Object.assign(e.style,f);break;case"textContent":e.textContent=f;break;default:(!c||d!=="href"&&d!=="newWindow")&&e.setAttribute(d,f)}c&&s.addLinkAttributes(e,l.href,l.newWindow),i&&l.dataId&&this.setupStorage(e,l.dataId,t,i)}static render(e){const t=e.annotationStorage,i=e.linkService,r=e.xfaHtml,s=e.intent||"display",l=document.createElement(r.name);r.attributes&&this.setAttributes({html:l,element:r,intent:s,linkService:i});const c=s!=="richText",d=e.div;if(d.append(l),e.viewport){const p=`matrix(${e.viewport.transform.join(",")})`;d.style.transform=p}c&&d.setAttribute("class","xfaLayer xfaFont");const f=[];if(r.children.length===0){if(r.value){const p=document.createTextNode(r.value);l.append(p),c&&Uc.shouldBuildText(r.name)&&f.push(p)}return{textDivs:f}}const h=[[r,-1,l]];for(;h.length>0;){const[p,g,y]=h.at(-1);if(g+1===p.children.length){h.pop();continue}const S=p.children[++h.at(-1)[1]];if(S===null)continue;const{name:A}=S;if(A==="#text"){const x=document.createTextNode(S.value);f.push(x),y.append(x);continue}const E=S?.attributes?.xmlns?document.createElementNS(S.attributes.xmlns,A):document.createElement(A);if(y.append(E),S.attributes&&this.setAttributes({html:E,element:S,storage:t,intent:s,linkService:i}),S.children?.length>0)h.push([S,-1,E]);else if(S.value){const x=document.createTextNode(S.value);c&&Uc.shouldBuildText(A)&&f.push(x),E.append(x)}}for(const p of d.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:f}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const Ir="http://www.w3.org/2000/svg";class el{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function su(n,e="text"){if(Dc(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,i)=>{const r=new XMLHttpRequest;r.open("GET",n,!0),r.responseType=e,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(r.response);return}t(r.responseText);return}i(new Error(r.statusText))}},r.send(null)})}class ou{constructor({viewBox:e,userUnit:t,scale:i,rotation:r,offsetX:s=0,offsetY:l=0,dontFlip:c=!1}){this.viewBox=e,this.userUnit=t,this.scale=i,this.rotation=r,this.offsetX=s,this.offsetY=l,i*=t;const d=(e[2]+e[0])/2,f=(e[3]+e[1])/2;let h,p,g,y;switch(r%=360,r<0&&(r+=360),r){case 180:h=-1,p=0,g=0,y=1;break;case 90:h=0,p=1,g=1,y=0;break;case 270:h=0,p=-1,g=-1,y=0;break;case 0:h=1,p=0,g=0,y=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}c&&(g=-g,y=-y);let S,A,E,x;h===0?(S=Math.abs(f-e[1])*i+s,A=Math.abs(d-e[0])*i+l,E=(e[3]-e[1])*i,x=(e[2]-e[0])*i):(S=Math.abs(d-e[0])*i+s,A=Math.abs(f-e[1])*i+l,E=(e[2]-e[0])*i,x=(e[3]-e[1])*i),this.transform=[h*i,p*i,g*i,y*i,S-h*i*d-g*i*f,A-p*i*d-y*i*f],this.width=E,this.height=x}get rawDims(){const e=this.viewBox;return Ce(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:i=this.offsetX,offsetY:r=this.offsetY,dontFlip:s=!1}={}){return new ou({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:i,offsetY:r,dontFlip:s})}convertToViewportPoint(e,t){const i=[e,t];return ue.applyTransform(i,this.transform),i}convertToViewportRectangle(e){const t=[e[0],e[1]];ue.applyTransform(t,this.transform);const i=[e[2],e[3]];return ue.applyTransform(i,this.transform),[t[0],t[1],i[0],i[1]]}convertToPdfPoint(e,t){const i=[e,t];return ue.applyInverseTransform(i,this.transform),i}}class nb extends Fs{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function Ph(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function ib(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function fB(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function hB(n,e="document.pdf"){if(typeof n!="string")return e;if(Ph(n))return we('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const i=(c=>{try{return new URL(c)}catch{try{return new URL(decodeURIComponent(c))}catch{try{return new URL(c,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(c),"https://foo.bar")}catch{return null}}}}})(n);if(!i)return e;const r=c=>{try{let d=decodeURIComponent(c);return d.includes("/")?(d=d.split("/").at(-1),d.test(/^\.pdf$/i)?d:c):d}catch{return c}},s=/\.pdf$/i,l=i.pathname.split("/").at(-1);if(s.test(l))return r(l);if(i.searchParams.size>0){const c=Array.from(i.searchParams.values()).reverse();for(const f of c)if(s.test(f))return r(f);const d=Array.from(i.searchParams.keys()).reverse();for(const f of d)if(s.test(f))return r(f)}if(i.hash){const d=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(i.hash);if(d)return r(d[0])}return e}class xw{started=Object.create(null);times=[];time(e){e in this.started&&we(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||we(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:i}of this.times)t=Math.max(i.length,t);for(const{name:i,start:r,end:s}of this.times)e.push(`${i.padEnd(t)} ${s-r}ms
`);return e.join("")}}function Dc(n,e){const t=e?URL.parse(n,e):URL.parse(n);return t?.protocol==="http:"||t?.protocol==="https:"}function _i(n){n.preventDefault()}function Ot(n){n.preventDefault(),n.stopPropagation()}function pB(n){console.log("Deprecated API usage: "+n)}class qy{static#e;static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;this.#e||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const t=this.#e.exec(e);if(!t)return null;const i=parseInt(t[1],10);let r=parseInt(t[2],10);r=r>=1&&r<=12?r-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let l=parseInt(t[4],10);l=l>=0&&l<=23?l:0;let c=parseInt(t[5],10);c=c>=0&&c<=59?c:0;let d=parseInt(t[6],10);d=d>=0&&d<=59?d:0;const f=t[7]||"Z";let h=parseInt(t[8],10);h=h>=0&&h<=23?h:0;let p=parseInt(t[9],10)||0;return p=p>=0&&p<=59?p:0,f==="-"?(l+=h,c+=p):f==="+"&&(l-=h,c-=p),new Date(Date.UTC(i,r,s,l,c,d))}}function mB(n,{scale:e=1,rotation:t=0}){const{width:i,height:r}=n.attributes.style,s=[0,0,parseInt(i),parseInt(r)];return new ou({viewBox:s,userUnit:1,scale:e,rotation:t})}function lu(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(we(`Not a valid color format: "${n}"`),[0,0,0])}function gB(n){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const t of n.keys()){e.style.color=t;const i=window.getComputedStyle(e).color;n.set(t,lu(i))}e.remove()}function bt(n){const{a:e,b:t,c:i,d:r,e:s,f:l}=n.getTransform();return[e,t,i,r,s,l]}function Wi(n){const{a:e,b:t,c:i,d:r,e:s,f:l}=n.getTransform().invertSelf();return[e,t,i,r,s,l]}function _s(n,e,t=!1,i=!0){if(e instanceof ou){const{pageWidth:r,pageHeight:s}=e.rawDims,{style:l}=n,c=Gt.isCSSRoundSupported,d=`var(--total-scale-factor) * ${r}px`,f=`var(--total-scale-factor) * ${s}px`,h=c?`round(down, ${d}, var(--scale-round-x))`:`calc(${d})`,p=c?`round(down, ${f}, var(--scale-round-y))`:`calc(${f})`;!t||e.rotation%180===0?(l.width=h,l.height=p):(l.width=p,l.height=h)}i&&n.setAttribute("data-main-rotation",e.rotation)}class or{constructor(){const{pixelRatio:e}=or;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,i,r,s=-1){let l=1/0,c=1/0,d=1/0;i=or.capPixels(i,s),i>0&&(l=Math.sqrt(i/(e*t))),r!==-1&&(c=r/e,d=r/t);const f=Math.min(l,c,d);return this.sx>f||this.sy>f?(this.sx=f,this.sy=f,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const i=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,i):i}return e}}const $y=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class vB{static get isDarkMode(){return Ce(this,"isDarkMode",!!window?.matchMedia?.("(prefers-color-scheme: dark)").matches)}}class yB{static get commentForegroundColor(){const e=document.createElement("span");e.classList.add("comment","sidebar");const{style:t}=e;t.width=t.height="0",t.display="none",t.color="var(--comment-fg-color)",document.body.append(e);const{color:i}=window.getComputedStyle(e);return e.remove(),Ce(this,"commentForegroundColor",lu(i))}}function bB(n,e,t,i){i=Math.min(Math.max(i??1,0),1);const r=255*(1-i);return n=Math.round(n*i+r),e=Math.round(e*i+r),t=Math.round(t*i+r),[n,e,t]}function ww(n,e){const t=n[0]/255,i=n[1]/255,r=n[2]/255,s=Math.max(t,i,r),l=Math.min(t,i,r),c=(s+l)/2;if(s===l)e[0]=e[1]=0;else{const d=s-l;switch(e[1]=c<.5?d/(s+l):d/(2-s-l),s){case t:e[0]=((i-r)/d+(i<r?6:0))*60;break;case i:e[0]=((r-t)/d+2)*60;break;case r:e[0]=((t-i)/d+4)*60;break}}e[2]=c}function Gy(n,e){const t=n[0],i=n[1],r=n[2],s=(1-Math.abs(2*r-1))*i,l=s*(1-Math.abs(t/60%2-1)),c=r-s/2;switch(Math.floor(t/60)){case 0:e[0]=s+c,e[1]=l+c,e[2]=c;break;case 1:e[0]=l+c,e[1]=s+c,e[2]=c;break;case 2:e[0]=c,e[1]=s+c,e[2]=l+c;break;case 3:e[0]=c,e[1]=l+c,e[2]=s+c;break;case 4:e[0]=l+c,e[1]=c,e[2]=s+c;break;case 5:case 6:e[0]=s+c,e[1]=c,e[2]=l+c;break}}function Cw(n){return n<=.03928?n/12.92:((n+.055)/1.055)**2.4}function Ow(n,e,t){Gy(n,t),t.map(Cw);const i=.2126*t[0]+.7152*t[1]+.0722*t[2];Gy(e,t),t.map(Cw);const r=.2126*t[0]+.7152*t[1]+.0722*t[2];return i>r?(i+.05)/(r+.05):(r+.05)/(i+.05)}const Tw=new Map;function AB(n,e){const t=n[0]+n[1]*256+n[2]*65536+e[0]*16777216+e[1]*4294967296+e[2]*1099511627776;let i=Tw.get(t);if(i)return i;const r=new Float32Array(9),s=r.subarray(0,3),l=r.subarray(3,6);ww(n,l);const c=r.subarray(6,9);ww(e,c);const d=c[2]<.5,f=d?12:4.5;if(l[2]=d?Math.sqrt(l[2]):1-Math.sqrt(1-l[2]),Ow(l,c,s)<f){let h,p;d?(h=l[2],p=1):(h=0,p=l[2]);const g=.005;for(;p-h>g;){const y=l[2]=(h+p)/2;d===Ow(l,c,s)<f?h=y:p=y}l[2]=d?p:h}return Gy(l,s),i=ue.makeHexColor(Math.round(s[0]*255),Math.round(s[1]*255),Math.round(s[2]*255)),Tw.set(t,i),i}function W_({html:n,dir:e,className:t},i){const r=document.createDocumentFragment();if(typeof n=="string"){const s=document.createElement("p");s.dir=e||"auto";const l=n.split(/(?:\r\n?|\n)/);for(let c=0,d=l.length;c<d;++c){const f=l[c];s.append(document.createTextNode(f)),c<d-1&&s.append(document.createElement("br"))}r.append(s)}else K_.render({xfaHtml:n,div:r,intent:"richText"});r.firstElementChild.classList.add("richText",t),i.append(r)}function Z_(n){const e=new Path2D;if(!n)return e;for(let t=0,i=n.length;t<i;)switch(n[t++]){case gc.moveTo:e.moveTo(n[t++],n[t++]);break;case gc.lineTo:e.lineTo(n[t++],n[t++]);break;case gc.curveTo:e.bezierCurveTo(n[t++],n[t++],n[t++],n[t++],n[t++],n[t++]);break;case gc.quadraticCurveTo:e.quadraticCurveTo(n[t++],n[t++],n[t++],n[t++]);break;case gc.closePath:e.closePath();break;default:we(`Unrecognized drawing path operator: ${n[t-1]}`);break}return e}class $e{static#e=null;static#t=null;static#i=null;static#n=0;static#a=[];get pagesNumber(){return $e.#n}set pagesNumber(e){$e.#n!==e&&($e.#n=e,e===0&&($e.#t=null,$e.#e=null))}addListener(e){$e.#a.push(e)}removeListener(e){const t=$e.#a.indexOf(e);t>=0&&$e.#a.splice(t,1)}#s(){for(const e of $e.#a)e()}#r(e){if($e.#t)return;const t=$e.#n,i=new Uint32Array(3*t),r=$e.#t=i.subarray(0,t),s=$e.#e=i.subarray(t,2*t);if(e)for(let l=0;l<t;l++)r[l]=s[l]=l+1;$e.#i=i.subarray(2*t)}movePages(e,t,i){this.#r(!0);const r=$e.#t,s=$e.#e;$e.#i.set(s);const l=t.length,c=new Uint32Array(l);let d=0;for(let y=0;y<l;y++){const S=t[y]-1;c[y]=r[S],S<i&&(d+=1)}const f=$e.#n;let h=i-d;const p=f-l;h=mn(h,0,p);for(let y=0,S=0;y<f;y++)e.has(y+1)||(r[S++]=r[y]);r.copyWithin(h+l,h,p),r.set(c,h);let g=!1;for(let y=0,S=f;y<S;y++){const A=r[y];g||=A!==y+1,s[A-1]=y+1}this.#s(),g||(this.pagesNumber=0)}hasBeenAltered(){return $e.#t!==null}getPageMappingForSaving(){return{pageIndices:$e.#e?$e.#e.map(e=>e-1):null}}getPrevPageNumber(e){return $e.#i[$e.#t[e-1]-1]}getPageNumber(e){return $e.#e?.[e-1]??e}getPageId(e){return $e.#t?.[e-1]??e}static get instance(){return Ce(this,"instance",new $e)}getMapping(){return $e.#t.subarray(0,this.pagesNumber)}}class Bc{#e=null;#t=null;#i;#n=null;#a=null;#s=null;#r=null;#o=null;static#c=null;constructor(e){this.#i=e,Bc.#c||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const e=this.#e=document.createElement("div");e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=this.#i._uiManager._signal;t instanceof AbortSignal&&!t.aborted&&(e.addEventListener("contextmenu",_i,{signal:t}),e.addEventListener("pointerdown",Bc.#l,{signal:t}));const i=this.#n=document.createElement("div");i.className="buttons",e.append(i);const r=this.#i.toolbarPosition;if(r){const{style:s}=e,l=this.#i._uiManager.direction==="ltr"?1-r[0]:r[0];s.insetInlineEnd=`${100*l}%`,s.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return this.#e}static#l(e){e.stopPropagation()}#f(e){this.#i._focusEventsAllowed=!1,Ot(e)}#d(e){this.#i._focusEventsAllowed=!0,Ot(e)}#h(e){const t=this.#i._uiManager._signal;return!(t instanceof AbortSignal)||t.aborted?!1:(e.addEventListener("focusin",this.#f.bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",this.#d.bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",_i,{signal:t}),!0)}hide(){this.#e.classList.add("hidden"),this.#t?.hideDropdown()}show(){this.#e.classList.remove("hidden"),this.#a?.shown(),this.#s?.shown()}addDeleteButton(){const{editorType:e,_uiManager:t}=this.#i,i=document.createElement("button");i.classList.add("basic","deleteButton"),i.tabIndex=0,i.setAttribute("data-l10n-id",Bc.#c[e]),this.#h(i)&&i.addEventListener("click",r=>{t.delete()},{signal:t._signal}),this.#n.append(i)}get#g(){const e=document.createElement("div");return e.className="divider",e}async addAltText(e){const t=await e.render();this.#h(t),this.#n.append(t,this.#g),this.#a=e}addComment(e,t=null){if(this.#s)return;const i=e.renderForToolbar();if(!i)return;this.#h(i);const r=this.#r=this.#g;t?(this.#n.insertBefore(i,t),this.#n.insertBefore(r,t)):this.#n.append(i,r),this.#s=e,e.toolbar=this}addColorPicker(e){if(this.#t)return;this.#t=e;const t=e.renderButton();this.#h(t),this.#n.append(t,this.#g)}async addEditSignatureButton(e){const t=this.#o=await e.renderEditButton(this.#i);this.#h(t),this.#n.append(t,this.#g)}removeButton(e){e==="comment"&&(this.#s?.removeToolbarCommentButton(),this.#s=null,this.#r?.remove(),this.#r=null)}async addButton(e,t){switch(e){case"colorPicker":t&&this.addColorPicker(t);break;case"altText":t&&await this.addAltText(t);break;case"editSignature":t&&await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break;case"comment":t&&this.addComment(t);break}}async addButtonBefore(e,t,i){if(!t&&e==="comment")return;const r=this.#n.querySelector(i);r&&e==="comment"&&this.addComment(t,r)}updateEditSignatureButton(e){this.#o&&(this.#o.title=e)}remove(){this.#e.remove(),this.#t?.destroy(),this.#t=null}}class SB{#e=null;#t=null;#i;constructor(e){this.#i=e}#n(){const e=this.#t=document.createElement("div");e.className="editToolbar",e.setAttribute("role","toolbar");const t=this.#i._signal;t instanceof AbortSignal&&!t.aborted&&e.addEventListener("contextmenu",_i,{signal:t});const i=this.#e=document.createElement("div");return i.className="buttons",e.append(i),this.#i.hasCommentManager()&&this.#s("commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{this.#i.commentSelection("floating_button")}),this.#s("highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{this.#i.highlightSelection("floating_button")}),e}#a(e,t){let i=0,r=0;for(const s of e){const l=s.y+s.height;if(l<i)continue;const c=s.x+(t?s.width:0);if(l>i){r=c,i=l;continue}t?c>r&&(r=c):c<r&&(r=c)}return[t?1-r:r,i]}show(e,t,i){const[r,s]=this.#a(t,i),{style:l}=this.#t||=this.#n();e.append(this.#t),l.insetInlineEnd=`${100*r}%`,l.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){this.#t.remove()}#s(e,t,i,r){const s=document.createElement("button");s.classList.add("basic",e),s.tabIndex=0,s.setAttribute("data-l10n-id",t);const l=document.createElement("span");s.append(l),l.className="visuallyHidden",l.setAttribute("data-l10n-id",i);const c=this.#i._signal;c instanceof AbortSignal&&!c.aborted&&(s.addEventListener("contextmenu",_i,{signal:c}),s.addEventListener("click",r,{signal:c})),this.#e.append(s)}}function Q_(n,e,t){for(const i of t)e.addEventListener(i,n[i].bind(n))}class Ge{static#e=NaN;static#t=null;static#i=NaN;static#n=null;static initializeAndAddPointerId(e){(Ge.#t||=new Set).add(e)}static setPointer(e,t){Ge.#e||=t,Ge.#n??=e}static setTimeStamp(e){Ge.#i=e}static isSamePointerId(e){return Ge.#e===e}static isSamePointerIdOrRemove(e){return Ge.#e===e?!0:(Ge.#t?.delete(e),!1)}static isSamePointerType(e){return Ge.#n===e}static isInitializedAndDifferentPointerType(e){return Ge.#n!==null&&!Ge.isSamePointerType(e)}static isSameTimeStamp(e){return Ge.#i===e}static isUsingMultiplePointers(){return Ge.#t?.size>=1}static clearPointerType(){Ge.#n=null}static clearPointerIds(){Ge.#e=NaN,Ge.#t=null}static clearTimeStamp(){Ge.#i=NaN}}class EB{#e=0;get id(){return`${zc}${this.#e++}`}}class rb{#e=X_();#t=0;#i=null;static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=e;const s=r.decode().then(()=>(i.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return Ce(this,"_isSVGFittingCanvas",s)}async#n(e,t){this.#i||=new Map;let i=this.#i.get(e);if(i===null)return null;if(i?.bitmap)return i.refCounter+=1,i;try{i||={bitmap:null,id:`image_${this.#e}_${this.#t++}`,refCounter:0,isSvg:!1};let r;if(typeof t=="string"?(i.url=t,r=await su(t,"blob")):t instanceof File?r=i.file=t:t instanceof Blob&&(r=t),r.type==="image/svg+xml"){const s=rb._isSVGFittingCanvas,l=new FileReader,c=new Image,d=new Promise((f,h)=>{c.onload=()=>{i.bitmap=c,i.isSvg=!0,f()},l.onload=async()=>{const p=i.svgUrl=l.result;c.src=await s?`${p}#svgView(preserveAspectRatio(none))`:p},c.onerror=l.onerror=h});l.readAsDataURL(r),await d}else i.bitmap=await createImageBitmap(r);i.refCounter=1}catch(r){we(r),i=null}return this.#i.set(e,i),i&&this.#i.set(i.id,i),i}async getFromFile(e){const{lastModified:t,name:i,size:r,type:s}=e;return this.#n(`${t}_${i}_${r}_${s}`,e)}async getFromUrl(e){return this.#n(e,e)}async getFromBlob(e,t){const i=await t;return this.#n(e,i)}async getFromId(e){this.#i||=new Map;const t=this.#i.get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:i}=t;return delete t.blobPromise,this.getFromBlob(t.id,i)}return this.getFromUrl(t.url)}getFromCanvas(e,t){this.#i||=new Map;let i=this.#i.get(e);if(i?.bitmap)return i.refCounter+=1,i;const r=new OffscreenCanvas(t.width,t.height);return r.getContext("2d").drawImage(t,0,0),i={bitmap:r.transferToImageBitmap(),id:`image_${this.#e}_${this.#t++}`,refCounter:1,isSvg:!1},this.#i.set(e,i),this.#i.set(i.id,i),i}getSvgUrl(e){const t=this.#i.get(e);return t?.isSvg?t.svgUrl:null}deleteId(e){this.#i||=new Map;const t=this.#i.get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:i}=t;if(!t.url&&!t.file){const r=new OffscreenCanvas(i.width,i.height);r.getContext("bitmaprenderer").transferFromImageBitmap(i),t.blobPromise=r.convertToBlob()}i.close?.(),t.bitmap=null}isValidId(e){return e.startsWith(`image_${this.#e}_`)}}class xB{#e=[];#t=!1;#i;#n=-1;constructor(e=128){this.#i=e}add({cmd:e,undo:t,post:i,mustExec:r,type:s=NaN,overwriteIfSameType:l=!1,keepUndo:c=!1}){if(r&&e(),this.#t)return;const d={cmd:e,undo:t,post:i,type:s};if(this.#n===-1){this.#e.length>0&&(this.#e.length=0),this.#n=0,this.#e.push(d);return}if(l&&this.#e[this.#n].type===s){c&&(d.undo=this.#e[this.#n].undo),this.#e[this.#n]=d;return}const f=this.#n+1;f===this.#i?this.#e.splice(0,1):(this.#n=f,f<this.#e.length&&this.#e.splice(f)),this.#e.push(d)}undo(){if(this.#n===-1)return;this.#t=!0;const{undo:e,post:t}=this.#e[this.#n];e(),t?.(),this.#t=!1,this.#n-=1}redo(){if(this.#n<this.#e.length-1){this.#n+=1,this.#t=!0;const{cmd:e,post:t}=this.#e[this.#n];e(),t?.(),this.#t=!1}}hasSomethingToUndo(){return this.#n!==-1}hasSomethingToRedo(){return this.#n<this.#e.length-1}cleanType(e){if(this.#n!==-1){for(let t=this.#n;t>=0;t--)if(this.#e[t].type!==e){this.#e.splice(t+1,this.#n-t),this.#n=t;return}this.#e.length=0,this.#n=-1}}destroy(){this.#e=null}}class cu{constructor(e){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=Gt.platform;for(const[i,r,s={}]of e)for(const l of i){const c=l.startsWith("mac+");t&&c?(this.callbacks.set(l.slice(4),{callback:r,options:s}),this.allKeys.add(l.split("+").at(-1))):!t&&!c&&(this.callbacks.set(l,{callback:r,options:s}),this.allKeys.add(l.split("+").at(-1)))}}#e(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t}exec(e,t){if(!this.allKeys.has(t.key))return;const i=this.callbacks.get(this.#e(t));if(!i)return;const{callback:r,options:{bubbles:s=!1,args:l=[],checker:c=null}}=i;c&&!c(e,t)||(r.bind(e,...l,t)(),s||Ot(t))}}class ab{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return gB(e),Ce(this,"_colors",e)}convert(e){const t=lu(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[i,r]of this._colors)if(r.every((s,l)=>s===t[l]))return ab._colorsMapping.get(i);return t}getHexCode(e){const t=this._colors.get(e);return t?ue.makeHexColor(...t):e}}class Ha{#e=new AbortController;#t=null;#i=null;#n=new Map;#a=new Map;#s=null;#r=null;#o=null;#c=new xB;#l=null;#f=null;#d=null;#h=0;#g=new Set;#m=null;#u=null;#p=new Set;_editorUndoBar=null;#v=!1;#b=!1;#y=!1;#C=null;#x=null;#S=null;#T=null;#A=!1;#w=null;#P=new EB;#M=!1;#_=!1;#B=!1;#L=null;#R=null;#j=null;#I=null;#$=null;#O=Me.NONE;#E=new Set;#N=null;#z=null;#U=null;#Y=null;#V=null;#X={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#H=[0,0];#k=null;#G=null;#Q=null;#J=null;#F=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const e=Ha.prototype,t=l=>l.#G.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&l.hasSomethingToControl(),i=(l,{target:c})=>{if(c instanceof HTMLInputElement){const{type:d}=c;return d!=="text"&&d!=="number"}return!0},r=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return Ce(this,"_keyboardManager",new cu([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],e.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:i}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(l,{target:c})=>!(c instanceof HTMLButtonElement)&&l.#G.contains(c)&&!l.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(l,{target:c})=>!(c instanceof HTMLButtonElement)&&l.#G.contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}constructor(e,t,i,r,s,l,c,d,f,h,p,g,y,S,A,E){const x=this._signal=this.#e.signal;this.#G=e,this.#Q=t,this.#J=i,this.#s=r,this.#l=s,this.#z=l,this.#V=d,this._eventBus=c,c._on("editingaction",this.onEditingAction.bind(this),{signal:x}),c._on("pagechanging",this.onPageChanging.bind(this),{signal:x}),c._on("scalechanging",this.onScaleChanging.bind(this),{signal:x}),c._on("rotationchanging",this.onRotationChanging.bind(this),{signal:x}),c._on("setpreference",this.onSetPreference.bind(this),{signal:x}),c._on("switchannotationeditorparams",O=>this.updateParams(O.type,O.value),{signal:x}),c._on("pagesedited",this.onPagesEdited.bind(this),{signal:x}),window.addEventListener("pointerdown",()=>{this.#_=!0},{capture:!0,signal:x}),window.addEventListener("pointerup",()=>{this.#_=!1},{capture:!0,signal:x}),this.#se(),this.#fe(),this.#te(),this.#r=d.annotationStorage,this.#C=d.filterFactory,this.#U=f,this.#T=h||null,this.#v=p,this.#b=g,this.#y=y,this.#$=S||null,this.viewParameters={realScale:el.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=A||null,this._supportsPinchToZoom=E!==!1,s?.setSidebarUiManager(this)}destroy(){this.#F?.resolve(),this.#F=null,this.#e?.abort(),this.#e=null,this._signal=null;for(const e of this.#a.values())e.destroy();this.#a.clear(),this.#n.clear(),this.#p.clear(),this.#I?.clear(),this.#t=null,this.#E.clear(),this.#c.destroy(),this.#s?.destroy(),this.#l?.destroy(),this.#z?.destroy(),this.#w?.hide(),this.#w=null,this.#j?.destroy(),this.#j=null,this.#i=null,this.#x&&(clearTimeout(this.#x),this.#x=null),this.#k&&(clearTimeout(this.#k),this.#k=null),this._editorUndoBar?.destroy(),this.#V=null}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return this.#$}get useNewAltTextFlow(){return this.#b}get useNewAltTextWhenAddingImage(){return this.#y}get hcmFilter(){return Ce(this,"hcmFilter",this.#U?this.#C.addHCMFilter(this.#U.foreground,this.#U.background):"none")}get direction(){return Ce(this,"direction",getComputedStyle(this.#G).direction)}get _highlightColors(){return Ce(this,"_highlightColors",this.#T?new Map(this.#T.split(",").map(e=>(e=e.split("=").map(t=>t.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return Ce(this,"highlightColors",null);const t=new Map,i=!!this.#U;for(const[r,s]of e){const l=r.endsWith("_HCM");if(i&&l){t.set(r.replace("_HCM",""),s);continue}!i&&!l&&t.set(r,s)}return Ce(this,"highlightColors",t)}get highlightColorNames(){return Ce(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const t=this.highlightColorNames.get(e);return this._highlightColors.get(t)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#d=e}setMainHighlightColorPicker(e){this.#j=e}editAltText(e,t=!1){this.#s?.editAltText(this,e,t)}hasCommentManager(){return!!this.#l}editComment(e,t,i,r){this.#l?.showDialog(this,e,t,i,r)}selectComment(e,t){this.#a.get(e)?.getEditorByUID(t)?.toggleComment(!0,!0)}updateComment(e){this.#l?.updateComment(e.getData())}updatePopupColor(e){this.#l?.updatePopupColor(e)}removeComment(e){this.#l?.removeComments([e.uid])}deleteComment(e,t){const i=()=>{e.comment=t},r=()=>{this._editorUndoBar?.show(i,"comment"),this.toggleComment(null),e.comment=null};this.addCommands({cmd:r,undo:i,mustExec:!0})}toggleComment(e,t,i=void 0){this.#l?.toggleCommentPopup(e,t,i)}makeCommentColor(e,t){return e&&this.#l?.makeCommentColor(e,t)||null}getCommentDialogElement(){return this.#l?.dialogElement||null}async waitForEditorsRendered(e){if(this.#a.has(e-1))return;const{resolve:t,promise:i}=Promise.withResolvers(),r=s=>{s.pageNumber===e&&(this._eventBus._off("editorsrendered",r),t())};this._eventBus.on("editorsrendered",r),await i}getSignature(e){this.#z?.getSignature({uiManager:this,editor:e})}get signatureManager(){return this.#z}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){e==="enableNewAltTextWhenAddingImage"&&(this.#y=t)}onPagesEdited({pagesMapper:e}){for(const r of this.#n.values())r.updatePageIndex(e.getPrevPageNumber(r.pageIndex+1)-1);const t=this.#a,i=this.#a=new Map;for(const[r,s]of t){const l=e.getPrevPageNumber(r+1)-1;if(l===-1){s.destroy();continue}i.set(l,s),s.updatePageIndex(l)}}onPageChanging({pageNumber:e}){this.#h=e-1}focusMainContainer(){this.#G.focus()}findParent(e,t){for(const i of this.#a.values()){const{x:r,y:s,width:l,height:c}=i.div.getBoundingClientRect();if(e>=r&&e<=r+l&&t>=s&&t<=s+c)return i}return null}disableUserSelect(e=!1){this.#Q.classList.toggle("noUserSelect",e)}addShouldRescale(e){this.#p.add(e)}removeShouldRescale(e){this.#p.delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*el.PDF_TO_CSS_UNITS;for(const t of this.#p)t.onScaleChanging();this.#d?.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}#Z({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e}#ee(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const i of this.#a.values())if(i.hasTextLayer(e))return i;return null}highlightSelection(e="",t=!1){const i=document.getSelection();if(!i||i.isCollapsed)return;const{anchorNode:r,anchorOffset:s,focusNode:l,focusOffset:c}=i,d=i.toString(),h=this.#Z(i).closest(".textLayer"),p=this.getSelectionBoxes(h);if(!p)return;i.empty();const g=this.#ee(h),y=this.#O===Me.NONE,S=()=>{const A=g?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:p,anchorNode:r,anchorOffset:s,focusNode:l,focusOffset:c,text:d});y&&this.showAllEditors("highlight",!0,!0),t&&A?.editComment()};if(y){this.switchToMode(Me.HIGHLIGHT,S);return}S()}commentSelection(e=""){this.highlightSelection(e,!0)}#re(){const e=document.getSelection();if(!e||e.isCollapsed)return;const i=this.#Z(e).closest(".textLayer"),r=this.getSelectionBoxes(i);r&&(this.#w||=new SB(this),this.#w.show(i,r,this.direction==="ltr"))}getAndRemoveDataFromAnnotationStorage(e){if(!this.#r)return null;const t=`${zc}${e}`,i=this.#r.getRawValue(t);return i&&this.#r.remove(t),i}addToAnnotationStorage(e){!e.isEmpty()&&this.#r&&!this.#r.has(e.id)&&this.#r.setValue(e.id,e)}a11yAlert(e,t=null){const i=this.#J;i&&(i.setAttribute("data-l10n-id",e),t?i.setAttribute("data-l10n-args",JSON.stringify(t)):i.removeAttribute("data-l10n-args"))}#ae(){const e=document.getSelection();if(!e||e.isCollapsed){this.#N&&(this.#w?.hide(),this.#N=null,this.#D({hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===this.#N)return;const r=this.#Z(e).closest(".textLayer");if(!r){this.#N&&(this.#w?.hide(),this.#N=null,this.#D({hasSelectedText:!1}));return}if(this.#w?.hide(),this.#N=t,this.#D({hasSelectedText:!0}),!(this.#O!==Me.HIGHLIGHT&&this.#O!==Me.NONE)&&(this.#O===Me.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#A=this.isShiftKeyDown,!this.isShiftKeyDown)){const s=this.#O===Me.HIGHLIGHT?this.#ee(r):null;if(s?.toggleDrawing(),this.#_){const l=new AbortController,c=this.combinedSignal(l),d=f=>{f.type==="pointerup"&&f.button!==0||(l.abort(),s?.toggleDrawing(!0),f.type==="pointerup"&&this.#K("main_toolbar"))};window.addEventListener("pointerup",d,{signal:c}),window.addEventListener("blur",d,{signal:c})}else s?.toggleDrawing(!0),this.#K("main_toolbar")}}#K(e=""){this.#O===Me.HIGHLIGHT?this.highlightSelection(e):this.#v&&this.#re()}#se(){document.addEventListener("selectionchange",this.#ae.bind(this),{signal:this._signal})}#oe(){if(this.#S)return;this.#S=new AbortController;const e=this.combinedSignal(this.#S);window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})}#le(){this.#S?.abort(),this.#S=null}blur(){if(this.isShiftKeyDown=!1,this.#A&&(this.#A=!1,this.#K("main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of this.#E)if(t.div.contains(e)){this.#R=[t,e],t._focusEventsAllowed=!1;break}}focus(){if(!this.#R)return;const[e,t]=this.#R;this.#R=null,t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}#te(){if(this.#L)return;this.#L=new AbortController;const e=this.combinedSignal(this.#L);window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})}#ce(){this.#L?.abort(),this.#L=null}#ue(){if(this.#f)return;this.#f=new AbortController;const e=this.combinedSignal(this.#f);document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})}#de(){this.#f?.abort(),this.#f=null}#fe(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})}addEditListeners(){this.#te(),this.setEditingState(!0)}removeEditListeners(){this.#ce(),this.setEditingState(!1)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const i of this.#u)if(i.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const i of this.#u)if(i.isHandlingMimeForPasting(t.type)){i.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){if(e.preventDefault(),this.#t?.commitOrRemove(),!this.hasSelection)return;const t=[];for(const i of this.#E){const r=i.serialize(!0);r&&t.push(r)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const l of this.#u)if(l.isHandlingMimeForPasting(s.type)){l.paste(s,this.currentLayer);return}let i=t.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(s){we(`paste: "${s.message}".`);return}if(!Array.isArray(i))return;this.unselectAll();const r=this.currentLayer;try{const s=[];for(const d of i){const f=await r.deserialize(d);if(!f)return;s.push(f)}const l=()=>{for(const d of s)this.#ne(d);this.#ie(s)},c=()=>{for(const d of s)d.remove()};this.addCommands({cmd:l,undo:c,mustExec:!0})}catch(s){we(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),this.#O!==Me.NONE&&!this.isEditorHandlingKeyboard&&Ha._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,this.#A&&(this.#A=!1,this.#K("main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}#D(e){Object.entries(e).some(([i,r])=>this.#X[i]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#X,e)}),this.#O===Me.HIGHLIGHT&&e.hasSelectedEditor===!1&&this.#q([[je.HIGHLIGHT_FREE,!0]]))}#q(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})}setEditingState(e){e?(this.#oe(),this.#ue(),this.#D({isEditing:this.#O!==Me.NONE,isEmpty:this.#W(),hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:this.#c.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#le(),this.#de(),this.#D({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!this.#u){this.#u=e;for(const t of this.#u)this.#q(t.defaultPropertiesToUpdate)}}getId(){return this.#P.id}get currentLayer(){return this.#a.get(this.#h)}getLayer(e){return this.#a.get(e)}get currentPageIndex(){return this.#h}addLayer(e){this.#a.set(e.pageIndex,e),this.#M?e.enable():e.disable()}removeLayer(e){this.#a.delete(e.pageIndex)}async updateMode(e,t=null,i=!1,r=!1,s=!1,l=!1){if(this.#O!==e&&!(this.#F&&(await this.#F.promise,!this.#F))){if(this.#F=Promise.withResolvers(),this.#d?.commitOrRemove(),this.#O===Me.POPUP&&this.#l?.hideSidebar(),this.#l?.destroyPopup(),this.#O=e,e===Me.NONE){this.setEditingState(!1),this.#pe();for(const c of this.#n.values())c.hideStandaloneCommentButton();this._editorUndoBar?.hide(),this.toggleComment(null),this.#F.resolve();return}for(const c of this.#n.values())c.addStandaloneCommentButton();e===Me.SIGNATURE&&await this.#z?.loadSignatures(),i&&Ge.clearPointerType(),this.setEditingState(!0),await this.#he(),this.unselectAll();for(const c of this.#a.values())c.updateMode(e);if(e===Me.POPUP){this.#i||=await this.#V.getAnnotationsByType(new Set(this.#u.map(f=>f._editorType)));const c=new Set,d=[];for(const f of this.#n.values()){const{annotationElementId:h,hasComment:p,deleted:g}=f;h&&c.add(h),p&&!g&&d.push(f.getData())}for(const f of this.#i){const{id:h,popupRef:p,contentsObj:g}=f;p&&g?.str&&!c.has(h)&&!this.#g.has(h)&&d.push(f)}this.#l?.showSidebar(d)}if(!t){r&&this.addNewEditorFromKeyboard(),this.#F.resolve();return}for(const c of this.#n.values())c.uid===t?(this.setSelected(c),l?c.editComment():s?c.enterInEditMode():c.focus()):c.unselect();this.#F.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==this.#O&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,t){if(this.#u){switch(e){case je.CREATE:this.currentLayer.addNewEditor(t);return;case je.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#Y||=new Map).set(e,t),this.showAllEditors("highlight",t);break}if(this.hasSelection)for(const i of this.#E)i.updateParams(e,t);else for(const i of this.#u)i.updateDefaultParams(e,t)}}showAllEditors(e,t,i=!1){for(const s of this.#n.values())s.editorType===e&&s.show(t);(this.#Y?.get(je.HIGHLIGHT_SHOW_ALL)??!0)!==t&&this.#q([[je.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(this.#B!==e){this.#B=e;for(const t of this.#a.values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}async#he(){if(!this.#M){this.#M=!0;const e=[];for(const t of this.#a.values())e.push(t.enable());await Promise.all(e);for(const t of this.#n.values())t.enable()}}#pe(){if(this.unselectAll(),this.#M){this.#M=!1;for(const e of this.#a.values())e.disable();for(const e of this.#n.values())e.disable()}}*getEditors(e){for(const t of this.#n.values())t.pageIndex===e&&(yield t)}getEditor(e){return this.#n.get(e)}addEditor(e){this.#n.set(e.id,e)}removeEditor(e){e.div.contains(document.activeElement)&&(this.#x&&clearTimeout(this.#x),this.#x=setTimeout(()=>{this.focusMainContainer(),this.#x=null},0)),this.#n.delete(e.id),e.annotationElementId&&this.#I?.delete(e.annotationElementId),this.unselect(e),(!e.annotationElementId||!this.#g.has(e.annotationElementId))&&this.#r?.remove(e.id)}addDeletedAnnotationElement(e){this.#g.add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return this.#g.has(e)}removeDeletedAnnotationElement(e){this.#g.delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}#ne(e){const t=this.#a.get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))}setActiveEditor(e){this.#t!==e&&(this.#t=e,e&&this.#q(e.propertiesToUpdate))}get#me(){let e=null;for(e of this.#E);return e}updateUI(e){this.#me===e&&this.#q(e.propertiesToUpdate)}updateUIForDefaultProperties(e){this.#q(e.defaultPropertiesToUpdate)}toggleSelected(e){if(this.#E.has(e)){this.#E.delete(e),e.unselect(),this.#D({hasSelectedEditor:this.hasSelection});return}this.#E.add(e),e.select(),this.#q(e.propertiesToUpdate),this.#D({hasSelectedEditor:!0})}setSelected(e){this.updateToolbar({mode:e.mode,editId:e.uid}),this.#d?.commitOrRemove();for(const t of this.#E)t!==e&&t.unselect();this.#E.clear(),this.#E.add(e),e.select(),this.#q(e.propertiesToUpdate),this.#D({hasSelectedEditor:!0})}isSelected(e){return this.#E.has(e)}get firstSelectedEditor(){return this.#E.values().next().value}unselect(e){e.unselect(),this.#E.delete(e),this.#D({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#E.size!==0}get isEnterHandled(){return this.#E.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#c.undo(),this.#D({hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#W()}),this._editorUndoBar?.hide()}redo(){this.#c.redo(),this.#D({hasSomethingToUndo:!0,hasSomethingToRedo:this.#c.hasSomethingToRedo(),isEmpty:this.#W()})}addCommands(e){this.#c.add(e),this.#D({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#W()})}cleanUndoStack(e){this.#c.cleanType(e)}#W(){if(this.#n.size===0)return!0;if(this.#n.size===1)for(const e of this.#n.values())return e.isEmpty();return!1}delete(){this.commitOrRemove();const e=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...this.#E],i=()=>{this._editorUndoBar?.show(r,t.length===1?t[0].editorType:t.length);for(const s of t)s.remove()},r=()=>{for(const s of t)this.#ne(s)};this.addCommands({cmd:i,undo:r,mustExec:!0})}commitOrRemove(){this.#t?.commitOrRemove()}hasSomethingToControl(){return this.#t||this.hasSelection}#ie(e){for(const t of this.#E)t.unselect();this.#E.clear();for(const t of e)t.isEmpty()||(this.#E.add(t),t.select());this.#D({hasSelectedEditor:this.hasSelection})}selectAll(){for(const e of this.#E)e.commit();this.#ie(this.#n.values())}unselectAll(){if(!(this.#t&&(this.#t.commitOrRemove(),this.#O!==Me.NONE))&&!this.#d?.commitOrRemove()&&this.hasSelection){for(const e of this.#E)e.unselect();this.#E.clear(),this.#D({hasSelectedEditor:!1})}}translateSelectedEditors(e,t,i=!1){if(i||this.commitOrRemove(),!this.hasSelection)return;this.#H[0]+=e,this.#H[1]+=t;const[r,s]=this.#H,l=[...this.#E],c=1e3;this.#k&&clearTimeout(this.#k),this.#k=setTimeout(()=>{this.#k=null,this.#H[0]=this.#H[1]=0,this.addCommands({cmd:()=>{for(const d of l)this.#n.has(d.id)&&(d.translateInPage(r,s),d.translationDone())},undo:()=>{for(const d of l)this.#n.has(d.id)&&(d.translateInPage(-r,-s),d.translationDone())},mustExec:!1})},c);for(const d of l)d.translateInPage(e,t),d.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#m=new Map;for(const e of this.#E)this.#m.set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#m)return!1;this.disableUserSelect(!1);const e=this.#m;this.#m=null;let t=!1;for(const[{x:r,y:s,pageIndex:l},c]of e)c.newX=r,c.newY=s,c.newPageIndex=l,t||=r!==c.savedX||s!==c.savedY||l!==c.savedPageIndex;if(!t)return!1;const i=(r,s,l,c)=>{if(this.#n.has(r.id)){const d=this.#a.get(c);d?r._setParentAndPosition(d,s,l):(r.pageIndex=c,r.x=s,r.y=l)}};return this.addCommands({cmd:()=>{for(const[r,{newX:s,newY:l,newPageIndex:c}]of e)i(r,s,l,c)},undo:()=>{for(const[r,{savedX:s,savedY:l,savedPageIndex:c}]of e)i(r,s,l,c)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(this.#m)for(const i of this.#m.keys())i.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#E.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return this.#t===e}getActive(){return this.#t}getMode(){return this.#O}isEditingMode(){return this.#O!==Me.NONE}get imageManager(){return Ce(this,"imageManager",new rb)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let f=0,h=t.rangeCount;f<h;f++)if(!e.contains(t.getRangeAt(f).commonAncestorContainer))return null;const{x:i,y:r,width:s,height:l}=e.getBoundingClientRect();let c;switch(e.getAttribute("data-main-rotation")){case"90":c=(f,h,p,g)=>({x:(h-r)/l,y:1-(f+p-i)/s,width:g/l,height:p/s});break;case"180":c=(f,h,p,g)=>({x:1-(f+p-i)/s,y:1-(h+g-r)/l,width:p/s,height:g/l});break;case"270":c=(f,h,p,g)=>({x:1-(h+g-r)/l,y:(f-i)/s,width:g/l,height:p/s});break;default:c=(f,h,p,g)=>({x:(f-i)/s,y:(h-r)/l,width:p/s,height:g/l});break}const d=[];for(let f=0,h=t.rangeCount;f<h;f++){const p=t.getRangeAt(f);if(!p.collapsed)for(const{x:g,y,width:S,height:A}of p.getClientRects())S===0||A===0||d.push(c(g,y,S,A))}return d.length===0?null:d}addChangedExistingAnnotation({annotationElementId:e,id:t}){(this.#o||=new Map).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){this.#o?.delete(e)}renderAnnotationElement(e){const t=this.#o?.get(e.data.id);if(!t)return;const i=this.#r.getRawValue(t);i&&(this.#O===Me.NONE&&!i.hasBeenModified||i.renderAnnotationElement(e))}setMissingCanvas(e,t,i){const r=this.#I?.get(e);r&&(r.setCanvas(t,i),this.#I.delete(e))}addMissingCanvas(e,t){(this.#I||=new Map).set(e,t)}}class nr{#e=null;#t=!1;#i=null;#n=null;#a=null;#s=null;#r=!1;#o=null;#c=null;#l=null;#f=null;#d=!1;static#h=null;static _l10n=null;constructor(e){this.#c=e,this.#d=e._uiManager.useNewAltTextFlow,nr.#h||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(e){nr._l10n??=e}async render(){const e=this.#i=document.createElement("button");e.className="altText",e.tabIndex="0";const t=this.#n=document.createElement("span");e.append(t),this.#d?(e.classList.add("new"),e.setAttribute("data-l10n-id",nr.#h.missing),t.setAttribute("data-l10n-id",nr.#h["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const i=this.#c._uiManager._signal;e.addEventListener("contextmenu",_i,{signal:i}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:i});const r=s=>{s.preventDefault(),this.#c._uiManager.editAltText(this.#c),this.#d&&this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#g}})};return e.addEventListener("click",r,{capture:!0,signal:i}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(this.#r=!0,r(s))},{signal:i}),await this.#m(),e}get#g(){return this.#e&&"added"||this.#e===null&&this.guessedText&&"review"||"missing"}finish(){this.#i&&(this.#i.focus({focusVisible:this.#r}),this.#r=!1)}isEmpty(){return this.#d?this.#e===null:!this.#e&&!this.#t}hasData(){return this.#d?this.#e!==null||!!this.#l:this.isEmpty()}get guessedText(){return this.#l}async setGuessedText(e){this.#e===null&&(this.#l=e,this.#f=await nr._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e}),this.#m())}toggleAltTextBadge(e=!1){if(!this.#d||this.#e){this.#o?.remove(),this.#o=null;return}if(!this.#o){const t=this.#o=document.createElement("div");t.className="noAltTextBadge",this.#c.div.append(t)}this.#o.classList.toggle("hidden",!e)}serialize(e){let t=this.#e;return!e&&this.#l===t&&(t=this.#f),{altText:t,decorative:this.#t,guessedText:this.#l,textWithDisclaimer:this.#f}}get data(){return{altText:this.#e,decorative:this.#t}}set data({altText:e,decorative:t,guessedText:i,textWithDisclaimer:r,cancel:s=!1}){i&&(this.#l=i,this.#f=r),!(this.#e===e&&this.#t===t)&&(s||(this.#e=e,this.#t=t),this.#m())}toggle(e=!1){this.#i&&(!e&&this.#s&&(clearTimeout(this.#s),this.#s=null),this.#i.disabled=!e)}shown(){this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#g}})}destroy(){this.#i?.remove(),this.#i=null,this.#n=null,this.#a=null,this.#o?.remove(),this.#o=null}async#m(){const e=this.#i;if(!e)return;if(this.#d){if(e.classList.toggle("done",!!this.#e),e.setAttribute("data-l10n-id",nr.#h[this.#g]),this.#n?.setAttribute("data-l10n-id",nr.#h[`${this.#g}-label`]),!this.#e){this.#a?.remove();return}}else{if(!this.#e&&!this.#t){e.classList.remove("done"),this.#a?.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=this.#a;if(!t){this.#a=t=document.createElement("span"),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${this.#c.id}`;const r=100,s=this.#c._uiManager._signal;s.addEventListener("abort",()=>{clearTimeout(this.#s),this.#s=null},{once:!0}),e.addEventListener("mouseenter",()=>{this.#s=setTimeout(()=>{this.#s=null,this.#a.classList.add("show"),this.#c._reportTelemetry({action:"alt_text_tooltip"})},r)},{signal:s}),e.addEventListener("mouseleave",()=>{this.#s&&(clearTimeout(this.#s),this.#s=null),this.#a?.classList.remove("show")},{signal:s})}this.#t?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=this.#e),t.parentNode||e.append(t),this.#c.getElementForAltText()?.setAttribute("aria-describedby",t.id)}}class Yd{#e=null;#t=null;#i=!1;#n=null;#a=null;#s=null;#r=null;#o=null;#c=!1;#l=null;constructor(e){this.#n=e}renderForToolbar(){const e=this.#t=document.createElement("button");return e.className="comment",this.#f(e,!1)}renderForStandalone(){const e=this.#e=document.createElement("button");e.className="annotationCommentButton";const t=this.#n.commentButtonPosition;if(t){const{style:i}=e;i.insetInlineEnd=`calc(${100*(this.#n._uiManager.direction==="ltr"?1-t[0]:t[0])}% - var(--comment-button-dim))`,i.top=`calc(${100*t[1]}% - var(--comment-button-dim))`;const r=this.#n.commentButtonColor;r&&(i.backgroundColor=r)}return this.#f(e,!0)}focusButton(){setTimeout(()=>{(this.#e??this.#t)?.focus()},0)}onUpdatedColor(){if(!this.#e)return;const e=this.#n.commentButtonColor;e&&(this.#e.style.backgroundColor=e),this.#n._uiManager.updatePopupColor(this.#n)}get commentButtonWidth(){return(this.#e?.getBoundingClientRect().width??0)/this.#n.parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(this.#l)return this.#l;if(!this.#e)return null;const{x:e,y:t,height:i}=this.#e.getBoundingClientRect(),{x:r,y:s,width:l,height:c}=this.#n.parent.boundingClientRect;return[(e-r)/l,(t+i-s)/c]}set commentPopupPositionInLayer(e){this.#l=e}hasDefaultPopupPosition(){return this.#l===null}removeStandaloneCommentButton(){this.#e?.remove(),this.#e=null}removeToolbarCommentButton(){this.#t?.remove(),this.#t=null}setCommentButtonStates({selected:e,hasPopup:t}){this.#e&&(this.#e.classList.toggle("selected",e),this.#e.ariaExpanded=t)}#f(e,t){if(!this.#n._uiManager.hasCommentManager())return null;e.tabIndex="0",e.ariaHasPopup="dialog",t?(e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(e.ariaControlsElements=[this.#n._uiManager.getCommentDialogElement()],e.setAttribute("data-l10n-id","pdfjs-editor-add-comment-button"));const i=this.#n._uiManager._signal;if(!(i instanceof AbortSignal)||i.aborted)return e;e.addEventListener("contextmenu",_i,{signal:i}),t&&(e.addEventListener("focusin",s=>{this.#n._focusEventsAllowed=!1,Ot(s)},{capture:!0,signal:i}),e.addEventListener("focusout",s=>{this.#n._focusEventsAllowed=!0,Ot(s)},{capture:!0,signal:i})),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:i});const r=s=>{s.preventDefault(),e===this.#t?this.edit():this.#n.toggleComment(!0)};return e.addEventListener("click",r,{capture:!0,signal:i}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(this.#i=!0,r(s))},{signal:i}),e.addEventListener("pointerenter",()=>{this.#n.toggleComment(!1,!0)},{signal:i}),e.addEventListener("pointerleave",()=>{this.#n.toggleComment(!1,!1)},{signal:i}),e}edit(e){const t=this.commentPopupPositionInLayer;let i,r;if(t)[i,r]=t;else{[i,r]=this.#n.commentButtonPosition;const{width:h,height:p,x:g,y}=this.#n;i=g+i*h,r=y+r*p}const s=this.#n.parent.boundingClientRect,{x:l,y:c,width:d,height:f}=s;this.#n._uiManager.editComment(this.#n,l+i*d,c+r*f,{...e,parentDimensions:s})}finish(){this.#t&&(this.#t.focus({focusVisible:this.#i}),this.#i=!1)}isDeleted(){return this.#c||this.#r===""}isEmpty(){return this.#r===null}hasBeenEdited(){return this.isDeleted()||this.#r!==this.#a}serialize(){return this.data}get data(){return{text:this.#r,richText:this.#s,date:this.#o,deleted:this.isDeleted()}}set data(e){if(e!==this.#r&&(this.#s=null),e===null){this.#r="",this.#c=!0;return}this.#r=e,this.#o=new Date,this.#c=!1}restoreData({text:e,richText:t,date:i}){this.#r=e,this.#s=t,this.#o=i,this.#c=!1}setInitialText(e,t=null){this.#a=e,this.data=e,this.#o=null,this.#s=t}shown(){}destroy(){this.#t?.remove(),this.#t=null,this.#e?.remove(),this.#e=null,this.#r="",this.#s=null,this.#o=null,this.#n=null,this.#i=!1,this.#c=!1}}class Dh{#e;#t=!1;#i=null;#n;#a;#s;#r;#o=null;#c;#l=null;#f;#d=null;constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:i=null,onPinchStart:r=null,onPinching:s=null,onPinchEnd:l=null,signal:c}){this.#e=e,this.#i=i,this.#n=t,this.#a=r,this.#s=s,this.#r=l,this.#f=new AbortController,this.#c=AbortSignal.any([c,this.#f.signal]),e.addEventListener("touchstart",this.#h.bind(this),{passive:!1,signal:this.#c})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/or.pixelRatio}#h(e){if(this.#n?.())return;if(e.touches.length===1){if(this.#o)return;const r=this.#o=new AbortController,s=AbortSignal.any([this.#c,r.signal]),l=this.#e,c={capture:!0,signal:s,passive:!1},d=f=>{f.pointerType==="touch"&&(this.#o?.abort(),this.#o=null)};l.addEventListener("pointerdown",f=>{f.pointerType==="touch"&&(Ot(f),d(f))},c),l.addEventListener("pointerup",d,c),l.addEventListener("pointercancel",d,c);return}if(!this.#d){this.#d=new AbortController;const r=AbortSignal.any([this.#c,this.#d.signal]),s=this.#e,l={signal:r,capture:!1,passive:!1};s.addEventListener("touchmove",this.#g.bind(this),l);const c=this.#m.bind(this);s.addEventListener("touchend",c,l),s.addEventListener("touchcancel",c,l),l.capture=!0,s.addEventListener("pointerdown",Ot,l),s.addEventListener("pointermove",Ot,l),s.addEventListener("pointercancel",Ot,l),s.addEventListener("pointerup",Ot,l),this.#a?.()}if(Ot(e),e.touches.length!==2||this.#i?.()){this.#l=null;return}let[t,i]=e.touches;t.identifier>i.identifier&&([t,i]=[i,t]),this.#l={touch0X:t.screenX,touch0Y:t.screenY,touch1X:i.screenX,touch1Y:i.screenY}}#g(e){if(!this.#l||e.touches.length!==2)return;Ot(e);let[t,i]=e.touches;t.identifier>i.identifier&&([t,i]=[i,t]);const{screenX:r,screenY:s}=t,{screenX:l,screenY:c}=i,d=this.#l,{touch0X:f,touch0Y:h,touch1X:p,touch1Y:g}=d,y=p-f,S=g-h,A=l-r,E=c-s,x=Math.hypot(A,E)||1,O=Math.hypot(y,S)||1;if(!this.#t&&Math.abs(O-x)<=Dh.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(d.touch0X=r,d.touch0Y=s,d.touch1X=l,d.touch1Y=c,!this.#t){this.#t=!0;return}const T=[(r+l)/2,(s+c)/2];this.#s?.(T,O,x)}#m(e){e.touches.length>=2||(this.#d&&(this.#d.abort(),this.#d=null,this.#r?.()),this.#l&&(Ot(e),this.#l=null,this.#t=!1))}destroy(){this.#f?.abort(),this.#f=null,this.#o?.abort(),this.#o=null}}class Se{#e=null;#t=null;#i=null;#n=null;#a=null;#s=!1;#r=null;#o="";#c=null;#l=null;#f=null;#d=null;#h=null;#g="";#m=!1;#u=null;#p=!1;#v=!1;#b=!1;#y=null;#C=0;#x=0;#S=null;#T=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#A=!1;#w=Se._zIndex++;static _borderLineWidth=-1;static _colorManager=new ab;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const e=Se.prototype._resizeWithKeyboard,t=Ha.TRANSLATE_SMALL,i=Ha.TRANSLATE_BIG;return Ce(this,"_resizerKeyboardManager",new cu([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,i]}],[["Escape","mac+Escape"],Se.prototype._stopResizingWithKeyboard]]))}constructor(e){this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null,this.creationDate=e.creationDate||new Date,this.modificationDate=e.modificationDate||null,this.canAddComment=!0;const{rotation:t,rawDims:{pageWidth:i,pageHeight:r,pageX:s,pageY:l}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,r],this.pageTranslation=[s,l];const[c,d]=this.parentDimensions;this.x=e.x/c,this.y=e.y/d,this.isAttachedToDOM=!1,this.deleted=!1}updatePageIndex(e){this.pageIndex=e}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return Ce(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new wB({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(Se._l10n??=e,Se._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),Se._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);Se._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){Ye("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#A}set _isDraggable(e){this.#A=e,this.div?.classList.toggle("draggable",e)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#w}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):(this.#k(),this.#d?.remove(),this.#d=null),this.parent=e}focusin(e){this._focusEventsAllowed&&(this.#m?this.#m=!1:this.parent.setSelected(this))}focusout(e){!this._focusEventsAllowed||!this.isAttachedToDOM||e.relatedTarget?.closest(`#${this.id}`)||(e.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,i,r){const[s,l]=this.parentDimensions;[i,r]=this.screenToPageTranslation(i,r),this.x=(e+i)/s,this.y=(t+r)/l,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[i,r]=this.parentDimensions;this.setAt(e*i,t*r,this.width*i,this.height*r),this._onTranslated()}#P([e,t],i,r){[i,r]=this.screenToPageTranslation(i,r),this.x+=i/e,this.y+=r/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(e,t){this.#P(this.parentDimensions,e,t)}translateInPage(e,t){this.#u||=[this.x,this.y,this.width,this.height],this.#P(this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){this.#u||=[this.x,this.y,this.width,this.height];const{div:i,parentDimensions:[r,s]}=this;if(this.x+=e/r,this.y+=t/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:p,y:g}=this.div.getBoundingClientRect();this.parent.findNewParent(this,p,g)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:l,y:c}=this;const[d,f]=this.getBaseTranslation();l+=d,c+=f;const{style:h}=i;h.left=`${(100*l).toFixed(2)}%`,h.top=`${(100*c).toFixed(2)}%`,this._onTranslating(l,c),i.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!this.#u&&(this.#u[0]!==this.x||this.#u[1]!==this.y)}get _hasBeenResized(){return!!this.#u&&(this.#u[2]!==this.width||this.#u[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:i}=Se,r=i/e,s=i/t;switch(this.rotation){case 90:return[-r,s];case 180:return[r,s];case 270:return[r,-s];default:return[-r,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[i,r]}=this;let{x:s,y:l,width:c,height:d}=this;if(c*=i,d*=r,s*=i,l*=r,this._mustFixPosition)switch(e){case 0:s=mn(s,0,i-c),l=mn(l,0,r-d);break;case 90:s=mn(s,0,i-d),l=mn(l,c,r);break;case 180:s=mn(s,c,i),l=mn(l,d,r);break;case 270:s=mn(s,d,i),l=mn(l,0,r-c);break}this.x=s/=i,this.y=l/=r;const[f,h]=this.getBaseTranslation();s+=f,l+=h,t.left=`${(100*s).toFixed(2)}%`,t.top=`${(100*l).toFixed(2)}%`,this.moveInDOM()}static#M(e,t,i){switch(i){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}}screenToPageTranslation(e,t){return Se.#M(e,t,this.parentRotation)}pageTranslationToScreen(e,t){return Se.#M(e,t,360-this.parentRotation)}#_(e){switch(e){case 90:{const[t,i]=this.pageDimensions;return[0,-t/i,i/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,i]=this.pageDimensions;return[0,t/i,-i/t,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,i]}=this;return[t*e,i*e]}setDims(){const{div:{style:e},width:t,height:i}=this;e.width=`${(100*t).toFixed(2)}%`,e.height=`${(100*i).toFixed(2)}%`}getInitialTranslation(){return[0,0]}#B(){if(this.#c)return;this.#c=document.createElement("div"),this.#c.classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const i of e){const r=document.createElement("div");this.#c.append(r),r.classList.add("resizer",i),r.setAttribute("data-resizer-name",i),r.addEventListener("pointerdown",this.#L.bind(this,i),{signal:t}),r.addEventListener("contextmenu",_i,{signal:t}),r.tabIndex=-1}this.div.prepend(this.#c)}#L(e,t){t.preventDefault();const{isMac:i}=Gt.platform;if(t.button!==0||t.ctrlKey&&i)return;this.#i?.toggle(!1);const r=this._isDraggable;this._isDraggable=!1,this.#l=[t.screenX,t.screenY];const s=new AbortController,l=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#I.bind(this,e),{passive:!0,capture:!0,signal:l}),window.addEventListener("touchmove",Ot,{passive:!1,signal:l}),window.addEventListener("contextmenu",_i,{signal:l}),this.#f={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const c=this.parent.div.style.cursor,d=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const f=()=>{s.abort(),this.parent.togglePointerEvents(!0),this.#i?.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=c,this.div.style.cursor=d,this.#j()};window.addEventListener("pointerup",f,{signal:l}),window.addEventListener("blur",f,{signal:l})}#R(e,t,i,r){this.width=i,this.height=r,this.x=e,this.y=t,this.setDims(),this.fixAndSetPosition(),this._onResized()}_onResized(){}#j(){if(!this.#f)return;const{savedX:e,savedY:t,savedWidth:i,savedHeight:r}=this.#f;this.#f=null;const s=this.x,l=this.y,c=this.width,d=this.height;s===e&&l===t&&c===i&&d===r||this.addCommands({cmd:this.#R.bind(this,s,l,c,d),undo:this.#R.bind(this,e,t,i,r),mustExec:!0})}static _round(e){return Math.round(e*1e4)/1e4}#I(e,t){const[i,r]=this.parentDimensions,s=this.x,l=this.y,c=this.width,d=this.height,f=Se.MIN_SIZE/i,h=Se.MIN_SIZE/r,p=this.#_(this.rotation),g=(j,H)=>[p[0]*j+p[2]*H,p[1]*j+p[3]*H],y=this.#_(360-this.rotation),S=(j,H)=>[y[0]*j+y[2]*H,y[1]*j+y[3]*H];let A,E,x=!1,O=!1;switch(e){case"topLeft":x=!0,A=(j,H)=>[0,0],E=(j,H)=>[j,H];break;case"topMiddle":A=(j,H)=>[j/2,0],E=(j,H)=>[j/2,H];break;case"topRight":x=!0,A=(j,H)=>[j,0],E=(j,H)=>[0,H];break;case"middleRight":O=!0,A=(j,H)=>[j,H/2],E=(j,H)=>[0,H/2];break;case"bottomRight":x=!0,A=(j,H)=>[j,H],E=(j,H)=>[0,0];break;case"bottomMiddle":A=(j,H)=>[j/2,H],E=(j,H)=>[j/2,0];break;case"bottomLeft":x=!0,A=(j,H)=>[0,H],E=(j,H)=>[j,0];break;case"middleLeft":O=!0,A=(j,H)=>[0,H/2],E=(j,H)=>[j,H/2];break}const T=A(c,d),P=E(c,d);let M=g(...P);const _=Se._round(s+M[0]),L=Se._round(l+M[1]);let B=1,F=1,X,q;if(t.fromKeyboard)({deltaX:X,deltaY:q}=t);else{const{screenX:j,screenY:H}=t,[ie,le]=this.#l;[X,q]=this.screenToPageTranslation(j-ie,H-le),this.#l[0]=j,this.#l[1]=H}if([X,q]=S(X/i,q/r),x){const j=Math.hypot(c,d);B=F=Math.max(Math.min(Math.hypot(P[0]-T[0]-X,P[1]-T[1]-q)/j,1/c,1/d),f/c,h/d)}else O?B=mn(Math.abs(P[0]-T[0]-X),f,1)/c:F=mn(Math.abs(P[1]-T[1]-q),h,1)/d;const $=Se._round(c*B),se=Se._round(d*F);M=g(...E($,se));const re=_-M[0],ce=L-M[1];this.#u||=[this.x,this.y,this.width,this.height],this.width=$,this.height=se,this.x=re,this.y=ce,this.setDims(),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#i?.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||this.#v)return this._editToolbar;this._editToolbar=new Bc(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[t,i]of e)await this._editToolbar.addButton(t,i);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){this._editToolbar?.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){this._editToolbar?.removeButton("comment")}removeEditToolbar(){this._editToolbar?.remove(),this._editToolbar=null,this.#i?.destroy()}addContainer(e){const t=this._editToolbar?.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return this.#i||(nr.initialize(Se._l10n),this.#i=new nr(this),this.#e&&(this.#i.data=this.#e,this.#e=null)),this.#i}get altTextData(){return this.#i?.data}set altTextData(e){this.#i&&(this.#i.data=e)}get guessedAltText(){return this.#i?.guessedText}async setGuessedAltText(e){await this.#i?.setGuessedText(e)}serializeAltText(e){return this.#i?.serialize(e)}hasAltText(){return!!this.#i&&!this.#i.isEmpty()}hasAltTextData(){return this.#i?.hasData()??!1}focusCommentButton(){this.#n?.focusButton()}addCommentButton(){return this.canAddComment?this.#n||=new Yd(this):null}addStandaloneCommentButton(){if(this._uiManager.hasCommentManager()){if(this.#a){this._uiManager.isEditingMode()&&this.#a.classList.remove("hidden");return}this.hasComment&&(this.#a=this.#n.renderForStandalone(),this.div.append(this.#a))}}removeStandaloneCommentButton(){this.#n.removeStandaloneCommentButton(),this.#a=null}hideStandaloneCommentButton(){this.#a?.classList.add("hidden")}get comment(){if(!this.#n)return null;const{data:{richText:e,text:t,date:i,deleted:r}}=this.#n;return{text:t,richText:e,date:i,deleted:r,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(e){this.#n||=new Yd(this),typeof e=="object"&&e!==null?this.#n.restoreData(e):this.#n.data=e,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:e,popupRef:t,richText:i}){if(!t||(this.#n||=new Yd(this),this.#n.setInitialText(e,i),!this.annotationElementId))return;const r=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);r&&this.updateFromAnnotationLayer(r)}get hasEditedComment(){return this.#n?.hasBeenEdited()}get hasDeletedComment(){return this.#n?.isDeleted()}get hasComment(){return!!this.#n&&!this.#n.isEmpty()&&!this.#n.isDeleted()}async editComment(e){this.#n||=new Yd(this),this.#n.edit(e)}toggleComment(e,t=void 0){this.hasComment&&this._uiManager.toggleComment(this,e,t)}setSelectedCommentButton(e){this.#n.setSelectedButton(e)}addComment(e){if(this.hasEditedComment){const[,,,r]=e.rect,[s]=this.pageDimensions,[l]=this.pageTranslation,c=l+s+1,d=r-100,f=c+180;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[c,d,f,r]}}}updateFromAnnotationLayer({popup:{contents:e,deleted:t}}){this.#n.data=t?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=this.#s?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),this.#U();const[t,i]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*i/t).toFixed(2)}%`,e.style.maxHeight=`${(100*t/i).toFixed(2)}%`);const[r,s]=this.getInitialTranslation();return this.translate(r,s),Q_(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#T||=new Dh({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#$.bind(this),onPinching:this.#O.bind(this),onPinchEnd:this.#E.bind(this),signal:this._uiManager._signal})),this.addStandaloneCommentButton(),this._uiManager._editorUndoBar?.hide(),e}#$(){this.#f={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#i?.toggle(!1),this.parent.togglePointerEvents(!1)}#O(e,t,i){let s=.7*(i/t)+1-.7;if(s===1)return;const l=this.#_(this.rotation),c=(_,L)=>[l[0]*_+l[2]*L,l[1]*_+l[3]*L],[d,f]=this.parentDimensions,h=this.x,p=this.y,g=this.width,y=this.height,S=Se.MIN_SIZE/d,A=Se.MIN_SIZE/f;s=Math.max(Math.min(s,1/g,1/y),S/g,A/y);const E=Se._round(g*s),x=Se._round(y*s);if(E===g&&x===y)return;this.#u||=[h,p,g,y];const O=c(g/2,y/2),T=Se._round(h+O[0]),P=Se._round(p+O[1]),M=c(E/2,x/2);this.x=T-M[0],this.y=P-M[1],this.width=E,this.height=x,this.setDims(),this.fixAndSetPosition(),this._onResizing()}#E(){this.#i?.toggle(!0),this.parent.togglePointerEvents(!0),this.#j()}pointerdown(e){const{isMac:t}=Gt.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(this.#m=!0,this._isDraggable){this.#z(e);return}this.#N(e)}#N(e){const{isMac:t}=Gt.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)}#z(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let i=!1;const r=new AbortController,s=this._uiManager.combinedSignal(r),l={capture:!0,passive:!1,signal:s},c=f=>{r.abort(),this.#r=null,this.#m=!1,this._uiManager.endDragSession()||this.#N(f),i&&this._onStopDragging()};t&&(this.#C=e.clientX,this.#x=e.clientY,this.#r=e.pointerId,this.#o=e.pointerType,window.addEventListener("pointermove",f=>{i||(i=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:h,clientY:p,pointerId:g}=f;if(g!==this.#r){Ot(f);return}const[y,S]=this.screenToPageTranslation(h-this.#C,p-this.#x);this.#C=h,this.#x=p,this._uiManager.dragSelectedEditors(y,S)},l),window.addEventListener("touchmove",Ot,l),window.addEventListener("pointerdown",f=>{f.pointerType===this.#o&&(this.#T||f.isPrimary)&&c(f),Ot(f)},l));const d=f=>{if(!this.#r||this.#r===f.pointerId){c(f);return}Ot(f)};window.addEventListener("pointerup",d,{signal:s}),window.addEventListener("blur",d,{signal:s})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#y&&clearTimeout(this.#y),this.#y=setTimeout(()=>{this.#y=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(e,t,i){e.changeParent(this),this.x=t,this.y=i,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,i=this.rotation){const r=this.parentScale,[s,l]=this.pageDimensions,[c,d]=this.pageTranslation,f=e/r,h=t/r,p=this.x*s,g=this.y*l,y=this.width*s,S=this.height*l;switch(i){case 0:return[p+f+c,l-g-h-S+d,p+f+y+c,l-g-h+d];case 90:return[p+h+c,l-g+f+d,p+h+S+c,l-g+f+y+d];case 180:return[p-f-y+c,l-g+h+d,p-f+c,l-g+h+S+d];case 270:return[p-h-S+c,l-g-f-y+d,p-h+c,l-g-f+d];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[i,r,s,l]=e,c=s-i,d=l-r;switch(this.rotation){case 0:return[i,t-l,c,d];case 90:return[i,t-r,d,c];case 180:return[s,t-r,c,d];case 270:return[s,t-l,d,c];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&Se._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){this.#n?.onUpdatedColor()}getData(){const{comment:{text:e,color:t,date:i,opacity:r,deleted:s,richText:l},uid:c,pageIndex:d,creationDate:f,modificationDate:h}=this;return{id:c,pageIndex:d,rect:this.getPDFRect(),richText:l,contentsObj:{str:e},creationDate:f,modificationDate:i||h,popupRef:!s,color:t,opacity:r}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),this.#v=!0,!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),this.#v=!1,!0):!1}isInEditMode(){return this.#v}shouldGetKeyboardEvents(){return this.#b}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:i,right:r}=this.getClientDimensions(),{innerHeight:s,innerWidth:l}=window;return t<l&&r>0&&e<s&&i>0}#U(){if(this.#h||!this.div)return;this.#h=new AbortController;const e=this._uiManager.combinedSignal(this.#h);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})}rebuild(){this.#U()}rotate(e){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(e=!1,t=null){return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:this._initialData?.popupRef||""}}static async deserialize(e,t,i){const r=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:i,annotationElementId:e.annotationElementId,creationDate:e.creationDate,modificationDate:e.modificationDate});r.rotation=e.rotation,r.#e=e.accessibilityData,r._isCopy=e.isCopy||!1;const[s,l]=r.pageDimensions,[c,d,f,h]=r.getRectInCurrentCoords(e.rect,l);return r.x=c/s,r.y=d/l,r.width=f/s,r.height=h/l,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#h?.abort(),this.#h=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.hideCommentPopup(),this.#y&&(clearTimeout(this.#y),this.#y=null),this.#k(),this.removeEditToolbar(),this.#S){for(const e of this.#S.values())clearTimeout(e);this.#S=null}this.parent=null,this.#T?.destroy(),this.#T=null,this.#d?.remove(),this.#d=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#B(),this.#c.classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[e,t]}=this,[i,r,s,l]=this.getPDFRect();return[Se._round(i+(s-i)*e),Se._round(r+(l-r)*(1-t))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return this.#n.commentPopupPositionInLayer}set commentPopupPosition(e){this.#n.commentPopupPositionInLayer=e}hasDefaultPopupPosition(){return this.#n.hasDefaultPopupPosition()}get commentButtonWidth(){return this.#n.commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(e){this.#n?.setCommentButtonStates(e)}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),this.#f={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const t=this.#c.children;if(!this.#t){this.#t=Array.from(t);const l=this.#Y.bind(this),c=this.#V.bind(this),d=this._uiManager._signal;for(const f of this.#t){const h=f.getAttribute("data-resizer-name");f.setAttribute("role","spinbutton"),f.addEventListener("keydown",l,{signal:d}),f.addEventListener("blur",c,{signal:d}),f.addEventListener("focus",this.#X.bind(this,h),{signal:d}),f.setAttribute("data-l10n-id",Se._l10nResizer[h])}}const i=this.#t[0];let r=0;for(const l of t){if(l===i)break;r++}const s=(360-this.rotation+this.parentRotation)%360/90*(this.#t.length/4);if(s!==r){if(s<r)for(let c=0;c<r-s;c++)this.#c.append(this.#c.firstElementChild);else if(s>r)for(let c=0;c<s-r;c++)this.#c.firstElementChild.before(this.#c.lastElementChild);let l=0;for(const c of t){const f=this.#t[l++].getAttribute("data-resizer-name");c.setAttribute("data-l10n-id",Se._l10nResizer[f])}}this.#H(0),this.#b=!0,this.#c.firstElementChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}#Y(e){Se._resizerKeyboardManager.exec(this,e)}#V(e){this.#b&&e.relatedTarget?.parentNode!==this.#c&&this.#k()}#X(e){this.#g=this.#b?e:""}#H(e){if(this.#t)for(const t of this.#t)t.tabIndex=e}_resizeWithKeyboard(e,t){this.#b&&this.#I(this.#g,{deltaX:e,deltaY:t,fromKeyboard:!0})}#k(){this.#b=!1,this.#H(-1),this.#j()}_stopResizingWithKeyboard(){this.#k(),this.div.focus()}select(){if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#i?.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>this.div?.focus({preventScroll:!0}),0)}unselect(){this.isSelected&&(this.isSelected=!1,this.#c?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#i?.toggleAltTextBadge(!0),this.hideCommentPopup())}hideCommentPopup(){this.hasComment&&this._uiManager.toggleComment(null)}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){e.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.uid}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#p}set isEditing(e){this.#p=e,this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){this.#S||=new Map;const{action:i}=e;let r=this.#S.get(i);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(e),this.#S.delete(i),this.#S.size===0&&(this.#S=null)},Se._telemetryTimeout),this.#S.set(i,r);return}e.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),this.#s=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#s=!0}updateFakeAnnotationElement(e){if(!this.#d&&!this.deleted){this.#d=e.addFakeAnnotation(this);return}if(this.deleted){this.#d.remove(),this.#d=null;return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&this.#d.updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const i=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),i.before(t)}return t}resetAnnotationElement(e){const{firstElementChild:t}=e.container;t?.nodeName==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}}class wB extends Se{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const Mw=3285377520,Ai=4294901760,Zi=65535;class J_{constructor(e){this.h1=e?e&4294967295:Mw,this.h2=e?e&4294967295:Mw}update(e){let t,i;if(typeof e=="string"){t=new Uint8Array(e.length*2),i=0;for(let A=0,E=e.length;A<E;A++){const x=e.charCodeAt(A);x<=255?t[i++]=x:(t[i++]=x>>>8,t[i++]=x&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),i=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=i>>2,s=i-r*4,l=new Uint32Array(t.buffer,0,r);let c=0,d=0,f=this.h1,h=this.h2;const p=3432918353,g=461845907,y=p&Zi,S=g&Zi;for(let A=0;A<r;A++)A&1?(c=l[A],c=c*p&Ai|c*y&Zi,c=c<<15|c>>>17,c=c*g&Ai|c*S&Zi,f^=c,f=f<<13|f>>>19,f=f*5+3864292196):(d=l[A],d=d*p&Ai|d*y&Zi,d=d<<15|d>>>17,d=d*g&Ai|d*S&Zi,h^=d,h=h<<13|h>>>19,h=h*5+3864292196);switch(c=0,s){case 3:c^=t[r*4+2]<<16;case 2:c^=t[r*4+1]<<8;case 1:c^=t[r*4],c=c*p&Ai|c*y&Zi,c=c<<15|c>>>17,c=c*g&Ai|c*S&Zi,r&1?f^=c:h^=c}this.h1=f,this.h2=h}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&Ai|e*36045&Zi,t=t*4283543511&Ai|((t<<16|e>>>16)*2950163797&Ai)>>>16,e^=t>>>1,e=e*444984403&Ai|e*60499&Zi,t=t*3301882366&Ai|((t<<16|e>>>16)*3120437893&Ai)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const Vy=Object.freeze({map:null,hash:"",transfer:void 0});class sb{#e=!1;#t=null;#i=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const i=this.#n.get(e);return i===void 0?t:Object.assign(t,i)}getRawValue(e){return this.#n.get(e)}remove(e){const t=this.#n.get(e);if(t!==void 0&&(t instanceof Se&&this.#i.delete(t.annotationElementId),this.#n.delete(e),this.#n.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const i of this.#n.values())if(i instanceof Se)return;this.onAnnotationEditor(null)}}setValue(e,t){const i=this.#n.get(e);let r=!1;if(i!==void 0)for(const[s,l]of Object.entries(t))i[s]!==l&&(r=!0,i[s]=l);else r=!0,this.#n.set(e,t);r&&this.#a(),t instanceof Se&&((this.#i||=new Map).set(t.annotationElementId,t),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type))}has(e){return this.#n.has(e)}get size(){return this.#n.size}#a(){this.#e||(this.#e=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new e2(this)}get serializable(){if(this.#n.size===0)return Vy;const e=new Map,t=new J_,i=[],r=Object.create(null);let s=!1;for(const[l,c]of this.#n){const d=c instanceof Se?c.serialize(!1,r):c;c.page&&(c.pageIndex=c.page._pageIndex,delete c.page),d&&(e.set(l,d),t.update(`${l}:${JSON.stringify(d)}`),s||=!!d.bitmap)}if(s)for(const l of e.values())l.bitmap&&i.push(l.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:i}:Vy}get editorStats(){let e=null;const t=new Map;let i=0,r=0;for(const s of this.#n.values()){if(!(s instanceof Se)){s.popup&&(s.popup.deleted?r+=1:i+=1);continue}s.isCommentDeleted?r+=1:s.hasEditedComment&&(i+=1);const l=s.telemetryFinalData;if(!l)continue;const{type:c}=l;t.has(c)||t.set(c,Object.getPrototypeOf(s).constructor),e||=Object.create(null);const d=e[c]||=new Map;for(const[f,h]of Object.entries(l)){if(f==="type")continue;let p=d.get(f);p||(p=new Map,d.set(f,p));const g=p.get(h)??0;p.set(h,g+1)}}if((r>0||i>0)&&(e||=Object.create(null),e.comments={deleted:r,edited:i}),!e)return null;for(const[s,l]of t)e[s]=l.computeTelemetryFinalData(e[s]);return e}resetModifiedIds(){this.#t=null}updateEditor(e,t){const i=this.#i?.get(e);return i?(i.updateFromAnnotationLayer(t),!0):!1}getEditor(e){return this.#i?.get(e)||null}get modifiedIds(){if(this.#t)return this.#t;const e=[];if(this.#i)for(const t of this.#i.values())t.serialize()&&e.push(t.annotationElementId);return this.#t={ids:new Set(e),hash:e.join(",")}}[Symbol.iterator](){return this.#n.entries()}}class e2 extends sb{#e;constructor(e){super();const{map:t,hash:i,transfer:r}=e.serializable,s=structuredClone(t,r?{transfer:r}:null);this.#e={map:s,hash:i,transfer:r}}get print(){Ye("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}get modifiedIds(){return Ce(this,"modifiedIds",{ids:new Set,hash:""})}}class CB{#e=new Set;constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:t,_inspectFont:i}){if(!(!e||this.#e.has(e.loadedName))){if(Ve(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:s,style:l}=e,c=new FontFace(r,s,l);this.addNativeFontFace(c);try{await c.load(),this.#e.add(r),i?.(e)}catch{we(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(c)}return}Ye("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const i=e.createNativeFontFace();if(i){this.addNativeFontFace(i);try{await i.loaded}catch(r){throw we(`Failed to load font '${i.family}': '${r}'.`),e.disableFontFace=!0,r}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(i=>{const r=this._queueLoadingCallback(i);this._prepareFontLoadEvent(e,r)})}}get isFontLoadingAPISupported(){const e=!!this._document?.fonts;return Ce(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return Ce(this,"isSyncFontLoadingSupported",On||Gt.platform.isFirefox)}_queueLoadingCallback(e){function t(){for(Ve(!r.done,"completeRequest() cannot be called twice."),r.done=!0;i.length>0&&i[0].done;){const s=i.shift();setTimeout(s.callback,0)}}const{loadingRequests:i}=this,r={done:!1,complete:t,callback:e};return i.push(r),r}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Ce(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function i(P,M){return P.charCodeAt(M)<<24|P.charCodeAt(M+1)<<16|P.charCodeAt(M+2)<<8|P.charCodeAt(M+3)&255}function r(P,M,_,L){const B=P.substring(0,M),F=P.substring(M+_);return B+L+F}let s,l;const c=this._document.createElement("canvas");c.width=1,c.height=1;const d=c.getContext("2d");let f=0;function h(P,M){if(++f>30){we("Load test font never loaded."),M();return}if(d.font="30px "+P,d.fillText(".",0,20),d.getImageData(0,0,1,1).data[3]>0){M();return}setTimeout(h.bind(null,P,M))}const p=`lt${Date.now()}${this.loadTestFontId++}`;let g=this._loadTestFont;g=r(g,976,p.length,p);const S=16,A=1482184792;let E=i(g,S);for(s=0,l=p.length-3;s<l;s+=4)E=E-A+i(p,s)|0;s<p.length&&(E=E-A+i(p+"XXX",s)|0),g=r(g,S,4,sB(E));const x=`url(data:font/opentype;base64,${btoa(g)});`,O=`@font-face {font-family:"${p}";src:${x}}`;this.insertRule(O);const T=this._document.createElement("div");T.style.visibility="hidden",T.style.width=T.style.height="10px",T.style.position="absolute",T.style.top=T.style.left="0px";for(const P of[e.loadedName,p]){const M=this._document.createElement("span");M.textContent="Hi",M.style.fontFamily=P,T.append(M)}this._document.body.append(T),h(p,()=>{T.remove(),t.complete()})}}class OB{#e;constructor(e,t=null,i,r){this.compiledGlyphs=Object.create(null),this.#e=e,this._inspectFont=t,i&&Object.assign(this,i),r&&(this.charProcOperatorList=r)}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const t={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(t.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,t)}return this._inspectFont?.(this),e}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${this.data.toBase64()});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${e}}`}return this._inspectFont?.(this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const i=this.loadedName+"_path_"+t;let r;try{r=e.get(i)}catch(l){we(`getPathGenerator - ignoring character: "${l}".`)}const s=Z_(r?.path);return this.fontExtraProperties||e.delete(i),this.compiledGlyphs[t]=s}get black(){return this.#e.black}get bold(){return this.#e.bold}get disableFontFace(){return this.#e.disableFontFace??!1}set disableFontFace(e){Ce(this,"disableFontFace",!!e)}get fontExtraProperties(){return this.#e.fontExtraProperties??!1}get isInvalidPDFjsFont(){return this.#e.isInvalidPDFjsFont}get isType3Font(){return this.#e.isType3Font}get italic(){return this.#e.italic}get missingFile(){return this.#e.missingFile}get remeasure(){return this.#e.remeasure}get vertical(){return this.#e.vertical}get ascent(){return this.#e.ascent}get defaultWidth(){return this.#e.defaultWidth}get descent(){return this.#e.descent}get bbox(){return this.#e.bbox}set bbox(e){Ce(this,"bbox",e)}get fontMatrix(){return this.#e.fontMatrix}get fallbackName(){return this.#e.fallbackName}get loadedName(){return this.#e.loadedName}get mimetype(){return this.#e.mimetype}get name(){return this.#e.name}get data(){return this.#e.data}clearData(){this.#e.clearData()}get cssFontInfo(){return this.#e.cssFontInfo}get systemFontInfo(){return this.#e.systemFontInfo}get defaultVMetrics(){return this.#e.defaultVMetrics}}class Yo{#e;#t;#i;static strings=["fontFamily","fontWeight","italicAngle"];static write(e){const t=new TextEncoder,i={};let r=0;for(const f of Yo.strings){const h=t.encode(e[f]);i[f]=h,r+=4+h.length}const s=new ArrayBuffer(r),l=new Uint8Array(s),c=new DataView(s);let d=0;for(const f of Yo.strings){const h=i[f],p=h.length;c.setUint32(d,p),l.set(h,d+4),d+=4+p}return Ve(d===s.byteLength,"CssFontInfo.write: Buffer overflow"),s}constructor(e){this.#e=e,this.#t=new DataView(this.#e),this.#i=new TextDecoder}#n(e){Ve(e<Yo.strings.length,"Invalid string index");let t=0;for(let r=0;r<e;r++)t+=this.#t.getUint32(t)+4;const i=this.#t.getUint32(t);return this.#i.decode(new Uint8Array(this.#e,t+4,i))}get fontFamily(){return this.#n(0)}get fontWeight(){return this.#n(1)}get italicAngle(){return this.#n(2)}}class Xo{#e;#t;#i;static strings=["css","loadedName","baseFontName","src"];static write(e){const t=new TextEncoder,i={};let r=0;for(const g of Xo.strings){const y=t.encode(e[g]);i[g]=y,r+=4+y.length}r+=4;let s,l,c=1+r;e.style&&(s=t.encode(e.style.style),l=t.encode(e.style.weight),c+=4+s.length+4+l.length);const d=new ArrayBuffer(c),f=new Uint8Array(d),h=new DataView(d);let p=0;h.setUint8(p++,e.guessFallback?1:0),h.setUint32(p,0),p+=4,r=0;for(const g of Xo.strings){const y=i[g],S=y.length;r+=4+S,h.setUint32(p,S),f.set(y,p+4),p+=4+S}return h.setUint32(p-r-4,r),e.style&&(h.setUint32(p,s.length),f.set(s,p+4),p+=4+s.length,h.setUint32(p,l.length),f.set(l,p+4),p+=4+l.length),Ve(p<=d.byteLength,"SubstitionInfo.write: Buffer overflow"),d.transferToFixedLength(p)}constructor(e){this.#e=e,this.#t=new DataView(this.#e),this.#i=new TextDecoder}get guessFallback(){return this.#t.getUint8(0)!==0}#n(e){Ve(e<Xo.strings.length,"Invalid string index");let t=5;for(let r=0;r<e;r++)t+=this.#t.getUint32(t)+4;const i=this.#t.getUint32(t);return this.#i.decode(new Uint8Array(this.#e,t+4,i))}get css(){return this.#n(0)}get loadedName(){return this.#n(1)}get baseFontName(){return this.#n(2)}get src(){return this.#n(3)}get style(){let e=1;e+=4+this.#t.getUint32(e);const t=this.#t.getUint32(e),i=this.#i.decode(new Uint8Array(this.#e,e+4,t));e+=4+t;const r=this.#t.getUint32(e),s=this.#i.decode(new Uint8Array(this.#e,e+4,r));return{style:i,weight:s}}}class rt{static bools=["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"];static numbers=["ascent","defaultWidth","descent"];static strings=["fallbackName","loadedName","mimetype","name"];static#e=Math.ceil(this.bools.length*2/8);static#t=this.#e+this.numbers.length*8;static#i=this.#t+1+8;static#n=this.#i+1+48;static#a=this.#n+1+6;#s;#r;#o;constructor({data:e,extra:t}){this.#s=e,this.#r=new TextDecoder,this.#o=new DataView(this.#s),t&&Object.assign(this,t)}#c(e){Ve(e<rt.bools.length,"Invalid boolean index");const t=Math.floor(e/4),i=e*2%8,r=this.#o.getUint8(t)>>i&3;return r===0?void 0:r===2}get black(){return this.#c(0)}get bold(){return this.#c(1)}get disableFontFace(){return this.#c(2)}get fontExtraProperties(){return this.#c(3)}get isInvalidPDFjsFont(){return this.#c(4)}get isType3Font(){return this.#c(5)}get italic(){return this.#c(6)}get missingFile(){return this.#c(7)}get remeasure(){return this.#c(8)}get vertical(){return this.#c(9)}#l(e){return Ve(e<rt.numbers.length,"Invalid number index"),this.#o.getFloat64(rt.#e+e*8)}get ascent(){return this.#l(0)}get defaultWidth(){return this.#l(1)}get descent(){return this.#l(2)}get bbox(){let e=rt.#t;if(this.#o.getUint8(e)===0)return;e+=1;const i=[];for(let r=0;r<4;r++)i.push(this.#o.getInt16(e,!0)),e+=2;return i}get fontMatrix(){let e=rt.#i;if(this.#o.getUint8(e)===0)return;e+=1;const i=[];for(let r=0;r<6;r++)i.push(this.#o.getFloat64(e,!0)),e+=8;return i}get defaultVMetrics(){let e=rt.#n;if(this.#o.getUint8(e)===0)return;e+=1;const i=[];for(let r=0;r<3;r++)i.push(this.#o.getInt16(e,!0)),e+=2;return i}#f(e){Ve(e<rt.strings.length,"Invalid string index");let t=rt.#a+4;for(let s=0;s<e;s++)t+=this.#o.getUint32(t)+4;const i=this.#o.getUint32(t),r=new Uint8Array(i);return r.set(new Uint8Array(this.#s,t+4,i)),this.#r.decode(r)}get fallbackName(){return this.#f(0)}get loadedName(){return this.#f(1)}get mimetype(){return this.#f(2)}get name(){return this.#f(3)}get data(){let e=rt.#a;const t=this.#o.getUint32(e);e+=4+t;const i=this.#o.getUint32(e);e+=4+i;const r=this.#o.getUint32(e);e+=4+r;const s=this.#o.getUint32(e);if(s!==0)return new Uint8Array(this.#s,e+4,s)}clearData(){let e=rt.#a;const t=this.#o.getUint32(e);e+=4+t;const i=this.#o.getUint32(e);e+=4+i;const r=this.#o.getUint32(e);e+=4+r;const s=this.#o.getUint32(e);new Uint8Array(this.#s,e+4,s).fill(0),this.#o.setUint32(e,0)}get cssFontInfo(){let e=rt.#a;const t=this.#o.getUint32(e);e+=4+t;const i=this.#o.getUint32(e);e+=4+i;const r=this.#o.getUint32(e);if(r===0)return null;const s=new Uint8Array(r);return s.set(new Uint8Array(this.#s,e+4,r)),new Yo(s.buffer)}get systemFontInfo(){let e=rt.#a;const t=this.#o.getUint32(e);e+=4+t;const i=this.#o.getUint32(e);if(i===0)return null;const r=new Uint8Array(i);return r.set(new Uint8Array(this.#s,e+4,i)),new Xo(r.buffer)}static write(e){const t=e.systemFontInfo?Xo.write(e.systemFontInfo):null,i=e.cssFontInfo?Yo.write(e.cssFontInfo):null,r=new TextEncoder,s={};let l=0;for(const A of rt.strings)s[A]=r.encode(e[A]),l+=4+s[A].length;const c=rt.#a+4+l+4+(t?t.byteLength:0)+4+(i?i.byteLength:0)+4+(e.data?e.data.length:0),d=new ArrayBuffer(c),f=new Uint8Array(d),h=new DataView(d);let p=0;const g=rt.bools.length;let y=0,S=0;for(let A=0;A<g;A++){const E=e[rt.bools[A]];y|=(E===void 0?0:E?2:1)<<S,S+=2,(S===8||A===g-1)&&(h.setUint8(p++,y),y=0,S=0)}Ve(p===rt.#e,"FontInfo.write: Boolean properties offset mismatch");for(const A of rt.numbers)h.setFloat64(p,e[A]),p+=8;if(Ve(p===rt.#t,"FontInfo.write: Number properties offset mismatch"),e.bbox){h.setUint8(p++,4);for(const A of e.bbox)h.setInt16(p,A,!0),p+=2}else h.setUint8(p++,0),p+=8;if(Ve(p===rt.#i,"FontInfo.write: BBox properties offset mismatch"),e.fontMatrix){h.setUint8(p++,6);for(const A of e.fontMatrix)h.setFloat64(p,A,!0),p+=8}else h.setUint8(p++,0),p+=48;if(Ve(p===rt.#n,"FontInfo.write: FontMatrix properties offset mismatch"),e.defaultVMetrics){h.setUint8(p++,1);for(const A of e.defaultVMetrics)h.setInt16(p,A,!0),p+=2}else h.setUint8(p++,0),p+=6;Ve(p===rt.#a,"FontInfo.write: DefaultVMetrics properties offset mismatch"),h.setUint32(rt.#a,0),p+=4;for(const A of rt.strings){const E=s[A],x=E.length;h.setUint32(p,x),f.set(E,p+4),p+=4+x}if(h.setUint32(rt.#a,p-rt.#a-4),!t)h.setUint32(p,0),p+=4;else{const A=t.byteLength;h.setUint32(p,A),Ve(p+4+A<=d.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),f.set(new Uint8Array(t),p+4),p+=4+A}if(!i)h.setUint32(p,0),p+=4;else{const A=i.byteLength;h.setUint32(p,A),Ve(p+4+A<=d.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),f.set(new Uint8Array(i),p+4),p+=4+A}return e.data===void 0?(h.setUint32(p,0),p+=4):(h.setUint32(p,e.data.length),f.set(e.data,p+4),p+=4+e.data.length),Ve(p<=d.byteLength,"FontInfo.write: Buffer overflow"),d.transferToFixedLength(p)}}class Zt{static#e=0;static#t=1;static#i=2;static#n=3;static#a=4;static#s=8;static#r=12;static#o=16;constructor(e){this.buffer=e,this.view=new DataView(e),this.data=new Uint8Array(e)}static write(e){let t,i=null,r=[],s=[],l=[],c=[],d=null,f=null;switch(e[0]){case"RadialAxial":t=e[1]==="axial"?1:2,i=e[2],l=e[3],t===1?r.push(...e[4],...e[5]):r.push(e[4][0],e[4][1],e[6],e[5][0],e[5][1],e[7]);break;case"Mesh":t=3,d=e[1],r=e[2],s=e[3],c=e[4]||[],i=e[6],f=e[7];break;default:throw new Error(`Unsupported pattern type: ${e[0]}`)}const h=Math.floor(r.length/2),p=Math.floor(s.length/3),g=l.length,y=c.length;let S=0;for(const M of c)S+=1,S=Math.ceil(S/4)*4,S+=4+M.coords.length*4,S+=4+M.colors.length*4,M.verticesPerRow!==void 0&&(S+=4);const A=20+h*8+p*3+g*8+(i?16:0)+(f?3:0)+S,E=new ArrayBuffer(A),x=new DataView(E),O=new Uint8Array(E);x.setUint8(Zt.#e,t),x.setUint8(Zt.#t,i?1:0),x.setUint8(Zt.#i,f?1:0),x.setUint8(Zt.#n,d),x.setUint32(Zt.#a,h,!0),x.setUint32(Zt.#s,p,!0),x.setUint32(Zt.#r,g,!0),x.setUint32(Zt.#o,y,!0);let T=20;new Float32Array(E,T,h*2).set(r),T+=h*8,O.set(s,T),T+=p*3;for(const[M,_]of l)x.setFloat32(T,M,!0),T+=4,x.setUint32(T,parseInt(_.slice(1),16),!0),T+=4;if(i)for(const M of i)x.setFloat32(T,M,!0),T+=4;f&&(O.set(f,T),T+=3);for(let M=0;M<c.length;M++){const _=c[M];x.setUint8(T,_.type),T+=1,T=Math.ceil(T/4)*4,x.setUint32(T,_.coords.length,!0),T+=4,new Int32Array(E,T,_.coords.length).set(_.coords),T+=_.coords.length*4,x.setUint32(T,_.colors.length,!0),T+=4,new Int32Array(E,T,_.colors.length).set(_.colors),T+=_.colors.length*4,_.verticesPerRow!==void 0&&(x.setUint32(T,_.verticesPerRow,!0),T+=4)}return E}getIR(){const e=this.view,t=this.data[Zt.#e],i=!!this.data[Zt.#t],r=!!this.data[Zt.#i],s=e.getUint32(Zt.#a,!0),l=e.getUint32(Zt.#s,!0),c=e.getUint32(Zt.#r,!0),d=e.getUint32(Zt.#o,!0);let f=20;const h=new Float32Array(this.buffer,f,s*2);f+=s*8;const p=new Uint8Array(this.buffer,f,l*3);f+=l*3;const g=[];for(let E=0;E<c;++E){const x=e.getFloat32(f,!0);f+=4;const O=e.getUint32(f,!0);f+=4,g.push([x,`#${O.toString(16).padStart(6,"0")}`])}let y=null;if(i){y=[];for(let E=0;E<4;++E)y.push(e.getFloat32(f,!0)),f+=4}let S=null;r&&(S=new Uint8Array(this.buffer,f,3),f+=3);const A=[];for(let E=0;E<d;++E){const x=e.getUint8(f);f+=1,f=Math.ceil(f/4)*4;const O=e.getUint32(f,!0);f+=4;const T=new Int32Array(this.buffer,f,O);f+=O*4;const P=e.getUint32(f,!0);f+=4;const M=new Int32Array(this.buffer,f,P);f+=P*4;const _={type:x,coords:T,colors:M};x===Uy.LATTICE&&(_.verticesPerRow=e.getUint32(f,!0),f+=4),A.push(_)}if(t===1)return["RadialAxial","axial",y,g,Array.from(h.slice(0,2)),Array.from(h.slice(2,4)),null,null];if(t===2)return["RadialAxial","radial",y,g,[h[0],h[1]],[h[3],h[4]],h[2],h[5]];if(t===3){const E=this.data[Zt.#n];let x=null;if(h.length>0){let O=h[0],T=h[0],P=h[1],M=h[1];for(let _=0;_<h.length;_+=2){const L=h[_],B=h[_+1];O=O>L?L:O,P=P>B?B:P,T=T<L?L:T,M=M<B?B:M}x=[O,P,T,M]}return["Mesh",E,h,p,A,x,y,S]}throw new Error(`Unsupported pattern kind: ${t}`)}}class TB{static write(e){let t,i;return Gt.isFloat16ArraySupported?(i=new ArrayBuffer(e.length*2),t=new Float16Array(i)):(i=new ArrayBuffer(e.length*4),t=new Float32Array(i)),t.set(e),i}#e;constructor(e){this.#e=e}get path(){return Gt.isFloat16ArraySupported?new Float16Array(this.#e):new Float32Array(this.#e)}}function MB(n){if(n instanceof URL)return n.href;if(typeof n=="string"){if(On)return n;const e=URL.parse(n,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function _B(n){if(On&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return _h(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n?.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Xd(n){if(typeof n!="string")return null;if(n.endsWith("/"))return n;throw new Error(`Invalid factory url: "${n}" must include trailing slash.`)}const Yy=n=>typeof n=="object"&&Number.isInteger(n?.num)&&n.num>=0&&Number.isInteger(n?.gen)&&n.gen>=0,PB=n=>typeof n=="object"&&typeof n?.name=="string",DB=dB.bind(null,Yy,PB);class LB{#e=new Map;#t=Promise.resolve();postMessage(e,t){const i={data:structuredClone(e,t?{transfer:t}:null)};this.#t.then(()=>{for(const[r]of this.#e)r.call(this,i)})}addEventListener(e,t,i=null){let r=null;if(i?.signal instanceof AbortSignal){const{signal:s}=i;if(s.aborted){we("LoopbackPort - cannot use an `aborted` signal.");return}const l=()=>this.removeEventListener(e,t);r=()=>s.removeEventListener("abort",l),s.addEventListener("abort",l)}this.#e.set(t,r)}removeEventListener(e,t){this.#e.get(t)?.(),this.#e.delete(t)}terminate(){for(const[,e]of this.#e)e?.();this.#e.clear()}}const Kd={DATA:1,ERROR:2},Bt={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function _w(){}function Un(n){if(n instanceof Ua||n instanceof Hy||n instanceof Sw||n instanceof _f||n instanceof ev)return n;switch(n instanceof Error||typeof n=="object"&&n!==null||Ye('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new Ua(n.message);case"InvalidPDFException":return new Hy(n.message);case"PasswordException":return new Sw(n.message,n.code);case"ResponseException":return new _f(n.message,n.status,n.missing);case"UnknownErrorException":return new ev(n.message,n.details)}return new ev(n.message,n.toString())}class Lc{#e=new AbortController;constructor(e,t,i){this.sourceName=e,this.targetName=t,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),i.addEventListener("message",this.#t.bind(this),{signal:this.#e.signal})}#t({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){this.#n(e);return}if(e.callback){const i=e.callbackId,r=this.callbackCapabilities[i];if(!r)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],e.callback===Kd.DATA)r.resolve(e.data);else if(e.callback===Kd.ERROR)r.reject(Un(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const i=this.sourceName,r=e.sourceName,s=this.comObj;Promise.try(t,e.data).then(function(l){s.postMessage({sourceName:i,targetName:r,callback:Kd.DATA,callbackId:e.callbackId,data:l})},function(l){s.postMessage({sourceName:i,targetName:r,callback:Kd.ERROR,callbackId:e.callbackId,reason:Un(l)})});return}if(e.streamId){this.#i(e);return}t(e.data)}on(e,t){const i=this.actionHandler;if(i[e])throw new Error(`There is already an actionName called "${e}"`);i[e]=t}send(e,t,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},i)}sendWithPromise(e,t,i){const r=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[r]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:r,data:t},i)}catch(l){s.reject(l)}return s.promise}sendWithStream(e,t,i,r){const s=this.streamId++,l=this.sourceName,c=this.targetName,d=this.comObj;return new ReadableStream({start:f=>{const h=Promise.withResolvers();return this.streamControllers[s]={controller:f,startCall:h,pullCall:null,cancelCall:null,isClosed:!1},d.postMessage({sourceName:l,targetName:c,action:e,streamId:s,data:t,desiredSize:f.desiredSize},r),h.promise},pull:f=>{const h=Promise.withResolvers();return this.streamControllers[s].pullCall=h,d.postMessage({sourceName:l,targetName:c,stream:Bt.PULL,streamId:s,desiredSize:f.desiredSize}),h.promise},cancel:f=>{Ve(f instanceof Error,"cancel must have a valid reason");const h=Promise.withResolvers();return this.streamControllers[s].cancelCall=h,this.streamControllers[s].isClosed=!0,d.postMessage({sourceName:l,targetName:c,stream:Bt.CANCEL,streamId:s,reason:Un(f)}),h.promise}},i)}#i(e){const t=e.streamId,i=this.sourceName,r=e.sourceName,s=this.comObj,l=this,c=this.actionHandler[e.action],d={enqueue(f,h=1,p){if(this.isCancelled)return;const g=this.desiredSize;this.desiredSize-=h,g>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:i,targetName:r,stream:Bt.ENQUEUE,streamId:t,chunk:f},p)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:r,stream:Bt.CLOSE,streamId:t}),delete l.streamSinks[t])},error(f){Ve(f instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:r,stream:Bt.ERROR,streamId:t,reason:Un(f)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};d.sinkCapability.resolve(),d.ready=d.sinkCapability.promise,this.streamSinks[t]=d,Promise.try(c,e.data,d).then(function(){s.postMessage({sourceName:i,targetName:r,stream:Bt.START_COMPLETE,streamId:t,success:!0})},function(f){s.postMessage({sourceName:i,targetName:r,stream:Bt.START_COMPLETE,streamId:t,reason:Un(f)})})}#n(e){const t=e.streamId,i=this.sourceName,r=e.sourceName,s=this.comObj,l=this.streamControllers[t],c=this.streamSinks[t];switch(e.stream){case Bt.START_COMPLETE:e.success?l.startCall.resolve():l.startCall.reject(Un(e.reason));break;case Bt.PULL_COMPLETE:e.success?l.pullCall.resolve():l.pullCall.reject(Un(e.reason));break;case Bt.PULL:if(!c){s.postMessage({sourceName:i,targetName:r,stream:Bt.PULL_COMPLETE,streamId:t,success:!0});break}c.desiredSize<=0&&e.desiredSize>0&&c.sinkCapability.resolve(),c.desiredSize=e.desiredSize,Promise.try(c.onPull||_w).then(function(){s.postMessage({sourceName:i,targetName:r,stream:Bt.PULL_COMPLETE,streamId:t,success:!0})},function(f){s.postMessage({sourceName:i,targetName:r,stream:Bt.PULL_COMPLETE,streamId:t,reason:Un(f)})});break;case Bt.ENQUEUE:if(Ve(l,"enqueue should have stream controller"),l.isClosed)break;l.controller.enqueue(e.chunk);break;case Bt.CLOSE:if(Ve(l,"close should have stream controller"),l.isClosed)break;l.isClosed=!0,l.controller.close(),this.#a(l,t);break;case Bt.ERROR:Ve(l,"error should have stream controller"),l.controller.error(Un(e.reason)),this.#a(l,t);break;case Bt.CANCEL_COMPLETE:e.success?l.cancelCall.resolve():l.cancelCall.reject(Un(e.reason)),this.#a(l,t);break;case Bt.CANCEL:if(!c)break;const d=Un(e.reason);Promise.try(c.onCancel||_w,d).then(function(){s.postMessage({sourceName:i,targetName:r,stream:Bt.CANCEL_COMPLETE,streamId:t,success:!0})},function(f){s.postMessage({sourceName:i,targetName:r,stream:Bt.CANCEL_COMPLETE,streamId:t,reason:Un(f)})}),c.sinkCapability.reject(d),c.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}async#a(e,t){await Promise.allSettled([e.startCall?.promise,e.pullCall?.promise,e.cancelCall?.promise]),delete this.streamControllers[t]}destroy(){this.#e?.abort(),this.#e=null}}class t2{#e=!1;constructor({enableHWA:e=!1}){this.#e=e}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(e,t);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!this.#e})}}reset(e,t,i){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||i<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=i}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){Ye("Abstract method `_createCanvas` called.")}}class NB extends t2{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const i=this._document.createElement("canvas");return i.width=e,i.height=t,i}}class n2{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(i=>({cMapData:i,isCompressed:this.isCompressed})).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){Ye("Abstract method `_fetch` called.")}}class Pw extends n2{async _fetch(e){const t=await su(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):_h(t)}}class i2{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,i,r,s){return"none"}destroy(e=!1){}}class RB extends i2{#e;#t;#i;#n;#a;#s;#r=0;constructor({docId:e,ownerDocument:t=globalThis.document}){super(),this.#n=e,this.#a=t}get#o(){return this.#t||=new Map}get#c(){return this.#s||=new Map}get#l(){if(!this.#i){const e=this.#a.createElement("div"),{style:t}=e;t.visibility="hidden",t.contain="strict",t.width=t.height=0,t.position="absolute",t.top=t.left=0,t.zIndex=-1;const i=this.#a.createElementNS(Ir,"svg");i.setAttribute("width",0),i.setAttribute("height",0),this.#i=this.#a.createElementNS(Ir,"defs"),e.append(i),i.append(this.#i),this.#a.body.append(e)}return this.#i}#f(e){if(e.length===1){const d=e[0],f=new Array(256);for(let p=0;p<256;p++)f[p]=d[p]/255;const h=f.join(",");return[h,h,h]}const[t,i,r]=e,s=new Array(256),l=new Array(256),c=new Array(256);for(let d=0;d<256;d++)s[d]=t[d]/255,l[d]=i[d]/255,c[d]=r[d]/255;return[s.join(","),l.join(","),c.join(",")]}#d(e){if(this.#e===void 0){this.#e="";const t=this.#a.URL;t!==this.#a.baseURI&&(Ph(t)?we('#createUrl: ignore "data:"-URL for performance reasons.'):this.#e=Y_(t,""))}return`url(${this.#e}#${e})`}addFilter(e){if(!e)return"none";let t=this.#o.get(e);if(t)return t;const[i,r,s]=this.#f(e),l=e.length===1?i:`${i}${r}${s}`;if(t=this.#o.get(l),t)return this.#o.set(e,t),t;const c=`g_${this.#n}_transfer_map_${this.#r++}`,d=this.#d(c);this.#o.set(e,d),this.#o.set(l,d);const f=this.#m(c);return this.#p(i,r,s,f),d}addHCMFilter(e,t){const i=`${e}-${t}`,r="base";let s=this.#c.get(r);if(s?.key===i||(s?(s.filter?.remove(),s.key=i,s.url="none",s.filter=null):(s={key:i,url:"none",filter:null},this.#c.set(r,s)),!e||!t))return s.url;const l=this.#b(e);e=ue.makeHexColor(...l);const c=this.#b(t);if(t=ue.makeHexColor(...c),this.#l.style.color="",e==="#000000"&&t==="#ffffff"||e===t)return s.url;const d=new Array(256);for(let y=0;y<=255;y++){const S=y/255;d[y]=S<=.03928?S/12.92:((S+.055)/1.055)**2.4}const f=d.join(","),h=`g_${this.#n}_hcm_filter`,p=s.filter=this.#m(h);this.#p(f,f,f,p),this.#g(p);const g=(y,S)=>{const A=l[y]/255,E=c[y]/255,x=new Array(S+1);for(let O=0;O<=S;O++)x[O]=A+O/S*(E-A);return x.join(",")};return this.#p(g(0,5),g(1,5),g(2,5),p),s.url=this.#d(h),s.url}addAlphaFilter(e){let t=this.#o.get(e);if(t)return t;const[i]=this.#f([e]),r=`alpha_${i}`;if(t=this.#o.get(r),t)return this.#o.set(e,t),t;const s=`g_${this.#n}_alpha_map_${this.#r++}`,l=this.#d(s);this.#o.set(e,l),this.#o.set(r,l);const c=this.#m(s);return this.#v(i,c),l}addLuminosityFilter(e){let t=this.#o.get(e||"luminosity");if(t)return t;let i,r;if(e?([i]=this.#f([e]),r=`luminosity_${i}`):r="luminosity",t=this.#o.get(r),t)return this.#o.set(e,t),t;const s=`g_${this.#n}_luminosity_map_${this.#r++}`,l=this.#d(s);this.#o.set(e,l),this.#o.set(r,l);const c=this.#m(s);return this.#h(c),e&&this.#v(i,c),l}addHighlightHCMFilter(e,t,i,r,s){const l=`${t}-${i}-${r}-${s}`;let c=this.#c.get(e);if(c?.key===l||(c?(c.filter?.remove(),c.key=l,c.url="none",c.filter=null):(c={key:l,url:"none",filter:null},this.#c.set(e,c)),!t||!i))return c.url;const[d,f]=[t,i].map(this.#b.bind(this));let h=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),p=Math.round(.2126*f[0]+.7152*f[1]+.0722*f[2]),[g,y]=[r,s].map(this.#b.bind(this));p<h&&([h,p,g,y]=[p,h,y,g]),this.#l.style.color="";const S=(x,O,T)=>{const P=new Array(256),M=(p-h)/T,_=x/255,L=(O-x)/(255*T);let B=0;for(let F=0;F<=T;F++){const X=Math.round(h+F*M),q=_+F*L;for(let $=B;$<=X;$++)P[$]=q;B=X+1}for(let F=B;F<256;F++)P[F]=P[B-1];return P.join(",")},A=`g_${this.#n}_hcm_${e}_filter`,E=c.filter=this.#m(A);return this.#g(E),this.#p(S(g[0],y[0],5),S(g[1],y[1],5),S(g[2],y[2],5),E),c.url=this.#d(A),c.url}destroy(e=!1){e&&this.#s?.size||(this.#i?.parentNode.parentNode.remove(),this.#i=null,this.#t?.clear(),this.#t=null,this.#s?.clear(),this.#s=null,this.#r=0)}#h(e){const t=this.#a.createElementNS(Ir,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(t)}#g(e){const t=this.#a.createElementNS(Ir,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(t)}#m(e){const t=this.#a.createElementNS(Ir,"filter");return t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("id",e),this.#l.append(t),t}#u(e,t,i){const r=this.#a.createElementNS(Ir,t);r.setAttribute("type","discrete"),r.setAttribute("tableValues",i),e.append(r)}#p(e,t,i,r){const s=this.#a.createElementNS(Ir,"feComponentTransfer");r.append(s),this.#u(s,"feFuncR",e),this.#u(s,"feFuncG",t),this.#u(s,"feFuncB",i)}#v(e,t){const i=this.#a.createElementNS(Ir,"feComponentTransfer");t.append(i),this.#u(i,"feFuncA",e)}#b(e){return this.#l.style.color=e,lu(getComputedStyle(this.#l).getPropertyValue("color"))}}class r2{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(i=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){Ye("Abstract method `_fetch` called.")}}class Dw extends r2{async _fetch(e){const t=await su(e,"arraybuffer");return new Uint8Array(t)}}class a2{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(i=>{throw new Error(`Unable to load wasm data at: ${t}`)})}async _fetch(e){Ye("Abstract method `_fetch` called.")}}class Lw extends a2{async _fetch(e){const t=await su(e,"arraybuffer");return new Uint8Array(t)}}On&&we("Please use the `legacy` build in Node.js environments.");async function ob(n){const t=await process.getBuiltinModule("fs").promises.readFile(n);return new Uint8Array(t)}class IB extends i2{}class kB extends t2{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class BB extends n2{async _fetch(e){return ob(e)}}class jB extends r2{async _fetch(e){return ob(e)}}class zB extends a2{async _fetch(e){return ob(e)}}const Do="__forcedDependency",{floor:Nw,ceil:Rw}=Math;function Wd(n,e,t,i,r,s){n[e*4+0]=Math.min(n[e*4+0],t),n[e*4+1]=Math.min(n[e*4+1],i),n[e*4+2]=Math.max(n[e*4+2],r),n[e*4+3]=Math.max(n[e*4+3],s)}const Xy=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];class FB{#e;#t;constructor(e,t){this.#e=e,this.#t=t}get length(){return this.#e.length}isEmpty(e){return this.#e[e]===Xy}minX(e){return this.#t[e*4+0]/256}minY(e){return this.#t[e*4+1]/256}maxX(e){return(this.#t[e*4+2]+1)/256}maxY(e){return(this.#t[e*4+3]+1)/256}}const Zd=(n,e)=>{if(!n)return;let t=n.get(e);return t||(t={dependencies:new Set,isRenderingOperation:!1},n.set(e,t)),t};class UB{#e={__proto__:null};#t={__proto__:null,transform:[],moveText:[],sameLineText:[],[Do]:[]};#i=new Map;#n=[];#a=[];#s=[[1,0,0,1,0,0]];#r=[-1/0,-1/0,1/0,1/0];#o=new Float64Array([1/0,1/0,-1/0,-1/0]);#c=-1;#l=new Set;#f=new Map;#d=new Map;#h;#g;#m;#u;#p;constructor(e,t,i=!1){this.#h=e.width,this.#g=e.height,this.#v(t),i&&(this.#p=new Map)}growOperationsCount(e){e>=this.#u.length&&this.#v(e,this.#u)}#v(e,t){const i=new ArrayBuffer(e*4);this.#m=new Uint8ClampedArray(i),this.#u=new Uint32Array(i),t&&t.length>0?(this.#u.set(t),this.#u.fill(Xy,t.length)):this.#u.fill(Xy)}save(e){return this.#e={__proto__:this.#e},this.#t={__proto__:this.#t,transform:{__proto__:this.#t.transform},moveText:{__proto__:this.#t.moveText},sameLineText:{__proto__:this.#t.sameLineText},[Do]:{__proto__:this.#t[Do]}},this.#r={__proto__:this.#r},this.#n.push(e),this}restore(e){const t=Object.getPrototypeOf(this.#e);if(t===null)return this;this.#e=t,this.#t=Object.getPrototypeOf(this.#t),this.#r=Object.getPrototypeOf(this.#r);const i=this.#n.pop();return i!==void 0&&(Zd(this.#p,e)?.dependencies.add(i),this.#u[e]=this.#u[i]),this}recordOpenMarker(e){return this.#n.push(e),this}getOpenMarker(){return this.#n.length===0?null:this.#n.at(-1)}recordCloseMarker(e){const t=this.#n.pop();return t!==void 0&&(Zd(this.#p,e)?.dependencies.add(t),this.#u[e]=this.#u[t]),this}beginMarkedContent(e){return this.#a.push(e),this}endMarkedContent(e){const t=this.#a.pop();return t!==void 0&&(Zd(this.#p,e)?.dependencies.add(t),this.#u[e]=this.#u[t]),this}pushBaseTransform(e){return this.#s.push(ue.multiplyByDOMMatrix(this.#s.at(-1),e.getTransform())),this}popBaseTransform(){return this.#s.length>1&&this.#s.pop(),this}recordSimpleData(e,t){return this.#e[e]=t,this}recordIncrementalData(e,t){return this.#t[e].push(t),this}resetIncrementalData(e,t){return this.#t[e].length=0,this}recordNamedData(e,t){return this.#i.set(e,t),this}recordSimpleDataFromNamed(e,t,i){this.#e[e]=this.#i.get(t)??i}recordFutureForcedDependency(e,t){return this.recordIncrementalData(Do,t),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const t of e)t in this.#e&&this.recordFutureForcedDependency(t,this.#e[t]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of this.#l)this.recordFutureForcedDependency(Do,e);return this}resetBBox(e){return this.#c!==e&&(this.#c=e,this.#o[0]=1/0,this.#o[1]=1/0,this.#o[2]=-1/0,this.#o[3]=-1/0),this}recordClipBox(e,t,i,r,s,l){const c=ue.multiplyByDOMMatrix(this.#s.at(-1),t.getTransform()),d=[1/0,1/0,-1/0,-1/0];ue.axialAlignedBoundingBox([i,s,r,l],c,d);const f=ue.intersect(this.#r,d);return f?(this.#r[0]=f[0],this.#r[1]=f[1],this.#r[2]=f[2],this.#r[3]=f[3]):(this.#r[0]=this.#r[1]=1/0,this.#r[2]=this.#r[3]=-1/0),this}recordBBox(e,t,i,r,s,l){const c=this.#r;if(c[0]===1/0)return this;const d=ue.multiplyByDOMMatrix(this.#s.at(-1),t.getTransform());if(c[0]===-1/0)return ue.axialAlignedBoundingBox([i,s,r,l],d,this.#o),this;const f=[1/0,1/0,-1/0,-1/0];return ue.axialAlignedBoundingBox([i,s,r,l],d,f),this.#o[0]=Math.min(this.#o[0],Math.max(f[0],c[0])),this.#o[1]=Math.min(this.#o[1],Math.max(f[1],c[1])),this.#o[2]=Math.max(this.#o[2],Math.min(f[2],c[2])),this.#o[3]=Math.max(this.#o[3],Math.min(f[3],c[3])),this}recordCharacterBBox(e,t,i,r=1,s=0,l=0,c){const d=i.bbox;let f,h;if(d&&(f=d[2]!==d[0]&&d[3]!==d[1]&&this.#d.get(i),f!==!1&&(h=[0,0,0,0],ue.axialAlignedBoundingBox(d,i.fontMatrix,h),(r!==1||s!==0||l!==0)&&ue.scaleMinMax([r,0,0,-r,s,l],h),f)))return this.recordBBox(e,t,h[0],h[2],h[1],h[3]);if(!c)return this.recordFullPageBBox(e);const p=c();return d&&h&&f===void 0&&(f=h[0]<=s-p.actualBoundingBoxLeft&&h[2]>=s+p.actualBoundingBoxRight&&h[1]<=l-p.actualBoundingBoxAscent&&h[3]>=l+p.actualBoundingBoxDescent,this.#d.set(i,f),f)?this.recordBBox(e,t,h[0],h[2],h[1],h[3]):this.recordBBox(e,t,s-p.actualBoundingBoxLeft,s+p.actualBoundingBoxRight,l-p.actualBoundingBoxAscent,l+p.actualBoundingBoxDescent)}recordFullPageBBox(e){return this.#o[0]=Math.max(0,this.#r[0]),this.#o[1]=Math.max(0,this.#r[1]),this.#o[2]=Math.min(this.#h,this.#r[2]),this.#o[3]=Math.min(this.#g,this.#r[3]),this}getSimpleIndex(e){return this.#e[e]}recordDependencies(e,t){const i=this.#l,r=this.#e,s=this.#t;for(const l of t)l in this.#e?i.add(r[l]):l in s&&s[l].forEach(i.add,i);return this}recordNamedDependency(e,t){return this.#i.has(t)&&this.#l.add(this.#i.get(t)),this}recordOperation(e,t=!1){if(this.recordDependencies(e,[Do]),this.#p){const i=Zd(this.#p,e),{dependencies:r}=i;this.#l.forEach(r.add,r),this.#n.forEach(r.add,r),this.#a.forEach(r.add,r),r.delete(e),i.isRenderingOperation=!0}if(this.#c===e){const i=Nw(this.#o[0]*256/this.#h),r=Nw(this.#o[1]*256/this.#g),s=Rw(this.#o[2]*256/this.#h),l=Rw(this.#o[3]*256/this.#g);Wd(this.#m,e,i,r,s,l);for(const c of this.#l)c!==e&&Wd(this.#m,c,i,r,s,l);for(const c of this.#n)c!==e&&Wd(this.#m,c,i,r,s,l);for(const c of this.#a)c!==e&&Wd(this.#m,c,i,r,s,l);t||(this.#l.clear(),this.#c=-1)}return this}recordShowTextOperation(e,t=!1){const i=Array.from(this.#l);this.recordOperation(e,t),this.recordIncrementalData("sameLineText",e);for(const r of i)this.recordIncrementalData("sameLineText",r);return this}bboxToClipBoxDropOperation(e,t=!1){return this.#c===e&&(this.#c=-1,this.#r[0]=Math.max(this.#r[0],this.#o[0]),this.#r[1]=Math.max(this.#r[1],this.#o[1]),this.#r[2]=Math.min(this.#r[2],this.#o[2]),this.#r[3]=Math.min(this.#r[3],this.#o[3]),t||this.#l.clear()),this}_takePendingDependencies(){const e=this.#l;return this.#l=new Set,e}_extractOperation(e){const t=this.#f.get(e);return this.#f.delete(e),t}_pushPendingDependencies(e){for(const t of e)this.#l.add(t)}take(){return this.#d.clear(),new FB(this.#u,this.#m)}takeDebugMetadata(){return this.#p}}class Pf{#e;#t;#i;#n=0;#a=0;constructor(e,t,i){if(e instanceof Pf&&e.#i===!!i)return e;this.#e=e,this.#t=t,this.#i=!!i}growOperationsCount(){throw new Error("Unreachable")}save(e){return this.#a++,this.#e.save(this.#t),this}restore(e){return this.#a>0&&(this.#e.restore(this.#t),this.#a--),this}recordOpenMarker(e){return this.#n++,this}getOpenMarker(){return this.#n>0?this.#t:this.#e.getOpenMarker()}recordCloseMarker(e){return this.#n--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return this.#e.pushBaseTransform(e),this}popBaseTransform(){return this.#e.popBaseTransform(),this}recordSimpleData(e,t){return this.#e.recordSimpleData(e,this.#t),this}recordIncrementalData(e,t){return this.#e.recordIncrementalData(e,this.#t),this}resetIncrementalData(e,t){return this.#e.resetIncrementalData(e,this.#t),this}recordNamedData(e,t){return this}recordSimpleDataFromNamed(e,t,i){return this.#e.recordSimpleDataFromNamed(e,t,this.#t),this}recordFutureForcedDependency(e,t){return this.#e.recordFutureForcedDependency(e,this.#t),this}inheritSimpleDataAsFutureForcedDependencies(e){return this.#e.inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return this.#e.inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return this.#i||this.#e.resetBBox(this.#t),this}recordClipBox(e,t,i,r,s,l){return this.#i||this.#e.recordClipBox(this.#t,t,i,r,s,l),this}recordBBox(e,t,i,r,s,l){return this.#i||this.#e.recordBBox(this.#t,t,i,r,s,l),this}recordCharacterBBox(e,t,i,r,s,l,c){return this.#i||this.#e.recordCharacterBBox(this.#t,t,i,r,s,l,c),this}recordFullPageBBox(e){return this.#i||this.#e.recordFullPageBBox(this.#t),this}getSimpleIndex(e){return this.#e.getSimpleIndex(e)}recordDependencies(e,t){return this.#e.recordDependencies(this.#t,t),this}recordNamedDependency(e,t){return this.#e.recordNamedDependency(this.#t,t),this}recordOperation(e){return this.#e.recordOperation(this.#t,!0),this}recordShowTextOperation(e){return this.#e.recordShowTextOperation(this.#t,!0),this}bboxToClipBoxDropOperation(e){return this.#i||this.#e.bboxToClipBoxDropOperation(this.#t,!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}}const Si={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},vn={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Ky(n,e){if(!e)return;const t=e[2]-e[0],i=e[3]-e[1],r=new Path2D;r.rect(e[0],e[1],t,i),n.clip(r)}class lb{isModifyingCurrentTransform(){return!1}getPattern(){Ye("Abstract method `getPattern` called.")}}class HB extends lb{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}isOriginBased(){return this._p0[0]===0&&this._p0[1]===0&&(!this.isRadial()||this._p1[0]===0&&this._p1[1]===0)}isRadial(){return this._type==="radial"}_createGradient(e,t=null){let i,r=this._p0,s=this._p1;if(t&&(r=r.slice(),s=s.slice(),ue.applyTransform(r,t),ue.applyTransform(s,t)),this._type==="axial")i=e.createLinearGradient(r[0],r[1],s[0],s[1]);else if(this._type==="radial"){let l=this._r0,c=this._r1;if(t){const d=new Float32Array(2);ue.singularValueDecompose2dScale(t,d),l*=d[0],c*=d[0]}i=e.createRadialGradient(r[0],r[1],l,s[0],s[1],c)}for(const l of this._colorStops)i.addColorStop(l[0],l[1]);return i}getPattern(e,t,i,r){let s;if(r===vn.STROKE||r===vn.FILL){if(this.isOriginBased()){let g=ue.transform(i,t.baseTransform);this.matrix&&(g=ue.transform(g,this.matrix));const y=.001,S=Math.hypot(g[0],g[1]),A=Math.hypot(g[2],g[3]),E=(g[0]*g[2]+g[1]*g[3])/(S*A);if(Math.abs(E)<y)if(this.isRadial()){if(Math.abs(S-A)<y)return this._createGradient(e,g)}else return this._createGradient(e,g)}const l=t.current.getClippedPathBoundingBox(r,bt(e))||[0,0,0,0],c=Math.ceil(l[2]-l[0])||1,d=Math.ceil(l[3]-l[1])||1,f=t.cachedCanvases.getCanvas("pattern",c,d),h=f.context;h.clearRect(0,0,h.canvas.width,h.canvas.height),h.beginPath(),h.rect(0,0,h.canvas.width,h.canvas.height),h.translate(-l[0],-l[1]),i=ue.transform(i,[1,0,0,1,l[0],l[1]]),h.transform(...t.baseTransform),this.matrix&&h.transform(...this.matrix),Ky(h,this._bbox),h.fillStyle=this._createGradient(h),h.fill(),s=e.createPattern(f.canvas,"no-repeat");const p=new DOMMatrix(i);s.setTransform(p)}else Ky(e,this._bbox),s=this._createGradient(e);return s}}function iv(n,e,t,i,r,s,l,c){const d=e.coords,f=e.colors,h=n.data,p=n.width*4;let g;d[t+1]>d[i+1]&&(g=t,t=i,i=g,g=s,s=l,l=g),d[i+1]>d[r+1]&&(g=i,i=r,r=g,g=l,l=c,c=g),d[t+1]>d[i+1]&&(g=t,t=i,i=g,g=s,s=l,l=g);const y=(d[t]+e.offsetX)*e.scaleX,S=(d[t+1]+e.offsetY)*e.scaleY,A=(d[i]+e.offsetX)*e.scaleX,E=(d[i+1]+e.offsetY)*e.scaleY,x=(d[r]+e.offsetX)*e.scaleX,O=(d[r+1]+e.offsetY)*e.scaleY;if(S>=O)return;const T=f[s],P=f[s+1],M=f[s+2],_=f[l],L=f[l+1],B=f[l+2],F=f[c],X=f[c+1],q=f[c+2],$=Math.round(S),se=Math.round(O);let re,ce,j,H,ie,le,pe,I;for(let K=$;K<=se;K++){if(K<E){const de=K<S?0:(S-K)/(S-E);re=y-(y-A)*de,ce=T-(T-_)*de,j=P-(P-L)*de,H=M-(M-B)*de}else{let de;K>O?de=1:E===O?de=0:de=(E-K)/(E-O),re=A-(A-x)*de,ce=_-(_-F)*de,j=L-(L-X)*de,H=B-(B-q)*de}let ne;K<S?ne=0:K>O?ne=1:ne=(S-K)/(S-O),ie=y-(y-x)*ne,le=T-(T-F)*ne,pe=P-(P-X)*ne,I=M-(M-q)*ne;const oe=Math.round(Math.min(re,ie)),ve=Math.round(Math.max(re,ie));let Ee=p*K+oe*4;for(let de=oe;de<=ve;de++)ne=(re-de)/(re-ie),ne<0?ne=0:ne>1&&(ne=1),h[Ee++]=ce-(ce-le)*ne|0,h[Ee++]=j-(j-pe)*ne|0,h[Ee++]=H-(H-I)*ne|0,h[Ee++]=255}}function qB(n,e,t){const i=e.coords,r=e.colors;let s,l;switch(e.type){case Uy.LATTICE:const c=e.verticesPerRow,d=Math.floor(i.length/c)-1,f=c-1;for(s=0;s<d;s++){let h=s*c;for(let p=0;p<f;p++,h++)iv(n,t,i[h],i[h+1],i[h+c],r[h],r[h+1],r[h+c]),iv(n,t,i[h+c+1],i[h+1],i[h+c],r[h+c+1],r[h+1],r[h+c])}break;case Uy.TRIANGLES:for(s=0,l=i.length;s<l;s+=3)iv(n,t,i[s],i[s+1],i[s+2],r[s],r[s+1],r[s+2]);break;default:throw new Error("illegal figure")}}class $B extends lb{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,i){const c=Math.floor(this._bounds[0]),d=Math.floor(this._bounds[1]),f=Math.ceil(this._bounds[2])-c,h=Math.ceil(this._bounds[3])-d,p=Math.min(Math.ceil(Math.abs(f*e[0]*1.1)),3e3),g=Math.min(Math.ceil(Math.abs(h*e[1]*1.1)),3e3),y=f/p,S=h/g,A={coords:this._coords,colors:this._colors,offsetX:-c,offsetY:-d,scaleX:1/y,scaleY:1/S},E=p+4,x=g+4,O=i.getCanvas("mesh",E,x),T=O.context,P=T.createImageData(p,g);if(t){const _=P.data;for(let L=0,B=_.length;L<B;L+=4)_[L]=t[0],_[L+1]=t[1],_[L+2]=t[2],_[L+3]=255}for(const _ of this._figures)qB(P,_,A);return T.putImageData(P,2,2),{canvas:O.canvas,offsetX:c-2*y,offsetY:d-2*S,scaleX:y,scaleY:S}}isModifyingCurrentTransform(){return!0}getPattern(e,t,i,r){Ky(e,this._bbox);const s=new Float32Array(2);if(r===vn.SHADING)ue.singularValueDecompose2dScale(bt(e),s);else if(this.matrix){ue.singularValueDecompose2dScale(this.matrix,s);const[c,d]=s;ue.singularValueDecompose2dScale(t.baseTransform,s),s[0]*=c,s[1]*=d}else ue.singularValueDecompose2dScale(t.baseTransform,s);const l=this._createMeshCanvas(s,r===vn.SHADING?null:this._background,t.cachedCanvases);return r!==vn.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(l.offsetX,l.offsetY),e.scale(l.scaleX,l.scaleY),e.createPattern(l.canvas,"no-repeat")}}class GB extends lb{getPattern(){return"hotpink"}}function VB(n){switch(n[0]){case"RadialAxial":return new HB(n);case"Mesh":return new $B(n);case"Dummy":return new GB}throw new Error(`Unknown IR type: ${n[0]}`)}const Iw={COLORED:1,UNCOLORED:2};class cb{static MAX_PATTERN_SIZE=3e3;constructor(e,t,i,r){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=i,this.baseTransform=r}createPatternCanvas(e,t){const{bbox:i,operatorList:r,paintType:s,tilingType:l,color:c,canvasGraphicsFactory:d}=this;let{xstep:f,ystep:h}=this;f=Math.abs(f),h=Math.abs(h),Mh("TilingType: "+l);const p=i[0],g=i[1],y=i[2],S=i[3],A=y-p,E=S-g,x=new Float32Array(2);ue.singularValueDecompose2dScale(this.matrix,x);const[O,T]=x;ue.singularValueDecompose2dScale(this.baseTransform,x);const P=O*x[0],M=T*x[1];let _=A,L=E,B=!1,F=!1;const X=Math.ceil(f*P),q=Math.ceil(h*M),$=Math.ceil(A*P),se=Math.ceil(E*M);X>=$?_=f:B=!0,q>=se?L=h:F=!0;const re=this.getSizeAndScale(_,this.ctx.canvas.width,P),ce=this.getSizeAndScale(L,this.ctx.canvas.height,M),j=e.cachedCanvases.getCanvas("pattern",re.size,ce.size),H=j.context,ie=d.createCanvasGraphics(H,t);if(ie.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(ie,s,c),H.translate(-re.scale*p,-ce.scale*g),ie.transform(0,re.scale,0,0,ce.scale,0,0),H.save(),ie.dependencyTracker?.save(),this.clipBbox(ie,p,g,y,S),ie.baseTransform=bt(ie.ctx),ie.executeOperatorList(r),ie.endDrawing(),ie.dependencyTracker?.restore(),H.restore(),B||F){const le=j.canvas;B&&(_=f),F&&(L=h);const pe=this.getSizeAndScale(_,this.ctx.canvas.width,P),I=this.getSizeAndScale(L,this.ctx.canvas.height,M),K=pe.size,ne=I.size,oe=e.cachedCanvases.getCanvas("pattern-workaround",K,ne),ve=oe.context,Ee=B?Math.floor(A/f):0,de=F?Math.floor(E/h):0;for(let ct=0;ct<=Ee;ct++)for(let J=0;J<=de;J++)ve.drawImage(le,K*ct,ne*J,K,ne,0,0,K,ne);return{canvas:oe.canvas,scaleX:pe.scale,scaleY:I.scale,offsetX:p,offsetY:g}}return{canvas:j.canvas,scaleX:re.scale,scaleY:ce.scale,offsetX:p,offsetY:g}}getSizeAndScale(e,t,i){const r=Math.max(cb.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*i);return s>=r?s=r:i=s/e,{scale:i,size:s}}clipBbox(e,t,i,r,s){const l=r-t,c=s-i;e.ctx.rect(t,i,l,c),ue.axialAlignedBoundingBox([t,i,r,s],bt(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,i){const r=e.ctx,s=e.current;switch(t){case Iw.COLORED:const{fillStyle:l,strokeStyle:c}=this.ctx;r.fillStyle=s.fillColor=l,r.strokeStyle=s.strokeColor=c;break;case Iw.UNCOLORED:r.fillStyle=r.strokeStyle=i,s.fillColor=s.strokeColor=i;break;default:throw new rB(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,i,r,s){let l=i;r!==vn.SHADING&&(l=ue.transform(l,t.baseTransform),this.matrix&&(l=ue.transform(l,this.matrix)));const c=this.createPatternCanvas(t,s);let d=new DOMMatrix(l);d=d.translate(c.offsetX,c.offsetY),d=d.scale(1/c.scaleX,1/c.scaleY);const f=e.createPattern(c.canvas,"repeat");return f.setTransform(d),f}}function YB({src:n,srcPos:e=0,dest:t,width:i,height:r,nonBlackColor:s=4294967295,inverseDecode:l=!1}){const c=Gt.isLittleEndian?4278190080:255,[d,f]=l?[s,c]:[c,s],h=i>>3,p=i&7,g=n.length;t=new Uint32Array(t.buffer);let y=0;for(let S=0;S<r;S++){for(const E=e+h;e<E;e++){const x=e<g?n[e]:255;t[y++]=x&128?f:d,t[y++]=x&64?f:d,t[y++]=x&32?f:d,t[y++]=x&16?f:d,t[y++]=x&8?f:d,t[y++]=x&4?f:d,t[y++]=x&2?f:d,t[y++]=x&1?f:d}if(p===0)continue;const A=e<g?n[e++]:255;for(let E=0;E<p;E++)t[y++]=A&1<<7-E?f:d}return{srcPos:e,destPos:y}}const kw=16,Bw=100,XB=15,jw=10,Hn=16,rv=new DOMMatrix,ri=new Float32Array(2),qo=new Float32Array([1/0,1/0,-1/0,-1/0]);function KB(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(t,i){e.translate(t,i),this.__originalTranslate(t,i)},n.scale=function(t,i){e.scale(t,i),this.__originalScale(t,i)},n.transform=function(t,i,r,s,l,c){e.transform(t,i,r,s,l,c),this.__originalTransform(t,i,r,s,l,c)},n.setTransform=function(t,i,r,s,l,c){e.setTransform(t,i,r,s,l,c),this.__originalSetTransform(t,i,r,s,l,c)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(t){e.rotate(t),this.__originalRotate(t)},n.clip=function(t){e.clip(t),this.__originalClip(t)},n.moveTo=function(t,i){e.moveTo(t,i),this.__originalMoveTo(t,i)},n.lineTo=function(t,i){e.lineTo(t,i),this.__originalLineTo(t,i)},n.bezierCurveTo=function(t,i,r,s,l,c){e.bezierCurveTo(t,i,r,s,l,c),this.__originalBezierCurveTo(t,i,r,s,l,c)},n.rect=function(t,i,r,s){e.rect(t,i,r,s),this.__originalRect(t,i,r,s)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class WB{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,i){let r;return this.cache[e]!==void 0?(r=this.cache[e],this.canvasFactory.reset(r,t,i)):(r=this.canvasFactory.create(t,i),this.cache[e]=r),r}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function Qd(n,e,t,i,r,s,l,c,d,f){const[h,p,g,y,S,A]=bt(n);if(p===0&&g===0){const O=l*h+S,T=Math.round(O),P=c*y+A,M=Math.round(P),_=(l+d)*h+S,L=Math.abs(Math.round(_)-T)||1,B=(c+f)*y+A,F=Math.abs(Math.round(B)-M)||1;return n.setTransform(Math.sign(h),0,0,Math.sign(y),T,M),n.drawImage(e,t,i,r,s,0,0,L,F),n.setTransform(h,p,g,y,S,A),[L,F]}if(h===0&&y===0){const O=c*g+S,T=Math.round(O),P=l*p+A,M=Math.round(P),_=(c+f)*g+S,L=Math.abs(Math.round(_)-T)||1,B=(l+d)*p+A,F=Math.abs(Math.round(B)-M)||1;return n.setTransform(0,Math.sign(p),Math.sign(g),0,T,M),n.drawImage(e,t,i,r,s,0,0,F,L),n.setTransform(h,p,g,y,S,A),[F,L]}n.drawImage(e,t,i,r,s,l,c,d,f);const E=Math.hypot(h,p),x=Math.hypot(g,y);return[E*d,x*f]}class zw{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=Fy;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=Ht.FILL;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(e,t,i){i?.(this),this.clipBox=new Float32Array([0,0,e,t]),this.minMax=qo.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=vn.FILL,t=null){const i=this.minMax.slice();if(e===vn.STROKE){t||Ye("Stroke bounding box must include transform."),ue.singularValueDecompose2dScale(t,ri);const r=ri[0]*this.lineWidth/2,s=ri[1]*this.lineWidth/2;i[0]-=r,i[1]-=s,i[2]+=r,i[3]+=s}return i}updateClipFromPath(){const e=ue.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(qo,0)}getClippedPathBoundingBox(e=vn.FILL,t=null){return ue.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function Fw(n,e){if(e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,i=e.width,r=t%Hn,s=(t-r)/Hn,l=r===0?s:s+1,c=n.createImageData(i,Hn);let d=0,f;const h=e.data,p=c.data;let g,y,S,A;if(e.kind===Af.GRAYSCALE_1BPP){const E=h.byteLength,x=new Uint32Array(p.buffer,0,p.byteLength>>2),O=x.length,T=i+7>>3,P=4294967295,M=Gt.isLittleEndian?4278190080:255;for(g=0;g<l;g++){for(S=g<s?Hn:r,f=0,y=0;y<S;y++){const _=E-d;let L=0;const B=_>T?i:_*8-7,F=B&-8;let X=0,q=0;for(;L<F;L+=8)q=h[d++],x[f++]=q&128?P:M,x[f++]=q&64?P:M,x[f++]=q&32?P:M,x[f++]=q&16?P:M,x[f++]=q&8?P:M,x[f++]=q&4?P:M,x[f++]=q&2?P:M,x[f++]=q&1?P:M;for(;L<B;L++)X===0&&(q=h[d++],X=128),x[f++]=q&X?P:M,X>>=1}for(;f<O;)x[f++]=0;n.putImageData(c,0,g*Hn)}}else if(e.kind===Af.RGBA_32BPP){for(y=0,A=i*Hn*4,g=0;g<s;g++)p.set(h.subarray(d,d+A)),d+=A,n.putImageData(c,0,y),y+=Hn;g<l&&(A=i*r*4,p.set(h.subarray(d,d+A)),n.putImageData(c,0,y))}else if(e.kind===Af.RGB_24BPP)for(S=Hn,A=i*S,g=0;g<l;g++){for(g>=s&&(S=r,A=i*S),f=0,y=A;y--;)p[f++]=h[d++],p[f++]=h[d++],p[f++]=h[d++],p[f++]=255;n.putImageData(c,0,g*Hn)}else throw new Error(`bad image kind: ${e.kind}`)}function Uw(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,i=e.width,r=t%Hn,s=(t-r)/Hn,l=r===0?s:s+1,c=n.createImageData(i,Hn);let d=0;const f=e.data,h=c.data;for(let p=0;p<l;p++){const g=p<s?Hn:r;({srcPos:d}=YB({src:f,srcPos:d,dest:h,width:i,height:g,nonBlackColor:0})),n.putImageData(c,0,p*Hn)}}function vc(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of t)n[i]!==void 0&&(e[i]=n[i]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function Jd(n){n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0);const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}function Hw(n,e){if(e)return!0;ue.singularValueDecompose2dScale(n,ri);const t=Math.fround(or.pixelRatio*el.PDF_TO_CSS_UNITS);return ri[0]<=t&&ri[1]<=t}const ZB=["butt","round","square"],QB=["miter","round","bevel"],JB={},qw={};class Ko{constructor(e,t,i,r,s,{optionalContentConfig:l,markedContentStack:c=null},d,f,h){this.ctx=e,this.current=new zw(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=i,this.canvasFactory=r,this.filterFactory=s,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=c||[],this.optionalContentConfig=l,this.cachedCanvases=new WB(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=d,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=f,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=h??null}getObject(e,t,i=null){return typeof t=="string"?(this.dependencyTracker?.recordNamedDependency(e,t),t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t)):i}beginDrawing({transform:e,viewport:t,transparency:i=!1,background:r=null}){const s=this.ctx.canvas.width,l=this.ctx.canvas.height,c=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,s,l),this.ctx.fillStyle=c,i){const d=this.cachedCanvases.getCanvas("transparent",s,l);this.compositeCtx=this.ctx,this.transparentCanvas=d.canvas,this.ctx=d.context,this.ctx.save(),this.ctx.transform(...bt(this.compositeCtx))}this.ctx.save(),Jd(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=bt(this.ctx)}executeOperatorList(e,t,i,r,s){const l=e.argsArray,c=e.fnArray;let d=t||0;const f=l.length;if(f===d)return d;const h=f-d>jw&&typeof i=="function",p=h?Date.now()+XB:0;let g=0;const y=this.commonObjs,S=this.objs;let A,E;for(;;){if(r!==void 0&&d===r.nextBreakPoint)return r.breakIt(d,i),d;if(!s||s(d))if(A=c[d],E=l[d]??null,A!==Fc.dependency)E===null?this[A](d):this[A](d,...E);else for(const x of E){this.dependencyTracker?.recordNamedData(x,d);const O=x.startsWith("g_")?y:S;if(!O.has(x))return O.get(x,i),d}if(d++,d===f)return d;if(h&&++g>jw){if(Date.now()>p)return i(),d;g=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}}_scaleImage(e,t){const i=e.width??e.displayWidth,r=e.height??e.displayHeight;let s=Math.max(Math.hypot(t[0],t[1]),1),l=Math.max(Math.hypot(t[2],t[3]),1),c=i,d=r,f="prescale1",h,p;for(;s>2&&c>1||l>2&&d>1;){let g=c,y=d;s>2&&c>1&&(g=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c/2),s/=c/g),l>2&&d>1&&(y=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d)/2,l/=d/y),h=this.cachedCanvases.getCanvas(f,g,y),p=h.context,p.clearRect(0,0,g,y),p.drawImage(e,0,0,c,d,0,0,g,y),e=h.canvas,c=g,d=y,f=f==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:c,paintHeight:d}}_createMaskCanvas(e,t){const i=this.ctx,{width:r,height:s}=t,l=this.current.fillColor,c=this.current.patternFill,d=bt(i);let f,h,p,g;if((t.bitmap||t.data)&&t.count>1){const X=t.bitmap||t.data.buffer;h=JSON.stringify(c?d:[d.slice(0,4),l]),f=this._cachedBitmapsMap.get(X),f||(f=new Map,this._cachedBitmapsMap.set(X,f));const q=f.get(h);if(q&&!c){const $=Math.round(Math.min(d[0],d[2])+d[4]),se=Math.round(Math.min(d[1],d[3])+d[5]);return this.dependencyTracker?.recordDependencies(e,Si.transformAndFill),{canvas:q,offsetX:$,offsetY:se}}p=q}p||(g=this.cachedCanvases.getCanvas("maskCanvas",r,s),Uw(g.context,t));let y=ue.transform(d,[1/r,0,0,-1/s,0,0]);y=ue.transform(y,[1,0,0,1,0,-s]);const S=qo.slice();ue.axialAlignedBoundingBox([0,0,r,s],y,S);const[A,E,x,O]=S,T=Math.round(x-A)||1,P=Math.round(O-E)||1,M=this.cachedCanvases.getCanvas("fillCanvas",T,P),_=M.context,L=A,B=E;_.translate(-L,-B),_.transform(...y),p||(p=this._scaleImage(g.canvas,Wi(_)),p=p.img,f&&c&&f.set(h,p)),_.imageSmoothingEnabled=Hw(bt(_),t.interpolate),Qd(_,p,0,0,p.width,p.height,0,0,r,s),_.globalCompositeOperation="source-in";const F=ue.transform(Wi(_),[1,0,0,1,-L,-B]);return _.fillStyle=c?l.getPattern(i,this,F,vn.FILL,e):l,_.fillRect(0,0,r,s),f&&!c&&(this.cachedCanvases.delete("fillCanvas"),f.set(h,M.canvas)),this.dependencyTracker?.recordDependencies(e,Si.transformAndFill),{canvas:M.canvas,offsetX:Math.round(L),offsetY:Math.round(B)}}setLineWidth(e,t){this.dependencyTracker?.recordSimpleData("lineWidth",e),t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(e,t){this.dependencyTracker?.recordSimpleData("lineCap",e),this.ctx.lineCap=ZB[t]}setLineJoin(e,t){this.dependencyTracker?.recordSimpleData("lineJoin",e),this.ctx.lineJoin=QB[t]}setMiterLimit(e,t){this.dependencyTracker?.recordSimpleData("miterLimit",e),this.ctx.miterLimit=t}setDash(e,t,i){this.dependencyTracker?.recordSimpleData("dash",e);const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(t),r.lineDashOffset=i)}setRenderingIntent(e,t){}setFlatness(e,t){}setGState(e,t){for(const[i,r]of t)switch(i){case"LW":this.setLineWidth(e,r);break;case"LC":this.setLineCap(e,r);break;case"LJ":this.setLineJoin(e,r);break;case"ML":this.setMiterLimit(e,r);break;case"D":this.setDash(e,r[0],r[1]);break;case"RI":this.setRenderingIntent(e,r);break;case"FL":this.setFlatness(e,r);break;case"Font":this.setFont(e,r[0],r[1]);break;case"CA":this.dependencyTracker?.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=r;break;case"ca":this.dependencyTracker?.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=r;break;case"BM":this.dependencyTracker?.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=r;break;case"SMask":this.dependencyTracker?.recordSimpleData("SMask",e),this.current.activeSMask=r?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.dependencyTracker?.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(r);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,i=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(r,t,i);this.suspendedCtx=this.ctx;const l=this.ctx=s.context;l.setTransform(this.suspendedCtx.getTransform()),vc(this.suspendedCtx,l),KB(l,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),vc(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,i,r){const s=r[0],l=r[1],c=r[2]-s,d=r[3]-l;c===0||d===0||(this.genericComposeSMask(t.context,i,c,d,t.subtype,t.backdrop,t.transferMap,s,l,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(i.canvas,0,0),e.restore())}genericComposeSMask(e,t,i,r,s,l,c,d,f,h,p){let g=e.canvas,y=d-h,S=f-p;if(l)if(y<0||S<0||y+i>g.width||S+r>g.height){const E=this.cachedCanvases.getCanvas("maskExtension",i,r),x=E.context;x.drawImage(g,-y,-S),x.globalCompositeOperation="destination-atop",x.fillStyle=l,x.fillRect(0,0,i,r),x.globalCompositeOperation="source-over",g=E.canvas,y=S=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const E=new Path2D;E.rect(y,S,i,r),e.clip(E),e.globalCompositeOperation="destination-atop",e.fillStyle=l,e.fillRect(y,S,i,r),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),s==="Alpha"&&c?t.filter=this.filterFactory.addAlphaFilter(c):s==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(c));const A=new Path2D;A.rect(d,f,i,r),t.clip(A),t.globalCompositeOperation="destination-in",t.drawImage(g,y,S,i,r,d,f,i,r),t.restore()}save(e){this.inSMaskMode&&vc(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone(),this.dependencyTracker?.save(e)}restore(e){if(this.dependencyTracker?.restore(e),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&vc(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,t,i,r,s,l,c){this.dependencyTracker?.recordIncrementalData("transform",e),this.ctx.transform(t,i,r,s,l,c),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,i,r){let[s]=i;if(!r){s||=i[0]=new Path2D,this[t](e,s);return}if(this.dependencyTracker!==null){const l=t===Fc.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,r[0]-l,r[2]+l,r[1]-l,r[3]+l).recordDependencies(e,["transform"])}s instanceof Path2D||(s=i[0]=Z_(s)),ue.axialAlignedBoundingBox(r,bt(this.ctx),this.current.minMax),this[t](e,s),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,t,i=!0){const r=this.ctx,s=this.current.strokeColor;if(r.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof s=="object"&&s?.getPattern){const l=s.isModifyingCurrentTransform()?r.getTransform():null;if(r.save(),r.strokeStyle=s.getPattern(r,this,Wi(r),vn.STROKE,e),l){const c=new Path2D;c.addPath(t,r.getTransform().invertSelf().multiplySelf(l)),t=c}this.rescaleAndStroke(t,!1),r.restore()}else this.rescaleAndStroke(t,!0);this.dependencyTracker?.recordDependencies(e,Si.stroke),i&&this.consumePath(e,t,this.current.getClippedPathBoundingBox(vn.STROKE,bt(this.ctx))),r.globalAlpha=this.current.fillAlpha}closeStroke(e,t){this.stroke(e,t)}fill(e,t,i=!0){const r=this.ctx,s=this.current.fillColor,l=this.current.patternFill;let c=!1;if(l){const f=s.isModifyingCurrentTransform()?r.getTransform():null;if(this.dependencyTracker?.save(e),r.save(),r.fillStyle=s.getPattern(r,this,Wi(r),vn.FILL,e),f){const h=new Path2D;h.addPath(t,r.getTransform().invertSelf().multiplySelf(f)),t=h}c=!0}const d=this.current.getClippedPathBoundingBox();this.contentVisible&&d!==null&&(this.pendingEOFill?(r.fill(t,"evenodd"),this.pendingEOFill=!1):r.fill(t)),this.dependencyTracker?.recordDependencies(e,Si.fill),c&&(r.restore(),this.dependencyTracker?.restore(e)),i&&this.consumePath(e,t,d)}eoFill(e,t){this.pendingEOFill=!0,this.fill(e,t)}fillStroke(e,t){this.fill(e,t,!1),this.stroke(e,t,!1),this.consumePath(e,t)}eoFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}closeFillStroke(e,t){this.fillStroke(e,t)}closeEOFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}endPath(e,t){this.consumePath(e,t)}rawFillPath(e,t){this.ctx.fill(t),this.dependencyTracker?.recordDependencies(e,Si.rawFillPath).recordOperation(e)}clip(e){this.dependencyTracker?.recordFutureForcedDependency("clipMode",e),this.pendingClip=JB}eoClip(e){this.dependencyTracker?.recordFutureForcedDependency("clipMode",e),this.pendingClip=qw}beginText(e){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,this.dependencyTracker?.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const t=this.pendingTextPaths,i=this.ctx;if(this.dependencyTracker){const{dependencyTracker:r}=this;t!==void 0&&r.recordFutureForcedDependency("textClip",r.getOpenMarker()).recordFutureForcedDependency("textClip",e),r.recordCloseMarker(e)}if(t!==void 0){const r=new Path2D,s=i.getTransform().invertSelf();for(const{transform:l,x:c,y:d,fontSize:f,path:h}of t)h&&r.addPath(h,new DOMMatrix(l).preMultiplySelf(s).translate(c,d).scale(f,-f));i.clip(r)}delete this.pendingTextPaths}setCharSpacing(e,t){this.dependencyTracker?.recordSimpleData("charSpacing",e),this.current.charSpacing=t}setWordSpacing(e,t){this.dependencyTracker?.recordSimpleData("wordSpacing",e),this.current.wordSpacing=t}setHScale(e,t){this.dependencyTracker?.recordSimpleData("hScale",e),this.current.textHScale=t/100}setLeading(e,t){this.dependencyTracker?.recordSimpleData("leading",e),this.current.leading=-t}setFont(e,t,i){this.dependencyTracker?.recordSimpleData("font",e).recordSimpleDataFromNamed("fontObj",t,e);const r=this.commonObjs.get(t),s=this.current;if(!r)throw new Error(`Can't find font for ${t}`);if(s.fontMatrix=r.fontMatrix||Fy,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&we("Invalid font matrix for font "+t),i<0?(i=-i,s.fontDirection=-1):s.fontDirection=1,this.current.font=r,this.current.fontSize=i,r.isType3Font)return;const l=r.loadedName||"sans-serif",c=r.systemFontInfo?.css||`"${l}", ${r.fallbackName}`;let d="normal";r.black?d="900":r.bold&&(d="bold");const f=r.italic?"italic":"normal";let h=i;i<kw?h=kw:i>Bw&&(h=Bw),this.current.fontSizeScale=i/h,this.ctx.font=`${f} ${d} ${h}px ${c}`}setTextRenderingMode(e,t){this.dependencyTracker?.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=t}setTextRise(e,t){this.dependencyTracker?.recordSimpleData("textRise",e),this.current.textRise=t}moveText(e,t,i){this.dependencyTracker?.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=i}setLeadingMoveText(e,t,i){this.setLeading(e,-i),this.moveText(e,t,i)}setTextMatrix(e,t){this.dependencyTracker?.resetIncrementalData("sameLineText").recordSimpleData("textMatrix",e);const{current:i}=this;i.textMatrix=t,i.textMatrixScale=Math.hypot(t[0],t[1]),i.x=i.lineX=0,i.y=i.lineY=0}nextLine(e){this.moveText(e,0,this.current.leading),this.dependencyTracker?.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}#i(e,t,i){const r=new Path2D;return r.addPath(e,new DOMMatrix(i).invertSelf().multiplySelf(t)),r}paintChar(e,t,i,r,s,l){const c=this.ctx,d=this.current,f=d.font,h=d.textRenderingMode,p=d.fontSize/d.fontSizeScale,g=h&Ht.FILL_STROKE_MASK,y=!!(h&Ht.ADD_TO_PATH_FLAG),S=d.patternFill&&!f.missingFile,A=d.patternStroke&&!f.missingFile;let E;if((f.disableFontFace||y||S||A)&&!f.missingFile&&(E=f.getPathGenerator(this.commonObjs,t)),E&&(f.disableFontFace||S||A)){c.save(),c.translate(i,r),c.scale(p,-p),this.dependencyTracker?.recordCharacterBBox(e,c,f);let x;if(g===Ht.FILL||g===Ht.FILL_STROKE)if(s){x=c.getTransform(),c.setTransform(...s);const O=this.#i(E,x,s);c.fill(O)}else c.fill(E);if(g===Ht.STROKE||g===Ht.FILL_STROKE)if(l){x||=c.getTransform(),c.setTransform(...l);const{a:O,b:T,c:P,d:M}=x,_=ue.inverseTransform(l),L=ue.transform([O,T,P,M,0,0],_);ue.singularValueDecompose2dScale(L,ri),c.lineWidth*=Math.max(ri[0],ri[1])/p,c.stroke(this.#i(E,x,l))}else c.lineWidth/=p,c.stroke(E);c.restore()}else(g===Ht.FILL||g===Ht.FILL_STROKE)&&(c.fillText(t,i,r),this.dependencyTracker?.recordCharacterBBox(e,c,f,p,i,r,()=>c.measureText(t))),(g===Ht.STROKE||g===Ht.FILL_STROKE)&&(this.dependencyTracker&&this.dependencyTracker?.recordCharacterBBox(e,c,f,p,i,r,()=>c.measureText(t)).recordDependencies(e,Si.stroke),c.strokeText(t,i,r));y&&((this.pendingTextPaths||=[]).push({transform:bt(c),x:i,y:r,fontSize:p,path:E}),this.dependencyTracker?.recordCharacterBBox(e,c,f,p,i,r))}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let i=!1;for(let r=3;r<t.length;r+=4)if(t[r]>0&&t[r]<255){i=!0;break}return Ce(this,"isFontSubpixelAAEnabled",i)}showText(e,t){this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,Si.showText).resetBBox(e),this.current.textRenderingMode&Ht.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const i=this.current,r=i.font;if(r.isType3Font){this.showType3Text(e,t),this.dependencyTracker?.recordShowTextOperation(e);return}const s=i.fontSize;if(s===0){this.dependencyTracker?.recordOperation(e);return}const l=this.ctx,c=i.fontSizeScale,d=i.charSpacing,f=i.wordSpacing,h=i.fontDirection,p=i.textHScale*h,g=t.length,y=r.vertical,S=y?1:-1,A=r.defaultVMetrics,E=s*i.fontMatrix[0],x=i.textRenderingMode===Ht.FILL&&!r.disableFontFace&&!i.patternFill;l.save(),i.textMatrix&&l.transform(...i.textMatrix),l.translate(i.x,i.y+i.textRise),h>0?l.scale(p,-1):l.scale(p,1);let O,T;const P=i.textRenderingMode&Ht.FILL_STROKE_MASK,M=P===Ht.FILL||P===Ht.FILL_STROKE,_=P===Ht.STROKE||P===Ht.FILL_STROKE;if(M&&i.patternFill){l.save();const q=i.fillColor.getPattern(l,this,Wi(l),vn.FILL,e);O=bt(l),l.restore(),l.fillStyle=q}if(_&&i.patternStroke){l.save();const q=i.strokeColor.getPattern(l,this,Wi(l),vn.STROKE,e);T=bt(l),l.restore(),l.strokeStyle=q}let L=i.lineWidth;const B=i.textMatrixScale;if(B===0||L===0?_&&(L=this.getSinglePixelWidth()):L/=B,c!==1&&(l.scale(c,c),L/=c),l.lineWidth=L,r.isInvalidPDFjsFont){const q=[];let $=0;for(const re of t)q.push(re.unicode),$+=re.width;const se=q.join("");if(l.fillText(se,0,0),this.dependencyTracker!==null){const re=l.measureText(se);this.dependencyTracker.recordBBox(e,this.ctx,-re.actualBoundingBoxLeft,re.actualBoundingBoxRight,-re.actualBoundingBoxAscent,re.actualBoundingBoxDescent).recordShowTextOperation(e)}i.x+=$*E*p,l.restore(),this.compose();return}let F=0,X;for(X=0;X<g;++X){const q=t[X];if(typeof q=="number"){F+=S*q*s/1e3;continue}let $=!1;const se=(q.isSpace?f:0)+d,re=q.fontChar,ce=q.accent;let j,H,ie=q.width;if(y){const I=q.vmetric||A,K=-(q.vmetric?I[1]:ie*.5)*E,ne=I[2]*E;ie=I?-I[0]:ie,j=K/c,H=(F+ne)/c}else j=F/c,H=0;let le;if(r.remeasure&&ie>0){le=l.measureText(re);const I=le.width*1e3/s*c;if(ie<I&&this.isFontSubpixelAAEnabled){const K=ie/I;$=!0,l.save(),l.scale(K,1),j/=K}else ie!==I&&(j+=(ie-I)/2e3*s/c)}if(this.contentVisible&&(q.isInFont||r.missingFile)){if(x&&!ce)l.fillText(re,j,H),this.dependencyTracker?.recordCharacterBBox(e,l,le?{bbox:null}:r,s/c,j,H,()=>le??l.measureText(re));else if(this.paintChar(e,re,j,H,O,T),ce){const I=j+s*ce.offset.x/c,K=H-s*ce.offset.y/c;this.paintChar(e,ce.fontChar,I,K,O,T)}}const pe=y?ie*E-se*h:ie*E+se*h;F+=pe,$&&l.restore()}y?i.y-=F:i.x+=F*p,l.restore(),this.compose(),this.dependencyTracker?.recordShowTextOperation(e)}showType3Text(e,t){const i=this.ctx,r=this.current,s=r.font,l=r.fontSize,c=r.fontDirection,d=s.vertical?1:-1,f=r.charSpacing,h=r.wordSpacing,p=r.textHScale*c,g=r.fontMatrix||Fy,y=t.length,S=r.textRenderingMode===Ht.INVISIBLE;let A,E,x,O;if(S||l===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,i.save(),r.textMatrix&&i.transform(...r.textMatrix),i.translate(r.x,r.y+r.textRise),i.scale(p,c);const T=this.dependencyTracker;for(this.dependencyTracker=T?new Pf(T,e):null,A=0;A<y;++A){if(E=t[A],typeof E=="number"){O=d*E*l/1e3,this.ctx.translate(O,0),r.x+=O*p;continue}const P=(E.isSpace?h:0)+f,M=s.charProcOperatorList[E.operatorListId];M?this.contentVisible&&(this.save(),i.scale(l,l),i.transform(...g),this.executeOperatorList(M),this.restore()):we(`Type3 character "${E.operatorListId}" is not available.`);const _=[E.width,0];ue.applyTransform(_,g),x=_[0]*l+P,i.translate(x,0),r.x+=x*p}i.restore(),T&&(this.dependencyTracker=T)}setCharWidth(e,t,i){}setCharWidthAndBounds(e,t,i,r,s,l,c){const d=new Path2D;d.rect(r,s,l-r,c-s),this.ctx.clip(d),this.dependencyTracker?.recordBBox(e,this.ctx,r,l,s,c).recordClipBox(e,this.ctx,r,l,s,c),this.endPath(e)}getColorN_Pattern(e,t){let i;if(t[0]==="TilingPattern"){const r=this.baseTransform||bt(this.ctx),s={createCanvasGraphics:(l,c)=>new Ko(l,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new Pf(this.dependencyTracker,c,!0):null)};i=new cb(t,this.ctx,s,r)}else i=this._getPattern(e,t[1],t[2]);return i}setStrokeColorN(e,...t){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,t),this.current.patternStroke=!0}setFillColorN(e,...t){this.dependencyTracker?.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,t),this.current.patternFill=!0}setStrokeRGBColor(e,t){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(e){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,t){this.dependencyTracker?.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(e){this.dependencyTracker?.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t,i=null){let r;return this.cachedPatterns.has(t)?r=this.cachedPatterns.get(t):(r=VB(this.getObject(e,t)),this.cachedPatterns.set(t,r)),i&&(r.matrix=i),r}shadingFill(e,t){if(!this.contentVisible)return;const i=this.ctx;this.save(e);const r=this._getPattern(e,t);i.fillStyle=r.getPattern(i,this,Wi(i),vn.SHADING,e);const s=Wi(i);if(s){const{width:l,height:c}=i.canvas,d=qo.slice();ue.axialAlignedBoundingBox([0,0,l,c],s,d);const[f,h,p,g]=d;this.ctx.fillRect(f,h,p-f,g-h)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.dependencyTracker?.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,Si.transform).recordDependencies(e,Si.fill).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){Ye("Should not call beginInlineImage")}beginImageData(){Ye("Should not call beginImageData")}paintFormXObjectBegin(e,t,i){if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),t&&this.transform(e,...t),this.baseTransform=bt(this.ctx),i)){ue.axialAlignedBoundingBox(i,this.baseTransform,this.current.minMax);const[r,s,l,c]=i,d=new Path2D;d.rect(r,s,l-r,c-s),this.ctx.clip(d),this.dependencyTracker?.recordClipBox(e,this.ctx,r,l,s,c),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,t){if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const i=this.ctx;t.isolated||Mh("TODO: Support non-isolated groups."),t.knockout&&we("Knockout groups not supported.");const r=bt(i);if(t.matrix&&i.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let s=qo.slice();ue.axialAlignedBoundingBox(t.bbox,bt(i),s);const l=[0,0,i.canvas.width,i.canvas.height];s=ue.intersect(s,l)||[0,0,0,0];const c=Math.floor(s[0]),d=Math.floor(s[1]),f=Math.max(Math.ceil(s[2])-c,1),h=Math.max(Math.ceil(s[3])-d,1);this.current.startNewPathAndClipBox([0,0,f,h]);let p="groupAt"+this.groupLevel;t.smask&&(p+="_smask_"+this.smaskCounter++%2);const g=this.cachedCanvases.getCanvas(p,f,h),y=g.context;y.translate(-c,-d),y.transform(...r);let S=new Path2D;const[A,E,x,O]=t.bbox;if(S.rect(A,E,x-A,O-E),t.matrix){const T=new Path2D;T.addPath(S,new DOMMatrix(t.matrix)),S=T}y.clip(S),t.smask&&this.smaskStack.push({canvas:g.canvas,context:y,offsetX:c,offsetY:d,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}),(!t.smask||this.dependencyTracker)&&(i.setTransform(1,0,0,1,0,0),i.translate(c,d),i.save()),vc(i,y),this.ctx=y,this.dependencyTracker?.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(i),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(i),this.groupLevel++}endGroup(e,t){if(!this.contentVisible)return;this.groupLevel--;const i=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,this.dependencyTracker?.popBaseTransform(),t.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const s=bt(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...s);const l=qo.slice();ue.axialAlignedBoundingBox([0,0,i.canvas.width,i.canvas.height],s,l),this.ctx.drawImage(i.canvas,0,0),this.ctx.restore(),this.compose(l)}}beginAnnotation(e,t,i,r,s,l){if(this.#e(),Jd(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),i){const c=i[2]-i[0],d=i[3]-i[1];if(l&&this.annotationCanvasMap){r=r.slice(),r[4]-=i[0],r[5]-=i[1],i=i.slice(),i[0]=i[1]=0,i[2]=c,i[3]=d,ue.singularValueDecompose2dScale(bt(this.ctx),ri);const{viewportScale:f}=this,h=Math.ceil(c*this.outputScaleX*f),p=Math.ceil(d*this.outputScaleY*f);this.annotationCanvas=this.canvasFactory.create(h,p);const{canvas:g,context:y}=this.annotationCanvas;this.annotationCanvasMap.set(t,g),this.annotationCanvas.savedCtx=this.ctx,this.ctx=y,this.ctx.save(),this.ctx.setTransform(ri[0],0,0,-ri[1],0,d*ri[1]),Jd(this.ctx)}else{Jd(this.ctx),this.endPath(e);const f=new Path2D;f.rect(i[0],i[1],c,d),this.ctx.clip(f)}}this.current=new zw(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...r),this.transform(e,...s)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,t){if(!this.contentVisible)return;const i=t.count;t=this.getObject(e,t.data,t),t.count=i;const r=this.ctx,s=this._createMaskCanvas(e,t),l=s.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(l,s.offsetX,s.offsetY),this.dependencyTracker?.resetBBox(e).recordBBox(e,this.ctx,s.offsetX,s.offsetX+l.width,s.offsetY,s.offsetY+l.height).recordOperation(e),r.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,i,r=0,s=0,l,c){if(!this.contentVisible)return;t=this.getObject(e,t.data,t);const d=this.ctx;d.save();const f=bt(d);d.transform(i,r,s,l,0,0);const h=this._createMaskCanvas(e,t);d.setTransform(1,0,0,1,h.offsetX-f[4],h.offsetY-f[5]),this.dependencyTracker?.resetBBox(e);for(let p=0,g=c.length;p<g;p+=2){const y=ue.transform(f,[i,r,s,l,c[p],c[p+1]]);d.drawImage(h.canvas,y[4],y[5]),this.dependencyTracker?.recordBBox(e,this.ctx,y[4],y[4]+h.canvas.width,y[5],y[5]+h.canvas.height)}d.restore(),this.compose(),this.dependencyTracker?.recordOperation(e)}paintImageMaskXObjectGroup(e,t){if(!this.contentVisible)return;const i=this.ctx,r=this.current.fillColor,s=this.current.patternFill;this.dependencyTracker?.resetBBox(e).recordDependencies(e,Si.transformAndFill);for(const l of t){const{data:c,width:d,height:f,transform:h}=l,p=this.cachedCanvases.getCanvas("maskCanvas",d,f),g=p.context;g.save();const y=this.getObject(e,c,l);Uw(g,y),g.globalCompositeOperation="source-in",g.fillStyle=s?r.getPattern(g,this,Wi(i),vn.FILL,e):r,g.fillRect(0,0,d,f),g.restore(),i.save(),i.transform(...h),i.scale(1,-1),Qd(i,p.canvas,0,0,d,f,0,-1,1,1),this.dependencyTracker?.recordBBox(e,i,0,d,0,f),i.restore()}this.compose(),this.dependencyTracker?.recordOperation(e)}paintImageXObject(e,t){if(!this.contentVisible)return;const i=this.getObject(e,t);if(!i){we("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e,i)}paintImageXObjectRepeat(e,t,i,r,s){if(!this.contentVisible)return;const l=this.getObject(e,t);if(!l){we("Dependent image isn't ready yet");return}const c=l.width,d=l.height,f=[];for(let h=0,p=s.length;h<p;h+=2)f.push({transform:[i,0,0,r,s[h],s[h+1]],x:0,y:0,w:c,h:d});this.paintInlineImageXObjectGroup(e,l,f)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:i,height:r}=e,s=this.cachedCanvases.getCanvas("inlineImage",i,r),l=s.context;return l.filter=this.current.transferMaps,l.drawImage(t,0,0),l.filter="none",s.canvas}paintInlineImageXObject(e,t){if(!this.contentVisible)return;const i=t.width,r=t.height,s=this.ctx;this.save(e);const{filter:l}=s;l!=="none"&&l!==""&&(s.filter="none"),s.scale(1/i,-1/r);let c;if(t.bitmap)c=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)c=t;else{const h=this.cachedCanvases.getCanvas("inlineImage",i,r).context;Fw(h,t),c=this.applyTransferMapsToCanvas(h)}const d=this._scaleImage(c,Wi(s));s.imageSmoothingEnabled=Hw(bt(s),t.interpolate),this.dependencyTracker?.resetBBox(e).recordBBox(e,s,0,i,-r,0).recordDependencies(e,Si.imageXObject).recordOperation(e),Qd(s,d.img,0,0,d.paintWidth,d.paintHeight,0,-r,i,r),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,t,i){if(!this.contentVisible)return;const r=this.ctx;let s;if(t.bitmap)s=t.bitmap;else{const l=t.width,c=t.height,f=this.cachedCanvases.getCanvas("inlineImage",l,c).context;Fw(f,t),s=this.applyTransferMapsToCanvas(f)}this.dependencyTracker?.resetBBox(e);for(const l of i)r.save(),r.transform(...l.transform),r.scale(1,-1),Qd(r,s,l.x,l.y,l.w,l.h,0,-1,1,1),this.dependencyTracker?.recordBBox(e,r,0,1,-1,0),r.restore();this.dependencyTracker?.recordOperation(e),this.compose()}paintSolidColorImageMask(e){this.contentVisible&&(this.dependencyTracker?.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,Si.fill).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,t){}markPointProps(e,t,i){}beginMarkedContent(e,t){this.dependencyTracker?.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t,i){this.dependencyTracker?.beginMarkedContent(e),t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(i)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){this.dependencyTracker?.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,t,i){const r=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(i);const s=this.ctx;this.pendingClip?(r||(this.pendingClip===qw?s.clip(t,"evenodd"):s.clip(t)),this.pendingClip=null,this.dependencyTracker?.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):this.dependencyTracker?.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=bt(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),i=Math.hypot(e[0],e[2]),r=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(i,r)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:i,c:r,d:s}=this.ctx.getTransform();let l,c;if(i===0&&r===0){const d=Math.abs(t),f=Math.abs(s);if(d===f)if(e===0)l=c=1/d;else{const h=d*e;l=c=h<1?1/h:1}else if(e===0)l=1/d,c=1/f;else{const h=d*e,p=f*e;l=h<1?1/h:1,c=p<1?1/p:1}}else{const d=Math.abs(t*s-i*r),f=Math.hypot(t,i),h=Math.hypot(r,s);if(e===0)l=h/d,c=f/d;else{const p=e*d;l=h>p?h/p:1,c=f>p?f/p:1}}this._cachedScaleForStroking[0]=l,this._cachedScaleForStroking[1]=c}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:i,current:{lineWidth:r}}=this,[s,l]=this.getScaleForStroking();if(s===l){i.lineWidth=(r||1)*s,i.stroke(e);return}const c=i.getLineDash();t&&i.save(),i.scale(s,l),rv.a=1/s,rv.d=1/l;const d=new Path2D;if(d.addPath(e,rv),c.length>0){const f=Math.max(s,l);i.setLineDash(c.map(h=>h/f)),i.lineDashOffset/=f}i.lineWidth=r||1,i.stroke(d),t&&i.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}for(const n in Fc)Ko.prototype[n]!==void 0&&(Ko.prototype[Fc[n]]=Ko.prototype[n]);class Wo{static#e=null;static#t="";static get workerPort(){return this.#e}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");this.#e=e}static get workerSrc(){return this.#t}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");this.#t=e}}class ej{#e;#t;constructor({parsedData:e,rawData:t}){this.#e=e,this.#t=t}getRaw(){return this.#t}get(e){return this.#e.get(e)??null}[Symbol.iterator](){return this.#e.entries()}}const zo=Symbol("INTERNAL");class tj{#e=!1;#t=!1;#i=!1;#n=!0;constructor(e,{name:t,intent:i,usage:r,rbGroups:s}){this.#e=!!(e&ti.DISPLAY),this.#t=!!(e&ti.PRINT),this.name=t,this.intent=i,this.usage=r,this.rbGroups=s}get visible(){if(this.#i)return this.#n;if(!this.#n)return!1;const{print:e,view:t}=this.usage;return this.#e?t?.viewState!=="OFF":this.#t?e?.printState!=="OFF":!0}_setVisible(e,t,i=!1){e!==zo&&Ye("Internal method `_setVisible` called."),this.#i=i,this.#n=t}}class nj{#e=null;#t=new Map;#i=null;#n=null;constructor(e,t=ti.DISPLAY){if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,this.#n=e.order;for(const i of e.groups)this.#t.set(i.id,new tj(t,i));if(e.baseState==="OFF")for(const i of this.#t.values())i._setVisible(zo,!1);for(const i of e.on)this.#t.get(i)._setVisible(zo,!0);for(const i of e.off)this.#t.get(i)._setVisible(zo,!1);this.#i=this.getHash()}}#a(e){const t=e.length;if(t<2)return!0;const i=e[0];for(let r=1;r<t;r++){const s=e[r];let l;if(Array.isArray(s))l=this.#a(s);else if(this.#t.has(s))l=this.#t.get(s).visible;else return we(`Optional content group not found: ${s}`),!0;switch(i){case"And":if(!l)return!1;break;case"Or":if(l)return!0;break;case"Not":return!l;default:return!0}}return i==="And"}isVisible(e){if(this.#t.size===0)return!0;if(!e)return Mh("Optional content group not defined."),!0;if(e.type==="OCG")return this.#t.has(e.id)?this.#t.get(e.id).visible:(we(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return this.#a(e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!this.#t.has(t))return we(`Optional content group not found: ${t}`),!0;if(this.#t.get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!this.#t.has(t))return we(`Optional content group not found: ${t}`),!0;if(!this.#t.get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!this.#t.has(t))return we(`Optional content group not found: ${t}`),!0;if(!this.#t.get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!this.#t.has(t))return we(`Optional content group not found: ${t}`),!0;if(this.#t.get(t).visible)return!1}return!0}return we(`Unknown optional content policy ${e.policy}.`),!0}return we(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,i=!0){const r=this.#t.get(e);if(!r){we(`Optional content group not found: ${e}`);return}if(i&&t&&r.rbGroups.length)for(const s of r.rbGroups)for(const l of s)l!==e&&this.#t.get(l)?._setVisible(zo,!1,!0);r._setVisible(zo,!!t,!0),this.#e=null}setOCGState({state:e,preserveRB:t}){let i;for(const r of e){switch(r){case"ON":case"OFF":case"Toggle":i=r;continue}const s=this.#t.get(r);if(s)switch(i){case"ON":this.setVisibility(r,!0,t);break;case"OFF":this.setVisibility(r,!1,t);break;case"Toggle":this.setVisibility(r,!s.visible,t);break}}this.#e=null}get hasInitialVisibility(){return this.#i===null||this.getHash()===this.#i}getOrder(){return this.#t.size?this.#n?this.#n.slice():[...this.#t.keys()]:null}getGroup(e){return this.#t.get(e)||null}getHash(){if(this.#e!==null)return this.#e;const e=new J_;for(const[t,i]of this.#t)e.update(`${t}:${i.visible}`);return this.#e=e.hexdigest()}[Symbol.iterator](){return this.#t.entries()}}class Lh{#e=null;#t=null;_fullReader=null;_rangeReaders=new Set;_source=null;constructor(e,t,i){this._source=e,this.#e=t,this.#t=i}get _progressiveDataLength(){return this._fullReader?._loaded??0}getFullReader(){return Ve(!this._fullReader,"BasePDFStream.getFullReader can only be called once."),this._fullReader=new this.#e(this)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new this.#t(this,e,t);return this._rangeReaders.add(i),i}cancelAllRequests(e){this._fullReader?.cancel(e);for(const t of new Set(this._rangeReaders))t.cancel(e)}}class Nh{onProgress=null;_contentLength=0;_filename=null;_headersCapability=Promise.withResolvers();_isRangeSupported=!1;_isStreamingSupported=!1;_loaded=0;_stream=null;constructor(e){this._stream=e}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){Ye("Abstract method `read` called")}cancel(e){Ye("Abstract method `cancel` called")}}class Rh{_stream=null;constructor(e,t,i){this._stream=e}async read(){Ye("Abstract method `read` called")}cancel(e){Ye("Abstract method `cancel` called")}}function $w(n){return n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer}class ij extends Lh{_progressiveDone=!1;_queuedChunks=[];constructor(e){super(e,rj,aj);const{pdfDataRangeTransport:t}=e,{initialData:i,progressiveDone:r}=t;if(i?.length>0){const s=$w(i);this._queuedChunks.push(s)}this._progressiveDone=r,t.addRangeListener((s,l)=>{this.#e(s,l)}),t.addProgressListener((s,l)=>{l!==void 0&&this._fullReader?.onProgress?.({loaded:s,total:l})}),t.addProgressiveReadListener(s=>{this.#e(void 0,s)}),t.addProgressiveDoneListener(()=>{this._fullReader?.progressiveDone(),this._progressiveDone=!0}),t.transportReady()}#e(e,t){const i=$w(t);if(e===void 0)this._fullReader?this._fullReader._enqueue(i):this._queuedChunks.push(i);else{const r=this._rangeReaders.keys().find(s=>s._begin===e);Ve(r,"#onReceiveData - no `PDFDataTransportStreamRangeReader` instance found."),r._enqueue(i)}}getFullReader(){const e=super.getFullReader();return this._queuedChunks=null,e}getRangeReader(e,t){const i=super.getRangeReader(e,t);return i&&(i.onDone=()=>this._rangeReaders.delete(i),this._source.pdfDataRangeTransport.requestDataRange(e,t)),i}cancelAllRequests(e){super.cancelAllRequests(e),this._source.pdfDataRangeTransport.abort()}}class rj extends Nh{_done=!1;_queuedChunks=null;_requests=[];constructor(e){super(e);const{pdfDataRangeTransport:t,disableRange:i,disableStream:r}=e._source,{length:s,contentDispositionFilename:l}=t;this._queuedChunks=e._queuedChunks||[];for(const c of this._queuedChunks)this._loaded+=c.byteLength;this._done=e._progressiveDone,this._contentLength=s,this._isStreamingSupported=!r,this._isRangeSupported=!i,ib(l)&&(this._filename=l),this._headersCapability.resolve()}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||=!0}}class aj extends Rh{onDone=null;_begin=-1;_done=!1;_queuedChunk=null;_requests=[];constructor(e,t,i){super(e,t,i),this._begin=t}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this.onDone?.()}}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this.onDone?.()}}function sj(n){let e=!0,t=i("filename\\*","i").exec(n);if(t){t=t[1];let h=c(t);return h=unescape(h),h=d(h),h=f(h),s(h)}if(t=l(n),t){const h=f(t);return s(h)}if(t=i("filename","i").exec(n),t){t=t[1];let h=c(t);return h=f(h),s(h)}function i(h,p){return new RegExp("(?:^|;)\\s*"+h+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',p)}function r(h,p){if(h){if(!/^[\x00-\xFF]+$/.test(p))return p;try{const g=new TextDecoder(h,{fatal:!0}),y=_h(p);p=g.decode(y),e=!1}catch{}}return p}function s(h){return e&&/[\x80-\xff]/.test(h)&&(h=r("utf-8",h),e&&(h=r("iso-8859-1",h))),h}function l(h){const p=[];let g;const y=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(g=y.exec(h))!==null;){let[,A,E,x]=g;if(A=parseInt(A,10),A in p){if(A===0)break;continue}p[A]=[E,x]}const S=[];for(let A=0;A<p.length&&A in p;++A){let[E,x]=p[A];x=c(x),E&&(x=unescape(x),A===0&&(x=d(x))),S.push(x)}return S.join("")}function c(h){if(h.startsWith('"')){const p=h.slice(1).split('\\"');for(let g=0;g<p.length;++g){const y=p[g].indexOf('"');y!==-1&&(p[g]=p[g].slice(0,y),p.length=g+1),p[g]=p[g].replaceAll(/\\(.)/g,"$1")}h=p.join('"')}return h}function d(h){const p=h.indexOf("'");if(p===-1)return h;const g=h.slice(0,p),S=h.slice(p+1).replace(/^[^']*'/,"");return r(g,S)}function f(h){return!h.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(h)?h:h.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(p,g,y,S){if(y==="q"||y==="Q")return S=S.replaceAll("_"," "),S=S.replaceAll(/=([0-9a-fA-F]{2})/g,function(A,E){return String.fromCharCode(parseInt(E,16))}),r(g,S);try{S=atob(S)}catch{}return r(g,S)})}return""}function s2(n,e){const t=new Headers;if(!n||!e||typeof e!="object")return t;for(const i in e){const r=e[i];r!==void 0&&t.append(i,r)}return t}function Ih(n){return URL.parse(n)?.origin??null}function o2({responseHeaders:n,isHttp:e,rangeChunkSize:t,disableRange:i}){const r={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(n.get("Content-Length"),10);return!Number.isInteger(s)||(r.suggestedLength=s,s<=2*t)||i||!e||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function l2(n){const e=n.get("Content-Disposition");if(e){let t=sj(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(ib(t))return t}return null}function kh(n,e){return new _f(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n,n===404||n===0&&e.startsWith("file:"))}function c2(n,e){if(n!==e)throw new Error(`Expected range response-origin "${n}" to match "${e}".`)}function u2(n,e,t,i){return fetch(n,{method:"GET",headers:e,signal:i.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"})}function d2(n,e){if(n!==200&&n!==206)throw kh(n,e)}function f2(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(we(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class oj extends Lh{_responseOrigin=null;constructor(e){super(e,lj,cj),this.isHttp=/^https?:/i.test(e.url),this.headers=s2(this.isHttp,e.httpHeaders)}}class lj extends Nh{_abortController=new AbortController;_reader=null;constructor(e){super(e);const{disableRange:t,disableStream:i,length:r,rangeChunkSize:s,url:l,withCredentials:c}=e._source;this._contentLength=r,this._isStreamingSupported=!i,this._isRangeSupported=!t;const d=new Headers(e.headers);u2(l,d,c,this._abortController).then(f=>{e._responseOrigin=Ih(f.url),d2(f.status,l),this._reader=f.body.getReader();const h=f.headers,{allowRangeRequests:p,suggestedLength:g}=o2({responseHeaders:h,isHttp:e.isHttp,rangeChunkSize:s,disableRange:t});this._isRangeSupported=p,this._contentLength=g||this._contentLength,this._filename=l2(h),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Ua("Streaming is disabled.")),this._headersCapability.resolve()}).catch(this._headersCapability.reject)}async read(){await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:f2(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}class cj extends Rh{_abortController=new AbortController;_readCapability=Promise.withResolvers();_reader=null;constructor(e,t,i){super(e,t,i);const{url:r,withCredentials:s}=e._source,l=new Headers(e.headers);l.append("Range",`bytes=${t}-${i-1}`),u2(r,l,s,this._abortController).then(c=>{const d=Ih(c.url);c2(d,e._responseOrigin),d2(c.status,r),this._reader=c.body.getReader(),this._readCapability.resolve()}).catch(this._readCapability.reject)}async read(){await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:{value:f2(e),done:!1}}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}const av=200,Gw=206;function uj(n){return typeof n!="string"?n:_h(n).buffer}class dj extends Lh{#e=new WeakMap;_responseOrigin=null;constructor(e){super(e,fj,hj),this.url=e.url,this.isHttp=/^https?:/i.test(this.url),this.headers=s2(this.isHttp,e.httpHeaders)}_request(e){const t=new XMLHttpRequest,i={validateStatus:null,onHeadersReceived:e.onHeadersReceived,onDone:e.onDone,onError:e.onError,onProgress:e.onProgress};this.#e.set(t,i),t.open("GET",this.url),t.withCredentials=this._source.withCredentials;for(const[r,s]of this.headers)t.setRequestHeader(r,s);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.validateStatus=r=>r===Gw||r===av):i.validateStatus=r=>r===av,t.responseType="arraybuffer",Ve(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>e.onError(t.status),t.onreadystatechange=this.#i.bind(this,t),t.onprogress=this.#t.bind(this,t),t.send(null),t}#t(e,t){this.#e.get(e)?.onProgress?.(t)}#i(e,t){const i=this.#e.get(e);if(!i||(e.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),e.readyState!==4)||!this.#e.has(e))return;if(this.#e.delete(e),e.status===0&&this.isHttp){i.onError(e.status);return}const r=e.status||av;if(!i.validateStatus(r)){i.onError(e.status);return}const s=uj(e.response);if(r===Gw){const l=e.getResponseHeader("Content-Range");/bytes (\d+)-(\d+)\/(\d+)/.test(l)?i.onDone(s):(we('Missing or invalid "Content-Range" header.'),i.onError(0))}else s?i.onDone(s):i.onError(e.status)}_abortRequest(e){this.#e.has(e)&&(this.#e.delete(e),e.abort())}getRangeReader(e,t){const i=super.getRangeReader(e,t);return i&&(i.onClosed=()=>this._rangeReaders.delete(i)),i}}class fj extends Nh{_cachedChunks=[];_done=!1;_requests=[];_storedError=null;constructor(e){super(e);const{length:t}=e._source;this._contentLength=t,this._fullRequestXhr=e._request({onHeadersReceived:this.#e.bind(this),onDone:this.#t.bind(this),onError:this.#i.bind(this),onProgress:this.#n.bind(this)})}#e(){const e=this._stream,{disableRange:t,rangeChunkSize:i}=e._source,r=this._fullRequestXhr;e._responseOrigin=Ih(r.responseURL);const s=r.getAllResponseHeaders(),l=new Headers(s?s.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(f=>{const[h,...p]=f.split(": ");return[h,p.join(": ")]}):[]),{allowRangeRequests:c,suggestedLength:d}=o2({responseHeaders:l,isHttp:e.isHttp,rangeChunkSize:i,disableRange:t});c&&(this._isRangeSupported=!0),this._contentLength=d||this._contentLength,this._filename=l2(l),this._isRangeSupported&&e._abortRequest(r),this._headersCapability.resolve()}#t(e){if(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._cachedChunks.push(e),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}#i(e){this._storedError=kh(e,this._stream.url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}#n(e){this.onProgress?.({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._abortRequest(this._fullRequestXhr),this._fullRequestXhr=null}}class hj extends Rh{onClosed=null;_done=!1;_queuedChunk=null;_requests=[];_storedError=null;constructor(e,t,i){super(e,t,i),this._requestXhr=e._request({begin:t,end:i,onHeadersReceived:this.#e.bind(this),onDone:this.#t.bind(this),onError:this.#i.bind(this),onProgress:null})}#e(){const e=Ih(this._requestXhr?.responseURL);try{c2(e,this._stream._responseOrigin)}catch(t){this._storedError=t,this.#i(0)}}#t(e){this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this.onClosed?.()}#i(e){this._storedError??=kh(e,this._stream.url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._abortRequest(this._requestXhr),this.onClosed?.()}}const pj=/^[a-z][a-z0-9\-+.]+:/i;function mj(n){if(pj.test(n))return new URL(n);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(n))}function h2(n){const{Readable:e}=process.getBuiltinModule("stream");return typeof e.toWeb=="function"?e.toWeb(n):process.getBuiltinModule("module").createRequire(import.meta.url)("node-readable-to-web-readable-stream").makeDefaultReadableStreamFromNodeReadable(n)}function p2(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(we(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class gj extends Lh{constructor(e){super(e,vj,yj),this.url=mj(e.url),Ve(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs.")}}class vj extends Nh{_reader=null;constructor(e){super(e);const{disableRange:t,disableStream:i,length:r,rangeChunkSize:s}=e._source;this._contentLength=r,this._isStreamingSupported=!i,this._isRangeSupported=!t;const l=e.url,c=process.getBuiltinModule("fs");c.promises.lstat(l).then(d=>{const f=c.createReadStream(l),h=h2(f);this._reader=h.getReader();const{size:p}=d;p<=2*s&&(this._isRangeSupported=!1),this._contentLength=p,!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Ua("Streaming is disabled.")),this._headersCapability.resolve()}).catch(d=>{d.code==="ENOENT"&&(d=kh(0,l.href)),this._headersCapability.reject(d)})}async read(){await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:p2(e),done:!1})}cancel(e){this._reader?.cancel(e)}}class yj extends Rh{_readCapability=Promise.withResolvers();_reader=null;constructor(e,t,i){super(e,t,i);const r=e.url,s=process.getBuiltinModule("fs");try{const l=s.createReadStream(r,{start:t,end:i-1}),c=h2(l);this._reader=c.getReader(),this._readCapability.resolve()}catch(l){this._readCapability.reject(l)}}async read(){await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:{value:p2(e),done:!1}}cancel(e){this._reader?.cancel(e)}}const yc=Symbol("INITIAL_DATA");class m2{#e=Object.create(null);#t(e){return this.#e[e]||={...Promise.withResolvers(),data:yc}}get(e,t=null){if(t){const r=this.#t(e);return r.promise.then(()=>t(r.data)),null}const i=this.#e[e];if(!i||i.data===yc)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return i.data}has(e){const t=this.#e[e];return!!t&&t.data!==yc}delete(e){const t=this.#e[e];return!t||t.data===yc?!1:(delete this.#e[e],!0)}resolve(e,t=null){const i=this.#t(e);i.data=t,i.resolve()}clear(){for(const e in this.#e){const{data:t}=this.#e[e];t?.bitmap?.close()}this.#e=Object.create(null)}*[Symbol.iterator](){for(const e in this.#e){const{data:t}=this.#e[e];t!==yc&&(yield[e,t])}}}const bj=1e5,Vw=30;class ni{#e=Promise.withResolvers();#t=null;#i=!1;#n=!!globalThis.FontInspector?.enabled;#a=null;#s=null;#r=0;#o=0;#c=null;#l=null;#f=0;#d=0;#h=Object.create(null);#g=[];#m=null;#u=[];#p=new WeakMap;#v=null;static#b=new Map;static#y=new Map;static#C=new WeakMap;static#x=null;static#S=new Set;constructor({textContentSource:e,container:t,viewport:i}){if(e instanceof ReadableStream)this.#m=e;else if(typeof e=="object")this.#m=new ReadableStream({start(d){d.enqueue(e),d.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#t=this.#l=t,this.#d=i.scale*or.pixelRatio,this.#f=i.rotation,this.#s={div:null,properties:null,ctx:null};const{pageWidth:r,pageHeight:s,pageX:l,pageY:c}=i.rawDims;this.#v=[1,0,0,-1,-l,c+s],this.#o=r,this.#r=s,ni.#_(),t.style.setProperty("--min-font-size",ni.#x),_s(t,i),this.#e.promise.finally(()=>{ni.#S.delete(this),this.#s=null,this.#h=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=Gt.platform;return Ce(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{this.#c.read().then(({value:t,done:i})=>{if(i){this.#e.resolve();return}this.#a??=t.lang,Object.assign(this.#h,t.styles),this.#T(t.items),e()},this.#e.reject)};return this.#c=this.#m.getReader(),ni.#S.add(this),e(),this.#e.promise}update({viewport:e,onBefore:t=null}){const i=e.scale*or.pixelRatio,r=e.rotation;if(r!==this.#f&&(t?.(),this.#f=r,_s(this.#l,{rotation:r})),i!==this.#d){t?.(),this.#d=i;const s={div:null,properties:null,ctx:ni.#P(this.#a)};for(const l of this.#u)s.properties=this.#p.get(l),s.div=l,this.#w(s)}}cancel(){const e=new Ua("TextLayer task cancelled.");this.#c?.cancel(e).catch(()=>{}),this.#c=null,this.#e.reject(e)}get textDivs(){return this.#u}get textContentItemsStr(){return this.#g}#T(e){if(this.#i)return;this.#s.ctx??=ni.#P(this.#a);const t=this.#u,i=this.#g;for(const r of e){if(t.length>bj){we("Ignoring additional textDivs for performance reasons."),this.#i=!0;return}if(r.str===void 0){if(r.type==="beginMarkedContentProps"||r.type==="beginMarkedContent"){const s=this.#t;this.#t=document.createElement("span"),this.#t.classList.add("markedContent"),r.id&&this.#t.setAttribute("id",`${r.id}`),r.tag==="Artifact"&&(this.#t.ariaHidden=!0),s.append(this.#t)}else r.type==="endMarkedContent"&&(this.#t=this.#t.parentNode);continue}i.push(r.str),this.#A(r)}}#A(e){const t=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};this.#u.push(t);const r=ue.transform(this.#v,e.transform);let s=Math.atan2(r[1],r[0]);const l=this.#h[e.fontName];l.vertical&&(s+=Math.PI/2);let c=this.#n&&l.fontSubstitution||l.fontFamily;c=ni.fontFamilyMap.get(c)||c;const d=Math.hypot(r[2],r[3]),f=d*ni.#B(c,l,this.#a);let h,p;s===0?(h=r[4],p=r[5]-f):(h=r[4]+f*Math.sin(s),p=r[5]-f*Math.cos(s));const g=t.style;g.left=`${(100*h/this.#o).toFixed(2)}%`,g.top=`${(100*p/this.#r).toFixed(2)}%`,g.setProperty("--font-height",`${d.toFixed(2)}px`),g.fontFamily=c,i.fontSize=d,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,this.#n&&(t.dataset.fontName=l.fontSubstitutionLoadedName||e.fontName),s!==0&&(i.angle=s*(180/Math.PI));let y=!1;if(e.str.length>1)y=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const S=Math.abs(e.transform[0]),A=Math.abs(e.transform[3]);S!==A&&Math.max(S,A)/Math.min(S,A)>1.5&&(y=!0)}if(y&&(i.canvasWidth=l.vertical?e.height:e.width),this.#p.set(t,i),this.#s.div=t,this.#s.properties=i,this.#w(this.#s),i.hasText&&this.#t.append(t),i.hasEOL){const S=document.createElement("br");S.setAttribute("role","presentation"),this.#t.append(S)}}#w(e){const{div:t,properties:i,ctx:r}=e,{style:s}=t;if(i.canvasWidth!==0&&i.hasText){const{fontFamily:l}=s,{canvasWidth:c,fontSize:d}=i;ni.#M(r,d*this.#d,l);const{width:f}=r.measureText(t.textContent);f>0&&s.setProperty("--scale-x",c*this.#d/f)}i.angle!==0&&s.setProperty("--rotate",`${i.angle}deg`)}static cleanup(){if(!(this.#S.size>0)){this.#b.clear();for(const{canvas:e}of this.#y.values())e.remove();this.#y.clear()}}static#P(e=null){let t=this.#y.get(e||="");if(!t){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=e,document.body.append(i),t=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#y.set(e,t),this.#C.set(t,{size:0,family:""})}return t}static#M(e,t,i){const r=this.#C.get(e);t===r.size&&i===r.family||(e.font=`${t}px ${i}`,r.size=t,r.family=i)}static#_(){if(this.#x!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),this.#x=e.getBoundingClientRect().height,e.remove()}static#B(e,t,i){const r=this.#b.get(e);if(r)return r;const s=this.#P(i);s.canvas.width=s.canvas.height=Vw,this.#M(s,Vw,e);const l=s.measureText(""),c=l.fontBoundingBoxAscent,d=Math.abs(l.fontBoundingBoxDescent);s.canvas.width=s.canvas.height=0;let f=.8;return c?f=c/(c+d):(Gt.platform.isFirefox&&we("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?f=t.ascent:t.descent&&(f=1+t.descent)),this.#b.set(e,f),f}}const Aj=100;function g2(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const e=new ub,{docId:t}=e,i=n.url?MB(n.url):null,r=n.data?_B(n.data):null,s=n.httpHeaders||null,l=n.withCredentials===!0,c=n.password??null,d=n.range instanceof v2?n.range:null,f=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:2**16;let h=n.worker instanceof Hc?n.worker:null;const p=n.verbosity,g=typeof n.docBaseUrl=="string"&&!Ph(n.docBaseUrl)?n.docBaseUrl:null,y=Xd(n.cMapUrl),S=n.cMapPacked!==!1,A=n.CMapReaderFactory||(On?BB:Pw),E=Xd(n.iccUrl),x=Xd(n.standardFontDataUrl),O=n.StandardFontDataFactory||(On?jB:Dw),T=Xd(n.wasmUrl),P=n.WasmFactory||(On?zB:Lw),M=n.stopAtErrors!==!0,_=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,L=n.isEvalSupported!==!1,B=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!On,F=typeof n.isImageDecoderSupported=="boolean"?n.isImageDecoderSupported:!On&&(Gt.platform.isFirefox||!globalThis.chrome),X=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,q=typeof n.disableFontFace=="boolean"?n.disableFontFace:On,$=n.fontExtraProperties===!0,se=n.enableXfa===!0,re=n.ownerDocument||globalThis.document,ce=n.disableRange===!0,j=n.disableStream===!0,H=n.disableAutoFetch===!0,ie=n.pdfBug===!0,le=n.CanvasFactory||(On?kB:NB),pe=n.FilterFactory||(On?IB:RB),I=n.enableHWA===!0,K=n.useWasm!==!1,ne=d?d.length:n.length??NaN,oe=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!On&&!q,ve=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:!!(A===Pw&&O===Dw&&P===Lw&&y&&x&&T&&Dc(y,document.baseURI)&&Dc(x,document.baseURI)&&Dc(T,document.baseURI)),Ee=null;tB(p);const de={canvasFactory:new le({ownerDocument:re,enableHWA:I}),filterFactory:new pe({docId:t,ownerDocument:re}),cMapReaderFactory:ve?null:new A({baseUrl:y,isCompressed:S}),standardFontDataFactory:ve?null:new O({baseUrl:x}),wasmFactory:ve?null:new P({baseUrl:T})};h||(h=Hc.create({verbosity:p,port:Wo.workerPort}),e._worker=h);const ct={docId:t,apiVersion:"5.4.624",data:r,password:c,disableAutoFetch:H,rangeChunkSize:f,length:ne,docBaseUrl:g,enableXfa:se,evaluatorOptions:{maxImageSize:_,disableFontFace:q,ignoreErrors:M,isEvalSupported:L,isOffscreenCanvasSupported:B,isImageDecoderSupported:F,canvasMaxAreaInBytes:X,fontExtraProperties:$,useSystemFonts:oe,useWasm:K,useWorkerFetch:ve,cMapUrl:y,iccUrl:E,standardFontDataUrl:x,wasmUrl:T}},J={ownerDocument:re,pdfBug:ie,styleElement:Ee,enableHWA:I,loadingParams:{disableAutoFetch:H,enableXfa:se}};return h.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const Oe=h.messageHandler.sendWithPromise("GetDocRequest",ct,r?[r.buffer]:null);let Pe;if(d)Pe=new ij({pdfDataRangeTransport:d,disableRange:ce,disableStream:j});else if(!r){if(!i)throw new Error("getDocument - no `url` parameter provided.");const ae=Dc(i)?oj:On?gj:dj;Pe=new ae({url:i,length:ne,httpHeaders:s,withCredentials:l,rangeChunkSize:f,disableRange:ce,disableStream:j})}return Oe.then(ae=>{if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const Lt=new Lc(t,ae,h.port),Re=new xj(Lt,e,Pe,J,de);e._transport=Re,Lt.send("Ready",null)})}).catch(e._capability.reject),e}class ub{static#e=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId=`d${ub.#e++}`;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(e){throw this._worker?.port&&delete this._worker._pendingDestroy,e}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}}class v2{#e=Promise.withResolvers();#t=[];#i=[];#n=[];#a=[];constructor(e,t,i=!1,r=null){this.length=e,this.initialData=t,this.progressiveDone=i,this.contentDispositionFilename=r}addRangeListener(e){this.#a.push(e)}addProgressListener(e){this.#n.push(e)}addProgressiveReadListener(e){this.#i.push(e)}addProgressiveDoneListener(e){this.#t.push(e)}onDataRange(e,t){for(const i of this.#a)i(e,t)}onDataProgress(e,t){this.#e.promise.then(()=>{for(const i of this.#n)i(e,t)})}onDataProgressiveRead(e){this.#e.promise.then(()=>{for(const t of this.#i)t(e)})}onDataProgressiveDone(){this.#e.promise.then(()=>{for(const e of this.#t)e()})}transportReady(){this.#e.resolve()}requestDataRange(e,t){Ye("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class Sj{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Ce(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,t){return this._transport.getAnnotationsByType(e,t)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}extractPages(e){return this._transport.extractPages(e)}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class Ej{#e=!1;#t=$e.instance;constructor(e,t,i,r=!1){this._pageIndex=e,this._pageInfo=t,this._transport=i,this._stats=r?new xw:null,this._pdfBug=r,this.commonObjs=i.commonObjs,this.objs=new m2,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}set pageNumber(e){this._pageIndex=e-1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:i=0,offsetY:r=0,dontFlip:s=!1}={}){return new ou({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:i,offsetY:r,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Ce(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:e,canvas:t=e.canvas,viewport:i,intent:r="display",annotationMode:s=Ia.ENABLE,transform:l=null,background:c=null,optionalContentConfigPromise:d=null,annotationCanvasMap:f=null,pageColors:h=null,printAnnotationStorage:p=null,isEditing:g=!1,recordOperations:y=!1,operationsFilter:S=null}){this._stats?.time("Overall");const A=this._transport.getRenderingIntent(r,s,p,g),{renderingIntent:E,cacheKey:x}=A;this.#e=!1,d||=this._transport.getOptionalContentConfig(E);let O=this._intentStates.get(x);O||(O=Object.create(null),this._intentStates.set(x,O)),O.streamReaderCancelTimeout&&(clearTimeout(O.streamReaderCancelTimeout),O.streamReaderCancelTimeout=null);const T=!!(E&ti.PRINT);O.displayReadyCapability||(O.displayReadyCapability=Promise.withResolvers(),O.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(A));const P=!!(this._pdfBug&&globalThis.StepperManager?.enabled),M=!this.recordedBBoxes&&(y||P),_=F=>{if(O.renderTasks.delete(L),M){const X=L.gfx?.dependencyTracker.take();X&&(L.stepper&&L.stepper.setOperatorBBoxes(X,L.gfx.dependencyTracker.takeDebugMetadata()),y&&(this.recordedBBoxes=X))}T&&(this.#e=!0),this.#i(),F?(L.capability.reject(F),this._abortOperatorList({intentState:O,reason:F instanceof Error?F:new Error(F)})):L.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},L=new $o({callback:_,params:{canvas:t,canvasContext:e,dependencyTracker:M?new UB(t,O.operatorList.length,P):null,viewport:i,transform:l,background:c},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:f,operatorList:O.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!T,pdfBug:this._pdfBug,pageColors:h,enableHWA:this._transport.enableHWA,operationsFilter:S});(O.renderTasks||=new Set).add(L);const B=L.task;return Promise.all([O.displayReadyCapability.promise,d]).then(([F,X])=>{if(this.destroyed){_();return}if(this._stats?.time("Rendering"),!(X.renderingIntent&E))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");L.initializeGraphics({transparency:F,optionalContentConfig:X}),L.operatorListChanged()}).catch(_),B}getOperatorList({intent:e="display",annotationMode:t=Ia.ENABLE,printAnnotationStorage:i=null,isEditing:r=!1}={}){function s(){c.operatorList.lastChunk&&(c.opListReadCapability.resolve(c.operatorList),c.renderTasks.delete(d))}const l=this._transport.getRenderingIntent(e,t,i,r,!0);let c=this._intentStates.get(l.cacheKey);c||(c=Object.create(null),this._intentStates.set(l.cacheKey,c));let d;return c.opListReadCapability||(d=Object.create(null),d.operatorListChanged=s,c.opListReadCapability=Promise.withResolvers(),(c.renderTasks||=new Set).add(d),c.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(l)),c.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageId:this.#t.getPageId(this._pageIndex+1)-1,pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>Uc.textContent(i));const t=this.streamTextContent(e);return new Promise(function(i,r){function s(){l.read().then(function({value:d,done:f}){if(f){i(c);return}c.lang??=d.lang,Object.assign(c.styles,d.styles),c.items.push(...d.items),s()},r)}const l=t.getReader(),c={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const i of t.renderTasks)e.push(i.completed),i.cancel();return this.objs.clear(),this.#e=!1,Promise.all(e)}cleanup(e=!1){this.#e=!0;const t=this.#i();return e&&t&&(this._stats&&=new xw),t}#i(){if(!this.#e||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#e=!1,!0}_startRenderPage(e,t){const i=this._intentStates.get(t);i&&(this._stats?.timeEnd("Page Request"),i.displayReadyCapability?.resolve(e))}_renderPageChunk(e,t){for(let i=0,r=e.length;i<r;i++)t.operatorList.fnArray.push(e.fnArray[i]),t.operatorList.argsArray.push(e.argsArray[i]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const i of t.renderTasks)i.operatorListChanged();e.lastChunk&&this.#i()}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:i,modifiedIds:r}){const{map:s,transfer:l}=i,d=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageId:this.#t.getPageId(this._pageIndex+1)-1,pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:s,modifiedIds:r},l).getReader(),f=this._intentStates.get(t);f.streamReader=d;const h=()=>{d.read().then(({value:p,done:g})=>{if(g){f.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(p,f),h())},p=>{if(f.streamReader=null,!this._transport.destroyed){if(f.operatorList){f.operatorList.lastChunk=!0;for(const g of f.renderTasks)g.operatorListChanged();this.#i()}if(f.displayReadyCapability)f.displayReadyCapability.reject(p);else if(f.opListReadCapability)f.opListReadCapability.reject(p);else throw p}})};h()}_abortOperatorList({intentState:e,reason:t,force:i=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!i){if(e.renderTasks.size>0)return;if(t instanceof nb){let r=Aj;t.extraDelay>0&&t.extraDelay<1e3&&(r+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},r);return}}if(e.streamReader.cancel(new Ua(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[r,s]of this._intentStates)if(s===e){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}var Ba,Bi,zr,Es,Ch,xs,ws,_n,Sf,y2,b2,Nc,Jo,Ef;const gt=class gt{constructor({name:e=null,port:t=null,verbosity:i=nB()}={}){Xi(this,_n);Xi(this,Ba,Promise.withResolvers());Xi(this,Bi,null);Xi(this,zr,null);Xi(this,Es,null);if(this.name=e,this.destroyed=!1,this.verbosity=i,t){if(mt(gt,ws).has(t))throw new Error("Cannot use more than one PDFWorker per port.");mt(gt,ws).set(t,this),Ki(this,_n,y2).call(this,t)}else Ki(this,_n,b2).call(this)}get promise(){return mt(this,Ba).promise}get port(){return mt(this,zr)}get messageHandler(){return mt(this,Bi)}destroy(){this.destroyed=!0,mt(this,Es)?.terminate(),zn(this,Es,null),mt(gt,ws).delete(mt(this,zr)),zn(this,zr,null),mt(this,Bi)?.destroy(),zn(this,Bi,null)}static create(e){const t=mt(this,ws).get(e?.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new gt(e)}static get workerSrc(){if(Wo.workerSrc)return Wo.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Ce(this,"_setupFakeWorkerGlobal",(async()=>mt(this,Jo,Ef)?mt(this,Jo,Ef):(await import(this.workerSrc)).WorkerMessageHandler)())}};Ba=new WeakMap,Bi=new WeakMap,zr=new WeakMap,Es=new WeakMap,Ch=new WeakMap,xs=new WeakMap,ws=new WeakMap,_n=new WeakSet,Sf=function(){mt(this,Ba).resolve(),mt(this,Bi).send("configure",{verbosity:this.verbosity})},y2=function(e){zn(this,zr,e),zn(this,Bi,new Lc("main","worker",e)),mt(this,Bi).on("ready",()=>{}),Ki(this,_n,Sf).call(this)},b2=function(){if(mt(gt,xs)||mt(gt,Jo,Ef)){Ki(this,_n,Nc).call(this);return}let{workerSrc:e}=gt;try{gt._isSameOrigin(window.location,e)||(e=gt._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),i=new Lc("main","worker",t),r=()=>{s.abort(),i.destroy(),t.terminate(),this.destroyed?mt(this,Ba).reject(new Error("Worker was destroyed")):Ki(this,_n,Nc).call(this)},s=new AbortController;t.addEventListener("error",()=>{mt(this,Es)||r()},{signal:s.signal}),i.on("test",c=>{if(s.abort(),this.destroyed||!c){r();return}zn(this,Bi,i),zn(this,zr,t),zn(this,Es,t),Ki(this,_n,Sf).call(this)}),i.on("ready",c=>{if(s.abort(),this.destroyed){r();return}try{l()}catch{Ki(this,_n,Nc).call(this)}});const l=()=>{const c=new Uint8Array;i.send("test",c,[c.buffer])};l();return}catch{Mh("The worker has been disabled.")}Ki(this,_n,Nc).call(this)},Nc=function(){mt(gt,xs)||(we("Setting up fake worker."),zn(gt,xs,!0)),gt._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){mt(this,Ba).reject(new Error("Worker was destroyed"));return}const t=new LB;zn(this,zr,t);const i=`fake${uw(gt,Ch)._++}`,r=new Lc(i+"_worker",i,t);e.setup(r,t),zn(this,Bi,new Lc(i,i+"_worker",t)),Ki(this,_n,Sf).call(this)}).catch(e=>{mt(this,Ba).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},Jo=new WeakSet,Ef=function(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}},Xi(gt,Jo),Xi(gt,Ch,0),Xi(gt,xs,!1),Xi(gt,ws,new WeakMap),On&&(zn(gt,xs,!0),Wo.workerSrc||="./pdf.worker.mjs"),gt._isSameOrigin=(e,t)=>{const i=URL.parse(e);if(!i?.origin||i.origin==="null")return!1;const r=new URL(t,i);return i.origin===r.origin},gt._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},gt.fromPort=e=>{if(pB("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!e?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return gt.create(e)};let Hc=gt;class xj{downloadInfoCapability=Promise.withResolvers();#e=null;#t=new Map;#i=null;#n=new Map;#a=new Map;#s=new Map;#r=null;#o=$e.instance;constructor(e,t,i,r,s){this.messageHandler=e,this.loadingTask=t,this.#i=i,this.commonObjs=new m2,this.fontLoader=new CB({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.enableHWA=r.enableHWA,this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.wasmFactory=s.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this.setupMessageHandler(),this.#o.addListener(this.#c.bind(this))}#c(){const e=new Map,t=new Map;for(let i=0,r=this.#o.pagesNumber;i<r;i++){const s=this.#o.getPrevPageNumber(i+1)-1,l=this.#n.get(s);l&&e.set(i,l);const c=this.#a.get(s);c&&t.set(i,c)}this.#n=e,this.#a=t}#l(e,t=null){const i=this.#t.get(e);if(i)return i;const r=this.messageHandler.sendWithPromise(e,t);return this.#t.set(e,r),r}#f({loaded:e,total:t}){this.loadingTask.onProgress?.({loaded:e,total:t,percent:mn(Math.round(e/t*100),0,100)})}get annotationStorage(){return Ce(this,"annotationStorage",new sb)}getRenderingIntent(e,t=Ia.ENABLE,i=null,r=!1,s=!1){let l=ti.DISPLAY,c=Vy;switch(e){case"any":l=ti.ANY;break;case"display":break;case"print":l=ti.PRINT;break;default:we(`getRenderingIntent - invalid intent: ${e}`)}const d=l&ti.PRINT&&i instanceof e2?i:this.annotationStorage;switch(t){case Ia.DISABLE:l+=ti.ANNOTATIONS_DISABLE;break;case Ia.ENABLE:break;case Ia.ENABLE_FORMS:l+=ti.ANNOTATIONS_FORMS;break;case Ia.ENABLE_STORAGE:l+=ti.ANNOTATIONS_STORAGE,c=d.serializable;break;default:we(`getRenderingIntent - invalid annotationMode: ${t}`)}r&&(l+=ti.IS_EDITING),s&&(l+=ti.OPLIST);const{ids:f,hash:h}=d.modifiedIds,p=[l,c.hash,h];return{renderingIntent:l,cacheKey:p.join("_"),annotationStorageSerializable:c,modifiedIds:f}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#r?.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of this.#n.values())e.push(i._destroy());this.#n.clear(),this.#a.clear(),this.#s.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(),ni.cleanup(),this.#i?.cancelAllRequests(new Ua("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(i,r)=>{Ve(this.#i,"GetReader - no `BasePDFStream` instance available."),this.#e=this.#i.getFullReader(),this.#e.onProgress=s=>this.#f(s),r.onPull=()=>{this.#e.read().then(function({value:s,done:l}){if(l){r.close();return}Ve(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{r.error(s)})},r.onCancel=s=>{this.#e.cancel(s),r.ready.catch(l=>{if(!this.destroyed)throw l})}}),e.on("ReaderHeadersReady",async i=>{await this.#e.headersReady;const{isStreamingSupported:r,isRangeSupported:s,contentLength:l}=this.#e;return r&&s&&(this.#e.onProgress=null),{isStreamingSupported:r,isRangeSupported:s,contentLength:l}}),e.on("GetRangeReader",(i,r)=>{Ve(this.#i,"GetRangeReader - no `BasePDFStream` instance available.");const s=this.#i.getRangeReader(i.begin,i.end);if(!s){r.close();return}r.onPull=()=>{s.read().then(function({value:l,done:c}){if(c){r.close();return}Ve(l instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(l),1,[l])}).catch(l=>{r.error(l)})},r.onCancel=l=>{s.cancel(l),r.ready.catch(c=>{if(!this.destroyed)throw c})}}),e.on("GetDoc",({pdfInfo:i})=>{this.#o.pagesNumber=i.numPages,this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,t._capability.resolve(new Sj(i,this))}),e.on("DocException",i=>{t._capability.reject(Un(i))}),e.on("PasswordRequest",i=>{this.#r=Promise.withResolvers();try{if(!t.onPassword)throw Un(i);const r=s=>{s instanceof Error?this.#r.reject(s):this.#r.resolve({password:s})};t.onPassword(r,i.code)}catch(r){this.#r.reject(r)}return this.#r.promise}),e.on("DataLoaded",i=>{this.#f({loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),e.on("StartRenderPage",i=>{if(this.destroyed)return;this.#n.get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),e.on("commonobj",([i,r,s])=>{if(this.destroyed||this.commonObjs.has(i))return null;switch(r){case"Font":if("error"in s){const p=s.error;we(`Error during font loading: ${p}`),this.commonObjs.resolve(i,p);break}const l=new rt(s),c=this._params.pdfBug&&globalThis.FontInspector?.enabled?(p,g)=>globalThis.FontInspector.fontAdded(p,g):null,d=new OB(l,c,s.extra,s.charProcOperatorList);this.fontLoader.bind(d).catch(()=>e.sendWithPromise("FontFallback",{id:i})).finally(()=>{!d.fontExtraProperties&&d.data&&d.clearData(),this.commonObjs.resolve(i,d)});break;case"CopyLocalImage":const{imageRef:f}=s;Ve(f,"The imageRef must be defined.");for(const p of this.#n.values())for(const[,g]of p.objs)if(g?.ref===f)return g.dataLen?(this.commonObjs.resolve(i,structuredClone(g)),g.dataLen):null;break;case"FontPath":this.commonObjs.resolve(i,new TB(s));break;case"Image":this.commonObjs.resolve(i,s);break;case"Pattern":const h=new Zt(s);this.commonObjs.resolve(i,h.getIR());break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),e.on("obj",([i,r,s,l])=>{if(this.destroyed)return;const c=this.#n.get(r);if(!c.objs.has(i)){if(c._intentStates.size===0){l?.bitmap?.close();return}switch(s){case"Image":case"Pattern":c.objs.resolve(i,l);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",i=>{this.destroyed||this.#f(i)}),e.on("FetchBinaryData",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");const r=this[i.type];if(!r)throw new Error(`${i.type} not initialized, see the \`useWorkerFetch\` parameter.`);return r.fetch(i)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&we("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:this.#e?.filename??null},t).finally(()=>{this.annotationStorage.resetModified()})}extractPages(e){return this.messageHandler.sendWithPromise("ExtractPages",{pageInfos:e})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this.#o.pagesNumber)return Promise.reject(new Error("Invalid page request."));const t=e-1,i=this.#o.getPageId(e)-1,r=this.#a.get(t);if(r)return r;const s=this.messageHandler.sendWithPromise("GetPage",{pageIndex:i}).then(l=>{if(this.destroyed)throw new Error("Transport destroyed");l.refStr&&this.#s.set(l.refStr,i);const c=new Ej(t,l,this,this._params.pdfBug);return this.#n.set(t,c),c});return this.#a.set(t,s),s}async getPageIndex(e){if(!Yy(e))throw new Error("Invalid pageIndex request.");const t=await this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen});return this.#o.getPageNumber(t+1)-1}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:this.#o.getPageId(e+1)-1,intent:t})}getFieldObjects(){return this.#l("GetFieldObjects")}hasJSActions(){return this.#l("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,t){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:t})}getDocJSActions(){return this.#l("GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:this.#o.getPageId(e+1)-1})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:this.#o.getPageId(e+1)-1})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return this.#l("GetOptionalContentConfig").then(t=>new nj(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=this.#t.get(e);if(t)return t;const i=this.messageHandler.sendWithPromise(e,null).then(r=>({info:r[0],metadata:r[1]?new ej(r[1]):null,contentDispositionFilename:this.#e?.filename??null,contentLength:this.#e?.contentLength??null,hasStructTree:r[2]}));return this.#t.set(e,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of this.#n.values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(!0),ni.cleanup()}}cachedPageNumber(e){if(!Yy(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`,i=this.#s.get(t);return i>=0?this.#o.getPageNumber(i+1):null}}class wj{_internalRenderTask=null;onContinue=null;onError=null;constructor(e){this._internalRenderTask=e}get promise(){return this._internalRenderTask.capability.promise}cancel(e=0){this._internalRenderTask.cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=this._internalRenderTask.operatorList;if(!e)return!1;const{annotationCanvasMap:t}=this._internalRenderTask;return e.form||e.canvas&&t?.size>0}}class $o{#e=null;static#t=new WeakSet;constructor({callback:e,params:t,objs:i,commonObjs:r,annotationCanvasMap:s,operatorList:l,pageIndex:c,canvasFactory:d,filterFactory:f,useRequestAnimationFrame:h=!1,pdfBug:p=!1,pageColors:g=null,enableHWA:y=!1,operationsFilter:S=null}){this.callback=e,this.params=t,this.objs=i,this.commonObjs=r,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=l,this._pageIndex=c,this.canvasFactory=d,this.filterFactory=f,this._pdfBug=p,this.pageColors=g,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=h===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new wj(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvas,this._canvasContext=t.canvas?null:t.canvasContext,this._enableHWA=y,this._dependencyTracker=t.dependencyTracker,this._operationsFilter=S}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){if(this.cancelled)return;if(this._canvas){if($o.#t.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");$o.#t.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:i,transform:r,background:s,dependencyTracker:l}=this.params,c=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new Ko(c,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors,l),this.gfx.beginDrawing({transform:r,viewport:i,transparency:e,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(e=null,t=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#e&&(window.cancelAnimationFrame(this.#e),this.#e=null),$o.#t.delete(this._canvas),e||=new nb(`Rendering cancelled, page ${this._pageIndex+1}`,t),this.callback(e),this.task.onError?.(e)}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.gfx.dependencyTracker?.growOperationsCount(this.operatorList.fnArray.length),this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#e=window.requestAnimationFrame(()=>{this.#e=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),$o.#t.delete(this._canvas),this.callback())))}}const Cj="5.4.624",Oj="384c6208b";class Ti{#e=null;#t=null;#i;#n=null;#a=!1;#s=!1;#r=null;#o;#c=null;#l=null;static#f=null;static get _keyboardManager(){return Ce(this,"_keyboardManager",new cu([[["Escape","mac+Escape"],Ti.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Ti.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Ti.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Ti.prototype._moveToPrevious],[["Home","mac+Home"],Ti.prototype._moveToBeginning],[["End","mac+End"],Ti.prototype._moveToEnd]]))}constructor({editor:e=null,uiManager:t=null}){e?(this.#s=!1,this.#r=e):this.#s=!0,this.#l=e?._uiManager||t,this.#o=this.#l._eventBus,this.#i=e?.color?.toUpperCase()||this.#l?.highlightColors.values().next().value||"#FFFF98",Ti.#f||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const e=this.#e=document.createElement("button");e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",this.#r&&(e.ariaControls=`${this.#r.id}_colorpicker_dropdown`);const t=this.#l._signal;e.addEventListener("click",this.#m.bind(this),{signal:t}),e.addEventListener("keydown",this.#g.bind(this),{signal:t});const i=this.#t=document.createElement("span");return i.className="swatch",i.ariaHidden="true",i.style.backgroundColor=this.#i,e.append(i),e}renderMainDropdown(){const e=this.#n=this.#d();return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}#d(){const e=document.createElement("div"),t=this.#l._signal;e.addEventListener("contextmenu",_i,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),this.#r&&(e.id=`${this.#r.id}_colorpicker_dropdown`);for(const[i,r]of this.#l.highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",r),s.title=i,s.setAttribute("data-l10n-id",Ti.#f[i]);const l=document.createElement("span");s.append(l),l.className="swatch",l.style.backgroundColor=r,s.ariaSelected=r===this.#i,s.addEventListener("click",this.#h.bind(this,r),{signal:t}),e.append(s)}return e.addEventListener("keydown",this.#g.bind(this),{signal:t}),e}#h(e,t){t.stopPropagation(),this.#o.dispatch("switchannotationeditorparams",{source:this,type:je.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)}_colorSelectFromKeyboard(e){if(e.target===this.#e){this.#m(e);return}const t=e.target.getAttribute("data-color");t&&this.#h(t,e)}_moveToNext(e){if(!this.#p){this.#m(e);return}if(e.target===this.#e){this.#n.firstElementChild?.focus();return}e.target.nextSibling?.focus()}_moveToPrevious(e){if(e.target===this.#n?.firstElementChild||e.target===this.#e){this.#p&&this._hideDropdownFromKeyboard();return}this.#p||this.#m(e),e.target.previousSibling?.focus()}_moveToBeginning(e){if(!this.#p){this.#m(e);return}this.#n.firstElementChild?.focus()}_moveToEnd(e){if(!this.#p){this.#m(e);return}this.#n.lastElementChild?.focus()}#g(e){Ti._keyboardManager.exec(this,e)}#m(e){if(this.#p){this.hideDropdown();return}if(this.#a=e.detail===0,this.#c||(this.#c=new AbortController,window.addEventListener("pointerdown",this.#u.bind(this),{signal:this.#l.combinedSignal(this.#c)})),this.#e.ariaExpanded="true",this.#n){this.#n.classList.remove("hidden");return}const t=this.#n=this.#d();this.#e.append(t)}#u(e){this.#n?.contains(e.target)||this.hideDropdown()}hideDropdown(){this.#n?.classList.add("hidden"),this.#e.ariaExpanded="false",this.#c?.abort(),this.#c=null}get#p(){return this.#n&&!this.#n.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#s){if(!this.#p){this.#r?.unselect();return}this.hideDropdown(),this.#e.focus({preventScroll:!0,focusVisible:this.#a})}}updateColor(e){if(this.#t&&(this.#t.style.backgroundColor=e),!this.#n)return;const t=this.#l.highlightColors.values();for(const i of this.#n.children)i.ariaSelected=t.next().value===e.toUpperCase()}destroy(){this.#e?.remove(),this.#e=null,this.#t=null,this.#n?.remove(),this.#n=null}}class qc{#e=null;#t=null;#i=null;static#n=null;constructor(e){this.#t=e,this.#i=e._uiManager,qc.#n||=Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"})}renderButton(){if(this.#e)return this.#e;const{editorType:e,colorType:t,color:i}=this.#t,r=this.#e=document.createElement("input");return r.type="color",r.value=i||"#000000",r.className="basicColorPicker",r.tabIndex=0,r.setAttribute("data-l10n-id",qc.#n[e]),r.addEventListener("input",()=>{this.#i.updateParams(t,r.value)},{signal:this.#i._signal}),r}update(e){this.#e&&(this.#e.value=e)}destroy(){this.#e?.remove(),this.#e=null}hideDropdown(){}}function Yw(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function bc(n){return Math.max(0,Math.min(255,255*n))}class Xw{static CMYK_G([e,t,i,r]){return["G",1-Math.min(1,.3*e+.59*i+.11*t+r)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=bc(e),[e,e,e]}static G_HTML([e]){const t=Yw(e);return`#${t}${t}${t}`}static RGB_G([e,t,i]){return["G",.3*e+.59*t+.11*i]}static RGB_rgb(e){return e.map(bc)}static RGB_HTML(e){return`#${e.map(Yw).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,i,r]){return["RGB",1-Math.min(1,e+r),1-Math.min(1,i+r),1-Math.min(1,t+r)]}static CMYK_rgb([e,t,i,r]){return[bc(1-Math.min(1,e+r)),bc(1-Math.min(1,i+r)),bc(1-Math.min(1,t+r))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,i]){const r=1-e,s=1-t,l=1-i,c=Math.min(r,s,l);return["CMYK",r,s,l,c]}}class Tj{create(e,t,i=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),i||(r.setAttribute("width",`${e}px`),r.setAttribute("height",`${t}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${e} ${t}`),r}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Ye("Abstract method `_createSVG` called.")}}class Df extends Tj{_createSVG(e){return document.createElementNS(Ir,e)}}const Mj=9,Ps=new WeakSet,_j=new Date().getTimezoneOffset()*60*1e3;class sv{static create(e){switch(e.data.annotationType){case jt.LINK:return new db(e);case jt.TEXT:return new Dj(e);case jt.WIDGET:switch(e.data.fieldType){case"Tx":return new Lj(e);case"Btn":return e.data.radioButton?new A2(e):e.data.checkBox?new Rj(e):new Ij(e);case"Ch":return new kj(e);case"Sig":return new Nj(e)}return new Us(e);case jt.POPUP:return new Wy(e);case jt.FREETEXT:return new S2(e);case jt.LINE:return new jj(e);case jt.SQUARE:return new zj(e);case jt.CIRCLE:return new Fj(e);case jt.POLYLINE:return new E2(e);case jt.CARET:return new Hj(e);case jt.INK:return new fb(e);case jt.POLYGON:return new Uj(e);case jt.HIGHLIGHT:return new x2(e);case jt.UNDERLINE:return new qj(e);case jt.SQUIGGLY:return new $j(e);case jt.STRIKEOUT:return new Gj(e);case jt.STAMP:return new w2(e);case jt.FILEATTACHMENT:return new Vj(e);default:return new At(e)}}}class At{#e=null;#t=!1;#i=null;constructor(e,{isRenderable:t=!1,ignoreBorder:i=!1,createQuadrilaterals:r=!1}={}){this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,this.hasOwnCommentButton=!1,t&&(this.contentElement=this.container=this._createContainer(i)),r&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:t}){return!!(e?.str||t?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return At._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){const{data:e}=this,t=this.annotationStorage?.getEditor(e.id);return t?t.getData():e}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){const e=this.annotationStorage?.getEditor(this.data.id);if(e)return e.commentButtonPositionInPage;const{quadPoints:t,inkLists:i,rect:r}=this.data;let s=-1/0,l=-1/0;if(t?.length>=8){for(let c=0;c<t.length;c+=8)t[c+1]>l?(l=t[c+1],s=t[c+2]):t[c+1]===l&&(s=Math.max(s,t[c+2]));return[s,l]}if(i?.length>=1){for(const c of i)for(let d=0,f=c.length;d<f;d+=2)c[d+1]>l?(l=c[d+1],s=c[d]):c[d+1]===l&&(s=Math.max(s,c[d]));if(s!==1/0)return[s,l]}return r?[r[2],r[3]]:null}_normalizePoint(e){const{page:{view:t},viewport:{rawDims:{pageWidth:i,pageHeight:r,pageX:s,pageY:l}}}=this.parent;return e[1]=t[3]-e[1]+t[1],e[0]=100*(e[0]-s)/i,e[1]=100*(e[1]-l)/r,e}get commentText(){const{data:e}=this;return this.annotationStorage.getRawValue(`${zc}${e.id}`)?.popup?.contents||e.contentsObj?.str||""}set commentText(e){const{data:t}=this,i={deleted:!e,contents:e||""};this.annotationStorage.updateEditor(t.id,{popup:i})||this.annotationStorage.setValue(`${zc}${t.id}`,{id:t.id,annotationType:t.annotationType,page:this.parent.page,popup:i,popupRef:t.popupRef,modificationDate:new Date}),e||this.removePopup()}removePopup(){(this.#i?.popup||this.popup)?.remove(),this.#i=this.popup=null}updateEdited(e){if(!this.container)return;e.rect&&(this.#e||={rect:this.data.rect.slice(0)});const{rect:t,popup:i}=e;t&&this.#n(t);let r=this.#i?.popup||this.popup;!r&&i?.text&&(this._createPopup(i),r=this.#i.popup),r&&(r.updateEdited(e),i?.deleted&&(r.remove(),this.#i=null,this.popup=null))}resetEdited(){this.#e&&(this.#n(this.#e.rect),this.#i?.popup.resetEdited(),this.#e=null)}#n(e){const{container:{style:t},data:{rect:i,rotation:r},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:l,pageX:c,pageY:d}}}}=this;i?.splice(0,4,...e),t.left=`${100*(e[0]-c)/s}%`,t.top=`${100*(l-e[3]+d)/l}%`,r===0?(t.width=`${100*(e[2]-e[0])/s}%`,t.height=`${100*(e[3]-e[1])/l}%`):this.setRotation(r)}_createContainer(e){const{data:t,parent:{page:i,viewport:r}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),!(this instanceof Us)&&!(this instanceof db)&&(s.tabIndex=0);const{style:l}=s;if(l.zIndex=this.parent.zIndex,this.parent.zIndex+=2,t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof Wy){const{rotation:A}=t;return!t.hasOwnCanvas&&A!==0&&this.setRotation(A,s),s}const{width:c,height:d}=this;if(!e&&t.borderStyle.width>0){l.borderWidth=`${t.borderStyle.width}px`;const A=t.borderStyle.horizontalCornerRadius,E=t.borderStyle.verticalCornerRadius;if(A>0||E>0){const O=`calc(${A}px * var(--total-scale-factor)) / calc(${E}px * var(--total-scale-factor))`;l.borderRadius=O}else if(this instanceof A2){const O=`calc(${c}px * var(--total-scale-factor)) / calc(${d}px * var(--total-scale-factor))`;l.borderRadius=O}switch(t.borderStyle.style){case jo.SOLID:l.borderStyle="solid";break;case jo.DASHED:l.borderStyle="dashed";break;case jo.BEVELED:we("Unimplemented border style: beveled");break;case jo.INSET:we("Unimplemented border style: inset");break;case jo.UNDERLINE:l.borderBottomStyle="solid";break}const x=t.borderColor||null;x?(this.#t=!0,l.borderColor=ue.makeHexColor(x[0]|0,x[1]|0,x[2]|0)):l.borderWidth=0}const f=ue.normalizeRect([t.rect[0],i.view[3]-t.rect[1]+i.view[1],t.rect[2],i.view[3]-t.rect[3]+i.view[1]]),{pageWidth:h,pageHeight:p,pageX:g,pageY:y}=r.rawDims;l.left=`${100*(f[0]-g)/h}%`,l.top=`${100*(f[1]-y)/p}%`;const{rotation:S}=t;return t.hasOwnCanvas||S===0?(l.width=`${100*c/h}%`,l.height=`${100*d/p}%`):this.setRotation(S,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:r}=this.parent.viewport.rawDims;let{width:s,height:l}=this;e%180!==0&&([s,l]=[l,s]),t.style.width=`${100*s/i}%`,t.style.height=`${100*l/r}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,i,r)=>{const s=r.detail[t],l=s[0],c=s.slice(1);r.target.style[i]=Xw[`${l}_HTML`](c),this.annotationStorage.setValue(this.data.id,{[i]:Xw[`${l}_rgb`](c)})};return Ce(this,"_commonActions",{display:t=>{const{display:i}=t.detail,r=i%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:i===1||i===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:i}=t.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const i=t.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(e,t){const i=this._commonActions;for(const r of Object.keys(t.detail))(e[r]||i[r])?.(t)}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const i=this._commonActions;for(const[r,s]of Object.entries(t)){const l=i[r];if(l){const c={detail:{[r]:s},target:e};l(c),delete t[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,i,r,s]=this.data.rect.map(A=>Math.fround(A));if(e.length===8){const[A,E,x,O]=e.subarray(2,6);if(r===A&&s===E&&t===x&&i===O)return}const{style:l}=this.container;let c;if(this.#t){const{borderColor:A,borderWidth:E}=l;l.borderWidth=0,c=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${A}" stroke-width="${E}">`],this.container.classList.add("hasBorder")}const d=r-t,f=s-i,{svgFactory:h}=this,p=h.createElement("svg");p.classList.add("quadrilateralsContainer"),p.setAttribute("width",0),p.setAttribute("height",0),p.role="none";const g=h.createElement("defs");p.append(g);const y=h.createElement("clipPath"),S=`clippath_${this.data.id}`;y.setAttribute("id",S),y.setAttribute("clipPathUnits","objectBoundingBox"),g.append(y);for(let A=2,E=e.length;A<E;A+=8){const x=e[A],O=e[A+1],T=e[A+2],P=e[A+3],M=h.createElement("rect"),_=(T-t)/d,L=(s-O)/f,B=(x-T)/d,F=(O-P)/f;M.setAttribute("x",_),M.setAttribute("y",L),M.setAttribute("width",B),M.setAttribute("height",F),y.append(M),c?.push(`<rect vector-effect="non-scaling-stroke" x="${_}" y="${L}" width="${B}" height="${F}"/>`)}this.#t&&(c.push("</g></svg>')"),l.backgroundImage=c.join("")),this.container.append(p),this.container.style.clipPath=`url(#${S})`}_createPopup(e=null){const{data:t}=this;let i,r;e?(i={str:e.text},r=e.date):(i=t.contentsObj,r=t.modificationDate),this.#i=new Wy({data:{color:t.color,titleObj:t.titleObj,modificationDate:r,contentsObj:i,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]})}get hasPopupElement(){return!!(this.#i||this.popup||this.data.popupRef)}get extraPopupElement(){return this.#i}render(){Ye("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const i=[];if(this._fieldObjects){const r=this._fieldObjects[e];if(r)for(const{page:s,id:l,exportValues:c}of r){if(s===-1||l===t)continue;const d=typeof c=="string"?c:null,f=document.querySelector(`[data-element-id="${l}"]`);if(f&&!Ps.has(f)){we(`_getElementsByName - element not allowed: ${l}`);continue}i.push({id:l,exportValue:d,domElement:f})}return i}for(const r of document.getElementsByName(e)){const{exportValue:s}=r,l=r.getAttribute("data-element-id");l!==t&&Ps.has(r)&&i.push({id:l,exportValue:s,domElement:r})}return i}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class Pj extends At{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.editor=e.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:e}=this;e.hasComment&&this._createPopup(e.comment)}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(e){this.editor.comment=e,e||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.parent.removeAnnotation(this.data.id),this.container.remove(),this.container=null,this.removePopup()}}class db extends At{constructor(e,t=null){super(e,{isRenderable:!0,ignoreBorder:!!t?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:t}=this,i=document.createElement("a");i.setAttribute("data-element-id",e.id);let r=!1;return e.url?(t.addLinkAttributes(i,e.url,e.newWindow),r=!0):e.action?(this._bindNamedAction(i,e.action,e.overlaidText),r=!0):e.attachment?(this.#t(i,e.attachment,e.overlaidText,e.attachmentDest),r=!0):e.setOCGState?(this.#i(i,e.setOCGState,e.overlaidText),r=!0):e.dest?(this._bindLink(i,e.dest,e.overlaidText),r=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,e),r=!0),e.resetForm?(this._bindResetFormAction(i,e.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(i,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&(this.contentElement=i,this.container.append(i)),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(e,t,i=""){e.href=this.linkService.getDestinationHash(t),e.onclick=()=>(t&&this.linkService.goToDestination(t),!1),(t||t==="")&&this.#e(),i&&(e.title=i)}_bindNamedAction(e,t,i=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(t),!1),i&&(e.title=i),this.#e()}#t(e,t,i="",r=null){e.href=this.linkService.getAnchorUrl(""),t.description?e.title=t.description:i&&(e.title=i),e.onclick=()=>(this.downloadManager?.openOrDownloadData(t.content,t.filename,r),!1),this.#e()}#i(e,t,i=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(t),!1),i&&(e.title=i),this.#e()}_bindJSAction(e,t){e.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(t.actions)){const s=i.get(r);s&&(e[s]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t.id,name:r}}),!1))}t.overlaidText&&(e.title=t.overlaidText),e.onclick||(e.onclick=()=>!1),this.#e()}_bindResetFormAction(e,t){const i=e.onclick;if(i||(e.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects){we('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(e.onclick=()=>!1);return}e.onclick=()=>{i?.();const{fields:r,refs:s,include:l}=t,c=[];if(r.length!==0||s.length!==0){const h=new Set(s);for(const p of r){const g=this._fieldObjects[p]||[];for(const{id:y}of g)h.add(y)}for(const p of Object.values(this._fieldObjects))for(const g of p)h.has(g.id)===l&&c.push(g)}else for(const h of Object.values(this._fieldObjects))c.push(...h);const d=this.annotationStorage,f=[];for(const h of c){const{id:p}=h;switch(f.push(p),h.type){case"text":{const y=h.defaultValue||"";d.setValue(p,{value:y});break}case"checkbox":case"radiobutton":{const y=h.defaultValue===h.exportValues;d.setValue(p,{value:y});break}case"combobox":case"listbox":{const y=h.defaultValue||"";d.setValue(p,{value:y});break}default:continue}const g=document.querySelector(`[data-element-id="${p}"]`);if(g){if(!Ps.has(g)){we(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;g.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:f,name:"ResetForm"}}),!1}}}class Dj extends At{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(e),this.container}}class Us extends At{render(){return this.container}showElementAndHideCanvas(e){this.data.hasOwnCanvas&&(e.previousSibling?.nodeName==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Gt.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,i,r,s){i.includes("mouse")?e.addEventListener(i,l=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(l),shift:l.shiftKey,modifier:this._getKeyModifier(l)}})}):e.addEventListener(i,l=>{if(i==="blur"){if(!t.focused||!l.relatedTarget)return;t.focused=!1}else if(i==="focus"){if(t.focused)return;t.focused=!0}s&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(l)}})})}_setEventListeners(e,t,i,r){for(const[s,l]of i)(l==="Action"||this.data.actions?.[l])&&((l==="Focus"||l==="Blur")&&(t||={focused:!1}),this._setEventListener(e,t,s,l,r),l==="Focus"&&!this.data.actions?.Blur?this._setEventListener(e,t,"blur","Blur",null):l==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":ue.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||Mj,s=e.style;let l;const c=2,d=f=>Math.round(10*f)/10;if(this.data.multiLine){const f=Math.abs(this.data.rect[3]-this.data.rect[1]-c),h=Math.round(f/(Jg*r))||1,p=f/h;l=Math.min(r,d(p/Jg))}else{const f=Math.abs(this.data.rect[3]-this.data.rect[1]-c);l=Math.min(r,d(f/Jg))}s.fontSize=`calc(${l}px * var(--total-scale-factor))`,s.color=ue.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class Lj extends Us{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,i,r){const s=this.annotationStorage;for(const l of this._getElementsByName(e.name,e.id))l.domElement&&(l.domElement[t]=i),s.setValue(l.id,{[r]:i})}render(){const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const r=e.getValue(t,{value:this.data.fieldValue});let s=r.value||"";const l=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;l&&s.length>l&&(s=s.slice(0,l));let c=r.formattedValue||this.data.textContent?.join(`
`)||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const d={userValue:s,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=c??s,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type=this.data.password?"password":"text",i.setAttribute("value",c??s),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),Ps.add(i),this.contentElement=i,i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=0;const{datetimeFormat:f,datetimeType:h,timeStep:p}=this.data,g=!!h&&this.enableScripting;f&&(i.title=f),this._setRequired(i,this.data.required),l&&(i.maxLength=l),i.addEventListener("input",S=>{e.setValue(t,{value:S.target.value}),this.setPropertyOnSiblings(i,"value",S.target.value,"value"),d.formattedValue=null}),i.addEventListener("resetform",S=>{const A=this.data.defaultFieldValue??"";i.value=d.userValue=A,d.formattedValue=null});let y=S=>{const{formattedValue:A}=d;A!=null&&(S.target.value=A),S.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",A=>{if(d.focused)return;const{target:E}=A;if(g&&(E.type=h,p&&(E.step=p)),d.userValue){const x=d.userValue;if(g)if(h==="time"){const O=new Date(x),T=[O.getHours(),O.getMinutes(),O.getSeconds()];E.value=T.map(P=>P.toString().padStart(2,"0")).join(":")}else E.value=new Date(x-_j).toISOString().split(h==="date"?"T":".",1)[0];else E.value=x}d.lastCommittedValue=E.value,d.commitKey=1,this.data.actions?.Focus||(d.focused=!0)}),i.addEventListener("updatefromsandbox",A=>{this.showElementAndHideCanvas(A.target);const E={value(x){d.userValue=x.detail.value??"",g||e.setValue(t,{value:d.userValue.toString()}),x.target.value=d.userValue},formattedValue(x){const{formattedValue:O}=x.detail;d.formattedValue=O,O!=null&&x.target!==document.activeElement&&(x.target.value=O);const T={formattedValue:O};g&&(T.value=O),e.setValue(t,T)},selRange(x){x.target.setSelectionRange(...x.detail.selRange)},charLimit:x=>{const{charLimit:O}=x.detail,{target:T}=x;if(O===0){T.removeAttribute("maxLength");return}T.setAttribute("maxLength",O);let P=d.userValue;!P||P.length<=O||(P=P.slice(0,O),T.value=d.userValue=P,e.setValue(t,{value:P}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:P,willCommit:!0,commitKey:1,selStart:T.selectionStart,selEnd:T.selectionEnd}}))}};this._dispatchEventFromSandbox(E,A)}),i.addEventListener("keydown",A=>{d.commitKey=1;let E=-1;if(A.key==="Escape"?E=0:A.key==="Enter"&&!this.data.multiLine?E=2:A.key==="Tab"&&(d.commitKey=3),E===-1)return;const{value:x}=A.target;d.lastCommittedValue!==x&&(d.lastCommittedValue=x,d.userValue=x,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:x,willCommit:!0,commitKey:E,selStart:A.target.selectionStart,selEnd:A.target.selectionEnd}}))});const S=y;y=null,i.addEventListener("blur",A=>{if(!d.focused||!A.relatedTarget)return;this.data.actions?.Blur||(d.focused=!1);const{target:E}=A;let{value:x}=E;if(g){if(x&&h==="time"){const O=x.split(":").map(T=>parseInt(T,10));x=new Date(2e3,0,1,O[0],O[1],O[2]||0).valueOf(),E.step=""}else x.includes("T")||(x=`${x}T00:00`),x=new Date(x).valueOf();E.type="text"}d.userValue=x,d.lastCommittedValue!==x&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:x,willCommit:!0,commitKey:d.commitKey,selStart:A.target.selectionStart,selEnd:A.target.selectionEnd}}),S(A)}),this.data.actions?.Keystroke&&i.addEventListener("beforeinput",A=>{d.lastCommittedValue=null;const{data:E,target:x}=A,{value:O,selectionStart:T,selectionEnd:P}=x;let M=T,_=P;switch(A.inputType){case"deleteWordBackward":{const L=O.substring(0,T).match(/\w*[^\w]*$/);L&&(M-=L[0].length);break}case"deleteWordForward":{const L=O.substring(T).match(/^[^\w]*\w*/);L&&(_+=L[0].length);break}case"deleteContentBackward":T===P&&(M-=1);break;case"deleteContentForward":T===P&&(_+=1);break}A.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:O,change:E||"",willCommit:!1,selStart:M,selEnd:_}})}),this._setEventListeners(i,d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],A=>A.target.value)}if(y&&i.addEventListener("blur",y),this.data.comb){const A=(this.data.rect[2]-this.data.rect[0])/l;i.classList.add("comb"),i.style.letterSpacing=`calc(${A}px * var(--total-scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class Nj extends Us{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class Rj extends Us{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,i=t.id;let r=e.getValue(i,{value:t.exportValue===t.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",e.setValue(i,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return Ps.add(s),s.setAttribute("data-element-id",i),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,r&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=0,s.addEventListener("change",l=>{const{name:c,checked:d}=l.target;for(const f of this._getElementsByName(c,i)){const h=d&&f.exportValue===t.exportValue;f.domElement&&(f.domElement.checked=h),e.setValue(f.id,{value:h})}e.setValue(i,{value:d})}),s.addEventListener("resetform",l=>{const c=t.defaultFieldValue||"Off";l.target.checked=c===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",l=>{const c={value(d){d.target.checked=d.detail.value!=="Off",e.setValue(i,{value:d.target.checked})}};this._dispatchEventFromSandbox(c,l)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class A2 extends Us{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,i=t.id;let r=e.getValue(i,{value:t.fieldValue===t.buttonValue}).value;if(typeof r=="string"&&(r=r!==t.buttonValue,e.setValue(i,{value:r})),r)for(const l of this._getElementsByName(t.fieldName,i))e.setValue(l.id,{value:!1});const s=document.createElement("input");if(Ps.add(s),s.setAttribute("data-element-id",i),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,r&&s.setAttribute("checked",!0),s.tabIndex=0,s.addEventListener("change",l=>{const{name:c,checked:d}=l.target;for(const f of this._getElementsByName(c,i))e.setValue(f.id,{value:!1});e.setValue(i,{value:d})}),s.addEventListener("resetform",l=>{const c=t.defaultFieldValue;l.target.checked=c!=null&&c===t.buttonValue}),this.enableScripting&&this.hasJSActions){const l=t.buttonValue;s.addEventListener("updatefromsandbox",c=>{const d={value:f=>{const h=l===f.detail.value;for(const p of this._getElementsByName(f.target.name)){const g=h&&p.id===i;p.domElement&&(p.domElement.checked=g),e.setValue(p.id,{value:g})}}};this._dispatchEventFromSandbox(d,c)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class Ij extends db{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),e}}class kj extends Us{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,i=e.getValue(t,{value:this.data.fieldValue}),r=document.createElement("select");Ps.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=0;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",h=>{const p=this.data.defaultFieldValue;for(const g of r.options)g.selected=g.value===p});for(const h of this.data.options){const p=document.createElement("option");p.textContent=h.displayValue,p.value=h.exportValue,i.value.includes(h.exportValue)&&(p.setAttribute("selected",!0),s=!1),r.append(p)}let l=null;if(s){const h=document.createElement("option");h.value=" ",h.setAttribute("hidden",!0),h.setAttribute("selected",!0),r.prepend(h),l=()=>{h.remove(),r.removeEventListener("input",l),l=null},r.addEventListener("input",l)}const c=h=>{const p=h?"value":"textContent",{options:g,multiple:y}=r;return y?Array.prototype.filter.call(g,S=>S.selected).map(S=>S[p]):g.selectedIndex===-1?null:g[g.selectedIndex][p]};let d=c(!1);const f=h=>{const p=h.target.options;return Array.prototype.map.call(p,g=>({displayValue:g.textContent,exportValue:g.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",h=>{const p={value(g){l?.();const y=g.detail.value,S=new Set(Array.isArray(y)?y:[y]);for(const A of r.options)A.selected=S.has(A.value);e.setValue(t,{value:c(!0)}),d=c(!1)},multipleSelection(g){r.multiple=!0},remove(g){const y=r.options,S=g.detail.remove;y[S].selected=!1,r.remove(S),y.length>0&&Array.prototype.findIndex.call(y,E=>E.selected)===-1&&(y[0].selected=!0),e.setValue(t,{value:c(!0),items:f(g)}),d=c(!1)},clear(g){for(;r.length!==0;)r.remove(0);e.setValue(t,{value:null,items:[]}),d=c(!1)},insert(g){const{index:y,displayValue:S,exportValue:A}=g.detail.insert,E=r.children[y],x=document.createElement("option");x.textContent=S,x.value=A,E?E.before(x):r.append(x),e.setValue(t,{value:c(!0),items:f(g)}),d=c(!1)},items(g){const{items:y}=g.detail;for(;r.length!==0;)r.remove(0);for(const S of y){const{displayValue:A,exportValue:E}=S,x=document.createElement("option");x.textContent=A,x.value=E,r.append(x)}r.options.length>0&&(r.options[0].selected=!0),e.setValue(t,{value:c(!0),items:f(g)}),d=c(!1)},indices(g){const y=new Set(g.detail.indices);for(const S of g.target.options)S.selected=y.has(S.index);e.setValue(t,{value:c(!0)}),d=c(!1)},editable(g){g.target.disabled=!g.detail.editable}};this._dispatchEventFromSandbox(p,h)}),r.addEventListener("input",h=>{const p=c(!0),g=c(!1);e.setValue(t,{value:p}),h.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:d,change:g,changeEx:p,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],h=>h.target.value)):r.addEventListener("input",function(h){e.setValue(t,{value:c(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class Wy extends At{constructor(e){const{data:t,elements:i,parent:r}=e,s=!!r._commentManager;if(super(e,{isRenderable:!s&&At._hasPopupData(t)}),this.elements=i,s&&At._hasPopupData(t)){const l=this.popup=this.#e();for(const c of i)c.popup=l}else this.popup=null}#e(){return new Bj({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})}render(){const{container:e}=this;e.classList.add("popupAnnotation"),e.role="comment";const t=this.popup=this.#e(),i=[];for(const r of this.elements)r.popup=t,r.container.ariaHasPopup="dialog",i.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",i.map(r=>`${Ho}${r}`).join(",")),this.container}}class Bj{#e=null;#t=this.#$.bind(this);#i=this.#z.bind(this);#n=this.#N.bind(this);#a=this.#E.bind(this);#s=null;#r=null;#o=null;#c=null;#l=null;#f=null;#d=null;#h=!1;#g=null;#m=null;#u=null;#p=null;#v=null;#b=null;#y=null;#C=null;#x=null;#S=null;#T=!1;#A=null;#w=null;constructor({container:e,color:t,elements:i,titleObj:r,modificationDate:s,contentsObj:l,richText:c,parent:d,rect:f,parentRect:h,open:p,commentManager:g=null}){this.#r=e,this.#x=r,this.#o=l,this.#C=c,this.#f=d,this.#s=t,this.#y=f,this.#d=h,this.#l=i,this.#e=g,this.#A=i[0],this.#c=qy.toDateObject(s),this.trigger=i.flatMap(y=>y.getElementsToTriggerPopup()),g||(this.#P(),this.#r.hidden=!0,p&&this.#E())}#P(){if(this.#m)return;this.#m=new AbortController;const{signal:e}=this.#m;for(const t of this.trigger)t.addEventListener("click",this.#a,{signal:e}),t.addEventListener("pointerenter",this.#n,{signal:e}),t.addEventListener("pointerleave",this.#i,{signal:e}),t.classList.add("popupTriggerArea");for(const t of this.#l)t.container?.addEventListener("keydown",this.#t,{signal:e})}#M(){const e=this.#l.find(t=>t.hasCommentButton);e&&(this.#v=e._normalizePoint(e.commentButtonPosition))}renderCommentButton(){if(this.#p){this.#p.parentNode||this.#A.container.after(this.#p);return}if(this.#v||this.#M(),!this.#v)return;const{signal:e}=this.#m=new AbortController,t=this.#A.hasOwnCommentButton,i=()=>{this.#e.toggleCommentPopup(this,!0,void 0,!t)},r=()=>{this.#e.toggleCommentPopup(this,!1,!0,!t)},s=()=>{this.#e.toggleCommentPopup(this,!1,!1)};if(t){this.#p=this.#A.container;for(const l of this.trigger)l.ariaHasPopup="dialog",l.ariaControls="commentPopup",l.addEventListener("keydown",this.#t,{signal:e}),l.addEventListener("click",i,{signal:e}),l.addEventListener("pointerenter",r,{signal:e}),l.addEventListener("pointerleave",s,{signal:e}),l.classList.add("popupTriggerArea")}else{const l=this.#p=document.createElement("button");l.className="annotationCommentButton";const c=this.#A.container;l.style.zIndex=c.style.zIndex+1,l.tabIndex=0,l.ariaHasPopup="dialog",l.ariaControls="commentPopup",l.setAttribute("data-l10n-id","pdfjs-show-comment-button"),this.#B(),this.#_(),l.addEventListener("keydown",this.#t,{signal:e}),l.addEventListener("click",i,{signal:e}),l.addEventListener("pointerenter",r,{signal:e}),l.addEventListener("pointerleave",s,{signal:e}),c.after(l)}}#_(){if(this.#A.extraPopupElement&&!this.#A.editor)return;this.#p||this.renderCommentButton();const[e,t]=this.#v,{style:i}=this.#p;i.left=`calc(${e}%)`,i.top=`calc(${t}% - var(--comment-button-dim))`}#B(){this.#A.extraPopupElement||(this.#p||this.renderCommentButton(),this.#p.style.backgroundColor=this.commentButtonColor||"")}get commentButtonColor(){const{color:e,opacity:t}=this.#A.commentData;return e?this.#f._commentManager.makeCommentColor(e,t):null}focusCommentButton(){setTimeout(()=>{this.#p?.focus()},0)}getData(){const{richText:e,color:t,opacity:i,creationDate:r,modificationDate:s}=this.#A.commentData;return{contentsObj:{str:this.comment},richText:e,color:t,opacity:i,creationDate:r,modificationDate:s}}get elementBeforePopup(){return this.#p}get comment(){return this.#w||=this.#A.commentText,this.#w}set comment(e){e!==this.comment&&(this.#A.commentText=this.#w=e)}focus(){this.#A.container?.focus()}get parentBoundingClientRect(){return this.#A.layer.getBoundingClientRect()}setCommentButtonStates({selected:e,hasPopup:t}){this.#p&&(this.#p.classList.toggle("selected",e),this.#p.ariaExpanded=t)}setSelectedCommentButton(e){this.#p.classList.toggle("selected",e)}get commentPopupPosition(){if(this.#b)return this.#b;const{x:e,y:t,height:i}=this.#p.getBoundingClientRect(),{x:r,y:s,width:l,height:c}=this.#A.layer.getBoundingClientRect();return[(e-r)/l,(t+i-s)/c]}set commentPopupPosition(e){this.#b=e}hasDefaultPopupPosition(){return this.#b===null}get commentButtonPosition(){return this.#v}get commentButtonWidth(){return this.#p.getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(e){const[t,i]=this.#b||this.commentButtonPosition.map(f=>f/100),r=this.parentBoundingClientRect,{x:s,y:l,width:c,height:d}=r;this.#e.showDialog(null,this,s+t*c,l+i*d,{...e,parentDimensions:r})}render(){if(this.#g)return;const e=this.#g=document.createElement("div");if(e.className="popup",this.#s){const i=e.style.outlineColor=ue.makeHexColor(...this.#s);e.style.backgroundColor=`color-mix(in srgb, ${i} 30%, white)`}const t=document.createElement("span");if(t.className="header",this.#x?.str){const i=document.createElement("span");i.className="title",t.append(i),{dir:i.dir,str:i.textContent}=this.#x}if(e.append(t),this.#c){const i=document.createElement("time");i.className="popupDate",i.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),i.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#c.valueOf()})),i.dateTime=this.#c.toISOString(),t.append(i)}W_({html:this.#L||this.#o.str,dir:this.#o?.dir,className:"popupContent"},e),this.#r.append(e)}get#L(){const e=this.#C,t=this.#o;return e?.str&&(!t?.str||t.str===e.str)&&this.#C.html||null}get#R(){return this.#L?.attributes?.style?.fontSize||0}get#j(){return this.#L?.attributes?.style?.color||null}#I(e){const t=[],i={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},r={style:{color:this.#j,fontSize:this.#R?`calc(${this.#R}px * var(--total-scale-factor))`:""}};for(const s of e.split(`
`))t.push({name:"span",value:s,attributes:r});return i}#$(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&this.#h)&&this.#E()}updateEdited({rect:e,popup:t,deleted:i}){if(this.#e){i?(this.remove(),this.#w=null):t&&(t.deleted?this.remove():(this.#B(),this.#w=t.text)),e&&(this.#v=null,this.#M(),this.#_());return}if(i||t?.deleted){this.remove();return}this.#P(),this.#S||={contentsObj:this.#o,richText:this.#C},e&&(this.#u=null),t&&t.text&&(this.#C=this.#I(t.text),this.#c=qy.toDateObject(t.date),this.#o=null),this.#g?.remove(),this.#g=null}resetEdited(){this.#S&&({contentsObj:this.#o,richText:this.#C}=this.#S,this.#S=null,this.#g?.remove(),this.#g=null,this.#u=null)}remove(){if(this.#m?.abort(),this.#m=null,this.#g?.remove(),this.#g=null,this.#T=!1,this.#h=!1,this.#p?.remove(),this.#p=null,this.trigger)for(const e of this.trigger)e.classList.remove("popupTriggerArea")}#O(){if(this.#u!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:i,pageX:r,pageY:s}}}=this.#f;let l=!!this.#d,c=l?this.#d:this.#y;for(const S of this.#l)if(!c||ue.intersect(S.data.rect,c)!==null){c=S.data.rect,l=!0;break}const d=ue.normalizeRect([c[0],e[3]-c[1]+e[1],c[2],e[3]-c[3]+e[1]]),h=l?c[2]-c[0]+5:0,p=d[0]+h,g=d[1];this.#u=[100*(p-r)/t,100*(g-s)/i];const{style:y}=this.#r;y.left=`${this.#u[0]}%`,y.top=`${this.#u[1]}%`}#E(){if(this.#e){this.#e.toggleCommentPopup(this,!1);return}this.#h=!this.#h,this.#h?(this.#N(),this.#r.addEventListener("click",this.#a),this.#r.addEventListener("keydown",this.#t)):(this.#z(),this.#r.removeEventListener("click",this.#a),this.#r.removeEventListener("keydown",this.#t))}#N(){this.#g||this.render(),this.isVisible?this.#h&&this.#r.classList.add("focused"):(this.#O(),this.#r.hidden=!1,this.#r.style.zIndex=parseInt(this.#r.style.zIndex)+1e3)}#z(){this.#r.classList.remove("focused"),!(this.#h||!this.isVisible)&&(this.#r.hidden=!0,this.#r.style.zIndex=parseInt(this.#r.style.zIndex)-1e3)}forceHide(){this.#T=this.isVisible,this.#T&&(this.#r.hidden=!0)}maybeShow(){this.#e||(this.#P(),this.#T&&(this.#g||this.#N(),this.#T=!1,this.#r.hidden=!1))}get isVisible(){return this.#e?!1:this.#r.hidden===!1}}class S2 extends At{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Me.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=this.contentElement=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const i=document.createElement("span");i.textContent=t,e.append(i)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}class jj extends At{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:e,width:t,height:i}=this,r=this.svgFactory.create(t,i,!0),s=this.#e=this.svgFactory.createElement("svg:line");return s.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),s.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),s.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),s.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),s.setAttribute("stroke-width",e.borderStyle.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),r.append(s),this.container.append(r),!e.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class zj extends At{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:e,width:t,height:i}=this,r=this.svgFactory.create(t,i,!0),s=e.borderStyle.width,l=this.#e=this.svgFactory.createElement("svg:rect");return l.setAttribute("x",s/2),l.setAttribute("y",s/2),l.setAttribute("width",t-s),l.setAttribute("height",i-s),l.setAttribute("stroke-width",s||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),r.append(l),this.container.append(r),!e.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class Fj extends At{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:e,width:t,height:i}=this,r=this.svgFactory.create(t,i,!0),s=e.borderStyle.width,l=this.#e=this.svgFactory.createElement("svg:ellipse");return l.setAttribute("cx",t/2),l.setAttribute("cy",i/2),l.setAttribute("rx",t/2-s/2),l.setAttribute("ry",i/2-s/2),l.setAttribute("stroke-width",s||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),r.append(l),this.container.append(r),!e.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class E2 extends At{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:t,borderStyle:i,popupRef:r},width:s,height:l}=this;if(!t)return this.container;const c=this.svgFactory.create(s,l,!0);let d=[];for(let h=0,p=t.length;h<p;h+=2){const g=t[h]-e[0],y=e[3]-t[h+1];d.push(`${g},${y}`)}d=d.join(" ");const f=this.#e=this.svgFactory.createElement(this.svgElementName);return f.setAttribute("points",d),f.setAttribute("stroke-width",i.width||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),c.append(f),this.container.append(c),!r&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class Uj extends E2{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Hj extends At{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}}class fb extends At{#e=null;#t=[];constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Me.HIGHLIGHT:Me.INK}#i(e,t){switch(e){case 90:return{transform:`rotate(90) translate(${-t[0]},${t[1]}) scale(1,-1)`,width:t[3]-t[1],height:t[2]-t[0]};case 180:return{transform:`rotate(180) translate(${-t[2]},${t[1]}) scale(1,-1)`,width:t[2]-t[0],height:t[3]-t[1]};case 270:return{transform:`rotate(270) translate(${-t[2]},${t[3]}) scale(1,-1)`,width:t[3]-t[1],height:t[2]-t[0]};default:return{transform:`translate(${-t[0]},${t[3]}) scale(1,-1)`,width:t[2]-t[0],height:t[3]-t[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,rotation:t,inkLists:i,borderStyle:r,popupRef:s}}=this,{transform:l,width:c,height:d}=this.#i(t,e),f=this.svgFactory.create(c,d,!0),h=this.#e=this.svgFactory.createElement("svg:g");f.append(h),h.setAttribute("stroke-width",r.width||1),h.setAttribute("stroke-linecap","round"),h.setAttribute("stroke-linejoin","round"),h.setAttribute("stroke-miterlimit",10),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),h.setAttribute("transform",l);for(let p=0,g=i.length;p<g;p++){const y=this.svgFactory.createElement(this.svgElementName);this.#t.push(y),y.setAttribute("points",i[p].join(",")),h.append(y)}return!s&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(f),this._editOnDoubleClick(),this.container}updateEdited(e){super.updateEdited(e);const{thickness:t,points:i,rect:r}=e,s=this.#e;if(t>=0&&s.setAttribute("stroke-width",t||1),i)for(let l=0,c=this.#t.length;l<c;l++)this.#t[l].setAttribute("points",i[l].join(","));if(r){const{transform:l,width:c,height:d}=this.#i(this.data.rotation,r);s.parentElement.setAttribute("viewBox",`0 0 ${c} ${d}`),s.setAttribute("transform",l)}}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class x2 extends At{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Me.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const i=document.createElement("mark");i.classList.add("overlaidText"),i.textContent=e,this.container.append(i)}return this.container}}class qj extends At{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("underlineAnnotation"),e){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=e,this.container.append(i)}return this.container}}class $j extends At{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("squigglyAnnotation"),e){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=e,this.container.append(i)}return this.container}}class Gj extends At{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("strikeoutAnnotation"),e){const i=document.createElement("s");i.classList.add("overlaidText"),i.textContent=e,this.container.append(i)}return this.container}}class w2 extends At{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Me.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}class Vj extends At{#e=null;constructor(e){super(e,{isRenderable:!0});const{file:t}=this.data;this.filename=t.filename,this.content=t.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...t})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:t}=this;let i;t.hasAppearance||t.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(t.name)?"paperclip":"pushpin"}.svg`,t.fillAlpha&&t.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(t.fillAlpha*100)}%);`)),i.addEventListener("dblclick",this.#t.bind(this)),this.#e=i;const{isMac:r}=Gt.platform;return e.addEventListener("keydown",s=>{s.key==="Enter"&&(r?s.metaKey:s.ctrlKey)&&this.#t()}),!t.popupRef&&this.hasPopupData?(this.hasOwnCommentButton=!0,this._createPopup()):i.classList.add("popupTriggerArea"),e.append(i),e}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}class hb{#e=null;#t=null;#i=null;#n=new Map;#a=null;#s=null;#r=[];#o=!1;constructor({div:e,accessibilityManager:t,annotationCanvasMap:i,annotationEditorUIManager:r,page:s,viewport:l,structTreeLayer:c,commentManager:d,linkService:f,annotationStorage:h}){this.div=e,this.#e=t,this.#t=i,this.#a=c||null,this.#s=f||null,this.#i=h||new sb,this.page=s,this.viewport=l,this.zIndex=0,this._annotationEditorUIManager=r,this._commentManager=d||null}hasEditableAnnotations(){return this.#n.size>0}async render(e){const{annotations:t}=e,i=this.div;_s(i,this.viewport);const r=new Map,s=[],l={data:null,layer:i,linkService:this.#s,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new Df,annotationStorage:this.#i,enableComment:e.enableComment===!0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const c of t){if(c.noHTML)continue;const d=c.annotationType===jt.POPUP;if(d){const p=r.get(c.id);if(!p)continue;if(!this._commentManager){s.push(c);continue}l.elements=p}else if(c.rect[2]===c.rect[0]||c.rect[3]===c.rect[1])continue;l.data=c;const f=sv.create(l);if(!f.isRenderable)continue;if(!d&&(this.#r.push(f),c.popupRef)){const p=r.get(c.popupRef);p?p.push(f):r.set(c.popupRef,[f])}const h=f.render();c.hidden&&(h.style.visibility="hidden"),f._isEditable&&(this.#n.set(f.data.id,f),this._annotationEditorUIManager?.renderAnnotationElement(f))}await this.#c();for(const c of s){const d=l.elements=r.get(c.id);l.data=c;const f=sv.create(l);if(!f.isRenderable)continue;const h=f.render();f.contentElement.id=`${Ho}${c.id}`,c.hidden&&(h.style.visibility="hidden"),d.at(-1).container.after(h)}this.#l()}async#c(){if(this.#r.length===0)return;this.div.replaceChildren();const e=[];if(!this.#o){this.#o=!0;for(const{contentElement:i,data:{id:r}}of this.#r){const s=i.id=`${Ho}${r}`;e.push(this.#a?.getAriaAttributes(s).then(l=>{if(l)for(const[c,d]of l)i.setAttribute(c,d)}))}}this.#r.sort(({data:{rect:[i,r,s,l]}},{data:{rect:[c,d,f,h]}})=>{if(i===s&&r===l)return 1;if(c===f&&d===h)return-1;const p=l,g=r,y=(r+l)/2,S=h,A=d,E=(d+h)/2;if(y>=S&&E<=g)return-1;if(E>=p&&y<=A)return 1;const x=(i+s)/2,O=(c+f)/2;return x-O});const t=document.createDocumentFragment();for(const i of this.#r)t.append(i.container),this._commentManager?(i.extraPopupElement?.popup||i.popup)?.renderCommentButton():i.extraPopupElement&&t.append(i.extraPopupElement.render());if(this.div.append(t),await Promise.all(e),this.#e)for(const i of this.#r)this.#e.addPointerInTextLayer(i.contentElement,!1)}async addLinkAnnotations(e){const t={data:null,layer:this.div,linkService:this.#s,svgFactory:new Df,parent:this};for(const i of e){i.borderStyle||=hb._defaultBorderStyle,t.data=i;const r=sv.create(t);r.isRenderable&&(r.render(),r.contentElement.id=`${Ho}${i.id}`,this.#r.push(r))}await this.#c()}update({viewport:e}){const t=this.div;this.viewport=e,_s(t,{rotation:e.rotation}),this.#l(),t.hidden=!1}#l(){if(!this.#t)return;const e=this.div;for(const[t,i]of this.#t){const r=e.querySelector(`[data-annotation-id="${t}"]`);if(!r)continue;i.className="annotationContent";const{firstChild:s}=r;s?s.nodeName==="CANVAS"?s.replaceWith(i):s.classList.contains("annotationContent")?s.after(i):s.before(i):r.append(i);const l=this.#n.get(t);l&&(l._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(t,r.id,i),l._hasNoCanvas=!1):l.canvas=i)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(e){return this.#n.get(e)}addFakeAnnotation(e){const{div:t}=this,{id:i,rotation:r}=e,s=new Pj({data:{id:i,rect:e.getPDFRect(),rotation:r},editor:e,layer:t,parent:this,enableComment:!!this._commentManager,linkService:this.#s,annotationStorage:this.#i});return s.render(),s.contentElement.id=`${Ho}${i}`,s.createOrUpdatePopup(),this.#r.push(s),s}removeAnnotation(e){const t=this.#r.findIndex(r=>r.data.id===e);if(t<0)return;const[i]=this.#r.splice(t,1);this.#e?.removePointerInTextLayer(i.contentElement)}updateFakeAnnotations(e){if(e.length!==0){for(const t of e)t.updateFakeAnnotationElement(this);this.#c()}}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}static get _defaultBorderStyle(){return Ce(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:jo.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}}const ef=/\r\n?|\n/g;class Qt extends Se{#e="";#t=`${this.id}-editor`;#i=null;#n;_colorPicker=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const e=Qt.prototype,t=s=>s.isEmpty(),i=Ha.TRANSLATE_SMALL,r=Ha.TRANSLATE_BIG;return Ce(this,"_keyboardManager",new cu([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[r,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:t}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,r],checker:t}]]))}static _type="freetext";static _editorType=Me.FREETEXT;constructor(e){super({...e,name:"freeTextEditor"}),this.color=e.color||Qt._defaultColor||Se._defaultLineColor,this.#n=e.fontSize||Qt._defaultFontSize,this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert"),this.canAddComment=!1}static initialize(e,t){Se.initialize(e,t);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,t){switch(e){case je.FREETEXT_SIZE:Qt._defaultFontSize=t;break;case je.FREETEXT_COLOR:Qt._defaultColor=t;break}}updateParams(e,t){switch(e){case je.FREETEXT_SIZE:this.#a(t);break;case je.FREETEXT_COLOR:this.#s(t);break}}static get defaultPropertiesToUpdate(){return[[je.FREETEXT_SIZE,Qt._defaultFontSize],[je.FREETEXT_COLOR,Qt._defaultColor||Se._defaultLineColor]]}get propertiesToUpdate(){return[[je.FREETEXT_SIZE,this.#n],[je.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||=new qc(this),[["colorPicker",this._colorPicker]]}get colorType(){return je.FREETEXT_COLOR}#a(e){const t=r=>{this.editorDiv.style.fontSize=`calc(${r}px * var(--total-scale-factor))`,this.translate(0,-(r-this.#n)*this.parentScale),this.#n=r,this.#o()},i=this.#n;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:je.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}onUpdatedColor(){this.editorDiv.style.color=this.color,this._colorPicker?.update(this.color),super.onUpdatedColor()}#s(e){const t=r=>{this.color=r,this.onUpdatedColor()},i=this.color;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:je.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(e,t){this._uiManager.translateSelectedEditors(e,t,!0)}getInitialTranslation(){const e=this.parentScale;return[-Qt._internalPadding*e,-(Qt._internalPadding+this.#n)*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#i=new AbortController;const e=this._uiManager.combinedSignal(this.#i);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e}),!0}disableEditMode(){return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#t),this._isDraggable=!0,this.#i?.abort(),this.#i=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(e){this.width||(this.enableEditMode(),e&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#r(){const e=[];this.editorDiv.normalize();let t=null;for(const i of this.editorDiv.childNodes)t?.nodeType===Node.TEXT_NODE&&i.nodeName==="BR"||(e.push(Qt.#c(i)),t=i);return e.join(`
`)}#o(){const[e,t]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:r,div:s}=this,l=s.style.display,c=s.classList.contains("hidden");s.classList.remove("hidden"),s.style.display="hidden",r.div.append(this.div),i=s.getBoundingClientRect(),s.remove(),s.style.display=l,s.classList.toggle("hidden",c)}this.rotation%180===this.parentRotation%180?(this.width=i.width/e,this.height=i.height/t):(this.width=i.height/e,this.height=i.width/t),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=this.#e,t=this.#e=this.#r().trimEnd();if(e===t)return;const i=r=>{if(this.#e=r,!r){this.remove();return}this.#l(),this._uiManager.rebuild(this),this.#o()};this.addCommands({cmd:()=>{i(t)},undo:()=>{i(e)},mustExec:!1}),this.#o()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){Qt._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let e,t;(this._isCopy||this.annotationElementId)&&(e=this.x,t=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#t),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,i.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[r,s]=this.parentDimensions;if(this.annotationElementId){const{position:l}=this._initialData;let[c,d]=this.getInitialTranslation();[c,d]=this.pageTranslationToScreen(c,d);const[f,h]=this.pageDimensions,[p,g]=this.pageTranslation;let y,S;switch(this.rotation){case 0:y=e+(l[0]-p)/f,S=t+this.height-(l[1]-g)/h;break;case 90:y=e+(l[0]-p)/f,S=t-(l[1]-g)/h,[c,d]=[d,-c];break;case 180:y=e-this.width+(l[0]-p)/f,S=t-(l[1]-g)/h,[c,d]=[-c,-d];break;case 270:y=e+(l[0]-p-this.height*h)/f,S=t+(l[1]-g-this.width*f)/h,[c,d]=[-d,c];break}this.setAt(y*r,S*s,c,d)}else this._moveAfterPaste(e,t);this.#l(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#c(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(ef,"")}editorDivPaste(e){const t=e.clipboardData||window.clipboardData,{types:i}=t;if(i.length===1&&i[0]==="text/plain")return;e.preventDefault();const r=Qt.#d(t.getData("text")||"").replaceAll(ef,`
`);if(!r)return;const s=window.getSelection();if(!s.rangeCount)return;this.editorDiv.normalize(),s.deleteFromDocument();const l=s.getRangeAt(0);if(!r.includes(`
`)){l.insertNode(document.createTextNode(r)),this.editorDiv.normalize(),s.collapseToStart();return}const{startContainer:c,startOffset:d}=l,f=[],h=[];if(c.nodeType===Node.TEXT_NODE){const y=c.parentElement;if(h.push(c.nodeValue.slice(d).replaceAll(ef,"")),y!==this.editorDiv){let S=f;for(const A of this.editorDiv.childNodes){if(A===y){S=h;continue}S.push(Qt.#c(A))}}f.push(c.nodeValue.slice(0,d).replaceAll(ef,""))}else if(c===this.editorDiv){let y=f,S=0;for(const A of this.editorDiv.childNodes)S++===d&&(y=h),y.push(Qt.#c(A))}this.#e=`${f.join(`
`)}${r}${h.join(`
`)}`,this.#l();const p=new Range;let g=Math.sumPrecise(f.map(y=>y.length));for(const{firstChild:y}of this.editorDiv.childNodes)if(y.nodeType===Node.TEXT_NODE){const S=y.nodeValue.length;if(g<=S){p.setStart(y,g),p.setEnd(y,g);break}g-=S}s.removeAllRanges(),s.addRange(p)}#l(){if(this.editorDiv.replaceChildren(),!!this.#e)for(const e of this.#e.split(`
`)){const t=document.createElement("div");t.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(t)}}#f(){return this.#e.replaceAll(""," ")}static#d(e){return e.replaceAll(" ","")}get contentDiv(){return this.editorDiv}getPDFRect(){const e=Qt._internalPadding*this.parentScale;return this.getRect(e,e)}static async deserialize(e,t,i){let r=null;if(e instanceof S2){const{data:{defaultAppearanceData:{fontSize:l,fontColor:c},rect:d,rotation:f,id:h,popupRef:p,richText:g,contentsObj:y,creationDate:S,modificationDate:A},textContent:E,textPosition:x,parent:{page:{pageNumber:O}}}=e;if(!E||E.length===0)return null;r=e={annotationType:Me.FREETEXT,color:Array.from(c),fontSize:l,value:E.join(`
`),position:x,pageIndex:O-1,rect:d.slice(0),rotation:f,annotationElementId:h,id:h,deleted:!1,popupRef:p,comment:y?.str||null,richText:g,creationDate:S,modificationDate:A}}const s=await super.deserialize(e,t,i);return s.#n=e.fontSize,s.color=ue.makeHexColor(...e.color),s.#e=Qt.#d(e.value),s._initialData=r,e.comment&&s.setCommentData(e),s}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const t=Se._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),i=Object.assign(super.serialize(e),{color:t,fontSize:this.#n,value:this.#f()});return this.addComment(i),e?(i.isCopy=!0,i):this.annotationElementId&&!this.#h(i)?null:(i.id=this.annotationElementId,i)}#h(e){const{value:t,fontSize:i,color:r,pageIndex:s}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||e.value!==t||e.fontSize!==i||e.color.some((l,c)=>l!==r[c])||e.pageIndex!==s}renderAnnotationElement(e){const t=super.renderAnnotationElement(e);if(!t)return null;const{style:i}=t;i.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,i.color=this.color,t.replaceChildren();for(const r of this.#e.split(`
`)){const s=document.createElement("div");s.append(r?document.createTextNode(r):document.createElement("br")),t.append(s)}return e.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:this.#e}}),t}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}}class fe{static PRECISION=1e-4;toSVGPath(){Ye("Abstract method `toSVGPath` must be implemented.")}get box(){Ye("Abstract getter `box` must be implemented.")}serialize(e,t){Ye("Abstract method `serialize` must be implemented.")}static _rescale(e,t,i,r,s,l){l||=new Float32Array(e.length);for(let c=0,d=e.length;c<d;c+=2)l[c]=t+e[c]*r,l[c+1]=i+e[c+1]*s;return l}static _rescaleAndSwap(e,t,i,r,s,l){l||=new Float32Array(e.length);for(let c=0,d=e.length;c<d;c+=2)l[c]=t+e[c+1]*r,l[c+1]=i+e[c]*s;return l}static _translate(e,t,i,r){r||=new Float32Array(e.length);for(let s=0,l=e.length;s<l;s+=2)r[s]=t+e[s],r[s+1]=i+e[s+1];return r}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,i,r,s){switch(s){case 90:return[1-t/i,e/r];case 180:return[1-e/i,1-t/r];case 270:return[t/i,1-e/r];default:return[e/i,t/r]}}static _normalizePagePoint(e,t,i){switch(i){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,i,r,s,l){return[(e+5*i)/6,(t+5*r)/6,(5*i+s)/6,(5*r+l)/6,(i+s)/2,(r+l)/2]}}class ys{#e;#t=[];#i;#n;#a=[];#s=new Float32Array(18);#r;#o;#c;#l;#f;#d;#h=[];static#g=8;static#m=2;static#u=ys.#g+ys.#m;constructor({x:e,y:t},i,r,s,l,c=0){this.#e=i,this.#d=s*r,this.#n=l,this.#s.set([NaN,NaN,NaN,NaN,e,t],6),this.#i=c,this.#l=ys.#g*r,this.#c=ys.#u*r,this.#f=r,this.#h.push(e,t)}isEmpty(){return isNaN(this.#s[8])}#p(){const e=this.#s.subarray(4,6),t=this.#s.subarray(16,18),[i,r,s,l]=this.#e;return[(this.#r+(e[0]-t[0])/2-i)/s,(this.#o+(e[1]-t[1])/2-r)/l,(this.#r+(t[0]-e[0])/2-i)/s,(this.#o+(t[1]-e[1])/2-r)/l]}add({x:e,y:t}){this.#r=e,this.#o=t;const[i,r,s,l]=this.#e;let[c,d,f,h]=this.#s.subarray(8,12);const p=e-f,g=t-h,y=Math.hypot(p,g);if(y<this.#c)return!1;const S=y-this.#l,A=S/y,E=A*p,x=A*g;let O=c,T=d;c=f,d=h,f+=E,h+=x,this.#h?.push(e,t);const P=-x/S,M=E/S,_=P*this.#d,L=M*this.#d;return this.#s.set(this.#s.subarray(2,8),0),this.#s.set([f+_,h+L],4),this.#s.set(this.#s.subarray(14,18),12),this.#s.set([f-_,h-L],16),isNaN(this.#s[6])?(this.#a.length===0&&(this.#s.set([c+_,d+L],2),this.#a.push(NaN,NaN,NaN,NaN,(c+_-i)/s,(d+L-r)/l),this.#s.set([c-_,d-L],14),this.#t.push(NaN,NaN,NaN,NaN,(c-_-i)/s,(d-L-r)/l)),this.#s.set([O,T,c,d,f,h],6),!this.isEmpty()):(this.#s.set([O,T,c,d,f,h],6),Math.abs(Math.atan2(T-d,O-c)-Math.atan2(x,E))<Math.PI/2?([c,d,f,h]=this.#s.subarray(2,6),this.#a.push(NaN,NaN,NaN,NaN,((c+f)/2-i)/s,((d+h)/2-r)/l),[c,d,O,T]=this.#s.subarray(14,18),this.#t.push(NaN,NaN,NaN,NaN,((O+c)/2-i)/s,((T+d)/2-r)/l),!0):([O,T,c,d,f,h]=this.#s.subarray(0,6),this.#a.push(((O+5*c)/6-i)/s,((T+5*d)/6-r)/l,((5*c+f)/6-i)/s,((5*d+h)/6-r)/l,((c+f)/2-i)/s,((d+h)/2-r)/l),[f,h,c,d,O,T]=this.#s.subarray(12,18),this.#t.push(((O+5*c)/6-i)/s,((T+5*d)/6-r)/l,((5*c+f)/6-i)/s,((5*d+h)/6-r)/l,((c+f)/2-i)/s,((d+h)/2-r)/l),!0))}toSVGPath(){if(this.isEmpty())return"";const e=this.#a,t=this.#t;if(isNaN(this.#s[6])&&!this.isEmpty())return this.#v();const i=[];i.push(`M${e[4]} ${e[5]}`);for(let r=6;r<e.length;r+=6)isNaN(e[r])?i.push(`L${e[r+4]} ${e[r+5]}`):i.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);this.#y(i);for(let r=t.length-6;r>=6;r-=6)isNaN(t[r])?i.push(`L${t[r+4]} ${t[r+5]}`):i.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);return this.#b(i),i.join(" ")}#v(){const[e,t,i,r]=this.#e,[s,l,c,d]=this.#p();return`M${(this.#s[2]-e)/i} ${(this.#s[3]-t)/r} L${(this.#s[4]-e)/i} ${(this.#s[5]-t)/r} L${s} ${l} L${c} ${d} L${(this.#s[16]-e)/i} ${(this.#s[17]-t)/r} L${(this.#s[14]-e)/i} ${(this.#s[15]-t)/r} Z`}#b(e){const t=this.#t;e.push(`L${t[4]} ${t[5]} Z`)}#y(e){const[t,i,r,s]=this.#e,l=this.#s.subarray(4,6),c=this.#s.subarray(16,18),[d,f,h,p]=this.#p();e.push(`L${(l[0]-t)/r} ${(l[1]-i)/s} L${d} ${f} L${h} ${p} L${(c[0]-t)/r} ${(c[1]-i)/s}`)}newFreeDrawOutline(e,t,i,r,s,l){return new C2(e,t,i,r,s,l)}getOutlines(){const e=this.#a,t=this.#t,i=this.#s,[r,s,l,c]=this.#e,d=new Float32Array((this.#h?.length??0)+2);for(let p=0,g=d.length-2;p<g;p+=2)d[p]=(this.#h[p]-r)/l,d[p+1]=(this.#h[p+1]-s)/c;if(d[d.length-2]=(this.#r-r)/l,d[d.length-1]=(this.#o-s)/c,isNaN(i[6])&&!this.isEmpty())return this.#C(d);const f=new Float32Array(this.#a.length+24+this.#t.length);let h=e.length;for(let p=0;p<h;p+=2){if(isNaN(e[p])){f[p]=f[p+1]=NaN;continue}f[p]=e[p],f[p+1]=e[p+1]}h=this.#S(f,h);for(let p=t.length-6;p>=6;p-=6)for(let g=0;g<6;g+=2){if(isNaN(t[p+g])){f[h]=f[h+1]=NaN,h+=2;continue}f[h]=t[p+g],f[h+1]=t[p+g+1],h+=2}return this.#x(f,h),this.newFreeDrawOutline(f,d,this.#e,this.#f,this.#i,this.#n)}#C(e){const t=this.#s,[i,r,s,l]=this.#e,[c,d,f,h]=this.#p(),p=new Float32Array(36);return p.set([NaN,NaN,NaN,NaN,(t[2]-i)/s,(t[3]-r)/l,NaN,NaN,NaN,NaN,(t[4]-i)/s,(t[5]-r)/l,NaN,NaN,NaN,NaN,c,d,NaN,NaN,NaN,NaN,f,h,NaN,NaN,NaN,NaN,(t[16]-i)/s,(t[17]-r)/l,NaN,NaN,NaN,NaN,(t[14]-i)/s,(t[15]-r)/l],0),this.newFreeDrawOutline(p,e,this.#e,this.#f,this.#i,this.#n)}#x(e,t){const i=this.#t;return e.set([NaN,NaN,NaN,NaN,i[4],i[5]],t),t+=6}#S(e,t){const i=this.#s.subarray(4,6),r=this.#s.subarray(16,18),[s,l,c,d]=this.#e,[f,h,p,g]=this.#p();return e.set([NaN,NaN,NaN,NaN,(i[0]-s)/c,(i[1]-l)/d,NaN,NaN,NaN,NaN,f,h,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,(r[0]-s)/c,(r[1]-l)/d],t),t+=24}}class C2 extends fe{#e;#t=new Float32Array(4);#i;#n;#a;#s;#r;constructor(e,t,i,r,s,l){super(),this.#r=e,this.#a=t,this.#e=i,this.#s=r,this.#i=s,this.#n=l,this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],this.#o(l);const[c,d,f,h]=this.#t;for(let p=0,g=e.length;p<g;p+=2)e[p]=(e[p]-c)/f,e[p+1]=(e[p+1]-d)/h;for(let p=0,g=t.length;p<g;p+=2)t[p]=(t[p]-c)/f,t[p+1]=(t[p+1]-d)/h}toSVGPath(){const e=[`M${this.#r[4]} ${this.#r[5]}`];for(let t=6,i=this.#r.length;t<i;t+=6){if(isNaN(this.#r[t])){e.push(`L${this.#r[t+4]} ${this.#r[t+5]}`);continue}e.push(`C${this.#r[t]} ${this.#r[t+1]} ${this.#r[t+2]} ${this.#r[t+3]} ${this.#r[t+4]} ${this.#r[t+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,t,i,r],s){const l=i-e,c=r-t;let d,f;switch(s){case 0:d=fe._rescale(this.#r,e,r,l,-c),f=fe._rescale(this.#a,e,r,l,-c);break;case 90:d=fe._rescaleAndSwap(this.#r,e,t,l,c),f=fe._rescaleAndSwap(this.#a,e,t,l,c);break;case 180:d=fe._rescale(this.#r,i,t,-l,c),f=fe._rescale(this.#a,i,t,-l,c);break;case 270:d=fe._rescaleAndSwap(this.#r,i,r,-l,-c),f=fe._rescaleAndSwap(this.#a,i,r,-l,-c);break}return{outline:Array.from(d),points:[Array.from(f)]}}#o(e){const t=this.#r;let i=t[4],r=t[5];const s=[i,r,i,r];let l=i,c=r,d=i,f=r;const h=e?Math.max:Math.min,p=new Float32Array(4);for(let y=6,S=t.length;y<S;y+=6){const A=t[y+4],E=t[y+5];isNaN(t[y])?(ue.pointBoundingBox(A,E,s),c>E?(l=A,c=E):c===E&&(l=h(l,A)),f<E?(d=A,f=E):f===E&&(d=h(d,A))):(p[0]=p[1]=1/0,p[2]=p[3]=-1/0,ue.bezierBoundingBox(i,r,...t.slice(y,y+6),p),ue.rectBoundingBox(p[0],p[1],p[2],p[3],s),c>p[1]?(l=p[0],c=p[1]):c===p[1]&&(l=h(l,p[0])),f<p[3]?(d=p[2],f=p[3]):f===p[3]&&(d=h(d,p[2]))),i=A,r=E}const g=this.#t;g[0]=s[0]-this.#i,g[1]=s[1]-this.#i,g[2]=s[2]-s[0]+2*this.#i,g[3]=s[3]-s[1]+2*this.#i,this.firstPoint=[l,c],this.lastPoint=[d,f]}get box(){return this.#t}newOutliner(e,t,i,r,s,l=0){return new ys(e,t,i,r,s,l)}getNewOutline(e,t){const[i,r,s,l]=this.#t,[c,d,f,h]=this.#e,p=s*f,g=l*h,y=i*f+c,S=r*h+d,A=this.newOutliner({x:this.#a[0]*p+y,y:this.#a[1]*g+S},this.#e,this.#s,e,this.#n,t??this.#i);for(let E=2;E<this.#a.length;E+=2)A.add({x:this.#a[E]*p+y,y:this.#a[E+1]*g+S});return A.getOutlines()}}class Zy{#e;#t;#i;#n=[];#a=[];constructor(e,t=0,i=0,r=!0){const s=[1/0,1/0,-1/0,-1/0],l=10**-4;for(const{x:A,y:E,width:x,height:O}of e){const T=Math.floor((A-t)/l)*l,P=Math.ceil((A+x+t)/l)*l,M=Math.floor((E-t)/l)*l,_=Math.ceil((E+O+t)/l)*l,L=[T,M,_,!0],B=[P,M,_,!1];this.#n.push(L,B),ue.rectBoundingBox(T,M,P,_,s)}const c=s[2]-s[0]+2*i,d=s[3]-s[1]+2*i,f=s[0]-i,h=s[1]-i;let p=r?-1/0:1/0,g=1/0;const y=this.#n.at(r?-1:-2),S=[y[0],y[2]];for(const A of this.#n){const[E,x,O,T]=A;!T&&r?x<g?(g=x,p=E):x===g&&(p=Math.max(p,E)):T&&!r&&(x<g?(g=x,p=E):x===g&&(p=Math.min(p,E))),A[0]=(E-f)/c,A[1]=(x-h)/d,A[2]=(O-h)/d}this.#e=new Float32Array([f,h,c,d]),this.#t=[p,g],this.#i=S}getOutlines(){this.#n.sort((t,i)=>t[0]-i[0]||t[1]-i[1]||t[2]-i[2]);const e=[];for(const t of this.#n)t[3]?(e.push(...this.#l(t)),this.#o(t)):(this.#c(t),e.push(...this.#l(t)));return this.#s(e)}#s(e){const t=[],i=new Set;for(const l of e){const[c,d,f]=l;t.push([c,d,l],[c,f,l])}t.sort((l,c)=>l[1]-c[1]||l[0]-c[0]);for(let l=0,c=t.length;l<c;l+=2){const d=t[l][2],f=t[l+1][2];d.push(f),f.push(d),i.add(d),i.add(f)}const r=[];let s;for(;i.size>0;){const l=i.values().next().value;let[c,d,f,h,p]=l;i.delete(l);let g=c,y=d;for(s=[c,f],r.push(s);;){let S;if(i.has(h))S=h;else if(i.has(p))S=p;else break;i.delete(S),[c,d,f,h,p]=S,g!==c&&(s.push(g,y,c,y===d?d:f),g=c),y=y===d?f:d}s.push(g,y)}return new Yj(r,this.#e,this.#t,this.#i)}#r(e){const t=this.#a;let i=0,r=t.length-1;for(;i<=r;){const s=i+r>>1,l=t[s][0];if(l===e)return s;l<e?i=s+1:r=s-1}return r+1}#o([,e,t]){const i=this.#r(e);this.#a.splice(i,0,[e,t])}#c([,e,t]){const i=this.#r(e);for(let r=i;r<this.#a.length;r++){const[s,l]=this.#a[r];if(s!==e)break;if(s===e&&l===t){this.#a.splice(r,1);return}}for(let r=i-1;r>=0;r--){const[s,l]=this.#a[r];if(s!==e)break;if(s===e&&l===t){this.#a.splice(r,1);return}}}#l(e){const[t,i,r]=e,s=[[t,i,r]],l=this.#r(r);for(let c=0;c<l;c++){const[d,f]=this.#a[c];for(let h=0,p=s.length;h<p;h++){const[,g,y]=s[h];if(!(f<=g||y<=d)){if(g>=d){if(y>f)s[h][1]=f;else{if(p===1)return[];s.splice(h,1),h--,p--}continue}s[h][2]=d,y>f&&s.push([t,f,y])}}}return s}}class Yj extends fe{#e;#t;constructor(e,t,i,r){super(),this.#t=e,this.#e=t,this.firstPoint=i,this.lastPoint=r}toSVGPath(){const e=[];for(const t of this.#t){let[i,r]=t;e.push(`M${i} ${r}`);for(let s=2;s<t.length;s+=2){const l=t[s],c=t[s+1];l===i?(e.push(`V${c}`),r=c):c===r&&(e.push(`H${l}`),i=l)}e.push("Z")}return e.join(" ")}serialize([e,t,i,r],s){const l=[],c=i-e,d=r-t;for(const f of this.#t){const h=new Array(f.length);for(let p=0;p<f.length;p+=2)h[p]=e+f[p]*c,h[p+1]=r-f[p+1]*d;l.push(h)}return l}get box(){return this.#e}get classNamesForOutlining(){return["highlightOutline"]}}class Qy extends ys{newFreeDrawOutline(e,t,i,r,s,l){return new Xj(e,t,i,r,s,l)}}class Xj extends C2{newOutliner(e,t,i,r,s,l=0){return new Qy(e,t,i,r,s,l)}}class Dt extends Se{#e=null;#t=0;#i;#n=null;#a=null;#s=null;#r=null;#o=0;#c=null;#l=null;#f=null;#d=!1;#h=null;#g=null;#m=null;#u="";#p;#v="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=Me.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const e=Dt.prototype;return Ce(this,"_keyboardManager",new cu([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}constructor(e){super({...e,name:"highlightEditor"}),this.color=e.color||Dt._defaultColor,this.#p=e.thickness||Dt._defaultThickness,this.opacity=e.opacity||Dt._defaultOpacity,this.#i=e.boxes||null,this.#v=e.methodOfCreation||"",this.#u=e.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",e.highlightId>-1?(this.#d=!0,this.#y(e),this.#A()):this.#i&&(this.#e=e.anchorNode,this.#t=e.anchorOffset,this.#r=e.focusNode,this.#o=e.focusOffset,this.#b(),this.#A(),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:this.#d?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:this.#p,methodOfCreation:this.#v}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}#b(){const e=new Zy(this.#i,.001);this.#l=e.getOutlines(),[this.x,this.y,this.width,this.height]=this.#l.box;const t=new Zy(this.#i,.0025,.001,this._uiManager.direction==="ltr");this.#s=t.getOutlines();const{firstPoint:i}=this.#l;this.#h=[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height];const{lastPoint:r}=this.#s;this.#g=[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height]}#y({highlightOutlines:e,highlightId:t,clipPathId:i}){this.#l=e;const r=1.5;if(this.#s=e.getNewOutline(this.#p/2+r,.0025),t>=0)this.#f=t,this.#n=i,this.parent.drawLayer.finalizeDraw(t,{bbox:e.box,path:{d:e.toSVGPath()}}),this.#m=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#s.box,path:{d:this.#s.toSVGPath()}},!0);else if(this.parent){const p=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#f,{bbox:Dt.#w(this.#l.box,(p-this.rotation+360)%360),path:{d:e.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#m,{bbox:Dt.#w(this.#s.box,p),path:{d:this.#s.toSVGPath()}})}const[s,l,c,d]=e.box;switch(this.rotation){case 0:this.x=s,this.y=l,this.width=c,this.height=d;break;case 90:{const[p,g]=this.parentDimensions;this.x=l,this.y=1-s,this.width=c*g/p,this.height=d*p/g;break}case 180:this.x=1-s,this.y=1-l,this.width=c,this.height=d;break;case 270:{const[p,g]=this.parentDimensions;this.x=1-l,this.y=s,this.width=c*g/p,this.height=d*p/g;break}}const{firstPoint:f}=e;this.#h=[(f[0]-s)/c,(f[1]-l)/d];const{lastPoint:h}=this.#s;this.#g=[(h[0]-s)/c,(h[1]-l)/d]}static initialize(e,t){Se.initialize(e,t),Dt._defaultColor||=t.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(e,t){switch(e){case je.HIGHLIGHT_COLOR:Dt._defaultColor=t;break;case je.HIGHLIGHT_THICKNESS:Dt._defaultThickness=t;break}}translateInPage(e,t){}get toolbarPosition(){return this.#g}get commentButtonPosition(){return this.#h}updateParams(e,t){switch(e){case je.HIGHLIGHT_COLOR:this.#C(t);break;case je.HIGHLIGHT_THICKNESS:this.#x(t);break}}static get defaultPropertiesToUpdate(){return[[je.HIGHLIGHT_COLOR,Dt._defaultColor],[je.HIGHLIGHT_THICKNESS,Dt._defaultThickness]]}get propertiesToUpdate(){return[[je.HIGHLIGHT_COLOR,this.color||Dt._defaultColor],[je.HIGHLIGHT_THICKNESS,this.#p||Dt._defaultThickness],[je.HIGHLIGHT_FREE,this.#d]]}onUpdatedColor(){this.parent?.drawLayer.updateProperties(this.#f,{root:{fill:this.color,"fill-opacity":this.opacity}}),this.#a?.updateColor(this.color),super.onUpdatedColor()}#C(e){const t=(s,l)=>{this.color=s,this.opacity=l,this.onUpdatedColor()},i=this.color,r=this.opacity;this.addCommands({cmd:t.bind(this,e,Dt._defaultOpacity),undo:t.bind(this,i,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:je.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(e)},!0)}#x(e){const t=this.#p,i=r=>{this.#p=r,this.#S(r)};this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,t),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:je.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",this.#a=new Ti({editor:this})]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#_())}getBaseTranslation(){return[0,0]}getRect(e,t){return super.getRect(e,t,this.#_())}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),e&&this.div.focus()}remove(){this.#T(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#A(),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;this.parent&&!e?this.#T():e&&(this.#A(e),t=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),this.show(this._isVisible),t&&this.select()}#S(e){this.#d&&(this.#y({highlightOutlines:this.#l.getNewOutline(e/2)}),this.fixAndSetPosition(),this.setDims())}#T(){this.#f===null||!this.parent||(this.parent.drawLayer.remove(this.#f),this.#f=null,this.parent.drawLayer.remove(this.#m),this.#m=null)}#A(e=this.parent){this.#f===null&&({id:this.#f,clipPathId:this.#n}=e.drawLayer.draw({bbox:this.#l.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:this.#d},path:{d:this.#l.toSVGPath()}},!1,!0),this.#m=e.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#d},bbox:this.#s.box,path:{d:this.#s.toSVGPath()}},this.#d),this.#c&&(this.#c.style.clipPath=this.#n))}static#w([e,t,i,r],s){switch(s){case 90:return[1-t-r,e,r,i];case 180:return[1-e-i,1-t-r,i,r];case 270:return[t,1-e-i,r,i]}return[e,t,i,r]}rotate(e){const{drawLayer:t}=this.parent;let i;this.#d?(e=(e-this.rotation+360)%360,i=Dt.#w(this.#l.box,e)):i=Dt.#w([this.x,this.y,this.width,this.height],e),t.updateProperties(this.#f,{bbox:i,root:{"data-main-rotation":e}}),t.updateProperties(this.#m,{bbox:Dt.#w(this.#s.box,e),root:{"data-main-rotation":e}})}render(){if(this.div)return this.div;const e=super.render();this.#u&&(e.setAttribute("aria-label",this.#u),e.setAttribute("role","mark")),this.#d?e.classList.add("free"):this.div.addEventListener("keydown",this.#P.bind(this),{signal:this._uiManager._signal});const t=this.#c=document.createElement("div");return e.append(t),t.setAttribute("aria-hidden","true"),t.className="internal",t.style.clipPath=this.#n,this.setDims(),Q_(this,this.#c,["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#m,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#m,{rootClass:{hovered:!1}})}#P(e){Dt._keyboardManager.exec(this,e)}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:this.#M(!0);break;case 1:case 3:this.#M(!1);break}}#M(e){if(!this.#e)return;const t=window.getSelection();e?t.setPosition(this.#e,this.#t):t.setPosition(this.#r,this.#o)}select(){super.select(),this.#m&&this.parent?.drawLayer.updateProperties(this.#m,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#m&&(this.parent?.drawLayer.updateProperties(this.#m,{rootClass:{selected:!1}}),this.#d||this.#M(!1))}get _mustFixPosition(){return!this.#d}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.updateProperties(this.#f,{rootClass:{hidden:!e}}),this.parent.drawLayer.updateProperties(this.#m,{rootClass:{hidden:!e}}))}#_(){return this.#d?this.rotation:0}#B(){if(this.#d)return null;const[e,t]=this.pageDimensions,[i,r]=this.pageTranslation,s=this.#i,l=new Float32Array(s.length*8);let c=0;for(const{x:d,y:f,width:h,height:p}of s){const g=d*e+i,y=(1-f)*t+r;l[c]=l[c+4]=g,l[c+1]=l[c+3]=y,l[c+2]=l[c+6]=g+h*e,l[c+5]=l[c+7]=y-p*t,c+=8}return l}#L(e){return this.#l.serialize(e,this.#_())}static startHighlighting(e,t,{target:i,x:r,y:s}){const{x:l,y:c,width:d,height:f}=i.getBoundingClientRect(),h=new AbortController,p=e.combinedSignal(h),g=y=>{h.abort(),this.#j(e,y)};window.addEventListener("blur",g,{signal:p}),window.addEventListener("pointerup",g,{signal:p}),window.addEventListener("pointerdown",Ot,{capture:!0,passive:!1,signal:p}),window.addEventListener("contextmenu",_i,{signal:p}),i.addEventListener("pointermove",this.#R.bind(this,e),{signal:p}),this._freeHighlight=new Qy({x:r,y:s},[l,c,d,f],e.scale,this._defaultThickness/2,t,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#R(e,t){this._freeHighlight.add(t)&&e.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#j(e,t){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(t,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(e,t,i){let r=null;if(e instanceof x2){const{data:{quadPoints:S,rect:A,rotation:E,id:x,color:O,opacity:T,popupRef:P,richText:M,contentsObj:_,creationDate:L,modificationDate:B},parent:{page:{pageNumber:F}}}=e;r=e={annotationType:Me.HIGHLIGHT,color:Array.from(O),opacity:T,quadPoints:S,boxes:null,pageIndex:F-1,rect:A.slice(0),rotation:E,annotationElementId:x,id:x,deleted:!1,popupRef:P,richText:M,comment:_?.str||null,creationDate:L,modificationDate:B}}else if(e instanceof fb){const{data:{inkLists:S,rect:A,rotation:E,id:x,color:O,borderStyle:{rawWidth:T},popupRef:P,richText:M,contentsObj:_,creationDate:L,modificationDate:B},parent:{page:{pageNumber:F}}}=e;r=e={annotationType:Me.HIGHLIGHT,color:Array.from(O),thickness:T,inkLists:S,boxes:null,pageIndex:F-1,rect:A.slice(0),rotation:E,annotationElementId:x,id:x,deleted:!1,popupRef:P,richText:M,comment:_?.str||null,creationDate:L,modificationDate:B}}const{color:s,quadPoints:l,inkLists:c,opacity:d}=e,f=await super.deserialize(e,t,i);f.color=ue.makeHexColor(...s),f.opacity=d||1,c&&(f.#p=e.thickness),f._initialData=r,e.comment&&f.setCommentData(e);const[h,p]=f.pageDimensions,[g,y]=f.pageTranslation;if(l){const S=f.#i=[];for(let A=0;A<l.length;A+=8)S.push({x:(l[A]-g)/h,y:1-(l[A+1]-y)/p,width:(l[A+2]-l[A])/h,height:(l[A+1]-l[A+5])/p});f.#b(),f.#A(),f.rotate(f.rotation)}else if(c){f.#d=!0;const S=c[0],A={x:S[0]-g,y:p-(S[1]-y)},E=new Qy(A,[0,0,h,p],1,f.#p/2,!0,.001);for(let T=0,P=S.length;T<P;T+=2)A.x=S[T]-g,A.y=p-(S[T+1]-y),E.add(A);const{id:x,clipPathId:O}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:f.color,"fill-opacity":f._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:E.toSVGPath()}},!0,!0);f.#y({highlightOutlines:E.getOutlines(),highlightId:x,clipPathId:O}),f.#A(),f.rotate(f.parentRotation)}return f}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const t=Se._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),i=super.serialize(e);return Object.assign(i,{color:t,opacity:this.opacity,thickness:this.#p,quadPoints:this.#B(),outlines:this.#L(i.rect)}),this.addComment(i),this.annotationElementId&&!this.#I(i)?null:(i.id=this.annotationElementId,i)}#I(e){const{color:t}=this._initialData;return this.hasEditedComment||e.color.some((i,r)=>i!==t[r])}renderAnnotationElement(e){return this.deleted?(e.hide(),null):(e.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}}class O2{#e=Object.create(null);updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,i]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,i)}updateSVGProperty(e,t){this.#e[e]=t}toSVGProperties(){const e=this.#e;return this.#e=Object.create(null),{root:e}}reset(){this.#e=Object.create(null)}updateAll(e=this){this.updateProperties(e)}clone(){Ye("Not implemented")}}class qe extends Se{#e=null;#t;_colorPicker=null;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#i=null;static#n=null;static#a=null;static _INNER_MARGIN=3;constructor(e){super(e),this.#t=e.mustBeCommitted||!1,this._addOutlines(e)}onUpdatedColor(){this._colorPicker?.update(this.color),super.onUpdatedColor()}_addOutlines(e){e.drawOutlines&&(this.#s(e),this.#c())}#s({drawOutlines:e,drawId:t,drawingOptions:i}){this.#e=e,this._drawingOptions||=i,this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),t>=0?(this._drawId=t,this.parent.drawLayer.finalizeDraw(t,e.defaultProperties)):this._drawId=this.#r(e,this.parent),this.#d(e.box)}#r(e,t){const{id:i}=t.drawLayer.draw(qe._mergeSVGProperties(this._drawingOptions.toSVGProperties(),e.defaultSVGProperties),!1,!1);return i}static _mergeSVGProperties(e,t){const i=new Set(Object.keys(e));for(const[r,s]of Object.entries(t))i.has(r)?Object.assign(e[r],s):e[r]=s;return e}static getDefaultDrawingOptions(e){Ye("Not implemented")}static get typesMap(){Ye("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(e,t){const i=this.typesMap.get(e);i&&this._defaultDrawingOptions.updateProperty(i,t),this._currentParent&&(qe.#i.updateProperty(i,t),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(e,t){const i=this.constructor.typesMap.get(e);i&&this._updateProperty(e,i,t)}static get defaultPropertiesToUpdate(){const e=[],t=this._defaultDrawingOptions;for(const[i,r]of this.typesMap)e.push([i,t[r]]);return e}get propertiesToUpdate(){const e=[],{_drawingOptions:t}=this;for(const[i,r]of this.constructor.typesMap)e.push([i,t[r]]);return e}_updateProperty(e,t,i){const r=this._drawingOptions,s=r[t],l=c=>{r.updateProperty(t,c);const d=this.#e.updateProperty(t,c);d&&this.#d(d),this.parent?.drawLayer.updateProperties(this._drawId,r.toSVGProperties()),e===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:l.bind(this,i),undo:l.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:e,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,qe._mergeSVGProperties(this.#e.getPathResizingSVGProperties(this.#f()),{bbox:this.#h()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,qe._mergeSVGProperties(this.#e.getPathResizedSVGProperties(this.#f()),{bbox:this.#h()}))}_onTranslating(e,t){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#h()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,qe._mergeSVGProperties(this.#e.getPathTranslatedSVGProperties(this.#f(),this.parentDimensions),{bbox:this.#h()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#t&&(this.#t=!1,this.commit(),this.parent.setSelected(this),e&&this.isOnScreen&&this.div.focus())}remove(){this.#o(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#c(),this.#d(this.#e.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;this.parent&&!e?(this._uiManager.removeShouldRescale(this),this.#o()):e&&(this._uiManager.addShouldRescale(this),this.#c(e),t=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),t&&this.select()}#o(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#c(e=this.parent){if(!(this._drawId!==null&&this.parent===e)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,e.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#r(this.#e,e)}}#l([e,t,i,r]){const{parentDimensions:[s,l],rotation:c}=this;switch(c){case 90:return[t,1-e,i*(l/s),r*(s/l)];case 180:return[1-e,1-t,i,r];case 270:return[1-t,e,i*(l/s),r*(s/l)];default:return[e,t,i,r]}}#f(){const{x:e,y:t,width:i,height:r,parentDimensions:[s,l],rotation:c}=this;switch(c){case 90:return[1-t,e,i*(s/l),r*(l/s)];case 180:return[1-e,1-t,i,r];case 270:return[t,1-e,i*(s/l),r*(l/s)];default:return[e,t,i,r]}}#d(e){[this.x,this.y,this.width,this.height]=this.#l(e),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()}#h(){const{x:e,y:t,width:i,height:r,rotation:s,parentRotation:l,parentDimensions:[c,d]}=this;switch((s*4+l)/90){case 1:return[1-t-r,e,r,i];case 2:return[1-e-i,1-t-r,i,r];case 3:return[t,1-e-i,r,i];case 4:return[e,t-i*(c/d),r*(d/c),i*(c/d)];case 5:return[1-t,e,i*(c/d),r*(d/c)];case 6:return[1-e-r*(d/c),1-t,r*(d/c),i*(c/d)];case 7:return[t-i*(c/d),1-e-r*(d/c),i*(c/d),r*(d/c)];case 8:return[e-i,t-r,i,r];case 9:return[1-t,e-i,r,i];case 10:return[1-e,1-t,i,r];case 11:return[t-r,1-e,r,i];case 12:return[e-r*(d/c),t,r*(d/c),i*(c/d)];case 13:return[1-t-i*(c/d),e-r*(d/c),i*(c/d),r*(d/c)];case 14:return[1-e,1-t-i*(c/d),r*(d/c),i*(c/d)];case 15:return[t,1-e,i*(c/d),r*(d/c)];default:return[e,t,i,r]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,qe._mergeSVGProperties({bbox:this.#h()},this.#e.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#d(this.#e.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let e,t;this._isCopy&&(e=this.x,t=this.y);const i=super.render();i.classList.add("draw");const r=document.createElement("div");return i.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(e,t),i}static createDrawerInstance(e,t,i,r,s){Ye("Not implemented")}static startDrawing(e,t,i,r){const{target:s,offsetX:l,offsetY:c,pointerId:d,pointerType:f}=r;if(Ge.isInitializedAndDifferentPointerType(f))return;const{viewport:{rotation:h}}=e,{width:p,height:g}=s.getBoundingClientRect(),y=qe.#n=new AbortController,S=e.combinedSignal(y);if(Ge.setPointer(f,d),window.addEventListener("pointerup",A=>{Ge.isSamePointerIdOrRemove(A.pointerId)&&this._endDraw(A)},{signal:S}),window.addEventListener("pointercancel",A=>{Ge.isSamePointerIdOrRemove(A.pointerId)&&this._currentParent.endDrawingSession()},{signal:S}),window.addEventListener("pointerdown",A=>{Ge.isSamePointerType(A.pointerType)&&(Ge.initializeAndAddPointerId(A.pointerId),qe.#i.isCancellable()&&(qe.#i.removeLastElement(),qe.#i.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:S}),window.addEventListener("contextmenu",_i,{signal:S}),s.addEventListener("pointermove",this._drawMove.bind(this),{signal:S}),s.addEventListener("touchmove",A=>{Ge.isSameTimeStamp(A.timeStamp)&&Ot(A)},{signal:S}),e.toggleDrawing(),t._editorUndoBar?.hide(),qe.#i){e.drawLayer.updateProperties(this._currentDrawId,qe.#i.startNew(l,c,p,g,h));return}t.updateUIForDefaultProperties(this),qe.#i=this.createDrawerInstance(l,c,p,g,h),qe.#a=this.getDefaultDrawingOptions(),this._currentParent=e,{id:this._currentDrawId}=e.drawLayer.draw(this._mergeSVGProperties(qe.#a.toSVGProperties(),qe.#i.defaultSVGProperties),!0,!1)}static _drawMove(e){if(Ge.isSameTimeStamp(e.timeStamp),!qe.#i)return;const{offsetX:t,offsetY:i,pointerId:r}=e;if(Ge.isSamePointerId(r)){if(Ge.isUsingMultiplePointers()){this._endDraw(e);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,qe.#i.add(t,i)),Ge.setTimeStamp(e.timeStamp),Ot(e)}}static _cleanup(e){e&&(this._currentDrawId=-1,this._currentParent=null,qe.#i=null,qe.#a=null,Ge.clearTimeStamp()),qe.#n&&(qe.#n.abort(),qe.#n=null,Ge.clearPointerIds())}static _endDraw(e){const t=this._currentParent;if(t){if(t.toggleDrawing(!0),this._cleanup(!1),e?.target===t.div&&t.drawLayer.updateProperties(this._currentDrawId,qe.#i.end(e.offsetX,e.offsetY)),this.supportMultipleDrawings){const i=qe.#i,r=this._currentDrawId,s=i.getLastElement();t.addCommands({cmd:()=>{t.drawLayer.updateProperties(r,i.setLastElement(s))},undo:()=>{t.drawLayer.updateProperties(r,i.removeLastElement())},mustExec:!1,type:je.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(e){const t=this._currentParent;if(!t)return null;if(t.toggleDrawing(!0),t.cleanUndoStack(je.DRAW_STEP),!qe.#i.isEmpty()){const{pageDimensions:[i,r],scale:s}=t,l=t.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:qe.#i.getOutlines(i*s,r*s,s,this._INNER_MARGIN),drawingOptions:qe.#a,mustBeCommitted:!e});return this._cleanup(!0),l}return t.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(e){}static deserializeDraw(e,t,i,r,s,l){Ye("Not implemented")}static async deserialize(e,t,i){const{rawDims:{pageWidth:r,pageHeight:s,pageX:l,pageY:c}}=t.viewport,d=this.deserializeDraw(l,c,r,s,this._INNER_MARGIN,e),f=await super.deserialize(e,t,i);return f.createDrawingOptions(e),f.#s({drawOutlines:d}),f.#c(),f.onScaleChanging(),f.rotate(),f}serializeDraw(e){const[t,i]=this.pageTranslation,[r,s]=this.pageDimensions;return this.#e.serialize([t,i,r,s],e)}renderAnnotationElement(e){return e.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}}class Kj{#e=new Float64Array(6);#t;#i;#n;#a;#s;#r="";#o=0;#c=new uu;#l;#f;constructor(e,t,i,r,s,l){this.#l=i,this.#f=r,this.#n=s,this.#a=l,[e,t]=this.#d(e,t);const c=this.#t=[NaN,NaN,NaN,NaN,e,t];this.#s=[e,t],this.#i=[{line:c,points:this.#s}],this.#e.set(c,0)}updateProperty(e,t){e==="stroke-width"&&(this.#a=t)}#d(e,t){return fe._normalizePoint(e,t,this.#l,this.#f,this.#n)}isEmpty(){return!this.#i||this.#i.length===0}isCancellable(){return this.#s.length<=10}add(e,t){[e,t]=this.#d(e,t);const[i,r,s,l]=this.#e.subarray(2,6),c=e-s,d=t-l;return Math.hypot(this.#l*c,this.#f*d)<=2?null:(this.#s.push(e,t),isNaN(i)?(this.#e.set([s,l,e,t],2),this.#t.push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(this.#e[0])&&this.#t.splice(6,6),this.#e.set([i,r,s,l,e,t],0),this.#t.push(...fe.createBezierPoints(i,r,s,l,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const i=this.add(e,t);return i||(this.#s.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,i,r,s){this.#l=i,this.#f=r,this.#n=s,[e,t]=this.#d(e,t);const l=this.#t=[NaN,NaN,NaN,NaN,e,t];this.#s=[e,t];const c=this.#i.at(-1);return c&&(c.line=new Float32Array(c.line),c.points=new Float32Array(c.points)),this.#i.push({line:l,points:this.#s}),this.#e.set(l,0),this.#o=0,this.toSVGPath(),null}getLastElement(){return this.#i.at(-1)}setLastElement(e){return this.#i?(this.#i.push(e),this.#t=e.line,this.#s=e.points,this.#o=0,{path:{d:this.toSVGPath()}}):this.#c.setLastElement(e)}removeLastElement(){if(!this.#i)return this.#c.removeLastElement();this.#i.pop(),this.#r="";for(let e=0,t=this.#i.length;e<t;e++){const{line:i,points:r}=this.#i[e];this.#t=i,this.#s=r,this.#o=0,this.toSVGPath()}return{path:{d:this.#r}}}toSVGPath(){const e=fe.svgRound(this.#t[4]),t=fe.svgRound(this.#t[5]);if(this.#s.length===2)return this.#r=`${this.#r} M ${e} ${t} Z`,this.#r;if(this.#s.length<=6){const r=this.#r.lastIndexOf("M");this.#r=`${this.#r.slice(0,r)} M ${e} ${t}`,this.#o=6}if(this.#s.length===4){const r=fe.svgRound(this.#t[10]),s=fe.svgRound(this.#t[11]);return this.#r=`${this.#r} L ${r} ${s}`,this.#o=12,this.#r}const i=[];this.#o===0&&(i.push(`M ${e} ${t}`),this.#o=6);for(let r=this.#o,s=this.#t.length;r<s;r+=6){const[l,c,d,f,h,p]=this.#t.slice(r,r+6).map(fe.svgRound);i.push(`C${l} ${c} ${d} ${f} ${h} ${p}`)}return this.#r+=i.join(" "),this.#o=this.#t.length,this.#r}getOutlines(e,t,i,r){const s=this.#i.at(-1);return s.line=new Float32Array(s.line),s.points=new Float32Array(s.points),this.#c.build(this.#i,e,t,i,this.#n,this.#a,r),this.#e=null,this.#t=null,this.#i=null,this.#r=null,this.#c}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class uu extends fe{#e;#t=0;#i;#n;#a;#s;#r;#o;#c;build(e,t,i,r,s,l,c){this.#a=t,this.#s=i,this.#r=r,this.#o=s,this.#c=l,this.#i=c??0,this.#n=e,this.#d()}get thickness(){return this.#c}setLastElement(e){return this.#n.push(e),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#n.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const e=[];for(const{line:t}of this.#n){if(e.push(`M${fe.svgRound(t[4])} ${fe.svgRound(t[5])}`),t.length===6){e.push("Z");continue}if(t.length===12&&isNaN(t[6])){e.push(`L${fe.svgRound(t[10])} ${fe.svgRound(t[11])}`);continue}for(let i=6,r=t.length;i<r;i+=6){const[s,l,c,d,f,h]=t.subarray(i,i+6).map(fe.svgRound);e.push(`C${s} ${l} ${c} ${d} ${f} ${h}`)}}return e.join("")}serialize([e,t,i,r],s){const l=[],c=[],[d,f,h,p]=this.#f();let g,y,S,A,E,x,O,T,P;switch(this.#o){case 0:P=fe._rescale,g=e,y=t+r,S=i,A=-r,E=e+d*i,x=t+(1-f-p)*r,O=e+(d+h)*i,T=t+(1-f)*r;break;case 90:P=fe._rescaleAndSwap,g=e,y=t,S=i,A=r,E=e+f*i,x=t+d*r,O=e+(f+p)*i,T=t+(d+h)*r;break;case 180:P=fe._rescale,g=e+i,y=t,S=-i,A=r,E=e+(1-d-h)*i,x=t+f*r,O=e+(1-d)*i,T=t+(f+p)*r;break;case 270:P=fe._rescaleAndSwap,g=e+i,y=t+r,S=-i,A=-r,E=e+(1-f-p)*i,x=t+(1-d-h)*r,O=e+(1-f)*i,T=t+(1-d)*r;break}for(const{line:M,points:_}of this.#n)l.push(P(M,g,y,S,A,s?new Array(M.length):null)),c.push(P(_,g,y,S,A,s?new Array(_.length):null));return{lines:l,points:c,rect:[E,x,O,T]}}static deserialize(e,t,i,r,s,{paths:{lines:l,points:c},rotation:d,thickness:f}){const h=[];let p,g,y,S,A;switch(d){case 0:A=fe._rescale,p=-e/i,g=t/r+1,y=1/i,S=-1/r;break;case 90:A=fe._rescaleAndSwap,p=-t/r,g=-e/i,y=1/r,S=1/i;break;case 180:A=fe._rescale,p=e/i+1,g=-t/r,y=-1/i,S=1/r;break;case 270:A=fe._rescaleAndSwap,p=t/r+1,g=e/i+1,y=-1/r,S=-1/i;break}if(!l){l=[];for(const x of c){const O=x.length;if(O===2){l.push(new Float32Array([NaN,NaN,NaN,NaN,x[0],x[1]]));continue}if(O===4){l.push(new Float32Array([NaN,NaN,NaN,NaN,x[0],x[1],NaN,NaN,NaN,NaN,x[2],x[3]]));continue}const T=new Float32Array(3*(O-2));l.push(T);let[P,M,_,L]=x.subarray(0,4);T.set([NaN,NaN,NaN,NaN,P,M],0);for(let B=4;B<O;B+=2){const F=x[B],X=x[B+1];T.set(fe.createBezierPoints(P,M,_,L,F,X),(B-2)*3),[P,M,_,L]=[_,L,F,X]}}}for(let x=0,O=l.length;x<O;x++)h.push({line:A(l[x].map(T=>T??NaN),p,g,y,S),points:A(c[x].map(T=>T??NaN),p,g,y,S)});const E=new this.prototype.constructor;return E.build(h,i,r,1,d,f,s),E}#l(e=this.#c){const t=this.#i+e/2*this.#r;return this.#o%180===0?[t/this.#a,t/this.#s]:[t/this.#s,t/this.#a]}#f(){const[e,t,i,r]=this.#e,[s,l]=this.#l(0);return[e+s,t+l,i-2*s,r-2*l]}#d(){const e=this.#e=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:r}of this.#n){if(r.length<=12){for(let c=4,d=r.length;c<d;c+=6)ue.pointBoundingBox(r[c],r[c+1],e);continue}let s=r[4],l=r[5];for(let c=6,d=r.length;c<d;c+=6){const[f,h,p,g,y,S]=r.subarray(c,c+6);ue.bezierBoundingBox(s,l,f,h,p,g,y,S,e),s=y,l=S}}const[t,i]=this.#l();e[0]=mn(e[0]-t,0,1),e[1]=mn(e[1]-i,0,1),e[2]=mn(e[2]+t,0,1),e[3]=mn(e[3]+i,0,1),e[2]-=e[0],e[3]-=e[1]}get box(){return this.#e}updateProperty(e,t){return e==="stroke-width"?this.#h(t):null}#h(e){const[t,i]=this.#l();this.#c=e;const[r,s]=this.#l(),[l,c]=[r-t,s-i],d=this.#e;return d[0]-=l,d[1]-=c,d[2]+=2*l,d[3]+=2*c,d}updateParentDimensions([e,t],i){const[r,s]=this.#l();this.#a=e,this.#s=t,this.#r=i;const[l,c]=this.#l(),d=l-r,f=c-s,h=this.#e;return h[0]-=d,h[1]-=f,h[2]+=2*d,h[3]+=2*f,h}updateRotation(e){return this.#t=e,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#e.map(fe.svgRound).join(" ")}get defaultProperties(){const[e,t]=this.#e;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${fe.svgRound(e)} ${fe.svgRound(t)}`}}}get rotationTransform(){const[,,e,t]=this.#e;let i=0,r=0,s=0,l=0,c=0,d=0;switch(this.#t){case 90:r=t/e,s=-e/t,c=e;break;case 180:i=-1,l=-1,c=e,d=t;break;case 270:r=-t/e,s=e/t,d=t;break;default:return""}return`matrix(${i} ${r} ${s} ${l} ${fe.svgRound(c)} ${fe.svgRound(d)})`}getPathResizingSVGProperties([e,t,i,r]){const[s,l]=this.#l(),[c,d,f,h]=this.#e;if(Math.abs(f-s)<=fe.PRECISION||Math.abs(h-l)<=fe.PRECISION){const A=e+i/2-(c+f/2),E=t+r/2-(d+h/2);return{path:{"transform-origin":`${fe.svgRound(e)} ${fe.svgRound(t)}`,transform:`${this.rotationTransform} translate(${A} ${E})`}}}const p=(i-2*s)/(f-2*s),g=(r-2*l)/(h-2*l),y=f/i,S=h/r;return{path:{"transform-origin":`${fe.svgRound(c)} ${fe.svgRound(d)}`,transform:`${this.rotationTransform} scale(${y} ${S}) translate(${fe.svgRound(s)} ${fe.svgRound(l)}) scale(${p} ${g}) translate(${fe.svgRound(-s)} ${fe.svgRound(-l)})`}}}getPathResizedSVGProperties([e,t,i,r]){const[s,l]=this.#l(),c=this.#e,[d,f,h,p]=c;if(c[0]=e,c[1]=t,c[2]=i,c[3]=r,Math.abs(h-s)<=fe.PRECISION||Math.abs(p-l)<=fe.PRECISION){const E=e+i/2-(d+h/2),x=t+r/2-(f+p/2);for(const{line:O,points:T}of this.#n)fe._translate(O,E,x,O),fe._translate(T,E,x,T);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${fe.svgRound(e)} ${fe.svgRound(t)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const g=(i-2*s)/(h-2*s),y=(r-2*l)/(p-2*l),S=-g*(d+s)+e+s,A=-y*(f+l)+t+l;if(g!==1||y!==1||S!==0||A!==0)for(const{line:E,points:x}of this.#n)fe._rescale(E,S,A,g,y,E),fe._rescale(x,S,A,g,y,x);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${fe.svgRound(e)} ${fe.svgRound(t)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([e,t],i){const[r,s]=i,l=this.#e,c=e-l[0],d=t-l[1];if(this.#a===r&&this.#s===s)for(const{line:f,points:h}of this.#n)fe._translate(f,c,d,f),fe._translate(h,c,d,h);else{const f=this.#a/r,h=this.#s/s;this.#a=r,this.#s=s;for(const{line:p,points:g}of this.#n)fe._rescale(p,c,d,f,h,p),fe._rescale(g,c,d,f,h,g);l[2]*=f,l[3]*=h}return l[0]=e,l[1]=t,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${fe.svgRound(e)} ${fe.svgRound(t)}`}}}get defaultSVGProperties(){const e=this.#e;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${fe.svgRound(e[0])} ${fe.svgRound(e[1])}`,transform:this.rotationTransform||null},bbox:e}}}class Bh extends O2{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:Se._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){e==="stroke-width"&&(t??=this["stroke-width"],t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new Bh(this._viewParameters);return e.updateAll(this),e}}class pb extends qe{static _type="ink";static _editorType=Me.INK;static _defaultDrawingOptions=null;constructor(e){super({...e,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(e,t){Se.initialize(e,t),this._defaultDrawingOptions=new Bh(t.viewParameters)}static getDefaultDrawingOptions(e){const t=this._defaultDrawingOptions.clone();return t.updateProperties(e),t}static get supportMultipleDrawings(){return!0}static get typesMap(){return Ce(this,"typesMap",new Map([[je.INK_THICKNESS,"stroke-width"],[je.INK_COLOR,"stroke"],[je.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(e,t,i,r,s){return new Kj(e,t,i,r,s,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(e,t,i,r,s,l){return uu.deserialize(e,t,i,r,s,l)}static async deserialize(e,t,i){let r=null;if(e instanceof fb){const{data:{inkLists:l,rect:c,rotation:d,id:f,color:h,opacity:p,borderStyle:{rawWidth:g},popupRef:y,richText:S,contentsObj:A,creationDate:E,modificationDate:x},parent:{page:{pageNumber:O}}}=e;r=e={annotationType:Me.INK,color:Array.from(h),thickness:g,opacity:p,paths:{points:l},boxes:null,pageIndex:O-1,rect:c.slice(0),rotation:d,annotationElementId:f,id:f,deleted:!1,popupRef:y,richText:S,comment:A?.str||null,creationDate:E,modificationDate:x}}const s=await super.deserialize(e,t,i);return s._initialData=r,e.comment&&s.setCommentData(e),s}get toolbarButtons(){return this._colorPicker||=new qc(this),[["colorPicker",this._colorPicker]]}get colorType(){return je.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:e,_drawingOptions:t,parent:i}=this;t.updateSVGProperty("stroke-width"),i.drawLayer.updateProperties(e,t.toSVGProperties())}static onScaleChangingWhenDrawing(){const e=this._currentParent;e&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),e.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:e,thickness:t,opacity:i}){this._drawingOptions=pb.getDefaultDrawingOptions({stroke:ue.makeHexColor(...e),"stroke-width":t,"stroke-opacity":i})}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:t,points:i}=this.serializeDraw(e),{_drawingOptions:{stroke:r,"stroke-opacity":s,"stroke-width":l}}=this,c=Object.assign(super.serialize(e),{color:Se._colorManager.convert(r),opacity:s,thickness:l,paths:{lines:t,points:i}});return this.addComment(c),e?(c.isCopy=!0,c):this.annotationElementId&&!this.#e(c)?null:(c.id=this.annotationElementId,c)}#e(e){const{color:t,thickness:i,opacity:r,pageIndex:s}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||e.color.some((l,c)=>l!==t[c])||e.thickness!==i||e.opacity!==r||e.pageIndex!==s}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;const{points:t,rect:i}=this.serializeDraw(!1);return e.updateEdited({rect:i,thickness:this._drawingOptions["stroke-width"],points:t,popup:this.comment}),null}}class Jy extends uu{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const tf=8,Ac=3;class Fo{static#e={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#t(e,t,i,r){return i-=e,r-=t,i===0?r>0?0:4:i===1?r+6:2-r}static#i=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#n(e,t,i,r,s,l,c){const d=this.#t(i,r,s,l);for(let f=0;f<8;f++){const h=(-f+d-c+16)%8,p=this.#i[2*h],g=this.#i[2*h+1];if(e[(i+p)*t+(r+g)]!==0)return h}return-1}static#a(e,t,i,r,s,l,c){const d=this.#t(i,r,s,l);for(let f=0;f<8;f++){const h=(f+d+c+16)%8,p=this.#i[2*h],g=this.#i[2*h+1];if(e[(i+p)*t+(r+g)]!==0)return h}return-1}static#s(e,t,i,r){const s=e.length,l=new Int32Array(s);for(let h=0;h<s;h++)l[h]=e[h]<=r?1:0;for(let h=1;h<i-1;h++)l[h*t]=l[h*t+t-1]=0;for(let h=0;h<t;h++)l[h]=l[t*i-1-h]=0;let c=1,d;const f=[];for(let h=1;h<i-1;h++){d=1;for(let p=1;p<t-1;p++){const g=h*t+p,y=l[g];if(y===0)continue;let S=h,A=p;if(y===1&&l[g-1]===0)c+=1,A-=1;else if(y>=1&&l[g+1]===0)c+=1,A+=1,y>1&&(d=y);else{y!==1&&(d=Math.abs(y));continue}const E=[p,h],x=A===p+1,O={isHole:x,points:E,id:c,parent:0};f.push(O);let T;for(const q of f)if(q.id===d){T=q;break}T?T.isHole?O.parent=x?T.parent:d:O.parent=x?d:T.parent:O.parent=x?d:0;const P=this.#n(l,t,h,p,S,A,0);if(P===-1){l[g]=-c,l[g]!==1&&(d=Math.abs(l[g]));continue}let M=this.#i[2*P],_=this.#i[2*P+1];const L=h+M,B=p+_;S=L,A=B;let F=h,X=p;for(;;){const q=this.#a(l,t,F,X,S,A,1);M=this.#i[2*q],_=this.#i[2*q+1];const $=F+M,se=X+_;E.push(se,$);const re=F*t+X;if(l[re+1]===0?l[re]=-c:l[re]===1&&(l[re]=c),$===h&&se===p&&F===L&&X===B){l[g]!==1&&(d=Math.abs(l[g]));break}else S=F,A=X,F=$,X=se}}}return f}static#r(e,t,i,r){if(i-t<=4){for(let L=t;L<i-2;L+=2)r.push(e[L],e[L+1]);return}const s=e[t],l=e[t+1],c=e[i-4]-s,d=e[i-3]-l,f=Math.hypot(c,d),h=c/f,p=d/f,g=h*l-p*s,y=d/c,S=1/f,A=Math.atan(y),E=Math.cos(A),x=Math.sin(A),O=S*(Math.abs(E)+Math.abs(x)),T=S*(1-O+O**2),P=Math.max(Math.atan(Math.abs(x+E)*T),Math.atan(Math.abs(x-E)*T));let M=0,_=t;for(let L=t+2;L<i-2;L+=2){const B=Math.abs(g-h*e[L+1]+p*e[L]);B>M&&(_=L,M=B)}M>(f*P)**2?(this.#r(e,t,_+2,r),this.#r(e,_,i,r)):r.push(s,l)}static#o(e){const t=[],i=e.length;return this.#r(e,0,i,t),t.push(e[i-2],e[i-1]),t.length<=4?null:t}static#c(e,t,i,r,s,l){const c=new Float32Array(l**2),d=-2*r**2,f=l>>1;for(let A=0;A<l;A++){const E=(A-f)**2;for(let x=0;x<l;x++)c[A*l+x]=Math.exp((E+(x-f)**2)/d)}const h=new Float32Array(256),p=-2*s**2;for(let A=0;A<256;A++)h[A]=Math.exp(A**2/p);const g=e.length,y=new Uint8Array(g),S=new Uint32Array(256);for(let A=0;A<i;A++)for(let E=0;E<t;E++){const x=A*t+E,O=e[x];let T=0,P=0;for(let _=0;_<l;_++){const L=A+_-f;if(!(L<0||L>=i))for(let B=0;B<l;B++){const F=E+B-f;if(F<0||F>=t)continue;const X=e[L*t+F],q=c[_*l+B]*h[Math.abs(X-O)];T+=X*q,P+=q}}const M=y[x]=Math.round(T/P);S[M]++}return[y,S]}static#l(e){const t=new Uint32Array(256);for(const i of e)t[i]++;return t}static#f(e){const t=e.length,i=new Uint8ClampedArray(t>>2);let r=-1/0,s=1/0;for(let c=0,d=i.length;c<d;c++){const f=i[c]=e[c<<2];r=Math.max(r,f),s=Math.min(s,f)}const l=255/(r-s);for(let c=0,d=i.length;c<d;c++)i[c]=(i[c]-s)*l;return i}static#d(e){let t,i=-1/0,r=-1/0;const s=e.findIndex(d=>d!==0);let l=s,c=s;for(t=s;t<256;t++){const d=e[t];d>i&&(t-l>r&&(r=t-l,c=t-1),i=d,l=t)}for(t=c-1;t>=0&&!(e[t]>e[t+1]);t--);return t}static#h(e){const t=e,{width:i,height:r}=e,{maxDim:s}=this.#e;let l=i,c=r;if(i>s||r>s){let g=i,y=r,S=Math.log2(Math.max(i,r)/s);const A=Math.floor(S);S=S===A?A-1:A;for(let x=0;x<S;x++){l=Math.ceil(g/2),c=Math.ceil(y/2);const O=new OffscreenCanvas(l,c);O.getContext("2d").drawImage(e,0,0,g,y,0,0,l,c),g=l,y=c,e!==t&&e.close(),e=O.transferToImageBitmap()}const E=Math.min(s/l,s/c);l=Math.round(l*E),c=Math.round(c*E)}const f=new OffscreenCanvas(l,c).getContext("2d",{willReadFrequently:!0});f.fillStyle="white",f.fillRect(0,0,l,c),f.filter="grayscale(1)",f.drawImage(e,0,0,e.width,e.height,0,0,l,c);const h=f.getImageData(0,0,l,c).data;return[this.#f(h),l,c]}static extractContoursFromText(e,{fontFamily:t,fontStyle:i,fontWeight:r},s,l,c,d){let f=new OffscreenCanvas(1,1),h=f.getContext("2d",{alpha:!1});const p=200,g=h.font=`${i} ${r} ${p}px ${t}`,{actualBoundingBoxLeft:y,actualBoundingBoxRight:S,actualBoundingBoxAscent:A,actualBoundingBoxDescent:E,fontBoundingBoxAscent:x,fontBoundingBoxDescent:O,width:T}=h.measureText(e),P=1.5,M=Math.ceil(Math.max(Math.abs(y)+Math.abs(S)||0,T)*P),_=Math.ceil(Math.max(Math.abs(A)+Math.abs(E)||p,Math.abs(x)+Math.abs(O)||p)*P);f=new OffscreenCanvas(M,_),h=f.getContext("2d",{alpha:!0,willReadFrequently:!0}),h.font=g,h.filter="grayscale(1)",h.fillStyle="white",h.fillRect(0,0,M,_),h.fillStyle="black",h.fillText(e,M*(P-1)/2,_*(3-P)/2);const L=this.#f(h.getImageData(0,0,M,_).data),B=this.#l(L),F=this.#d(B),X=this.#s(L,M,_,F);return this.processDrawnLines({lines:{curves:X,width:M,height:_},pageWidth:s,pageHeight:l,rotation:c,innerMargin:d,mustSmooth:!0,areContours:!0})}static process(e,t,i,r,s){const[l,c,d]=this.#h(e),[f,h]=this.#c(l,c,d,Math.hypot(c,d)*this.#e.sigmaSFactor,this.#e.sigmaR,this.#e.kernelSize),p=this.#d(h),g=this.#s(f,c,d,p);return this.processDrawnLines({lines:{curves:g,width:c,height:d},pageWidth:t,pageHeight:i,rotation:r,innerMargin:s,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:i,rotation:r,innerMargin:s,mustSmooth:l,areContours:c}){r%180!==0&&([t,i]=[i,t]);const{curves:d,width:f,height:h}=e,p=e.thickness??0,g=[],y=Math.min(t/f,i/h),S=y/t,A=y/i,E=[];for(const{points:O}of d){const T=l?this.#o(O):O;if(!T)continue;E.push(T);const P=T.length,M=new Float32Array(P),_=new Float32Array(3*(P===2?2:P-2));if(g.push({line:_,points:M}),P===2){M[0]=T[0]*S,M[1]=T[1]*A,_.set([NaN,NaN,NaN,NaN,M[0],M[1]],0);continue}let[L,B,F,X]=T;L*=S,B*=A,F*=S,X*=A,M.set([L,B,F,X],0),_.set([NaN,NaN,NaN,NaN,L,B],0);for(let q=4;q<P;q+=2){const $=M[q]=T[q]*S,se=M[q+1]=T[q+1]*A;_.set(fe.createBezierPoints(L,B,F,X,$,se),(q-2)*3),[L,B,F,X]=[F,X,$,se]}}if(g.length===0)return null;const x=c?new Jy:new uu;return x.build(g,t,i,1,r,c?0:p,s),{outline:x,newCurves:E,areContours:c,thickness:p,width:f,height:h}}static async compressSignature({outlines:e,areContours:t,thickness:i,width:r,height:s}){let l=1/0,c=-1/0,d=0;for(const T of e){d+=T.length;for(let P=2,M=T.length;P<M;P++){const _=T[P]-T[P-2];l=Math.min(l,_),c=Math.max(c,_)}}let f;l>=-128&&c<=127?f=Int8Array:l>=-32768&&c<=32767?f=Int16Array:f=Int32Array;const h=e.length,p=tf+Ac*h,g=new Uint32Array(p);let y=0;g[y++]=p*Uint32Array.BYTES_PER_ELEMENT+(d-2*h)*f.BYTES_PER_ELEMENT,g[y++]=0,g[y++]=r,g[y++]=s,g[y++]=t?0:1,g[y++]=Math.max(0,Math.floor(i??0)),g[y++]=h,g[y++]=f.BYTES_PER_ELEMENT;for(const T of e)g[y++]=T.length-2,g[y++]=T[0],g[y++]=T[1];const S=new CompressionStream("deflate-raw"),A=S.writable.getWriter();await A.ready,A.write(g);const E=f.prototype.constructor;for(const T of e){const P=new E(T.length-2);for(let M=2,_=T.length;M<_;M++)P[M-2]=T[M]-T[M-2];A.write(P)}A.close();const x=await new Response(S.readable).arrayBuffer();return new Uint8Array(x).toBase64()}static async decompressSignature(e){try{const t=Uint8Array.fromBase64(e),{readable:i,writable:r}=new DecompressionStream("deflate-raw"),s=r.getWriter();await s.ready,s.write(t).then(async()=>{await s.ready,await s.close()}).catch(()=>{});let l=null,c=0;for await(const T of i)l||=new Uint8Array(new Uint32Array(T.buffer,0,4)[0]),l.set(T,c),c+=T.length;const d=new Uint32Array(l.buffer,0,l.length>>2),f=d[1];if(f!==0)throw new Error(`Invalid version: ${f}`);const h=d[2],p=d[3],g=d[4]===0,y=d[5],S=d[6],A=d[7],E=[],x=(tf+Ac*S)*Uint32Array.BYTES_PER_ELEMENT;let O;switch(A){case Int8Array.BYTES_PER_ELEMENT:O=new Int8Array(l.buffer,x);break;case Int16Array.BYTES_PER_ELEMENT:O=new Int16Array(l.buffer,x);break;case Int32Array.BYTES_PER_ELEMENT:O=new Int32Array(l.buffer,x);break}c=0;for(let T=0;T<S;T++){const P=d[Ac*T+tf],M=new Float32Array(P+2);E.push(M);for(let _=0;_<Ac-1;_++)M[_]=d[Ac*T+tf+_+1];for(let _=0;_<P;_++)M[_+2]=M[_]+O[c++]}return{areContours:g,thickness:y,outlines:E,width:h,height:p}}catch(t){return we(`decompressSignature: ${t}`),null}}}class mb extends O2{constructor(){super(),super.updateProperties({fill:Se._defaultLineColor,"stroke-width":0})}clone(){const e=new mb;return e.updateAll(this),e}}class gb extends Bh{constructor(e){super(e),super.updateProperties({stroke:Se._defaultLineColor,"stroke-width":1})}clone(){const e=new gb(this._viewParameters);return e.updateAll(this),e}}class tr extends qe{#e=!1;#t=null;#i=null;#n=null;static _type="signature";static _editorType=Me.SIGNATURE;static _defaultDrawingOptions=null;constructor(e){super({...e,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#i=e.signatureData||null,this.#t=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(e,t){Se.initialize(e,t),this._defaultDrawingOptions=new mb,this._defaultDrawnSignatureOptions=new gb(t.viewParameters)}static getDefaultDrawingOptions(e){const t=this._defaultDrawingOptions.clone();return t.updateProperties(e),t}static get supportMultipleDrawings(){return!1}static get typesMap(){return Ce(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#t}}static computeTelemetryFinalData(e){const t=e.get("hasDescription");return{hasAltText:t.get(!0)??0,hasNoAltText:t.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let e,t;const{_isCopy:i}=this;if(i&&(this._isCopy=!1,e=this.x,t=this.y),super.render(),this._drawId===null)if(this.#i){const{lines:r,mustSmooth:s,areContours:l,description:c,uuid:d,heightInPage:f}=this.#i,{rawDims:{pageWidth:h,pageHeight:p},rotation:g}=this.parent.viewport,y=Fo.processDrawnLines({lines:r,pageWidth:h,pageHeight:p,rotation:g,innerMargin:tr._INNER_MARGIN,mustSmooth:s,areContours:l});this.addSignature(y,f,c,d)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:this.#t||""}));return i&&(this._isCopy=!0,this._moveAfterPaste(e,t)),this.div}setUuid(e){this.#n=e,this.addEditToolbar()}getUuid(){return this.#n}get description(){return this.#t}set description(e){this.#t=e,this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:e})),super.addEditToolbar().then(t=>{t?.updateEditSignatureButton(e)}))}getSignaturePreview(){const{newCurves:e,areContours:t,thickness:i,width:r,height:s}=this.#i,l=Math.max(r,s),c=Fo.processDrawnLines({lines:{curves:e.map(d=>({points:d})),thickness:i,width:r,height:s},pageWidth:l,pageHeight:l,rotation:0,innerMargin:0,mustSmooth:!1,areContours:t});return{areContours:t,outline:c.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(e,t,i,r){const{x:s,y:l}=this,{outline:c}=this.#i=e;this.#e=c instanceof Jy,this.description=i;let d;this.#e?d=tr.getDefaultDrawingOptions():(d=tr._defaultDrawnSignatureOptions.clone(),d.updateProperties({"stroke-width":c.thickness})),this._addOutlines({drawOutlines:c,drawingOptions:d});const[,f]=this.pageDimensions;let h=t/f;h=h>=1?.5:h,this.width*=h/this.height,this.width>=1&&(h*=.9/this.width,this.width=.9),this.height=h,this.setDims(),this.x=s,this.y=l,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(r),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!r,hasDescription:!!i}}),this.div.hidden=!1}getFromImage(e){const{rawDims:{pageWidth:t,pageHeight:i},rotation:r}=this.parent.viewport;return Fo.process(e,t,i,r,tr._INNER_MARGIN)}getFromText(e,t){const{rawDims:{pageWidth:i,pageHeight:r},rotation:s}=this.parent.viewport;return Fo.extractContoursFromText(e,t,i,r,s,tr._INNER_MARGIN)}getDrawnSignature(e){const{rawDims:{pageWidth:t,pageHeight:i},rotation:r}=this.parent.viewport;return Fo.processDrawnLines({lines:e,pageWidth:t,pageHeight:i,rotation:r,innerMargin:tr._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:e,thickness:t}){e?this._drawingOptions=tr.getDefaultDrawingOptions():(this._drawingOptions=tr._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":t}))}serialize(e=!1){if(this.isEmpty())return null;const{lines:t,points:i}=this.serializeDraw(e),{_drawingOptions:{"stroke-width":r}}=this,s=Object.assign(super.serialize(e),{isSignature:!0,areContours:this.#e,color:[0,0,0],thickness:this.#e?0:r});return this.addComment(s),e?(s.paths={lines:t,points:i},s.uuid=this.#n,s.isCopy=!0):s.lines=t,this.#t&&(s.accessibilityData={type:"Figure",alt:this.#t}),s}static deserializeDraw(e,t,i,r,s,l){return l.areContours?Jy.deserialize(e,t,i,r,s,l):uu.deserialize(e,t,i,r,s,l)}static async deserialize(e,t,i){const r=await super.deserialize(e,t,i);return r.#e=e.areContours,r.description=e.accessibilityData?.alt||"",r.#n=e.uuid,r}}class Wj extends Se{#e=null;#t=null;#i=null;#n=null;#a=null;#s="";#r=null;#o=!1;#c=null;#l=!1;#f=!1;static _type="stamp";static _editorType=Me.STAMP;constructor(e){super({...e,name:"stampEditor"}),this.#n=e.bitmapUrl,this.#a=e.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(e,t){Se.initialize(e,t)}static isHandlingMimeForPasting(e){return $y.includes(e)}static paste(e,t){t.pasteEditor({mode:Me.STAMP},{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(e){const t=e.get("hasAltText");return{hasAltText:t.get(!0)??0,hasNoAltText:t.get(!1)??0}}#d(e,t=!1){if(!e){this.remove();return}this.#e=e.bitmap,t||(this.#t=e.id,this.#l=e.isSvg),e.file&&(this.#s=e.file.name),this.#m()}#h(){if(this.#i=null,this._uiManager.enableWaiting(!1),!!this.#r){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(e=null,t=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:r,width:s,height:l}=e||this.copyCanvas(null,null,!0).imageData,c=await i.guess({name:"altText",request:{data:r,width:s,height:l,channels:r.length/(s*l)}});if(!c)throw new Error("No response from the AI service.");if(c.error)throw new Error("Error from the AI service.");if(c.cancel)return null;if(!c.output)throw new Error("No valid response from the AI service.");const d=c.output;return await this.setGuessedAltText(d),t&&!this.hasAltTextData()&&(this.altTextData={alt:d,decorative:!1}),d}#g(){if(this.#t){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#t).then(i=>this.#d(i,!0)).finally(()=>this.#h());return}if(this.#n){const i=this.#n;this.#n=null,this._uiManager.enableWaiting(!0),this.#i=this._uiManager.imageManager.getFromUrl(i).then(r=>this.#d(r)).finally(()=>this.#h());return}if(this.#a){const i=this.#a;this.#a=null,this._uiManager.enableWaiting(!0),this.#i=this._uiManager.imageManager.getFromFile(i).then(r=>this.#d(r)).finally(()=>this.#h());return}const e=document.createElement("input");e.type="file",e.accept=$y.join(",");const t=this._uiManager._signal;this.#i=new Promise(i=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const r=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#d(r)}i()},{signal:t}),e.addEventListener("cancel",()=>{this.remove(),i()},{signal:t})}).finally(()=>this.#h()),e.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#r?.remove(),this.#r=null,this.#c&&(clearTimeout(this.#c),this.#c=null)),super.remove()}rebuild(){if(!this.parent){this.#t&&this.#g();return}super.rebuild(),this.div!==null&&(this.#t&&this.#r===null&&this.#g(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(e){this._isDraggable=!0,e&&this.div.focus()}isEmpty(){return!(this.#i||this.#e||this.#n||this.#a||this.#t||this.#o)}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let e,t;return this._isCopy&&(e=this.x,t=this.y),super.render(),this.div.hidden=!0,this.createAltText(),this.#o||(this.#e?this.#m():this.#g()),this._isCopy&&this._moveAfterPaste(e,t),this._uiManager.addShouldRescale(this),this.div}setCanvas(e,t){const{id:i,bitmap:r}=this._uiManager.imageManager.getFromCanvas(e,t);t.remove(),i&&this._uiManager.imageManager.isValidId(i)&&(this.#t=i,r&&(this.#e=r),this.#o=!1,this.#m())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#c!==null&&clearTimeout(this.#c);const e=200;this.#c=setTimeout(()=>{this.#c=null,this.#p()},e)}#m(){const{div:e}=this;let{width:t,height:i}=this.#e;const[r,s]=this.pageDimensions,l=.75;if(this.width)t=this.width*r,i=this.height*s;else if(t>l*r||i>l*s){const d=Math.min(l*r/t,l*s/i);t*=d,i*=d}this._uiManager.enableWaiting(!1);const c=this.#r=document.createElement("canvas");c.setAttribute("role","img"),this.addContainer(c),this.width=t/r,this.height=i/s,this.setDims(),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),this.#p(),this.#f||(this.parent.addUndoableEditor(this),this.#f=!0),this._reportTelemetry({action:"inserted_image"}),this.#s&&this.div.setAttribute("aria-description",this.#s),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}copyCanvas(e,t,i=!1){e||(e=224);const{width:r,height:s}=this.#e,l=new or;let c=this.#e,d=r,f=s,h=null;if(t){if(r>t||s>t){const _=Math.min(t/r,t/s);d=Math.floor(r*_),f=Math.floor(s*_)}h=document.createElement("canvas");const g=h.width=Math.ceil(d*l.sx),y=h.height=Math.ceil(f*l.sy);this.#l||(c=this.#u(g,y));const S=h.getContext("2d");S.filter=this._uiManager.hcmFilter;let A="white",E="#cfcfd8";this._uiManager.hcmFilter!=="none"?E="black":vB.isDarkMode&&(A="#8f8f9d",E="#42414d");const x=15,O=x*l.sx,T=x*l.sy,P=new OffscreenCanvas(O*2,T*2),M=P.getContext("2d");M.fillStyle=A,M.fillRect(0,0,O*2,T*2),M.fillStyle=E,M.fillRect(0,0,O,T),M.fillRect(O,T,O,T),S.fillStyle=S.createPattern(P,"repeat"),S.fillRect(0,0,g,y),S.drawImage(c,0,0,c.width,c.height,0,0,g,y)}let p=null;if(i){let g,y;if(l.symmetric&&c.width<e&&c.height<e)g=c.width,y=c.height;else if(c=this.#e,r>e||s>e){const E=Math.min(e/r,e/s);g=Math.floor(r*E),y=Math.floor(s*E),this.#l||(c=this.#u(g,y))}const A=new OffscreenCanvas(g,y).getContext("2d",{willReadFrequently:!0});A.drawImage(c,0,0,c.width,c.height,0,0,g,y),p={width:g,height:y,data:A.getImageData(0,0,g,y).data}}return{canvas:h,width:d,height:f,imageData:p}}#u(e,t){const{width:i,height:r}=this.#e;let s=i,l=r,c=this.#e;for(;s>2*e||l>2*t;){const d=s,f=l;s>2*e&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2)),l>2*t&&(l=l>=16384?Math.floor(l/2)-1:Math.ceil(l/2));const h=new OffscreenCanvas(s,l);h.getContext("2d").drawImage(c,0,0,d,f,0,0,s,l),c=h.transferToImageBitmap()}return c}#p(){const[e,t]=this.parentDimensions,{width:i,height:r}=this,s=new or,l=Math.ceil(i*e*s.sx),c=Math.ceil(r*t*s.sy),d=this.#r;if(!d||d.width===l&&d.height===c)return;d.width=l,d.height=c;const f=this.#l?this.#e:this.#u(l,c),h=d.getContext("2d");h.filter=this._uiManager.hcmFilter,h.drawImage(f,0,0,f.width,f.height,0,0,l,c)}#v(e){if(e){if(this.#l){const r=this._uiManager.imageManager.getSvgUrl(this.#t);if(r)return r}const t=document.createElement("canvas");return{width:t.width,height:t.height}=this.#e,t.getContext("2d").drawImage(this.#e,0,0),t.toDataURL()}if(this.#l){const[t,i]=this.pageDimensions,r=Math.round(this.width*t*el.PDF_TO_CSS_UNITS),s=Math.round(this.height*i*el.PDF_TO_CSS_UNITS),l=new OffscreenCanvas(r,s);return l.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,r,s),l.transferToImageBitmap()}return structuredClone(this.#e)}static async deserialize(e,t,i){let r=null,s=!1;if(e instanceof w2){const{data:{rect:A,rotation:E,id:x,structParent:O,popupRef:T,richText:P,contentsObj:M,creationDate:_,modificationDate:L},container:B,parent:{page:{pageNumber:F}},canvas:X}=e;let q,$;X?(delete e.canvas,{id:q,bitmap:$}=i.imageManager.getFromCanvas(B.id,X),X.remove()):(s=!0,e._hasNoCanvas=!0);const se=(await t._structTree.getAriaAttributes(`${Ho}${x}`))?.get("aria-label")||"";r=e={annotationType:Me.STAMP,bitmapId:q,bitmap:$,pageIndex:F-1,rect:A.slice(0),rotation:E,annotationElementId:x,id:x,deleted:!1,accessibilityData:{decorative:!1,altText:se},isSvg:!1,structParent:O,popupRef:T,richText:P,comment:M?.str||null,creationDate:_,modificationDate:L}}const l=await super.deserialize(e,t,i),{rect:c,bitmap:d,bitmapUrl:f,bitmapId:h,isSvg:p,accessibilityData:g}=e;s?(i.addMissingCanvas(e.id,l),l.#o=!0):h&&i.imageManager.isValidId(h)?(l.#t=h,d&&(l.#e=d)):l.#n=f,l.#l=p;const[y,S]=l.pageDimensions;return l.width=(c[2]-c[0])/y,l.height=(c[3]-c[1])/S,g&&(l.altTextData=g),l._initialData=r,e.comment&&l.setCommentData(e),l.#f=!!r,l}serialize(e=!1,t=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=Object.assign(super.serialize(e),{bitmapId:this.#t,isSvg:this.#l});if(this.addComment(i),e)return i.bitmapUrl=this.#v(!0),i.accessibilityData=this.serializeAltText(!0),i.isCopy=!0,i;const{decorative:r,altText:s}=this.serializeAltText(!1);if(!r&&s&&(i.accessibilityData={type:"Figure",alt:s}),this.annotationElementId){const c=this.#b(i);return c.isSame?null:(c.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1,i.id=this.annotationElementId,delete i.bitmapId,i)}if(t===null)return i;t.stamps||=new Map;const l=this.#l?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!t.stamps.has(this.#t))t.stamps.set(this.#t,{area:l,serialized:i}),i.bitmap=this.#v(!1);else if(this.#l){const c=t.stamps.get(this.#t);l>c.area&&(c.area=l,c.serialized.bitmap.close(),c.serialized.bitmap=this.#v(!1))}return i}#b(e){const{pageIndex:t,accessibilityData:{altText:i}}=this._initialData,r=e.pageIndex===t,s=(e.accessibilityData?.alt||"")===i;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&r&&s,isSameAltText:s}}renderAnnotationElement(e){return this.deleted?(e.hide(),null):(e.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}class kr{#e;#t=!1;#i=null;#n=null;#a=null;#s=new Map;#r=!1;#o=!1;#c=!1;#l=null;#f=null;#d=null;#h=null;#g=null;#m=-1;#u;static _initialized=!1;static#p=new Map([Qt,pb,Wj,Dt,tr].map(e=>[e._editorType,e]));constructor({uiManager:e,pageIndex:t,div:i,structTreeLayer:r,accessibilityManager:s,annotationLayer:l,drawLayer:c,textLayer:d,viewport:f,l10n:h}){const p=[...kr.#p.values()];if(!kr._initialized){kr._initialized=!0;for(const g of p)g.initialize(h,e)}e.registerEditorTypes(p),this.#u=e,this.pageIndex=t,this.div=i,this.#e=s,this.#i=l,this.viewport=f,this.#d=d,this.drawLayer=c,this._structTree=r,this.#u.addLayer(this)}updatePageIndex(e){this.pageIndex=e}get isEmpty(){return this.#s.size===0}get isInvisible(){return this.isEmpty&&this.#u.getMode()===Me.NONE}updateToolbar(e){this.#u.updateToolbar(e)}updateMode(e=this.#u.getMode()){switch(this.#S(),e){case Me.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Me.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Me.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;if(t.toggle("nonEditing",!1),e===Me.POPUP)t.toggle("commentEditing",!0);else{t.toggle("commentEditing",!1);for(const i of kr.#p.values())t.toggle(`${i._type}Editing`,e===i._editorType)}this.div.hidden=!1}hasTextLayer(e){return e===this.#d?.div}setEditingState(e){this.#u.setEditingState(e)}addCommands(e){this.#u.addCommands(e)}cleanUndoStack(e){this.#u.cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){this.#i?.togglePointerEvents(e)}get#v(){return this.#s.size!==0?this.#s.values():this.#u.getEditors(this.pageIndex)}async enable(){this.#c=!0,this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),this.#g?.abort(),this.#g=null;const e=new Set;for(const i of this.#v)i.enableEditing(),i.show(!0),i.annotationElementId&&(this.#u.removeChangedExistingAnnotation(i),e.add(i.annotationElementId));const t=this.#i;if(t)for(const i of t.getEditableAnnotations()){if(i.hide(),this.#u.isDeletedAnnotationElement(i.data.id)||e.has(i.data.id))continue;const r=await this.deserialize(i);r&&(this.addOrRebuild(r),r.enableEditing())}this.#c=!1,this.#u._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){if(this.#o=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),this.#d&&!this.#g){this.#g=new AbortController;const r=this.#u.combinedSignal(this.#g);this.#d.div.addEventListener("pointerdown",s=>{const{clientX:c,clientY:d,timeStamp:f}=s,h=this.#m;if(f-h>500){this.#m=f;return}this.#m=-1;const{classList:p}=this.div;p.toggle("getElements",!0);const g=document.elementsFromPoint(c,d);if(p.toggle("getElements",!1),!this.div.contains(g[0]))return;let y;const S=new RegExp(`^${zc}[0-9]+$`);for(const E of g)if(S.test(E.id)){y=E.id;break}if(!y)return;const A=this.#s.get(y);A?.annotationElementId===null&&(s.stopPropagation(),s.preventDefault(),A.dblclick(s))},{signal:r,capture:!0})}const e=this.#i,t=[];if(e){const r=new Map,s=new Map;for(const c of this.#v){if(c.disableEditing(),!c.annotationElementId){t.push(c);continue}if(c.serialize()!==null){r.set(c.annotationElementId,c);continue}else s.set(c.annotationElementId,c);this.getEditableAnnotation(c.annotationElementId)?.show(),c.remove()}const l=e.getEditableAnnotations();for(const c of l){const{id:d}=c.data;if(this.#u.isDeletedAnnotationElement(d)){c.updateEdited({deleted:!0});continue}let f=s.get(d);if(f){f.resetAnnotationElement(c),f.show(!1),c.show();continue}f=r.get(d),f&&(this.#u.addChangedExistingAnnotation(f),f.renderAnnotationElement(c)&&f.show(!1)),c.show()}}this.#S(),this.isEmpty&&(this.div.hidden=!0);const{classList:i}=this.div;for(const r of kr.#p.values())i.remove(`${r._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),e?.updateFakeAnnotations(t),this.#o=!1}getEditableAnnotation(e){return this.#i?.getEditableAnnotation(e)||null}setActiveEditor(e){this.#u.getActive()!==e&&this.#u.setActiveEditor(e)}enableTextSelection(){if(this.div.tabIndex=-1,this.#d?.div&&!this.#h){this.#h=new AbortController;const e=this.#u.combinedSignal(this.#h);this.#d.div.addEventListener("pointerdown",this.#b.bind(this),{signal:e}),this.#d.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#d?.div&&this.#h&&(this.#h.abort(),this.#h=null,this.#d.div.classList.remove("highlighting"))}#b(e){this.#u.unselectAll();const{target:t}=e;if(t===this.#d.div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&this.#d.div.contains(t)){const{isMac:i}=Gt.platform;if(e.button!==0||e.ctrlKey&&i)return;this.#u.showAllEditors("highlight",!0,!0),this.#d.div.classList.add("free"),this.toggleDrawing(),Dt.startHighlighting(this,this.#u.direction==="ltr",{target:this.#d.div,x:e.x,y:e.y}),this.#d.div.addEventListener("pointerup",()=>{this.#d.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#u._signal}),e.preventDefault()}}enableClick(){if(this.#n)return;this.#n=new AbortController;const e=this.#u.combinedSignal(this.#n);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){this.#n?.abort(),this.#n=null}attach(e){this.#s.set(e.id,e);const{annotationElementId:t}=e;t&&this.#u.isDeletedAnnotationElement(t)&&this.#u.removeDeletedAnnotationElement(e)}detach(e){this.#s.delete(e.id),this.#e?.removePointerInTextLayer(e.contentDiv),!this.#o&&e.annotationElementId&&this.#u.addDeletedAnnotationElement(e)}remove(e){this.detach(e),this.#u.removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){e.parent!==this&&(e.parent&&e.annotationElementId&&(this.#u.addDeletedAnnotationElement(e),Se.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),e.parent?.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),this.#u.addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!this.#c),this.#u.addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!this.#a&&(e._focusEventsAllowed=!1,this.#a=setTimeout(()=>{this.#a=null,e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this.#u._signal}),t.focus())},0)),e._structTreeParentId=this.#e?.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||=this,e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),i=()=>{e.remove()};this.addCommands({cmd:t,undo:i,mustExec:!1})}getEditorByUID(e){for(const t of this.#s.values())if(t.uid===e)return t;return null}getNextId(){return this.#u.getId()}get#y(){return kr.#p.get(this.#u.getMode())}combinedSignal(e){return this.#u.combinedSignal(e)}#C(e){const t=this.#y;return t?new t.prototype.constructor(e):null}canCreateNewEmptyEditor(){return this.#y?.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await this.#u.updateMode(e.mode);const{offsetX:i,offsetY:r}=this.#x(),s=this.getNextId(),l=this.#C({parent:this,id:s,x:i,y:r,uiManager:this.#u,isCentered:!0,...t});l&&this.add(l)}async deserialize(e){return await kr.#p.get(e.annotationType??e.annotationEditorType)?.deserialize(e,this,this.#u)||null}createAndAddNewEditor(e,t,i={}){const r=this.getNextId(),s=this.#C({parent:this,id:r,x:e.offsetX,y:e.offsetY,uiManager:this.#u,isCentered:t,...i});return s&&this.add(s),s}get boundingClientRect(){return this.div.getBoundingClientRect()}#x(){const{x:e,y:t,width:i,height:r}=this.boundingClientRect,s=Math.max(0,e),l=Math.max(0,t),c=Math.min(window.innerWidth,e+i),d=Math.min(window.innerHeight,t+r),f=(s+c)/2-e,h=(l+d)/2-t,[p,g]=this.viewport.rotation%180===0?[f,h]:[h,f];return{offsetX:p,offsetY:g}}addNewEditor(e={}){this.createAndAddNewEditor(this.#x(),!0,e)}setSelected(e){this.#u.setSelected(e)}toggleSelected(e){this.#u.toggleSelected(e)}unselect(e){this.#u.unselect(e)}pointerup(e){const{isMac:t}=Gt.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div||!this.#r||(this.#r=!1,this.#y?.isDrawer&&this.#y.supportMultipleDrawings))return;if(!this.#t){this.#t=!0;return}const i=this.#u.getMode();if(i===Me.STAMP||i===Me.SIGNATURE){this.#u.unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){if(this.#u.getMode()===Me.HIGHLIGHT&&this.enableTextSelection(),this.#r){this.#r=!1;return}const{isMac:t}=Gt.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(this.#r=!0,this.#y?.isDrawer){this.startDrawingSession(e);return}const i=this.#u.getActive();this.#t=!i||i.isEmpty()}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),this.#l){this.#y.startDrawing(this,this.#u,!1,e);return}this.#u.setCurrentDrawingSession(this),this.#l=new AbortController;const t=this.#u.combinedSignal(this.#l);this.div.addEventListener("blur",({relatedTarget:i})=>{i&&!this.div.contains(i)&&(this.#f=null,this.commitOrRemove())},{signal:t}),this.#y.startDrawing(this,this.#u,!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&(this.#f=t);return}this.#f&&setTimeout(()=>{this.#f?.focus(),this.#f=null},0)}endDrawingSession(e=!1){return this.#l?(this.#u.setCurrentDrawingSession(null),this.#l.abort(),this.#l=null,this.#f=null,this.#y.endDrawing(e)):null}findNewParent(e,t,i){const r=this.#u.findParent(t,i);return r===null||r===this?!1:(r.changeParent(e),!0)}commitOrRemove(){return this.#l?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#l&&this.#y.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#u.getActive()?.parent===this&&(this.#u.commitOrRemove(),this.#u.setActiveEditor(null)),this.#a&&(clearTimeout(this.#a),this.#a=null);for(const e of this.#s.values())this.#e?.removePointerInTextLayer(e.contentDiv),e.setParent(null),e.isAttachedToDOM=!1,e.div.remove();this.div=null,this.#s.clear(),this.#u.removeLayer(this)}#S(){for(const e of this.#s.values())e.isEmpty()&&e.remove()}render({viewport:e}){this.viewport=e,_s(this.div,e);for(const t of this.#u.getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){this.#u.commitOrRemove(),this.#S();const t=this.viewport.rotation,i=e.rotation;if(this.viewport=e,_s(this.div,{rotation:i}),t!==i)for(const r of this.#s.values())r.rotate(i)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return this.#u.viewParameters.realScale}}class hn{#e=null;#t=new Map;#i=new Map;static#n=0;setParent(e){if(!this.#e){this.#e=e;return}if(this.#e!==e){if(this.#t.size>0)for(const t of this.#t.values())t.remove(),e.append(t);this.#e=e}}static get _svgFactory(){return Ce(this,"_svgFactory",new Df)}static#a(e,[t,i,r,s]){const{style:l}=e;l.top=`${100*i}%`,l.left=`${100*t}%`,l.width=`${100*r}%`,l.height=`${100*s}%`}#s(){const e=hn._svgFactory.create(1,1,!0);return this.#e.append(e),e.setAttribute("aria-hidden",!0),e}#r(e,t){const i=hn._svgFactory.createElement("clipPath");e.append(i);const r=`clip_${t}`;i.setAttribute("id",r),i.setAttribute("clipPathUnits","objectBoundingBox");const s=hn._svgFactory.createElement("use");return i.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),r}#o(e,t){for(const[i,r]of Object.entries(t))r===null?e.removeAttribute(i):e.setAttribute(i,r)}draw(e,t=!1,i=!1){const r=hn.#n++,s=this.#s(),l=hn._svgFactory.createElement("defs");s.append(l);const c=hn._svgFactory.createElement("path");l.append(c);const d=`path_${r}`;c.setAttribute("id",d),c.setAttribute("vector-effect","non-scaling-stroke"),t&&this.#i.set(r,c);const f=i?this.#r(l,d):null,h=hn._svgFactory.createElement("use");return s.append(h),h.setAttribute("href",`#${d}`),this.updateProperties(s,e),this.#t.set(r,s),{id:r,clipPathId:`url(#${f})`}}drawOutline(e,t){const i=hn.#n++,r=this.#s(),s=hn._svgFactory.createElement("defs");r.append(s);const l=hn._svgFactory.createElement("path");s.append(l);const c=`path_${i}`;l.setAttribute("id",c),l.setAttribute("vector-effect","non-scaling-stroke");let d;if(t){const p=hn._svgFactory.createElement("mask");s.append(p),d=`mask_${i}`,p.setAttribute("id",d),p.setAttribute("maskUnits","objectBoundingBox");const g=hn._svgFactory.createElement("rect");p.append(g),g.setAttribute("width","1"),g.setAttribute("height","1"),g.setAttribute("fill","white");const y=hn._svgFactory.createElement("use");p.append(y),y.setAttribute("href",`#${c}`),y.setAttribute("stroke","none"),y.setAttribute("fill","black"),y.setAttribute("fill-rule","nonzero"),y.classList.add("mask")}const f=hn._svgFactory.createElement("use");r.append(f),f.setAttribute("href",`#${c}`),d&&f.setAttribute("mask",`url(#${d})`);const h=f.cloneNode();return r.append(h),f.classList.add("mainOutline"),h.classList.add("secondaryOutline"),this.updateProperties(r,e),this.#t.set(i,r),i}finalizeDraw(e,t){this.#i.delete(e),this.updateProperties(e,t)}updateProperties(e,t){if(!t)return;const{root:i,bbox:r,rootClass:s,path:l}=t,c=typeof e=="number"?this.#t.get(e):e;if(c){if(i&&this.#o(c,i),r&&hn.#a(c,r),s){const{classList:d}=c;for(const[f,h]of Object.entries(s))d.toggle(f,h)}if(l){const f=c.firstElementChild.firstElementChild;this.#o(f,l)}}}updateParent(e,t){if(t===this)return;const i=this.#t.get(e);i&&(t.#e.append(i),this.#t.delete(e),t.#t.set(e,i))}remove(e){this.#i.delete(e),this.#e!==null&&(this.#t.get(e).remove(),this.#t.delete(e))}destroy(){this.#e=null;for(const e of this.#t.values())e.remove();this.#t.clear(),this.#i.clear()}}globalThis._pdfjsTestingUtils={HighlightOutliner:Zy};globalThis.pdfjsLib={AbortException:Ua,AnnotationEditorLayer:kr,AnnotationEditorParamsType:je,AnnotationEditorType:Me,AnnotationEditorUIManager:Ha,AnnotationLayer:hb,AnnotationMode:Ia,AnnotationType:jt,applyOpacity:bB,build:Oj,ColorPicker:Ti,createValidAbsoluteUrl:V_,CSSConstants:yB,DOMSVGFactory:Df,DrawLayer:hn,FeatureTest:Gt,fetchData:su,findContrastColor:AB,getDocument:g2,getFilenameFromUrl:fB,getPdfFilenameFromUrl:hB,getRGB:lu,getUuid:X_,getXfaPageViewport:mB,GlobalWorkerOptions:Wo,ImageKind:Af,InvalidPDFException:Hy,isDataScheme:Ph,isPdfFile:ib,isValidExplicitDest:DB,MathClamp:mn,noContextMenu:_i,normalizeUnicode:uB,OPS:Fc,OutputScale:or,PagesMapper:$e,PasswordResponses:eB,PDFDataRangeTransport:v2,PDFDateString:qy,PDFWorker:Hc,PermissionFlag:Jk,PixelsPerInch:el,RenderingCancelledException:nb,renderRichText:W_,ResponseException:_f,setLayerDimensions:_s,shadow:Ce,SignatureExtractor:Fo,stopEvent:Ot,SupportedImageMimeTypes:$y,TextLayer:ni,TouchManager:Dh,updateUrlHash:Y_,Util:ue,VerbosityLevel:Oh,version:Cj,XfaLayer:K_};function T2(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(e=0;e<r;e++)n[e]&&(t=T2(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function Je(){for(var n,e,t=0,i="",r=arguments.length;t<r;t++)(n=arguments[t])&&(e=T2(n))&&(i&&(i+=" "),i+=e);return i}var Zj=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function vb(n){if(typeof n!="string")return!1;var e=Zj;return e.includes(n)}var Qj=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Jj=new Set(Qj);function M2(n){return typeof n!="string"?!1:Jj.has(n)}function _2(n){return typeof n=="string"&&n.startsWith("data-")}function lr(n){if(typeof n!="object"||n===null)return{};var e={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(M2(t)||_2(t))&&(e[t]=n[t]);return e}function $c(n){if(n==null)return null;if(C.isValidElement(n)&&typeof n.props=="object"&&n.props!==null){var e=n.props;return lr(e)}return typeof n=="object"&&!Array.isArray(n)?lr(n):null}function Pi(n){var e={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(M2(t)||_2(t)||vb(t))&&(e[t]=n[t]);return e}var ez=["children","width","height","viewBox","className","style","title","desc"];function e0(){return e0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},e0.apply(null,arguments)}function tz(n,e){if(n==null)return{};var t,i,r=nz(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function nz(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var yb=C.forwardRef((n,e)=>{var{children:t,width:i,height:r,viewBox:s,className:l,style:c,title:d,desc:f}=n,h=tz(n,ez),p=s||{width:i,height:r,x:0,y:0},g=Je("recharts-surface",l);return C.createElement("svg",e0({},Pi(h),{className:g,width:i,height:r,style:c,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:e}),C.createElement("title",null,d),C.createElement("desc",null,f),t)}),iz=["children","className"];function t0(){return t0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},t0.apply(null,arguments)}function rz(n,e){if(n==null)return{};var t,i,r=az(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function az(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var Pn=C.forwardRef((n,e)=>{var{children:t,className:i}=n,r=rz(n,iz),s=Je("recharts-layer",i);return C.createElement("g",t0({className:s},Pi(r),{ref:e}),t)}),bb=G_(),P2=C.createContext(null),sz=()=>C.useContext(P2);function ot(n){return function(){return n}}const D2=Math.cos,Lf=Math.sin,qi=Math.sqrt,Nf=Math.PI,jh=2*Nf,n0=Math.PI,i0=2*n0,ms=1e-6,oz=i0-ms;function L2(n){this._+=n[0];for(let e=1,t=n.length;e<t;++e)this._+=arguments[e]+n[e]}function lz(n){let e=Math.floor(n);if(!(e>=0))throw new Error(`invalid digits: ${n}`);if(e>15)return L2;const t=10**e;return function(i){this._+=i[0];for(let r=1,s=i.length;r<s;++r)this._+=Math.round(arguments[r]*t)/t+i[r]}}class cz{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?L2:lz(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,i,r){this._append`Q${+e},${+t},${this._x1=+i},${this._y1=+r}`}bezierCurveTo(e,t,i,r,s,l){this._append`C${+e},${+t},${+i},${+r},${this._x1=+s},${this._y1=+l}`}arcTo(e,t,i,r,s){if(e=+e,t=+t,i=+i,r=+r,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,c=this._y1,d=i-e,f=r-t,h=l-e,p=c-t,g=h*h+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=t}`;else if(g>ms)if(!(Math.abs(p*d-f*h)>ms)||!s)this._append`L${this._x1=e},${this._y1=t}`;else{let y=i-l,S=r-c,A=d*d+f*f,E=y*y+S*S,x=Math.sqrt(A),O=Math.sqrt(g),T=s*Math.tan((n0-Math.acos((A+g-E)/(2*x*O)))/2),P=T/O,M=T/x;Math.abs(P-1)>ms&&this._append`L${e+P*h},${t+P*p}`,this._append`A${s},${s},0,0,${+(p*y>h*S)},${this._x1=e+M*d},${this._y1=t+M*f}`}}arc(e,t,i,r,s,l){if(e=+e,t=+t,i=+i,l=!!l,i<0)throw new Error(`negative radius: ${i}`);let c=i*Math.cos(r),d=i*Math.sin(r),f=e+c,h=t+d,p=1^l,g=l?r-s:s-r;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>ms||Math.abs(this._y1-h)>ms)&&this._append`L${f},${h}`,i&&(g<0&&(g=g%i0+i0),g>oz?this._append`A${i},${i},0,1,${p},${e-c},${t-d}A${i},${i},0,1,${p},${this._x1=f},${this._y1=h}`:g>ms&&this._append`A${i},${i},0,${+(g>=n0)},${p},${this._x1=e+i*Math.cos(s)},${this._y1=t+i*Math.sin(s)}`)}rect(e,t,i,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${i=+i}v${+r}h${-i}Z`}toString(){return this._}}function Ab(n){let e=3;return n.digits=function(t){if(!arguments.length)return e;if(t==null)e=null;else{const i=Math.floor(t);if(!(i>=0))throw new RangeError(`invalid digits: ${t}`);e=i}return n},()=>new cz(e)}function Sb(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function N2(n){this._context=n}N2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;default:this._context.lineTo(n,e);break}}};function zh(n){return new N2(n)}function R2(n){return n[0]}function I2(n){return n[1]}function k2(n,e){var t=ot(!0),i=null,r=zh,s=null,l=Ab(c);n=typeof n=="function"?n:n===void 0?R2:ot(n),e=typeof e=="function"?e:e===void 0?I2:ot(e);function c(d){var f,h=(d=Sb(d)).length,p,g=!1,y;for(i==null&&(s=r(y=l())),f=0;f<=h;++f)!(f<h&&t(p=d[f],f,d))===g&&((g=!g)?s.lineStart():s.lineEnd()),g&&s.point(+n(p,f,d),+e(p,f,d));if(y)return s=null,y+""||null}return c.x=function(d){return arguments.length?(n=typeof d=="function"?d:ot(+d),c):n},c.y=function(d){return arguments.length?(e=typeof d=="function"?d:ot(+d),c):e},c.defined=function(d){return arguments.length?(t=typeof d=="function"?d:ot(!!d),c):t},c.curve=function(d){return arguments.length?(r=d,i!=null&&(s=r(i)),c):r},c.context=function(d){return arguments.length?(d==null?i=s=null:s=r(i=d),c):i},c}function nf(n,e,t){var i=null,r=ot(!0),s=null,l=zh,c=null,d=Ab(f);n=typeof n=="function"?n:n===void 0?R2:ot(+n),e=typeof e=="function"?e:ot(e===void 0?0:+e),t=typeof t=="function"?t:t===void 0?I2:ot(+t);function f(p){var g,y,S,A=(p=Sb(p)).length,E,x=!1,O,T=new Array(A),P=new Array(A);for(s==null&&(c=l(O=d())),g=0;g<=A;++g){if(!(g<A&&r(E=p[g],g,p))===x)if(x=!x)y=g,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),S=g-1;S>=y;--S)c.point(T[S],P[S]);c.lineEnd(),c.areaEnd()}x&&(T[g]=+n(E,g,p),P[g]=+e(E,g,p),c.point(i?+i(E,g,p):T[g],t?+t(E,g,p):P[g]))}if(O)return c=null,O+""||null}function h(){return k2().defined(r).curve(l).context(s)}return f.x=function(p){return arguments.length?(n=typeof p=="function"?p:ot(+p),i=null,f):n},f.x0=function(p){return arguments.length?(n=typeof p=="function"?p:ot(+p),f):n},f.x1=function(p){return arguments.length?(i=p==null?null:typeof p=="function"?p:ot(+p),f):i},f.y=function(p){return arguments.length?(e=typeof p=="function"?p:ot(+p),t=null,f):e},f.y0=function(p){return arguments.length?(e=typeof p=="function"?p:ot(+p),f):e},f.y1=function(p){return arguments.length?(t=p==null?null:typeof p=="function"?p:ot(+p),f):t},f.lineX0=f.lineY0=function(){return h().x(n).y(e)},f.lineY1=function(){return h().x(n).y(t)},f.lineX1=function(){return h().x(i).y(e)},f.defined=function(p){return arguments.length?(r=typeof p=="function"?p:ot(!!p),f):r},f.curve=function(p){return arguments.length?(l=p,s!=null&&(c=l(s)),f):l},f.context=function(p){return arguments.length?(p==null?s=c=null:c=l(s=p),f):s},f}class B2{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t);break}}this._x0=e,this._y0=t}}function uz(n){return new B2(n,!0)}function dz(n){return new B2(n,!1)}const Eb={draw(n,e){const t=qi(e/Nf);n.moveTo(t,0),n.arc(0,0,t,0,jh)}},fz={draw(n,e){const t=qi(e/5)/2;n.moveTo(-3*t,-t),n.lineTo(-t,-t),n.lineTo(-t,-3*t),n.lineTo(t,-3*t),n.lineTo(t,-t),n.lineTo(3*t,-t),n.lineTo(3*t,t),n.lineTo(t,t),n.lineTo(t,3*t),n.lineTo(-t,3*t),n.lineTo(-t,t),n.lineTo(-3*t,t),n.closePath()}},j2=qi(1/3),hz=j2*2,pz={draw(n,e){const t=qi(e/hz),i=t*j2;n.moveTo(0,-t),n.lineTo(i,0),n.lineTo(0,t),n.lineTo(-i,0),n.closePath()}},mz={draw(n,e){const t=qi(e),i=-t/2;n.rect(i,i,t,t)}},gz=.8908130915292852,z2=Lf(Nf/10)/Lf(7*Nf/10),vz=Lf(jh/10)*z2,yz=-D2(jh/10)*z2,bz={draw(n,e){const t=qi(e*gz),i=vz*t,r=yz*t;n.moveTo(0,-t),n.lineTo(i,r);for(let s=1;s<5;++s){const l=jh*s/5,c=D2(l),d=Lf(l);n.lineTo(d*t,-c*t),n.lineTo(c*i-d*r,d*i+c*r)}n.closePath()}},ov=qi(3),Az={draw(n,e){const t=-qi(e/(ov*3));n.moveTo(0,t*2),n.lineTo(-ov*t,-t),n.lineTo(ov*t,-t),n.closePath()}},Ei=-.5,xi=qi(3)/2,r0=1/qi(12),Sz=(r0/2+1)*3,Ez={draw(n,e){const t=qi(e/Sz),i=t/2,r=t*r0,s=i,l=t*r0+t,c=-s,d=l;n.moveTo(i,r),n.lineTo(s,l),n.lineTo(c,d),n.lineTo(Ei*i-xi*r,xi*i+Ei*r),n.lineTo(Ei*s-xi*l,xi*s+Ei*l),n.lineTo(Ei*c-xi*d,xi*c+Ei*d),n.lineTo(Ei*i+xi*r,Ei*r-xi*i),n.lineTo(Ei*s+xi*l,Ei*l-xi*s),n.lineTo(Ei*c+xi*d,Ei*d-xi*c),n.closePath()}};function xz(n,e){let t=null,i=Ab(r);n=typeof n=="function"?n:ot(n||Eb),e=typeof e=="function"?e:ot(e===void 0?64:+e);function r(){let s;if(t||(t=s=i()),n.apply(this,arguments).draw(t,+e.apply(this,arguments)),s)return t=null,s+""||null}return r.type=function(s){return arguments.length?(n=typeof s=="function"?s:ot(s),r):n},r.size=function(s){return arguments.length?(e=typeof s=="function"?s:ot(+s),r):e},r.context=function(s){return arguments.length?(t=s??null,r):t},r}function Rf(){}function If(n,e,t){n._context.bezierCurveTo((2*n._x0+n._x1)/3,(2*n._y0+n._y1)/3,(n._x0+2*n._x1)/3,(n._y0+2*n._y1)/3,(n._x0+4*n._x1+e)/6,(n._y0+4*n._y1+t)/6)}function F2(n){this._context=n}F2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:If(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:If(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function wz(n){return new F2(n)}function U2(n){this._context=n}U2.prototype={areaStart:Rf,areaEnd:Rf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._x2=n,this._y2=e;break;case 1:this._point=2,this._x3=n,this._y3=e;break;case 2:this._point=3,this._x4=n,this._y4=e,this._context.moveTo((this._x0+4*this._x1+n)/6,(this._y0+4*this._y1+e)/6);break;default:If(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function Cz(n){return new U2(n)}function H2(n){this._context=n}H2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var t=(this._x0+4*this._x1+n)/6,i=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break;case 3:this._point=4;default:If(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function Oz(n){return new H2(n)}function q2(n){this._context=n}q2.prototype={areaStart:Rf,areaEnd:Rf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(n,e){n=+n,e=+e,this._point?this._context.lineTo(n,e):(this._point=1,this._context.moveTo(n,e))}};function Tz(n){return new q2(n)}function Kw(n){return n<0?-1:1}function Ww(n,e,t){var i=n._x1-n._x0,r=e-n._x1,s=(n._y1-n._y0)/(i||r<0&&-0),l=(t-n._y1)/(r||i<0&&-0),c=(s*r+l*i)/(i+r);return(Kw(s)+Kw(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(c))||0}function Zw(n,e){var t=n._x1-n._x0;return t?(3*(n._y1-n._y0)/t-e)/2:e}function lv(n,e,t){var i=n._x0,r=n._y0,s=n._x1,l=n._y1,c=(s-i)/3;n._context.bezierCurveTo(i+c,r+c*e,s-c,l-c*t,s,l)}function kf(n){this._context=n}kf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:lv(this,this._t0,Zw(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){var t=NaN;if(n=+n,e=+e,!(n===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;break;case 2:this._point=3,lv(this,Zw(this,t=Ww(this,n,e)),t);break;default:lv(this,this._t0,t=Ww(this,n,e));break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e,this._t0=t}}};function $2(n){this._context=new G2(n)}($2.prototype=Object.create(kf.prototype)).point=function(n,e){kf.prototype.point.call(this,e,n)};function G2(n){this._context=n}G2.prototype={moveTo:function(n,e){this._context.moveTo(e,n)},closePath:function(){this._context.closePath()},lineTo:function(n,e){this._context.lineTo(e,n)},bezierCurveTo:function(n,e,t,i,r,s){this._context.bezierCurveTo(e,n,i,t,s,r)}};function Mz(n){return new kf(n)}function _z(n){return new $2(n)}function V2(n){this._context=n}V2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var n=this._x,e=this._y,t=n.length;if(t)if(this._line?this._context.lineTo(n[0],e[0]):this._context.moveTo(n[0],e[0]),t===2)this._context.lineTo(n[1],e[1]);else for(var i=Qw(n),r=Qw(e),s=0,l=1;l<t;++s,++l)this._context.bezierCurveTo(i[0][s],r[0][s],i[1][s],r[1][s],n[l],e[l]);(this._line||this._line!==0&&t===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(n,e){this._x.push(+n),this._y.push(+e)}};function Qw(n){var e,t=n.length-1,i,r=new Array(t),s=new Array(t),l=new Array(t);for(r[0]=0,s[0]=2,l[0]=n[0]+2*n[1],e=1;e<t-1;++e)r[e]=1,s[e]=4,l[e]=4*n[e]+2*n[e+1];for(r[t-1]=2,s[t-1]=7,l[t-1]=8*n[t-1]+n[t],e=1;e<t;++e)i=r[e]/s[e-1],s[e]-=i,l[e]-=i*l[e-1];for(r[t-1]=l[t-1]/s[t-1],e=t-2;e>=0;--e)r[e]=(l[e]-r[e+1])/s[e];for(s[t-1]=(n[t]+r[t-1])/2,e=0;e<t-1;++e)s[e]=2*n[e+1]-r[e+1];return[r,s]}function Pz(n){return new V2(n)}function Fh(n,e){this._context=n,this._t=e}Fh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(n,e);else{var t=this._x*(1-this._t)+n*this._t;this._context.lineTo(t,this._y),this._context.lineTo(t,e)}break}}this._x=n,this._y=e}};function Dz(n){return new Fh(n,.5)}function Lz(n){return new Fh(n,0)}function Nz(n){return new Fh(n,1)}function Ds(n,e){if((l=n.length)>1)for(var t=1,i,r,s=n[e[0]],l,c=s.length;t<l;++t)for(r=s,s=n[e[t]],i=0;i<c;++i)s[i][1]+=s[i][0]=isNaN(r[i][1])?r[i][0]:r[i][1]}function a0(n){for(var e=n.length,t=new Array(e);--e>=0;)t[e]=e;return t}function Rz(n,e){return n[e]}function Iz(n){const e=[];return e.key=n,e}function kz(){var n=ot([]),e=a0,t=Ds,i=Rz;function r(s){var l=Array.from(n.apply(this,arguments),Iz),c,d=l.length,f=-1,h;for(const p of s)for(c=0,++f;c<d;++c)(l[c][f]=[0,+i(p,l[c].key,f,s)]).data=p;for(c=0,h=Sb(e(l));c<d;++c)l[h[c]].index=c;return t(l,h),l}return r.keys=function(s){return arguments.length?(n=typeof s=="function"?s:ot(Array.from(s)),r):n},r.value=function(s){return arguments.length?(i=typeof s=="function"?s:ot(+s),r):i},r.order=function(s){return arguments.length?(e=s==null?a0:typeof s=="function"?s:ot(Array.from(s)),r):e},r.offset=function(s){return arguments.length?(t=s??Ds,r):t},r}function Bz(n,e){if((i=n.length)>0){for(var t,i,r=0,s=n[0].length,l;r<s;++r){for(l=t=0;t<i;++t)l+=n[t][r][1]||0;if(l)for(t=0;t<i;++t)n[t][r][1]/=l}Ds(n,e)}}function jz(n,e){if((r=n.length)>0){for(var t=0,i=n[e[0]],r,s=i.length;t<s;++t){for(var l=0,c=0;l<r;++l)c+=n[l][t][1]||0;i[t][1]+=i[t][0]=-c/2}Ds(n,e)}}function zz(n,e){if(!(!((l=n.length)>0)||!((s=(r=n[e[0]]).length)>0))){for(var t=0,i=1,r,s,l;i<s;++i){for(var c=0,d=0,f=0;c<l;++c){for(var h=n[e[c]],p=h[i][1]||0,g=h[i-1][1]||0,y=(p-g)/2,S=0;S<c;++S){var A=n[e[S]],E=A[i][1]||0,x=A[i-1][1]||0;y+=E-x}d+=p,f+=y*p}r[i-1][1]+=r[i-1][0]=t,d&&(t-=f/d)}r[i-1][1]+=r[i-1][0]=t,Ds(n,e)}}var cv={},uv={},Jw;function Fz(){return Jw||(Jw=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t==="__proto__"}n.isUnsafeProperty=e})(uv)),uv}var dv={},eC;function Y2(){return eC||(eC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){switch(typeof t){case"number":case"symbol":return!1;case"string":return t.includes(".")||t.includes("[")||t.includes("]")}}n.isDeepKey=e})(dv)),dv}var fv={},tC;function xb(){return tC||(tC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return typeof t=="string"||typeof t=="symbol"?t:Object.is(t?.valueOf?.(),-0)?"-0":String(t)}n.toKey=e})(fv)),fv}var hv={},pv={},nC;function Uz(){return nC||(nC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){if(t==null)return"";if(typeof t=="string")return t;if(Array.isArray(t))return t.map(e).join(",");const i=String(t);return i==="0"&&Object.is(Number(t),-0)?"-0":i}n.toString=e})(pv)),pv}var iC;function wb(){return iC||(iC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=Uz(),t=xb();function i(r){if(Array.isArray(r))return r.map(t.toKey);if(typeof r=="symbol")return[r];r=e.toString(r);const s=[],l=r.length;if(l===0)return s;let c=0,d="",f="",h=!1;for(r.charCodeAt(0)===46&&(s.push(""),c++);c<l;){const p=r[c];f?p==="\\"&&c+1<l?(c++,d+=r[c]):p===f?f="":d+=p:h?p==='"'||p==="'"?f=p:p==="]"?(h=!1,s.push(d),d=""):d+=p:p==="["?(h=!0,d&&(s.push(d),d="")):p==="."?d&&(s.push(d),d=""):d+=p,c++}return d&&s.push(d),s}n.toPath=i})(hv)),hv}var rC;function Cb(){return rC||(rC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=Fz(),t=Y2(),i=xb(),r=wb();function s(c,d,f){if(c==null)return f;switch(typeof d){case"string":{if(e.isUnsafeProperty(d))return f;const h=c[d];return h===void 0?t.isDeepKey(d)?s(c,r.toPath(d),f):f:h}case"number":case"symbol":{typeof d=="number"&&(d=i.toKey(d));const h=c[d];return h===void 0?f:h}default:{if(Array.isArray(d))return l(c,d,f);if(Object.is(d?.valueOf(),-0)?d="-0":d=String(d),e.isUnsafeProperty(d))return f;const h=c[d];return h===void 0?f:h}}}function l(c,d,f){if(d.length===0)return f;let h=c;for(let p=0;p<d.length;p++){if(h==null||e.isUnsafeProperty(d[p]))return f;h=h[d[p]]}return h===void 0?f:h}n.get=s})(cv)),cv}var mv,aC;function Hz(){return aC||(aC=1,mv=Cb().get),mv}var qz=Hz();const Ls=Zr(qz);var $z=4;function ja(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$z,t=10**e,i=Math.round(n*t)/t;return Object.is(i,-0)?0:i}function Ct(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];return n.reduce((r,s,l)=>{var c=t[l-1];return typeof c=="string"?r+c+s:c!==void 0?r+ja(c)+s:r+s},"")}var yn=n=>n===0?0:n>0?1:-1,cr=n=>typeof n=="number"&&n!=+n,Ns=n=>typeof n=="string"&&n.indexOf("%")===n.length-1,be=n=>(typeof n=="number"||n instanceof Number)&&!cr(n),ur=n=>be(n)||typeof n=="string",Gz=0,Gc=n=>{var e=++Gz;return"".concat(n||"").concat(e)},wn=function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!be(e)&&typeof e!="string")return i;var s;if(Ns(e)){if(t==null)return i;var l=e.indexOf("%");s=t*parseFloat(e.slice(0,l))/100}else s=+e;return cr(s)&&(s=i),r&&t!=null&&s>t&&(s=t),s},X2=n=>{if(!Array.isArray(n))return!1;for(var e=n.length,t={},i=0;i<e;i++)if(!t[String(n[i])])t[String(n[i])]=!0;else return!0;return!1};function qt(n,e,t){return be(n)&&be(e)?ja(n+t*(e-n)):e}function Vz(n,e,t){if(!(!n||!n.length))return n.find(i=>i&&(typeof e=="function"?e(i):Ls(i,e))===t)}var nn=n=>n===null||typeof n>"u",du=n=>nn(n)?n:"".concat(n.charAt(0).toUpperCase()).concat(n.slice(1));function ir(n){return n!=null}function ul(){}var Yz=["type","size","sizeType"];function s0(){return s0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},s0.apply(null,arguments)}function sC(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function oC(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?sC(Object(t),!0).forEach(function(i){Xz(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):sC(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Xz(n,e,t){return(e=Kz(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Kz(n){var e=Wz(n,"string");return typeof e=="symbol"?e:e+""}function Wz(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Zz(n,e){if(n==null)return{};var t,i,r=Qz(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function Qz(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var K2={symbolCircle:Eb,symbolCross:fz,symbolDiamond:pz,symbolSquare:mz,symbolStar:bz,symbolTriangle:Az,symbolWye:Ez},Jz=Math.PI/180,e3=n=>{var e="symbol".concat(du(n));return K2[e]||Eb},t3=(n,e,t)=>{if(e==="area")return n;switch(t){case"cross":return 5*n*n/9;case"diamond":return .5*n*n/Math.sqrt(3);case"square":return n*n;case"star":{var i=18*Jz;return 1.25*n*n*(Math.tan(i)-Math.tan(i*2)*Math.tan(i)**2)}case"triangle":return Math.sqrt(3)*n*n/4;case"wye":return(21-10*Math.sqrt(3))*n*n/8;default:return Math.PI*n*n/4}},n3=(n,e)=>{K2["symbol".concat(du(n))]=e},Ob=n=>{var{type:e="circle",size:t=64,sizeType:i="area"}=n,r=Zz(n,Yz),s=oC(oC({},r),{},{type:e,size:t,sizeType:i}),l="circle";typeof e=="string"&&(l=e);var c=()=>{var g=e3(l),y=xz().type(g).size(t3(t,i,l)),S=y();if(S!==null)return S},{className:d,cx:f,cy:h}=s,p=Pi(s);return be(f)&&be(h)&&be(t)?C.createElement("path",s0({},p,{className:Je("recharts-symbols",d),transform:"translate(".concat(f,", ").concat(h,")"),d:c()})):null};Ob.registerSymbol=n3;var W2=n=>"radius"in n&&"startAngle"in n&&"endAngle"in n,i3=(n,e)=>{if(!n||typeof n=="function"||typeof n=="boolean")return null;var t=n;if(C.isValidElement(n)&&(t=n.props),typeof t!="object"&&typeof t!="function")return null;var i={};return Object.keys(t).forEach(r=>{vb(r)&&(i[r]=(s=>t[r](t,s)))}),i},r3=(n,e,t)=>i=>(n(e,t,i),null),fu=(n,e,t)=>{if(n===null||typeof n!="object"&&typeof n!="function")return null;var i=null;return Object.keys(n).forEach(r=>{var s=n[r];vb(r)&&typeof s=="function"&&(i||(i={}),i[r]=r3(s,e,t))}),i};function lC(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function a3(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?lC(Object(t),!0).forEach(function(i){s3(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):lC(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function s3(n,e,t){return(e=o3(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function o3(n){var e=l3(n,"string");return typeof e=="symbol"?e:e+""}function l3(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function bn(n,e){var t=a3({},n),i=e,r=Object.keys(e),s=r.reduce((l,c)=>(l[c]===void 0&&i[c]!==void 0&&(l[c]=i[c]),l),t);return s}function Bf(){return Bf=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Bf.apply(null,arguments)}function cC(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function c3(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?cC(Object(t),!0).forEach(function(i){u3(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):cC(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function u3(n,e,t){return(e=d3(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function d3(n){var e=f3(n,"string");return typeof e=="symbol"?e:e+""}function f3(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Oi=32,h3={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function p3(n){var{data:e,iconType:t,inactiveColor:i}=n,r=Oi/2,s=Oi/6,l=Oi/3,c=e.inactive?i:e.color,d=t??e.type;if(d==="none")return null;if(d==="plainline"){var f;return C.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:(f=e.payload)===null||f===void 0?void 0:f.strokeDasharray,x1:0,y1:r,x2:Oi,y2:r,className:"recharts-legend-icon"})}if(d==="line")return C.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(r,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(r,`
            H`).concat(Oi,"M").concat(2*l,",").concat(r,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(r),className:"recharts-legend-icon"});if(d==="rect")return C.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Oi/8,"h").concat(Oi,"v").concat(Oi*3/4,"h").concat(-Oi,"z"),className:"recharts-legend-icon"});if(C.isValidElement(e.legendIcon)){var h=c3({},e);return delete h.legendIcon,C.cloneElement(e.legendIcon,h)}return C.createElement(Ob,{fill:c,cx:r,cy:r,size:Oi,sizeType:"diameter",type:d})}function m3(n){var{payload:e,iconSize:t,layout:i,formatter:r,inactiveColor:s,iconType:l}=n,c={x:0,y:0,width:Oi,height:Oi},d={display:i==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((h,p)=>{var g=h.formatter||r,y=Je({"recharts-legend-item":!0,["legend-item-".concat(p)]:!0,inactive:h.inactive});if(h.type==="none")return null;var S=h.inactive?s:h.color,A=g?g(h.value,h,p):h.value;return C.createElement("li",Bf({className:y,style:d,key:"legend-item-".concat(p)},fu(n,h,p)),C.createElement(yb,{width:t,height:t,viewBox:c,style:f,"aria-label":"".concat(A," legend icon")},C.createElement(p3,{data:h,iconType:l,inactiveColor:s})),C.createElement("span",{className:"recharts-legend-item-text",style:{color:S}},A))})}var g3=n=>{var e=bn(n,h3),{payload:t,layout:i,align:r}=e;if(!t||!t.length)return null;var s={padding:0,margin:0,textAlign:i==="horizontal"?r:"left"};return C.createElement("ul",{className:"recharts-default-legend",style:s},C.createElement(m3,Bf({},e,{payload:t})))},gv={},vv={},uC;function v3(){return uC||(uC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t,i){const r=new Map;for(let s=0;s<t.length;s++){const l=t[s],c=i(l,s,t);r.has(c)||r.set(c,l)}return Array.from(r.values())}n.uniqBy=e})(vv)),vv}var yv={},dC;function y3(){return dC||(dC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t,i){return function(...r){return t.apply(this,r.slice(0,i))}}n.ary=e})(yv)),yv}var bv={},fC;function Z2(){return fC||(fC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t}n.identity=e})(bv)),bv}var Av={},Sv={},Ev={},hC;function b3(){return hC||(hC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return Number.isSafeInteger(t)&&t>=0}n.isLength=e})(Ev)),Ev}var pC;function Tb(){return pC||(pC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=b3();function t(i){return i!=null&&typeof i!="function"&&e.isLength(i.length)}n.isArrayLike=t})(Sv)),Sv}var xv={},mC;function A3(){return mC||(mC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return typeof t=="object"&&t!==null}n.isObjectLike=e})(xv)),xv}var gC;function S3(){return gC||(gC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=Tb(),t=A3();function i(r){return t.isObjectLike(r)&&e.isArrayLike(r)}n.isArrayLikeObject=i})(Av)),Av}var wv={},Cv={},vC;function E3(){return vC||(vC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=Cb();function t(i){return function(r){return e.get(r,i)}}n.property=t})(Cv)),Cv}var Ov={},Tv={},Mv={},_v={},yC;function Q2(){return yC||(yC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t!==null&&(typeof t=="object"||typeof t=="function")}n.isObject=e})(_v)),_v}var Pv={},bC;function J2(){return bC||(bC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t==null||typeof t!="object"&&typeof t!="function"}n.isPrimitive=e})(Pv)),Pv}var Dv={},AC;function eP(){return AC||(AC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t,i){return t===i||Number.isNaN(t)&&Number.isNaN(i)}n.isEqualsSameValueZero=e})(Dv)),Dv}var SC;function x3(){return SC||(SC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=Q2(),t=J2(),i=eP();function r(h,p,g){return typeof g!="function"?r(h,p,()=>{}):s(h,p,function y(S,A,E,x,O,T){const P=g(S,A,E,x,O,T);return P!==void 0?!!P:s(S,A,y,T)},new Map)}function s(h,p,g,y){if(p===h)return!0;switch(typeof p){case"object":return l(h,p,g,y);case"function":return Object.keys(p).length>0?s(h,{...p},g,y):i.isEqualsSameValueZero(h,p);default:return e.isObject(h)?typeof p=="string"?p==="":!0:i.isEqualsSameValueZero(h,p)}}function l(h,p,g,y){if(p==null)return!0;if(Array.isArray(p))return d(h,p,g,y);if(p instanceof Map)return c(h,p,g,y);if(p instanceof Set)return f(h,p,g,y);const S=Object.keys(p);if(h==null||t.isPrimitive(h))return S.length===0;if(S.length===0)return!0;if(y?.has(p))return y.get(p)===h;y?.set(p,h);try{for(let A=0;A<S.length;A++){const E=S[A];if(!t.isPrimitive(h)&&!(E in h)||p[E]===void 0&&h[E]!==void 0||p[E]===null&&h[E]!==null||!g(h[E],p[E],E,h,p,y))return!1}return!0}finally{y?.delete(p)}}function c(h,p,g,y){if(p.size===0)return!0;if(!(h instanceof Map))return!1;for(const[S,A]of p.entries()){const E=h.get(S);if(g(E,A,S,h,p,y)===!1)return!1}return!0}function d(h,p,g,y){if(p.length===0)return!0;if(!Array.isArray(h))return!1;const S=new Set;for(let A=0;A<p.length;A++){const E=p[A];let x=!1;for(let O=0;O<h.length;O++){if(S.has(O))continue;const T=h[O];let P=!1;if(g(T,E,A,h,p,y)&&(P=!0),P){S.add(O),x=!0;break}}if(!x)return!1}return!0}function f(h,p,g,y){return p.size===0?!0:h instanceof Set?d([...h],[...p],g,y):!1}n.isMatchWith=r,n.isSetMatch=f})(Mv)),Mv}var EC;function tP(){return EC||(EC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=x3();function t(i,r){return e.isMatchWith(i,r,()=>{})}n.isMatch=t})(Tv)),Tv}var Lv={},Nv={},Rv={},xC;function w3(){return xC||(xC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return Object.getOwnPropertySymbols(t).filter(i=>Object.prototype.propertyIsEnumerable.call(t,i))}n.getSymbols=e})(Rv)),Rv}var Iv={},wC;function Mb(){return wC||(wC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}n.getTag=e})(Iv)),Iv}var kv={},CC;function nP(){return CC||(CC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",t="[object String]",i="[object Number]",r="[object Boolean]",s="[object Arguments]",l="[object Symbol]",c="[object Date]",d="[object Map]",f="[object Set]",h="[object Array]",p="[object Function]",g="[object ArrayBuffer]",y="[object Object]",S="[object Error]",A="[object DataView]",E="[object Uint8Array]",x="[object Uint8ClampedArray]",O="[object Uint16Array]",T="[object Uint32Array]",P="[object BigUint64Array]",M="[object Int8Array]",_="[object Int16Array]",L="[object Int32Array]",B="[object BigInt64Array]",F="[object Float32Array]",X="[object Float64Array]";n.argumentsTag=s,n.arrayBufferTag=g,n.arrayTag=h,n.bigInt64ArrayTag=B,n.bigUint64ArrayTag=P,n.booleanTag=r,n.dataViewTag=A,n.dateTag=c,n.errorTag=S,n.float32ArrayTag=F,n.float64ArrayTag=X,n.functionTag=p,n.int16ArrayTag=_,n.int32ArrayTag=L,n.int8ArrayTag=M,n.mapTag=d,n.numberTag=i,n.objectTag=y,n.regexpTag=e,n.setTag=f,n.stringTag=t,n.symbolTag=l,n.uint16ArrayTag=O,n.uint32ArrayTag=T,n.uint8ArrayTag=E,n.uint8ClampedArrayTag=x})(kv)),kv}var Bv={},OC;function C3(){return OC||(OC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}n.isTypedArray=e})(Bv)),Bv}var TC;function iP(){return TC||(TC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=w3(),t=Mb(),i=nP(),r=J2(),s=C3();function l(h,p){return c(h,void 0,h,new Map,p)}function c(h,p,g,y=new Map,S=void 0){const A=S?.(h,p,g,y);if(A!==void 0)return A;if(r.isPrimitive(h))return h;if(y.has(h))return y.get(h);if(Array.isArray(h)){const E=new Array(h.length);y.set(h,E);for(let x=0;x<h.length;x++)E[x]=c(h[x],x,g,y,S);return Object.hasOwn(h,"index")&&(E.index=h.index),Object.hasOwn(h,"input")&&(E.input=h.input),E}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const E=new RegExp(h.source,h.flags);return E.lastIndex=h.lastIndex,E}if(h instanceof Map){const E=new Map;y.set(h,E);for(const[x,O]of h)E.set(x,c(O,x,g,y,S));return E}if(h instanceof Set){const E=new Set;y.set(h,E);for(const x of h)E.add(c(x,void 0,g,y,S));return E}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(s.isTypedArray(h)){const E=new(Object.getPrototypeOf(h)).constructor(h.length);y.set(h,E);for(let x=0;x<h.length;x++)E[x]=c(h[x],x,g,y,S);return E}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const E=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return y.set(h,E),d(E,h,g,y,S),E}if(typeof File<"u"&&h instanceof File){const E=new File([h],h.name,{type:h.type});return y.set(h,E),d(E,h,g,y,S),E}if(typeof Blob<"u"&&h instanceof Blob){const E=new Blob([h],{type:h.type});return y.set(h,E),d(E,h,g,y,S),E}if(h instanceof Error){const E=new h.constructor;return y.set(h,E),E.message=h.message,E.name=h.name,E.stack=h.stack,E.cause=h.cause,d(E,h,g,y,S),E}if(h instanceof Boolean){const E=new Boolean(h.valueOf());return y.set(h,E),d(E,h,g,y,S),E}if(h instanceof Number){const E=new Number(h.valueOf());return y.set(h,E),d(E,h,g,y,S),E}if(h instanceof String){const E=new String(h.valueOf());return y.set(h,E),d(E,h,g,y,S),E}if(typeof h=="object"&&f(h)){const E=Object.create(Object.getPrototypeOf(h));return y.set(h,E),d(E,h,g,y,S),E}return h}function d(h,p,g=h,y,S){const A=[...Object.keys(p),...e.getSymbols(p)];for(let E=0;E<A.length;E++){const x=A[E],O=Object.getOwnPropertyDescriptor(h,x);(O==null||O.writable)&&(h[x]=c(p[x],x,g,y,S))}}function f(h){switch(t.getTag(h)){case i.argumentsTag:case i.arrayTag:case i.arrayBufferTag:case i.dataViewTag:case i.booleanTag:case i.dateTag:case i.float32ArrayTag:case i.float64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.mapTag:case i.numberTag:case i.objectTag:case i.regexpTag:case i.setTag:case i.stringTag:case i.symbolTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:return!0;default:return!1}}n.cloneDeepWith=l,n.cloneDeepWithImpl=c,n.copyProperties=d})(Nv)),Nv}var MC;function O3(){return MC||(MC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=iP();function t(i){return e.cloneDeepWithImpl(i,void 0,i,new Map,void 0)}n.cloneDeep=t})(Lv)),Lv}var _C;function T3(){return _C||(_C=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=tP(),t=O3();function i(r){return r=t.cloneDeep(r),s=>e.isMatch(s,r)}n.matches=i})(Ov)),Ov}var jv={},zv={},Fv={},PC;function M3(){return PC||(PC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=iP(),t=Mb(),i=nP();function r(s,l){return e.cloneDeepWith(s,(c,d,f,h)=>{const p=l?.(c,d,f,h);if(p!==void 0)return p;if(typeof s=="object"){if(t.getTag(s)===i.objectTag&&typeof s.constructor!="function"){const g={};return h.set(s,g),e.copyProperties(g,s,f,h),g}switch(Object.prototype.toString.call(s)){case i.numberTag:case i.stringTag:case i.booleanTag:{const g=new s.constructor(s?.valueOf());return e.copyProperties(g,s),g}case i.argumentsTag:{const g={};return e.copyProperties(g,s),g.length=s.length,g[Symbol.iterator]=s[Symbol.iterator],g}default:return}}})}n.cloneDeepWith=r})(Fv)),Fv}var DC;function _3(){return DC||(DC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=M3();function t(i){return e.cloneDeepWith(i)}n.cloneDeep=t})(zv)),zv}var Uv={},Hv={},LC;function rP(){return LC||(LC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function t(i,r=Number.MAX_SAFE_INTEGER){switch(typeof i){case"number":return Number.isInteger(i)&&i>=0&&i<r;case"symbol":return!1;case"string":return e.test(i)}}n.isIndex=t})(Hv)),Hv}var qv={},NC;function P3(){return NC||(NC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=Mb();function t(i){return i!==null&&typeof i=="object"&&e.getTag(i)==="[object Arguments]"}n.isArguments=t})(qv)),qv}var RC;function D3(){return RC||(RC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=Y2(),t=rP(),i=P3(),r=wb();function s(l,c){let d;if(Array.isArray(c)?d=c:typeof c=="string"&&e.isDeepKey(c)&&l?.[c]==null?d=r.toPath(c):d=[c],d.length===0)return!1;let f=l;for(let h=0;h<d.length;h++){const p=d[h];if((f==null||!Object.hasOwn(f,p))&&!((Array.isArray(f)||i.isArguments(f))&&t.isIndex(p)&&p<f.length))return!1;f=f[p]}return!0}n.has=s})(Uv)),Uv}var IC;function L3(){return IC||(IC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=tP(),t=xb(),i=_3(),r=Cb(),s=D3();function l(c,d){switch(typeof c){case"object":{Object.is(c?.valueOf(),-0)&&(c="-0");break}case"number":{c=t.toKey(c);break}}return d=i.cloneDeep(d),function(f){const h=r.get(f,c);return h===void 0?s.has(f,c):d===void 0?h===void 0:e.isMatch(h,d)}}n.matchesProperty=l})(jv)),jv}var kC;function N3(){return kC||(kC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=Z2(),t=E3(),i=T3(),r=L3();function s(l){if(l==null)return e.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?r.matchesProperty(l[0],l[1]):i.matches(l);case"string":case"symbol":case"number":return t.property(l)}}n.iteratee=s})(wv)),wv}var BC;function R3(){return BC||(BC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=v3(),t=y3(),i=Z2(),r=S3(),s=N3();function l(c,d=i.identity){return r.isArrayLikeObject(c)?e.uniqBy(Array.from(c),t.ary(s.iteratee(d),1)):[]}n.uniqBy=l})(gv)),gv}var $v,jC;function I3(){return jC||(jC=1,$v=R3().uniqBy),$v}var k3=I3();const zC=Zr(k3);function aP(n,e,t){return e===!0?zC(n,t):typeof e=="function"?zC(n,e):n}var Gv={exports:{}},Vv={},Yv={exports:{}},Xv={};var FC;function B3(){if(FC)return Xv;FC=1;var n=cl();function e(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var t=typeof Object.is=="function"?Object.is:e,i=n.useState,r=n.useEffect,s=n.useLayoutEffect,l=n.useDebugValue;function c(p,g){var y=g(),S=i({inst:{value:y,getSnapshot:g}}),A=S[0].inst,E=S[1];return s(function(){A.value=y,A.getSnapshot=g,d(A)&&E({inst:A})},[p,y,g]),r(function(){return d(A)&&E({inst:A}),p(function(){d(A)&&E({inst:A})})},[p]),l(y),y}function d(p){var g=p.getSnapshot;p=p.value;try{var y=g();return!t(p,y)}catch{return!0}}function f(p,g){return g()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return Xv.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:h,Xv}var UC;function j3(){return UC||(UC=1,Yv.exports=B3()),Yv.exports}var HC;function z3(){if(HC)return Vv;HC=1;var n=cl(),e=j3();function t(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var i=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,s=n.useRef,l=n.useEffect,c=n.useMemo,d=n.useDebugValue;return Vv.useSyncExternalStoreWithSelector=function(f,h,p,g,y){var S=s(null);if(S.current===null){var A={hasValue:!1,value:null};S.current=A}else A=S.current;S=c(function(){function x(_){if(!O){if(O=!0,T=_,_=g(_),y!==void 0&&A.hasValue){var L=A.value;if(y(L,_))return P=L}return P=_}if(L=P,i(T,_))return L;var B=g(_);return y!==void 0&&y(L,B)?(T=_,L):(T=_,P=B)}var O=!1,T,P,M=p===void 0?null:p;return[function(){return x(h())},M===null?void 0:function(){return x(M())}]},[h,p,g,y]);var E=r(f,S[0],S[1]);return l(function(){A.hasValue=!0,A.value=E},[E]),d(E),E},Vv}var qC;function F3(){return qC||(qC=1,Gv.exports=z3()),Gv.exports}var U3=F3(),_b=C.createContext(null),H3=n=>n,lt=()=>{var n=C.useContext(_b);return n?n.store.dispatch:H3},xf=()=>{},q3=()=>xf,$3=(n,e)=>n===e;function ye(n){var e=C.useContext(_b),t=C.useMemo(()=>e?i=>{if(i!=null)return n(i)}:xf,[e,n]);return U3.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:q3,e?e.store.getState:xf,e?e.store.getState:xf,t,$3)}function G3(n,e=`expected a function, instead received ${typeof n}`){if(typeof n!="function")throw new TypeError(e)}function V3(n,e=`expected an object, instead received ${typeof n}`){if(typeof n!="object")throw new TypeError(e)}function Y3(n,e="expected all items to be functions, instead received the following types: "){if(!n.every(t=>typeof t=="function")){const t=n.map(i=>typeof i=="function"?`function ${i.name||"unnamed"}()`:typeof i).join(", ");throw new TypeError(`${e}[${t}]`)}}var $C=n=>Array.isArray(n)?n:[n];function X3(n){const e=Array.isArray(n[0])?n[0]:n;return Y3(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function K3(n,e){const t=[],{length:i}=n;for(let r=0;r<i;r++)t.push(n[r].apply(null,e));return t}var W3=class{constructor(n){this.value=n}deref(){return this.value}},Z3=typeof WeakRef<"u"?WeakRef:W3,Q3=0,GC=1;function rf(){return{s:Q3,v:void 0,o:null,p:null}}function sP(n,e={}){let t=rf();const{resultEqualityCheck:i}=e;let r,s=0;function l(){let c=t;const{length:d}=arguments;for(let p=0,g=d;p<g;p++){const y=arguments[p];if(typeof y=="function"||typeof y=="object"&&y!==null){let S=c.o;S===null&&(c.o=S=new WeakMap);const A=S.get(y);A===void 0?(c=rf(),S.set(y,c)):c=A}else{let S=c.p;S===null&&(c.p=S=new Map);const A=S.get(y);A===void 0?(c=rf(),S.set(y,c)):c=A}}const f=c;let h;if(c.s===GC)h=c.v;else if(h=n.apply(null,arguments),s++,i){const p=r?.deref?.()??r;p!=null&&i(p,h)&&(h=p,s!==0&&s--),r=typeof h=="object"&&h!==null||typeof h=="function"?new Z3(h):h}return f.s=GC,f.v=h,h}return l.clearCache=()=>{t=rf(),l.resetResultsCount()},l.resultsCount=()=>s,l.resetResultsCount=()=>{s=0},l}function J3(n,...e){const t=typeof n=="function"?{memoize:n,memoizeOptions:e}:n,i=(...r)=>{let s=0,l=0,c,d={},f=r.pop();typeof f=="object"&&(d=f,f=r.pop()),G3(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const h={...t,...d},{memoize:p,memoizeOptions:g=[],argsMemoize:y=sP,argsMemoizeOptions:S=[]}=h,A=$C(g),E=$C(S),x=X3(r),O=p(function(){return s++,f.apply(null,arguments)},...A),T=y(function(){l++;const M=K3(x,arguments);return c=O.apply(null,M),c},...E);return Object.assign(T,{resultFunc:f,memoizedResultFunc:O,dependencies:x,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>c,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:p,argsMemoize:y})};return Object.assign(i,{withTypes:()=>i}),i}var Y=J3(sP),e6=Object.assign((n,e=Y)=>{V3(n,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof n}`);const t=Object.keys(n),i=t.map(s=>n[s]);return e(i,(...s)=>s.reduce((l,c,d)=>(l[t[d]]=c,l),{}))},{withTypes:()=>e6}),Kv={},Wv={},Zv={},VC;function t6(){return VC||(VC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(i){return typeof i=="symbol"?1:i===null?2:i===void 0?3:i!==i?4:0}const t=(i,r,s)=>{if(i!==r){const l=e(i),c=e(r);if(l===c&&l===0){if(i<r)return s==="desc"?1:-1;if(i>r)return s==="desc"?-1:1}return s==="desc"?c-l:l-c}return 0};n.compareValues=t})(Zv)),Zv}var Qv={},Jv={},YC;function oP(){return YC||(YC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return typeof t=="symbol"||t instanceof Symbol}n.isSymbol=e})(Jv)),Jv}var XC;function n6(){return XC||(XC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=oP(),t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;function r(s,l){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(i.test(s)||!t.test(s))||l!=null&&Object.hasOwn(l,s)}n.isKey=r})(Qv)),Qv}var KC;function i6(){return KC||(KC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=t6(),t=n6(),i=wb();function r(s,l,c,d){if(s==null)return[];c=d?void 0:c,Array.isArray(s)||(s=Object.values(s)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(y=>String(y));const f=(y,S)=>{let A=y;for(let E=0;E<S.length&&A!=null;++E)A=A[S[E]];return A},h=(y,S)=>S==null||y==null?S:typeof y=="object"&&"key"in y?Object.hasOwn(S,y.key)?S[y.key]:f(S,y.path):typeof y=="function"?y(S):Array.isArray(y)?f(S,y):typeof S=="object"?S[y]:S,p=l.map(y=>(Array.isArray(y)&&y.length===1&&(y=y[0]),y==null||typeof y=="function"||Array.isArray(y)||t.isKey(y)?y:{key:y,path:i.toPath(y)}));return s.map(y=>({original:y,criteria:p.map(S=>h(S,y))})).slice().sort((y,S)=>{for(let A=0;A<p.length;A++){const E=e.compareValues(y.criteria[A],S.criteria[A],c[A]);if(E!==0)return E}return 0}).map(y=>y.original)}n.orderBy=r})(Wv)),Wv}var ey={},WC;function r6(){return WC||(WC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t,i=1){const r=[],s=Math.floor(i),l=(c,d)=>{for(let f=0;f<c.length;f++){const h=c[f];Array.isArray(h)&&d<s?l(h,d+1):r.push(h)}};return l(t,0),r}n.flatten=e})(ey)),ey}var ty={},ZC;function lP(){return ZC||(ZC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=rP(),t=Tb(),i=Q2(),r=eP();function s(l,c,d){return i.isObject(d)&&(typeof c=="number"&&t.isArrayLike(d)&&e.isIndex(c)&&c<d.length||typeof c=="string"&&c in d)?r.isEqualsSameValueZero(d[c],l):!1}n.isIterateeCall=s})(ty)),ty}var QC;function a6(){return QC||(QC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=i6(),t=r6(),i=lP();function r(s,...l){const c=l.length;return c>1&&i.isIterateeCall(s,l[0],l[1])?l=[]:c>2&&i.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),e.orderBy(s,t.flatten(l),["asc"])}n.sortBy=r})(Kv)),Kv}var ny,JC;function s6(){return JC||(JC=1,ny=a6().sortBy),ny}var o6=s6();const Uh=Zr(o6);var cP=n=>n.legend.settings,l6=n=>n.legend.size,c6=n=>n.legend.payload,u6=Y([c6,cP],(n,e)=>{var{itemSorter:t}=e,i=n.flat(1);return t?Uh(i,t):i});function d6(){return ye(u6)}var af=1;function uP(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,t]=C.useState({height:0,left:0,top:0,width:0}),i=C.useCallback(r=>{if(r!=null){var s=r.getBoundingClientRect(),l={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(l.height-e.height)>af||Math.abs(l.left-e.left)>af||Math.abs(l.top-e.top)>af||Math.abs(l.width-e.width)>af)&&t({height:l.height,left:l.left,top:l.top,width:l.width})}},[e.width,e.height,e.top,e.left,...n]);return[e,i]}function pn(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var f6=typeof Symbol=="function"&&Symbol.observable||"@@observable",eO=f6,iy=()=>Math.random().toString(36).substring(7).split("").join("."),h6={INIT:`@@redux/INIT${iy()}`,REPLACE:`@@redux/REPLACE${iy()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${iy()}`},jf=h6;function Pb(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function dP(n,e,t){if(typeof n!="function")throw new Error(pn(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(pn(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(pn(1));return t(dP)(n,e)}let i=n,r=e,s=new Map,l=s,c=0,d=!1;function f(){l===s&&(l=new Map,s.forEach((E,x)=>{l.set(x,E)}))}function h(){if(d)throw new Error(pn(3));return r}function p(E){if(typeof E!="function")throw new Error(pn(4));if(d)throw new Error(pn(5));let x=!0;f();const O=c++;return l.set(O,E),function(){if(x){if(d)throw new Error(pn(6));x=!1,f(),l.delete(O),s=null}}}function g(E){if(!Pb(E))throw new Error(pn(7));if(typeof E.type>"u")throw new Error(pn(8));if(typeof E.type!="string")throw new Error(pn(17));if(d)throw new Error(pn(9));try{d=!0,r=i(r,E)}finally{d=!1}return(s=l).forEach(O=>{O()}),E}function y(E){if(typeof E!="function")throw new Error(pn(10));i=E,g({type:jf.REPLACE})}function S(){const E=p;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(pn(11));function O(){const P=x;P.next&&P.next(h())}return O(),{unsubscribe:E(O)}},[eO](){return this}}}return g({type:jf.INIT}),{dispatch:g,subscribe:p,getState:h,replaceReducer:y,[eO]:S}}function p6(n){Object.keys(n).forEach(e=>{const t=n[e];if(typeof t(void 0,{type:jf.INIT})>"u")throw new Error(pn(12));if(typeof t(void 0,{type:jf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(pn(13))})}function fP(n){const e=Object.keys(n),t={};for(let s=0;s<e.length;s++){const l=e[s];typeof n[l]=="function"&&(t[l]=n[l])}const i=Object.keys(t);let r;try{p6(t)}catch(s){r=s}return function(l={},c){if(r)throw r;let d=!1;const f={};for(let h=0;h<i.length;h++){const p=i[h],g=t[p],y=l[p],S=g(y,c);if(typeof S>"u")throw c&&c.type,new Error(pn(14));f[p]=S,d=d||S!==y}return d=d||i.length!==Object.keys(l).length,d?f:l}}function zf(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...i)=>e(t(...i)))}function m6(...n){return e=>(t,i)=>{const r=e(t,i);let s=()=>{throw new Error(pn(15))};const l={getState:r.getState,dispatch:(d,...f)=>s(d,...f)},c=n.map(d=>d(l));return s=zf(...c)(r.dispatch),{...r,dispatch:s}}}function hP(n){return Pb(n)&&"type"in n&&typeof n.type=="string"}var pP=Symbol.for("immer-nothing"),tO=Symbol.for("immer-draftable"),Dn=Symbol.for("immer-state");function ji(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var si=Object,tl=si.getPrototypeOf,Ff="constructor",Hh="prototype",o0="configurable",Uf="enumerable",wf="writable",Vc="value",$r=n=>!!n&&!!n[Dn];function Hi(n){return n?mP(n)||$h(n)||!!n[tO]||!!n[Ff]?.[tO]||Gh(n)||Vh(n):!1}var g6=si[Hh][Ff].toString(),nO=new WeakMap;function mP(n){if(!n||!Db(n))return!1;const e=tl(n);if(e===null||e===si[Hh])return!0;const t=si.hasOwnProperty.call(e,Ff)&&e[Ff];if(t===Object)return!0;if(!Uo(t))return!1;let i=nO.get(t);return i===void 0&&(i=Function.toString.call(t),nO.set(t,i)),i===g6}function qh(n,e,t=!0){hu(n)===0?(t?Reflect.ownKeys(n):si.keys(n)).forEach(r=>{e(r,n[r],n)}):n.forEach((i,r)=>e(r,i,n))}function hu(n){const e=n[Dn];return e?e.type_:$h(n)?1:Gh(n)?2:Vh(n)?3:0}var iO=(n,e,t=hu(n))=>t===2?n.has(e):si[Hh].hasOwnProperty.call(n,e),l0=(n,e,t=hu(n))=>t===2?n.get(e):n[e],Hf=(n,e,t,i=hu(n))=>{i===2?n.set(e,t):i===3?n.add(t):n[e]=t};function v6(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}var $h=Array.isArray,Gh=n=>n instanceof Map,Vh=n=>n instanceof Set,Db=n=>typeof n=="object",Uo=n=>typeof n=="function",ry=n=>typeof n=="boolean";function y6(n){const e=+n;return Number.isInteger(e)&&String(e)===n}var Br=n=>n.copy_||n.base_,Lb=n=>n.modified_?n.copy_:n.base_;function c0(n,e){if(Gh(n))return new Map(n);if(Vh(n))return new Set(n);if($h(n))return Array[Hh].slice.call(n);const t=mP(n);if(e===!0||e==="class_only"&&!t){const i=si.getOwnPropertyDescriptors(n);delete i[Dn];let r=Reflect.ownKeys(i);for(let s=0;s<r.length;s++){const l=r[s],c=i[l];c[wf]===!1&&(c[wf]=!0,c[o0]=!0),(c.get||c.set)&&(i[l]={[o0]:!0,[wf]:!0,[Uf]:c[Uf],[Vc]:n[l]})}return si.create(tl(n),i)}else{const i=tl(n);if(i!==null&&t)return{...n};const r=si.create(i);return si.assign(r,n)}}function Nb(n,e=!1){return Yh(n)||$r(n)||!Hi(n)||(hu(n)>1&&si.defineProperties(n,{set:sf,add:sf,clear:sf,delete:sf}),si.freeze(n),e&&qh(n,(t,i)=>{Nb(i,!0)},!1)),n}function b6(){ji(2)}var sf={[Vc]:b6};function Yh(n){return n===null||!Db(n)?!0:si.isFrozen(n)}var qf="MapSet",u0="Patches",rO="ArrayMethods",gP={};function Rs(n){const e=gP[n];return e||ji(0,n),e}var aO=n=>!!gP[n],Yc,vP=()=>Yc,A6=(n,e)=>({drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:aO(qf)?Rs(qf):void 0,arrayMethodsPlugin_:aO(rO)?Rs(rO):void 0});function sO(n,e){e&&(n.patchPlugin_=Rs(u0),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function d0(n){f0(n),n.drafts_.forEach(S6),n.drafts_=null}function f0(n){n===Yc&&(Yc=n.parent_)}var oO=n=>Yc=A6(Yc,n);function S6(n){const e=n[Dn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function lO(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];if(n!==void 0&&n!==t){t[Dn].modified_&&(d0(e),ji(4)),Hi(n)&&(n=cO(e,n));const{patchPlugin_:r}=e;r&&r.generateReplacementPatches_(t[Dn].base_,n,e)}else n=cO(e,t);return E6(e,n,!0),d0(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==pP?n:void 0}function cO(n,e){if(Yh(e))return e;const t=e[Dn];if(!t)return $f(e,n.handledSet_,n);if(!Xh(t,n))return e;if(!t.modified_)return t.base_;if(!t.finalized_){const{callbacks_:i}=t;if(i)for(;i.length>0;)i.pop()(n);AP(t,n)}return t.copy_}function E6(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&Nb(e,t)}function yP(n){n.finalized_=!0,n.scope_.unfinalizedDrafts_--}var Xh=(n,e)=>n.scope_===e,x6=[];function bP(n,e,t,i){const r=Br(n),s=n.type_;if(i!==void 0&&l0(r,i,s)===e){Hf(r,i,t,s);return}if(!n.draftLocations_){const c=n.draftLocations_=new Map;qh(r,(d,f)=>{if($r(f)){const h=c.get(f)||[];h.push(d),c.set(f,h)}})}const l=n.draftLocations_.get(e)??x6;for(const c of l)Hf(r,c,t,s)}function w6(n,e,t){n.callbacks_.push(function(r){const s=e;if(!s||!Xh(s,r))return;r.mapSetPlugin_?.fixSetContents(s);const l=Lb(s);bP(n,s.draft_??s,l,t),AP(s,r)})}function AP(n,e){if(n.modified_&&!n.finalized_&&(n.type_===3||n.type_===1&&n.allIndicesReassigned_||(n.assigned_?.size??0)>0)){const{patchPlugin_:i}=e;if(i){const r=i.getPath(n);r&&i.generatePatches_(n,r,e)}yP(n)}}function C6(n,e,t){const{scope_:i}=n;if($r(t)){const r=t[Dn];Xh(r,i)&&r.callbacks_.push(function(){Cf(n);const l=Lb(r);bP(n,t,l,e)})}else Hi(t)&&n.callbacks_.push(function(){const s=Br(n);n.type_===3?s.has(t)&&$f(t,i.handledSet_,i):l0(s,e,n.type_)===t&&i.drafts_.length>1&&(n.assigned_.get(e)??!1)===!0&&n.copy_&&$f(l0(n.copy_,e,n.type_),i.handledSet_,i)})}function $f(n,e,t){return!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||$r(n)||e.has(n)||!Hi(n)||Yh(n)||(e.add(n),qh(n,(i,r)=>{if($r(r)){const s=r[Dn];if(Xh(s,t)){const l=Lb(s);Hf(n,i,l,n.type_),yP(s)}}else Hi(r)&&$f(r,e,t)})),n}function O6(n,e){const t=$h(n),i={type_:t?1:0,scope_:e?e.scope_:vP(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let r=i,s=Gf;t&&(r=[i],s=Xc);const{revoke:l,proxy:c}=Proxy.revocable(r,s);return i.draft_=c,i.revoke_=l,[c,i]}var Gf={get(n,e){if(e===Dn)return n;let t=n.scope_.arrayMethodsPlugin_;const i=n.type_===1&&typeof e=="string";if(i&&t?.isArrayOperationMethod(e))return t.createMethodInterceptor(n,e);const r=Br(n);if(!iO(r,e,n.type_))return T6(n,r,e);const s=r[e];if(n.finalized_||!Hi(s)||i&&n.operationMethod&&t?.isMutatingArrayMethod(n.operationMethod)&&y6(e))return s;if(s===ay(n.base_,e)){Cf(n);const l=n.type_===1?+e:e,c=p0(n.scope_,s,n,l);return n.copy_[l]=c}return s},has(n,e){return e in Br(n)},ownKeys(n){return Reflect.ownKeys(Br(n))},set(n,e,t){const i=SP(Br(n),e);if(i?.set)return i.set.call(n.draft_,t),!0;if(!n.modified_){const r=ay(Br(n),e),s=r?.[Dn];if(s&&s.base_===t)return n.copy_[e]=t,n.assigned_.set(e,!1),!0;if(v6(t,r)&&(t!==void 0||iO(n.base_,e,n.type_)))return!0;Cf(n),h0(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_.set(e,!0),C6(n,e,t)),!0},deleteProperty(n,e){return Cf(n),ay(n.base_,e)!==void 0||e in n.base_?(n.assigned_.set(e,!1),h0(n)):n.assigned_.delete(e),n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=Br(n),i=Reflect.getOwnPropertyDescriptor(t,e);return i&&{[wf]:!0,[o0]:n.type_!==1||e!=="length",[Uf]:i[Uf],[Vc]:t[e]}},defineProperty(){ji(11)},getPrototypeOf(n){return tl(n.base_)},setPrototypeOf(){ji(12)}},Xc={};for(let n in Gf){let e=Gf[n];Xc[n]=function(){const t=arguments;return t[0]=t[0][0],e.apply(this,t)}}Xc.deleteProperty=function(n,e){return Xc.set.call(this,n,e,void 0)};Xc.set=function(n,e,t){return Gf.set.call(this,n[0],e,t,n[0])};function ay(n,e){const t=n[Dn];return(t?Br(t):n)[e]}function T6(n,e,t){const i=SP(e,t);return i?Vc in i?i[Vc]:i.get?.call(n.draft_):void 0}function SP(n,e){if(!(e in n))return;let t=tl(n);for(;t;){const i=Object.getOwnPropertyDescriptor(t,e);if(i)return i;t=tl(t)}}function h0(n){n.modified_||(n.modified_=!0,n.parent_&&h0(n.parent_))}function Cf(n){n.copy_||(n.assigned_=new Map,n.copy_=c0(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var M6=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(t,i,r)=>{if(Uo(t)&&!Uo(i)){const l=i;i=t;const c=this;return function(f=l,...h){return c.produce(f,p=>i.call(this,p,...h))}}Uo(i)||ji(6),r!==void 0&&!Uo(r)&&ji(7);let s;if(Hi(t)){const l=oO(this),c=p0(l,t,void 0);let d=!0;try{s=i(c),d=!1}finally{d?d0(l):f0(l)}return sO(l,r),lO(s,l)}else if(!t||!Db(t)){if(s=i(t),s===void 0&&(s=t),s===pP&&(s=void 0),this.autoFreeze_&&Nb(s,!0),r){const l=[],c=[];Rs(u0).generateReplacementPatches_(t,s,{patches_:l,inversePatches_:c}),r(l,c)}return s}else ji(1,t)},this.produceWithPatches=(t,i)=>{if(Uo(t))return(c,...d)=>this.produceWithPatches(c,f=>t(f,...d));let r,s;return[this.produce(t,i,(c,d)=>{r=c,s=d}),r,s]},ry(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),ry(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),ry(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Hi(e)||ji(8),$r(e)&&(e=Ui(e));const t=oO(this),i=p0(t,e,void 0);return i[Dn].isManual_=!0,f0(t),i}finishDraft(e,t){const i=e&&e[Dn];(!i||!i.isManual_)&&ji(9);const{scope_:r}=i;return sO(r,t),lO(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let i;for(i=t.length-1;i>=0;i--){const s=t[i];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}i>-1&&(t=t.slice(i+1));const r=Rs(u0).applyPatches_;return $r(e)?r(e,t):this.produce(e,s=>r(s,t))}};function p0(n,e,t,i){const[r,s]=Gh(e)?Rs(qf).proxyMap_(e,t):Vh(e)?Rs(qf).proxySet_(e,t):O6(e,t);return(t?.scope_??vP()).drafts_.push(r),s.callbacks_=t?.callbacks_??[],s.key_=i,t&&i!==void 0?w6(t,s,i):s.callbacks_.push(function(d){d.mapSetPlugin_?.fixSetContents(s);const{patchPlugin_:f}=d;s.modified_&&f&&f.generatePatches_(s,[],d)}),r}function Ui(n){return $r(n)||ji(10,n),EP(n)}function EP(n){if(!Hi(n)||Yh(n))return n;const e=n[Dn];let t,i=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=c0(n,e.scope_.immer_.useStrictShallowCopy_),i=e.scope_.immer_.shouldUseStrictIteration()}else t=c0(n,!0);return qh(t,(r,s)=>{Hf(t,r,EP(s))},i),e&&(e.finalized_=!1),t}var _6=new M6,xP=_6.produce;function wP(n){return({dispatch:t,getState:i})=>r=>s=>typeof s=="function"?s(t,i,n):r(s)}var P6=wP(),D6=wP,L6=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?zf:zf.apply(null,arguments)};function Di(n,e){function t(...i){if(e){let r=e(...i);if(!r)throw new Error(oi(0));return{type:n,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:n,payload:i[0]}}return t.toString=()=>`${n}`,t.type=n,t.match=i=>hP(i)&&i.type===n,t}var CP=class Rc extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Rc.prototype)}static get[Symbol.species](){return Rc}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Rc(...e[0].concat(this)):new Rc(...e.concat(this))}};function uO(n){return Hi(n)?xP(n,()=>{}):n}function of(n,e,t){return n.has(e)?n.get(e):n.set(e,t(e)).get(e)}function N6(n){return typeof n=="boolean"}var R6=()=>function(e){const{thunk:t=!0,immutableCheck:i=!0,serializableCheck:r=!0,actionCreatorCheck:s=!0}=e??{};let l=new CP;return t&&(N6(t)?l.push(P6):l.push(D6(t.extraArgument))),l},OP="RTK_autoBatch",vt=()=>n=>({payload:n,meta:{[OP]:!0}}),dO=n=>e=>{setTimeout(e,n)},TP=(n={type:"raf"})=>e=>(...t)=>{const i=e(...t);let r=!0,s=!1,l=!1;const c=new Set,d=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:dO(10):n.type==="callback"?n.queueNotification:dO(n.timeout),f=()=>{l=!1,s&&(s=!1,c.forEach(h=>h()))};return Object.assign({},i,{subscribe(h){const p=()=>r&&h(),g=i.subscribe(p);return c.add(h),()=>{g(),c.delete(h)}},dispatch(h){try{return r=!h?.meta?.[OP],s=!r,s&&(l||(l=!0,d(f))),i.dispatch(h)}finally{r=!0}}})},I6=n=>function(t){const{autoBatch:i=!0}=t??{};let r=new CP(n);return i&&r.push(TP(typeof i=="object"?i:void 0)),r};function k6(n){const e=R6(),{reducer:t=void 0,middleware:i,devTools:r=!0,preloadedState:s=void 0,enhancers:l=void 0}=n||{};let c;if(typeof t=="function")c=t;else if(Pb(t))c=fP(t);else throw new Error(oi(1));let d;typeof i=="function"?d=i(e):d=e();let f=zf;r&&(f=L6({trace:!1,...typeof r=="object"&&r}));const h=m6(...d),p=I6(h);let g=typeof l=="function"?l(p):p();const y=f(...g);return dP(c,s,y)}function MP(n){const e={},t=[];let i;const r={addCase(s,l){const c=typeof s=="string"?s:s.type;if(!c)throw new Error(oi(28));if(c in e)throw new Error(oi(29));return e[c]=l,r},addAsyncThunk(s,l){return l.pending&&(e[s.pending.type]=l.pending),l.rejected&&(e[s.rejected.type]=l.rejected),l.fulfilled&&(e[s.fulfilled.type]=l.fulfilled),l.settled&&t.push({matcher:s.settled,reducer:l.settled}),r},addMatcher(s,l){return t.push({matcher:s,reducer:l}),r},addDefaultCase(s){return i=s,r}};return n(r),[e,t,i]}function B6(n){return typeof n=="function"}function j6(n,e){let[t,i,r]=MP(e),s;if(B6(n))s=()=>uO(n());else{const c=uO(n);s=()=>c}function l(c=s(),d){let f=[t[d.type],...i.filter(({matcher:h})=>h(d)).map(({reducer:h})=>h)];return f.filter(h=>!!h).length===0&&(f=[r]),f.reduce((h,p)=>{if(p)if($r(h)){const y=p(h,d);return y===void 0?h:y}else{if(Hi(h))return xP(h,g=>p(g,d));{const g=p(h,d);if(g===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return h},c)}return l.getInitialState=s,l}var z6="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",F6=(n=21)=>{let e="",t=n;for(;t--;)e+=z6[Math.random()*64|0];return e},U6=Symbol.for("rtk-slice-createasyncthunk");function H6(n,e){return`${n}/${e}`}function q6({creators:n}={}){const e=n?.asyncThunk?.[U6];return function(i){const{name:r,reducerPath:s=r}=i;if(!r)throw new Error(oi(11));const l=(typeof i.reducers=="function"?i.reducers(G6()):i.reducers)||{},c=Object.keys(l),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(T,P){const M=typeof T=="string"?T:T.type;if(!M)throw new Error(oi(12));if(M in d.sliceCaseReducersByType)throw new Error(oi(13));return d.sliceCaseReducersByType[M]=P,f},addMatcher(T,P){return d.sliceMatchers.push({matcher:T,reducer:P}),f},exposeAction(T,P){return d.actionCreators[T]=P,f},exposeCaseReducer(T,P){return d.sliceCaseReducersByName[T]=P,f}};c.forEach(T=>{const P=l[T],M={reducerName:T,type:H6(r,T),createNotation:typeof i.reducers=="function"};Y6(P)?K6(M,P,f,e):V6(M,P,f)});function h(){const[T={},P=[],M=void 0]=typeof i.extraReducers=="function"?MP(i.extraReducers):[i.extraReducers],_={...T,...d.sliceCaseReducersByType};return j6(i.initialState,L=>{for(let B in _)L.addCase(B,_[B]);for(let B of d.sliceMatchers)L.addMatcher(B.matcher,B.reducer);for(let B of P)L.addMatcher(B.matcher,B.reducer);M&&L.addDefaultCase(M)})}const p=T=>T,g=new Map,y=new WeakMap;let S;function A(T,P){return S||(S=h()),S(T,P)}function E(){return S||(S=h()),S.getInitialState()}function x(T,P=!1){function M(L){let B=L[T];return typeof B>"u"&&P&&(B=of(y,M,E)),B}function _(L=p){const B=of(g,P,()=>new WeakMap);return of(B,L,()=>{const F={};for(const[X,q]of Object.entries(i.selectors??{}))F[X]=$6(q,L,()=>of(y,L,E),P);return F})}return{reducerPath:T,getSelectors:_,get selectors(){return _(M)},selectSlice:M}}const O={name:r,reducer:A,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:E,...x(s),injectInto(T,{reducerPath:P,...M}={}){const _=P??s;return T.inject({reducerPath:_,reducer:A},M),{...O,...x(_,!0)}}};return O}}function $6(n,e,t,i){function r(s,...l){let c=e(s);return typeof c>"u"&&i&&(c=t()),n(c,...l)}return r.unwrapped=n,r}var $n=q6();function G6(){function n(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:n}}function V6({type:n,reducerName:e,createNotation:t},i,r){let s,l;if("reducer"in i){if(t&&!X6(i))throw new Error(oi(17));s=i.reducer,l=i.prepare}else s=i;r.addCase(n,s).exposeCaseReducer(e,s).exposeAction(e,l?Di(n,l):Di(n))}function Y6(n){return n._reducerDefinitionType==="asyncThunk"}function X6(n){return n._reducerDefinitionType==="reducerWithPrepare"}function K6({type:n,reducerName:e},t,i,r){if(!r)throw new Error(oi(18));const{payloadCreator:s,fulfilled:l,pending:c,rejected:d,settled:f,options:h}=t,p=r(n,s,h);i.exposeAction(e,p),l&&i.addCase(p.fulfilled,l),c&&i.addCase(p.pending,c),d&&i.addCase(p.rejected,d),f&&i.addMatcher(p.settled,f),i.exposeCaseReducer(e,{fulfilled:l||lf,pending:c||lf,rejected:d||lf,settled:f||lf})}function lf(){}var W6="task",_P="listener",PP="completed",Rb="cancelled",Z6=`task-${Rb}`,Q6=`task-${PP}`,m0=`${_P}-${Rb}`,J6=`${_P}-${PP}`,Kh=class{constructor(n){this.code=n,this.message=`${W6} ${Rb} (reason: ${n})`}name="TaskAbortError";message},Ib=(n,e)=>{if(typeof n!="function")throw new TypeError(oi(32))},Vf=()=>{},DP=(n,e=Vf)=>(n.catch(e),n),LP=(n,e)=>(n.addEventListener("abort",e,{once:!0}),()=>n.removeEventListener("abort",e)),Cs=n=>{if(n.aborted)throw new Kh(n.reason)};function NP(n,e){let t=Vf;return new Promise((i,r)=>{const s=()=>r(new Kh(n.reason));if(n.aborted){s();return}t=LP(n,s),e.finally(()=>t()).then(i,r)}).finally(()=>{t=Vf})}var e4=async(n,e)=>{try{return await Promise.resolve(),{status:"ok",value:await n()}}catch(t){return{status:t instanceof Kh?"cancelled":"rejected",error:t}}finally{e?.()}},Yf=n=>e=>DP(NP(n,e).then(t=>(Cs(n),t))),RP=n=>{const e=Yf(n);return t=>e(new Promise(i=>setTimeout(i,t)))},{assign:Zo}=Object,fO={},Wh="listenerMiddleware",t4=(n,e)=>{const t=i=>LP(n,()=>i.abort(n.reason));return(i,r)=>{Ib(i);const s=new AbortController;t(s);const l=e4(async()=>{Cs(n),Cs(s.signal);const c=await i({pause:Yf(s.signal),delay:RP(s.signal),signal:s.signal});return Cs(s.signal),c},()=>s.abort(Q6));return r?.autoJoin&&e.push(l.catch(Vf)),{result:Yf(n)(l),cancel(){s.abort(Z6)}}}},n4=(n,e)=>{const t=async(i,r)=>{Cs(e);let s=()=>{};const c=[new Promise((d,f)=>{let h=n({predicate:i,effect:(p,g)=>{g.unsubscribe(),d([p,g.getState(),g.getOriginalState()])}});s=()=>{h(),f()}})];r!=null&&c.push(new Promise(d=>setTimeout(d,r,null)));try{const d=await NP(e,Promise.race(c));return Cs(e),d}finally{s()}};return(i,r)=>DP(t(i,r))},IP=n=>{let{type:e,actionCreator:t,matcher:i,predicate:r,effect:s}=n;if(e)r=Di(e).match;else if(t)e=t.type,r=t.match;else if(i)r=i;else if(!r)throw new Error(oi(21));return Ib(s),{predicate:r,type:e,effect:s}},kP=Zo(n=>{const{type:e,predicate:t,effect:i}=IP(n);return{id:F6(),effect:i,type:e,predicate:t,pending:new Set,unsubscribe:()=>{throw new Error(oi(22))}}},{withTypes:()=>kP}),hO=(n,e)=>{const{type:t,effect:i,predicate:r}=IP(e);return Array.from(n.values()).find(s=>(typeof t=="string"?s.type===t:s.predicate===r)&&s.effect===i)},g0=n=>{n.pending.forEach(e=>{e.abort(m0)})},i4=(n,e)=>()=>{for(const t of e.keys())g0(t);n.clear()},pO=(n,e,t)=>{try{n(e,t)}catch(i){setTimeout(()=>{throw i},0)}},BP=Zo(Di(`${Wh}/add`),{withTypes:()=>BP}),r4=Di(`${Wh}/removeAll`),jP=Zo(Di(`${Wh}/remove`),{withTypes:()=>jP}),a4=(...n)=>{console.error(`${Wh}/error`,...n)},pu=(n={})=>{const e=new Map,t=new Map,i=y=>{const S=t.get(y)??0;t.set(y,S+1)},r=y=>{const S=t.get(y)??1;S===1?t.delete(y):t.set(y,S-1)},{extra:s,onError:l=a4}=n;Ib(l);const c=y=>(y.unsubscribe=()=>e.delete(y.id),e.set(y.id,y),S=>{y.unsubscribe(),S?.cancelActive&&g0(y)}),d=y=>{const S=hO(e,y)??kP(y);return c(S)};Zo(d,{withTypes:()=>d});const f=y=>{const S=hO(e,y);return S&&(S.unsubscribe(),y.cancelActive&&g0(S)),!!S};Zo(f,{withTypes:()=>f});const h=async(y,S,A,E)=>{const x=new AbortController,O=n4(d,x.signal),T=[];try{y.pending.add(x),i(y),await Promise.resolve(y.effect(S,Zo({},A,{getOriginalState:E,condition:(P,M)=>O(P,M).then(Boolean),take:O,delay:RP(x.signal),pause:Yf(x.signal),extra:s,signal:x.signal,fork:t4(x.signal,T),unsubscribe:y.unsubscribe,subscribe:()=>{e.set(y.id,y)},cancelActiveListeners:()=>{y.pending.forEach((P,M,_)=>{P!==x&&(P.abort(m0),_.delete(P))})},cancel:()=>{x.abort(m0),y.pending.delete(x)},throwIfCancelled:()=>{Cs(x.signal)}})))}catch(P){P instanceof Kh||pO(l,P,{raisedBy:"effect"})}finally{await Promise.all(T),x.abort(J6),r(y),y.pending.delete(x)}},p=i4(e,t);return{middleware:y=>S=>A=>{if(!hP(A))return S(A);if(BP.match(A))return d(A.payload);if(r4.match(A)){p();return}if(jP.match(A))return f(A.payload);let E=y.getState();const x=()=>{if(E===fO)throw new Error(oi(23));return E};let O;try{if(O=S(A),e.size>0){const T=y.getState(),P=Array.from(e.values());for(const M of P){let _=!1;try{_=M.predicate(A,T,E)}catch(L){_=!1,pO(l,L,{raisedBy:"predicate"})}_&&h(M,A,y,x)}}}finally{E=fO}return O},startListening:d,stopListening:f,clearListeners:p}};function oi(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var s4={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},zP=$n({name:"chartLayout",initialState:s4,reducers:{setLayout(n,e){n.layoutType=e.payload},setChartSize(n,e){n.width=e.payload.width,n.height=e.payload.height},setMargin(n,e){var t,i,r,s;n.margin.top=(t=e.payload.top)!==null&&t!==void 0?t:0,n.margin.right=(i=e.payload.right)!==null&&i!==void 0?i:0,n.margin.bottom=(r=e.payload.bottom)!==null&&r!==void 0?r:0,n.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(n,e){n.scale=e.payload}}}),{setMargin:o4,setLayout:l4,setChartSize:c4,setScale:u4}=zP.actions,d4=zP.reducer;function FP(n,e,t){return Array.isArray(n)&&n&&e+t!==0?n.slice(e,t+1):n}function Xe(n){return Number.isFinite(n)}function qa(n){return typeof n=="number"&&n>0&&Number.isFinite(n)}function mO(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Go(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?mO(Object(t),!0).forEach(function(i){f4(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):mO(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function f4(n,e,t){return(e=h4(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function h4(n){var e=p4(n,"string");return typeof e=="symbol"?e:e+""}function p4(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function ht(n,e,t){return nn(n)||nn(e)?t:ur(e)?Ls(n,e,t):typeof e=="function"?e(n):t}var m4=(n,e,t)=>{if(e&&t){var{width:i,height:r}=t,{align:s,verticalAlign:l,layout:c}=e;if((c==="vertical"||c==="horizontal"&&l==="middle")&&s!=="center"&&be(n[s]))return Go(Go({},n),{},{[s]:n[s]+(i||0)});if((c==="horizontal"||c==="vertical"&&s==="center")&&l!=="middle"&&be(n[l]))return Go(Go({},n),{},{[l]:n[l]+(r||0)})}return n},Ga=(n,e)=>n==="horizontal"&&e==="xAxis"||n==="vertical"&&e==="yAxis"||n==="centric"&&e==="angleAxis"||n==="radial"&&e==="radiusAxis",g4=(n,e)=>{if(!e||e.length!==2||!be(e[0])||!be(e[1]))return n;var t=Math.min(e[0],e[1]),i=Math.max(e[0],e[1]),r=[n[0],n[1]];return(!be(n[0])||n[0]<t)&&(r[0]=t),(!be(n[1])||n[1]>i)&&(r[1]=i),r[0]>i&&(r[0]=i),r[1]<t&&(r[1]=t),r},v4=n=>{var e,t=n.length;if(!(t<=0)){var i=(e=n[0])===null||e===void 0?void 0:e.length;if(!(i==null||i<=0))for(var r=0;r<i;++r)for(var s=0,l=0,c=0;c<t;++c){var d=n[c],f=d?.[r];if(f!=null){var h=f[1],p=f[0],g=cr(h)?p:h;g>=0?(f[0]=s,s+=g,f[1]=s):(f[0]=l,l+=g,f[1]=l)}}}},y4=n=>{var e,t=n.length;if(!(t<=0)){var i=(e=n[0])===null||e===void 0?void 0:e.length;if(!(i==null||i<=0))for(var r=0;r<i;++r)for(var s=0,l=0;l<t;++l){var c=n[l],d=c?.[r];if(d!=null){var f=cr(d[1])?d[0]:d[1];f>=0?(d[0]=s,s+=f,d[1]=s):(d[0]=0,d[1]=0)}}}},b4={sign:v4,expand:Bz,none:Ds,silhouette:jz,wiggle:zz,positive:y4},A4=(n,e,t)=>{var i,r=(i=b4[t])!==null&&i!==void 0?i:Ds,s=kz().keys(e).value((c,d)=>Number(ht(c,d,0))).order(a0).offset(r),l=s(n);return l.forEach((c,d)=>{c.forEach((f,h)=>{var p=ht(n[h],e[d],0);Array.isArray(p)&&p.length===2&&be(p[0])&&be(p[1])&&(f[0]=p[0],f[1]=p[1])})}),l};function S4(n){return n==null?void 0:String(n)}var gO=n=>{var{axis:e,ticks:t,offset:i,bandSize:r,entry:s,index:l}=n;if(e.type==="category")return t[l]?t[l].coordinate+i:null;var c=ht(s,e.dataKey,e.scale.domain()[l]);if(nn(c))return null;var d=e.scale.map(c);return be(d)?d-r/2+i:null},E4=n=>{var{numericAxis:e}=n,t=e.scale.domain();if(e.type==="number"){var i=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]);return i<=0&&r>=0?0:r<0?r:i}return t[0]},x4=n=>{var e=n.flat(2).filter(be);return[Math.min(...e),Math.max(...e)]},w4=n=>[n[0]===1/0?0:n[0],n[1]===-1/0?0:n[1]],C4=(n,e,t)=>{if(n!=null)return w4(Object.keys(n).reduce((i,r)=>{var s=n[r];if(!s)return i;var{stackedData:l}=s,c=l.reduce((d,f)=>{var h=FP(f,e,t),p=x4(h);return!Xe(p[0])||!Xe(p[1])?d:[Math.min(d[0],p[0]),Math.max(d[1],p[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]))},vO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,yO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Xf=(n,e,t)=>{if(n&&n.scale&&n.scale.bandwidth){var i=n.scale.bandwidth();if(!t||i>0)return i}if(n&&e&&e.length>=2){for(var r=Uh(e,h=>h.coordinate),s=1/0,l=1,c=r.length;l<c;l++){var d=r[l],f=r[l-1];s=Math.min((d?.coordinate||0)-(f?.coordinate||0),s)}return s===1/0?0:s}return t?void 0:0};function bO(n){var{tooltipEntrySettings:e,dataKey:t,payload:i,value:r,name:s}=n;return Go(Go({},e),{},{dataKey:t,payload:i,value:r,name:s})}function Zh(n,e){if(n)return String(n);if(typeof e=="string")return e}var O4=(n,e)=>{if(e==="horizontal")return n.chartX;if(e==="vertical")return n.chartY},T4=(n,e)=>e==="centric"?n.angle:n.radius,Qr=n=>n.layout.width,Jr=n=>n.layout.height,M4=n=>n.layout.scale,UP=n=>n.layout.margin,Qh=Y(n=>n.cartesianAxis.xAxis,n=>Object.values(n)),Jh=Y(n=>n.cartesianAxis.yAxis,n=>Object.values(n)),HP="data-recharts-item-index",qP="data-recharts-item-id",mu=60;function AO(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function cf(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?AO(Object(t),!0).forEach(function(i){_4(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):AO(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function _4(n,e,t){return(e=P4(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function P4(n){var e=D4(n,"string");return typeof e=="symbol"?e:e+""}function D4(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var L4=n=>n.brush.height;function N4(n){var e=Jh(n);return e.reduce((t,i)=>{if(i.orientation==="left"&&!i.mirror&&!i.hide){var r=typeof i.width=="number"?i.width:mu;return t+r}return t},0)}function R4(n){var e=Jh(n);return e.reduce((t,i)=>{if(i.orientation==="right"&&!i.mirror&&!i.hide){var r=typeof i.width=="number"?i.width:mu;return t+r}return t},0)}function I4(n){var e=Qh(n);return e.reduce((t,i)=>i.orientation==="top"&&!i.mirror&&!i.hide?t+i.height:t,0)}function k4(n){var e=Qh(n);return e.reduce((t,i)=>i.orientation==="bottom"&&!i.mirror&&!i.hide?t+i.height:t,0)}var Vt=Y([Qr,Jr,UP,L4,N4,R4,I4,k4,cP,l6],(n,e,t,i,r,s,l,c,d,f)=>{var h={left:(t.left||0)+r,right:(t.right||0)+s},p={top:(t.top||0)+l,bottom:(t.bottom||0)+c},g=cf(cf({},p),h),y=g.bottom;g.bottom+=i,g=m4(g,d,f);var S=n-g.left-g.right,A=e-g.top-g.bottom;return cf(cf({brushBottom:y},g),{},{width:Math.max(S,0),height:Math.max(A,0)})}),B4=Y(Vt,n=>({x:n.left,y:n.top,width:n.width,height:n.height})),kb=Y(Qr,Jr,(n,e)=>({x:0,y:0,width:n,height:e})),j4=C.createContext(null),ci=()=>C.useContext(j4)!=null,ep=n=>n.brush,tp=Y([ep,Vt,UP],(n,e,t)=>({height:n.height,x:be(n.x)?n.x:e.left,y:be(n.y)?n.y:e.top+e.height+e.brushBottom-(t?.bottom||0),width:be(n.width)?n.width:e.width})),sy={},oy={},ly={},SO;function z4(){return SO||(SO=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t,i,{signal:r,edges:s}={}){let l,c=null;const d=s!=null&&s.includes("leading"),f=s==null||s.includes("trailing"),h=()=>{c!==null&&(t.apply(l,c),l=void 0,c=null)},p=()=>{f&&h(),A()};let g=null;const y=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,p()},i)},S=()=>{g!==null&&(clearTimeout(g),g=null)},A=()=>{S(),l=void 0,c=null},E=()=>{h()},x=function(...O){if(r?.aborted)return;l=this,c=O;const T=g==null;y(),d&&T&&h()};return x.schedule=y,x.cancel=A,x.flush=E,r?.addEventListener("abort",A,{once:!0}),x}n.debounce=e})(ly)),ly}var EO;function F4(){return EO||(EO=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=z4();function t(i,r=0,s={}){typeof s!="object"&&(s={});const{leading:l=!1,trailing:c=!0,maxWait:d}=s,f=Array(2);l&&(f[0]="leading"),c&&(f[1]="trailing");let h,p=null;const g=e.debounce(function(...A){h=i.apply(this,A),p=null},r,{edges:f}),y=function(...A){return d!=null&&(p===null&&(p=Date.now()),Date.now()-p>=d)?(h=i.apply(this,A),p=Date.now(),g.cancel(),g.schedule(),h):(g.apply(this,A),h)},S=()=>(g.flush(),h);return y.cancel=g.cancel,y.flush=S,y}n.debounce=t})(oy)),oy}var xO;function U4(){return xO||(xO=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=F4();function t(i,r=0,s={}){const{leading:l=!0,trailing:c=!0}=s;return e.debounce(i,r,{leading:l,maxWait:r,trailing:c})}n.throttle=t})(sy)),sy}var cy,wO;function H4(){return wO||(wO=1,cy=U4().throttle),cy}var q4=H4();const $4=Zr(q4);var CO=function(e,t){for(var i=arguments.length,r=new Array(i>2?i-2:0),s=2;s<i;s++)r[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(t===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(t===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(t.replace(/%s/g,()=>r[l++]))}},rr={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},$P=(n,e,t)=>{var{width:i=rr.width,height:r=rr.height,aspect:s,maxHeight:l}=t,c=Ns(i)?n:Number(i),d=Ns(r)?e:Number(r);return s&&s>0&&(c?d=c/s:d&&(c=d*s),l&&d!=null&&d>l&&(d=l)),{calculatedWidth:c,calculatedHeight:d}},G4={width:0,height:0,overflow:"visible"},V4={width:0,overflowX:"visible"},Y4={height:0,overflowY:"visible"},X4={},K4=n=>{var{width:e,height:t}=n,i=Ns(e),r=Ns(t);return i&&r?G4:i?V4:r?Y4:X4};function W4(n){var{width:e,height:t,aspect:i}=n,r=e,s=t;return r===void 0&&s===void 0?(r=rr.width,s=rr.height):r===void 0?r=i&&i>0?void 0:rr.width:s===void 0&&(s=i&&i>0?void 0:rr.height),{width:r,height:s}}function v0(){return v0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},v0.apply(null,arguments)}function OO(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function TO(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?OO(Object(t),!0).forEach(function(i){Z4(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):OO(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Z4(n,e,t){return(e=Q4(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Q4(n){var e=J4(n,"string");return typeof e=="symbol"?e:e+""}function J4(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var GP=C.createContext(rr.initialDimension);function eF(n){return qa(n.width)&&qa(n.height)}function VP(n){var{children:e,width:t,height:i}=n,r=C.useMemo(()=>({width:t,height:i}),[t,i]);return eF(r)?C.createElement(GP.Provider,{value:r},e):null}var Bb=()=>C.useContext(GP),tF=C.forwardRef((n,e)=>{var{aspect:t,initialDimension:i=rr.initialDimension,width:r,height:s,minWidth:l=rr.minWidth,minHeight:c,maxHeight:d,children:f,debounce:h=rr.debounce,id:p,className:g,onResize:y,style:S={}}=n,A=C.useRef(null),E=C.useRef();E.current=y,C.useImperativeHandle(e,()=>A.current);var[x,O]=C.useState({containerWidth:i.width,containerHeight:i.height}),T=C.useCallback((B,F)=>{O(X=>{var q=Math.round(B),$=Math.round(F);return X.containerWidth===q&&X.containerHeight===$?X:{containerWidth:q,containerHeight:$}})},[]);C.useEffect(()=>{if(A.current==null||typeof ResizeObserver>"u")return ul;var B=$=>{var se,re=$[0];if(re!=null){var{width:ce,height:j}=re.contentRect;T(ce,j),(se=E.current)===null||se===void 0||se.call(E,ce,j)}};h>0&&(B=$4(B,h,{trailing:!0,leading:!1}));var F=new ResizeObserver(B),{width:X,height:q}=A.current.getBoundingClientRect();return T(X,q),F.observe(A.current),()=>{F.disconnect()}},[T,h]);var{containerWidth:P,containerHeight:M}=x;CO(!t||t>0,"The aspect(%s) must be greater than zero.",t);var{calculatedWidth:_,calculatedHeight:L}=$P(P,M,{width:r,height:s,aspect:t,maxHeight:d});return CO(_!=null&&_>0||L!=null&&L>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,_,L,r,s,l,c,t),C.createElement("div",{id:p?"".concat(p):void 0,className:Je("recharts-responsive-container",g),style:TO(TO({},S),{},{width:r,height:s,minWidth:l,minHeight:c,maxHeight:d}),ref:A},C.createElement("div",{style:K4({width:r,height:s})},C.createElement(VP,{width:_,height:L},f)))}),Lr=C.forwardRef((n,e)=>{var t=Bb();if(qa(t.width)&&qa(t.height))return n.children;var{width:i,height:r}=W4({width:n.width,height:n.height,aspect:n.aspect}),{calculatedWidth:s,calculatedHeight:l}=$P(void 0,void 0,{width:i,height:r,aspect:n.aspect,maxHeight:n.maxHeight});return be(s)&&be(l)?C.createElement(VP,{width:s,height:l},n.children):C.createElement(tF,v0({},n,{width:i,height:r,ref:e}))});function jb(n){if(n)return{x:n.x,y:n.y,upperWidth:"upperWidth"in n?n.upperWidth:n.width,lowerWidth:"lowerWidth"in n?n.lowerWidth:n.width,width:n.width,height:n.height}}var np=()=>{var n,e=ci(),t=ye(B4),i=ye(tp),r=(n=ye(ep))===null||n===void 0?void 0:n.padding;return!e||!i||!r?t:{width:i.width-r.left-r.right,height:i.height-r.top-r.bottom,x:r.left,y:r.top}},nF={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},iF=()=>{var n;return(n=ye(Vt))!==null&&n!==void 0?n:nF},YP=()=>ye(Qr),XP=()=>ye(Jr),rF=()=>ye(n=>n.layout.margin),Ke=n=>n.layout.layoutType,dl=()=>ye(Ke),KP=()=>{var n=dl();if(n==="horizontal"||n==="vertical")return n},WP=n=>{var e=n.layout.layoutType;if(e==="centric"||e==="radial")return e},aF=()=>{var n=dl();return n!==void 0},gu=n=>{var e=lt(),t=ci(),{width:i,height:r}=n,s=Bb(),l=i,c=r;return s&&(l=s.width>0?s.width:i,c=s.height>0?s.height:r),C.useEffect(()=>{!t&&qa(l)&&qa(c)&&e(c4({width:l,height:c}))},[e,t,l,c]),null},ZP=Symbol.for("immer-nothing"),MO=Symbol.for("immer-draftable"),li=Symbol.for("immer-state");function zi(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var Kc=Object.getPrototypeOf;function nl(n){return!!n&&!!n[li]}function Is(n){return n?QP(n)||Array.isArray(n)||!!n[MO]||!!n.constructor?.[MO]||vu(n)||rp(n):!1}var sF=Object.prototype.constructor.toString(),_O=new WeakMap;function QP(n){if(!n||typeof n!="object")return!1;const e=Object.getPrototypeOf(n);if(e===null||e===Object.prototype)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(t===Object)return!0;if(typeof t!="function")return!1;let i=_O.get(t);return i===void 0&&(i=Function.toString.call(t),_O.set(t,i)),i===sF}function Kf(n,e,t=!0){ip(n)===0?(t?Reflect.ownKeys(n):Object.keys(n)).forEach(r=>{e(r,n[r],n)}):n.forEach((i,r)=>e(r,i,n))}function ip(n){const e=n[li];return e?e.type_:Array.isArray(n)?1:vu(n)?2:rp(n)?3:0}function y0(n,e){return ip(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function JP(n,e,t){const i=ip(n);i===2?n.set(e,t):i===3?n.add(t):n[e]=t}function oF(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function vu(n){return n instanceof Map}function rp(n){return n instanceof Set}function gs(n){return n.copy_||n.base_}function b0(n,e){if(vu(n))return new Map(n);if(rp(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const t=QP(n);if(e===!0||e==="class_only"&&!t){const i=Object.getOwnPropertyDescriptors(n);delete i[li];let r=Reflect.ownKeys(i);for(let s=0;s<r.length;s++){const l=r[s],c=i[l];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(i[l]={configurable:!0,writable:!0,enumerable:c.enumerable,value:n[l]})}return Object.create(Kc(n),i)}else{const i=Kc(n);if(i!==null&&t)return{...n};const r=Object.create(i);return Object.assign(r,n)}}function zb(n,e=!1){return ap(n)||nl(n)||!Is(n)||(ip(n)>1&&Object.defineProperties(n,{set:uf,add:uf,clear:uf,delete:uf}),Object.freeze(n),e&&Object.values(n).forEach(t=>zb(t,!0))),n}function lF(){zi(2)}var uf={value:lF};function ap(n){return n===null||typeof n!="object"?!0:Object.isFrozen(n)}var cF={};function ks(n){const e=cF[n];return e||zi(0,n),e}var Wc;function eD(){return Wc}function uF(n,e){return{drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function PO(n,e){e&&(ks("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function A0(n){S0(n),n.drafts_.forEach(dF),n.drafts_=null}function S0(n){n===Wc&&(Wc=n.parent_)}function DO(n){return Wc=uF(Wc,n)}function dF(n){const e=n[li];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function LO(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return n!==void 0&&n!==t?(t[li].modified_&&(A0(e),zi(4)),Is(n)&&(n=Wf(e,n),e.parent_||Zf(e,n)),e.patches_&&ks("Patches").generateReplacementPatches_(t[li].base_,n,e.patches_,e.inversePatches_)):n=Wf(e,t,[]),A0(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==ZP?n:void 0}function Wf(n,e,t){if(ap(e))return e;const i=n.immer_.shouldUseStrictIteration(),r=e[li];if(!r)return Kf(e,(s,l)=>NO(n,r,e,s,l,t),i),e;if(r.scope_!==n)return e;if(!r.modified_)return Zf(n,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const s=r.copy_;let l=s,c=!1;r.type_===3&&(l=new Set(s),s.clear(),c=!0),Kf(l,(d,f)=>NO(n,r,s,d,f,t,c),i),Zf(n,s,!1),t&&n.patches_&&ks("Patches").generatePatches_(r,t,n.patches_,n.inversePatches_)}return r.copy_}function NO(n,e,t,i,r,s,l){if(r==null||typeof r!="object"&&!l)return;const c=ap(r);if(!(c&&!l)){if(nl(r)){const d=s&&e&&e.type_!==3&&!y0(e.assigned_,i)?s.concat(i):void 0,f=Wf(n,r,d);if(JP(t,i,f),nl(f))n.canAutoFreeze_=!1;else return}else l&&t.add(r);if(Is(r)&&!c){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||e&&e.base_&&e.base_[i]===r&&c)return;Wf(n,r),(!e||!e.scope_.parent_)&&typeof i!="symbol"&&(vu(t)?t.has(i):Object.prototype.propertyIsEnumerable.call(t,i))&&Zf(n,r)}}}function Zf(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&zb(e,t)}function fF(n,e){const t=Array.isArray(n),i={type_:t?1:0,scope_:e?e.scope_:eD(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let r=i,s=Fb;t&&(r=[i],s=Zc);const{revoke:l,proxy:c}=Proxy.revocable(r,s);return i.draft_=c,i.revoke_=l,c}var Fb={get(n,e){if(e===li)return n;const t=gs(n);if(!y0(t,e))return hF(n,t,e);const i=t[e];return n.finalized_||!Is(i)?i:i===uy(n.base_,e)?(dy(n),n.copy_[e]=x0(i,n)):i},has(n,e){return e in gs(n)},ownKeys(n){return Reflect.ownKeys(gs(n))},set(n,e,t){const i=tD(gs(n),e);if(i?.set)return i.set.call(n.draft_,t),!0;if(!n.modified_){const r=uy(gs(n),e),s=r?.[li];if(s&&s.base_===t)return n.copy_[e]=t,n.assigned_[e]=!1,!0;if(oF(t,r)&&(t!==void 0||y0(n.base_,e)))return!0;dy(n),E0(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_[e]=!0),!0},deleteProperty(n,e){return uy(n.base_,e)!==void 0||e in n.base_?(n.assigned_[e]=!1,dy(n),E0(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=gs(n),i=Reflect.getOwnPropertyDescriptor(t,e);return i&&{writable:!0,configurable:n.type_!==1||e!=="length",enumerable:i.enumerable,value:t[e]}},defineProperty(){zi(11)},getPrototypeOf(n){return Kc(n.base_)},setPrototypeOf(){zi(12)}},Zc={};Kf(Fb,(n,e)=>{Zc[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Zc.deleteProperty=function(n,e){return Zc.set.call(this,n,e,void 0)};Zc.set=function(n,e,t){return Fb.set.call(this,n[0],e,t,n[0])};function uy(n,e){const t=n[li];return(t?gs(t):n)[e]}function hF(n,e,t){const i=tD(e,t);return i?"value"in i?i.value:i.get?.call(n.draft_):void 0}function tD(n,e){if(!(e in n))return;let t=Kc(n);for(;t;){const i=Object.getOwnPropertyDescriptor(t,e);if(i)return i;t=Kc(t)}}function E0(n){n.modified_||(n.modified_=!0,n.parent_&&E0(n.parent_))}function dy(n){n.copy_||(n.copy_=b0(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var pF=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,t,i)=>{if(typeof e=="function"&&typeof t!="function"){const s=t;t=e;const l=this;return function(d=s,...f){return l.produce(d,h=>t.call(this,h,...f))}}typeof t!="function"&&zi(6),i!==void 0&&typeof i!="function"&&zi(7);let r;if(Is(e)){const s=DO(this),l=x0(e,void 0);let c=!0;try{r=t(l),c=!1}finally{c?A0(s):S0(s)}return PO(s,i),LO(r,s)}else if(!e||typeof e!="object"){if(r=t(e),r===void 0&&(r=e),r===ZP&&(r=void 0),this.autoFreeze_&&zb(r,!0),i){const s=[],l=[];ks("Patches").generateReplacementPatches_(e,r,s,l),i(s,l)}return r}else zi(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(l,...c)=>this.produceWithPatches(l,d=>e(d,...c));let i,r;return[this.produce(e,t,(l,c)=>{i=l,r=c}),i,r]},typeof n?.autoFreeze=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof n?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy),typeof n?.useStrictIteration=="boolean"&&this.setUseStrictIteration(n.useStrictIteration)}createDraft(n){Is(n)||zi(8),nl(n)&&(n=mF(n));const e=DO(this),t=x0(n,void 0);return t[li].isManual_=!0,S0(e),t}finishDraft(n,e){const t=n&&n[li];(!t||!t.isManual_)&&zi(9);const{scope_:i}=t;return PO(i,e),LO(void 0,i)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}setUseStrictIteration(n){this.useStrictIteration_=n}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const r=e[t];if(r.path.length===0&&r.op==="replace"){n=r.value;break}}t>-1&&(e=e.slice(t+1));const i=ks("Patches").applyPatches_;return nl(n)?i(n,e):this.produce(n,r=>i(r,e))}};function x0(n,e){const t=vu(n)?ks("MapSet").proxyMap_(n,e):rp(n)?ks("MapSet").proxySet_(n,e):fF(n,e);return(e?e.scope_:eD()).drafts_.push(t),t}function mF(n){return nl(n)||zi(10,n),nD(n)}function nD(n){if(!Is(n)||ap(n))return n;const e=n[li];let t,i=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=b0(n,e.scope_.immer_.useStrictShallowCopy_),i=e.scope_.immer_.shouldUseStrictIteration()}else t=b0(n,!0);return Kf(t,(r,s)=>{JP(t,r,nD(s))},i),e&&(e.finalized_=!1),t}var gF=new pF;gF.produce;var vF={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},iD=$n({name:"legend",initialState:vF,reducers:{setLegendSize(n,e){n.size.width=e.payload.width,n.size.height=e.payload.height},setLegendSettings(n,e){n.settings.align=e.payload.align,n.settings.layout=e.payload.layout,n.settings.verticalAlign=e.payload.verticalAlign,n.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(n,e){n.payload.push(e.payload)},prepare:vt()},replaceLegendPayload:{reducer(n,e){var{prev:t,next:i}=e.payload,r=Ui(n).payload.indexOf(t);r>-1&&(n.payload[r]=i)},prepare:vt()},removeLegendPayload:{reducer(n,e){var t=Ui(n).payload.indexOf(e.payload);t>-1&&n.payload.splice(t,1)},prepare:vt()}}}),{setLegendSize:RO,setLegendSettings:yF,addLegendPayload:rD,replaceLegendPayload:aD,removeLegendPayload:sD}=iD.actions,bF=iD.reducer,AF=["contextPayload"];function w0(){return w0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},w0.apply(null,arguments)}function IO(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function il(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?IO(Object(t),!0).forEach(function(i){SF(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):IO(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function SF(n,e,t){return(e=EF(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function EF(n){var e=xF(n,"string");return typeof e=="symbol"?e:e+""}function xF(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function wF(n,e){if(n==null)return{};var t,i,r=CF(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function CF(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function OF(n){return n.value}function TF(n){var{contextPayload:e}=n,t=wF(n,AF),i=aP(e,n.payloadUniqBy,OF),r=il(il({},t),{},{payload:i});return C.isValidElement(n.content)?C.cloneElement(n.content,r):typeof n.content=="function"?C.createElement(n.content,r):C.createElement(g3,r)}function MF(n,e,t,i,r,s){var{layout:l,align:c,verticalAlign:d}=e,f,h;return(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))&&(c==="center"&&l==="vertical"?f={left:((i||0)-s.width)/2}:f=c==="right"?{right:t&&t.right||0}:{left:t&&t.left||0}),(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))&&(d==="middle"?h={top:((r||0)-s.height)/2}:h=d==="bottom"?{bottom:t&&t.bottom||0}:{top:t&&t.top||0}),il(il({},f),h)}function _F(n){var e=lt();return C.useEffect(()=>{e(yF(n))},[e,n]),null}function PF(n){var e=lt();return C.useEffect(()=>(e(RO(n)),()=>{e(RO({width:0,height:0}))}),[e,n]),null}function DF(n,e,t,i){return n==="vertical"&&e!=null?{height:e}:n==="horizontal"?{width:t||i}:null}var LF={align:"center",iconSize:14,inactiveColor:"#ccc",itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function C0(n){var e=bn(n,LF),t=d6(),i=sz(),r=rF(),{width:s,height:l,wrapperStyle:c,portal:d}=e,[f,h]=uP([t]),p=YP(),g=XP();if(p==null||g==null)return null;var y=p-(r?.left||0)-(r?.right||0),S=DF(e.layout,l,s,y),A=d?c:il(il({position:"absolute",width:S?.width||s||"auto",height:S?.height||l||"auto"},MF(c,e,r,p,g,f)),c),E=d??i;if(E==null||t==null)return null;var x=C.createElement("div",{className:"recharts-legend-wrapper",style:A,ref:h},C.createElement(_F,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),!d&&C.createElement(PF,{width:f.width,height:f.height}),C.createElement(TF,w0({},e,S,{margin:r,chartWidth:p,chartHeight:g,contextPayload:t})));return bb.createPortal(x,E)}C0.displayName="Legend";function O0(){return O0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},O0.apply(null,arguments)}function kO(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Sc(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?kO(Object(t),!0).forEach(function(i){NF(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):kO(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function NF(n,e,t){return(e=RF(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function RF(n){var e=IF(n,"string");return typeof e=="symbol"?e:e+""}function IF(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function kF(n){return Array.isArray(n)&&ur(n[0])&&ur(n[1])?n.join(" ~ "):n}var Lo={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},BF=n=>{var{separator:e=Lo.separator,contentStyle:t,itemStyle:i,labelStyle:r=Lo.labelStyle,payload:s,formatter:l,itemSorter:c,wrapperClassName:d,labelClassName:f,label:h,labelFormatter:p,accessibilityLayer:g=Lo.accessibilityLayer}=n,y=()=>{if(s&&s.length){var M={padding:0,margin:0},_=(c?Uh(s,c):s).map((L,B)=>{if(L.type==="none")return null;var F=L.formatter||l||kF,{value:X,name:q}=L,$=X,se=q;if(F){var re=F(X,q,L,B,s);if(Array.isArray(re))[$,se]=re;else if(re!=null)$=re;else return null}var ce=Sc(Sc({},Lo.itemStyle),{},{color:L.color||Lo.itemStyle.color},i);return C.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(B),style:ce},ur(se)?C.createElement("span",{className:"recharts-tooltip-item-name"},se):null,ur(se)?C.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,C.createElement("span",{className:"recharts-tooltip-item-value"},$),C.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return C.createElement("ul",{className:"recharts-tooltip-item-list",style:M},_)}return null},S=Sc(Sc({},Lo.contentStyle),t),A=Sc({margin:0},r),E=!nn(h),x=E?h:"",O=Je("recharts-default-tooltip",d),T=Je("recharts-tooltip-label",f);E&&p&&s!==void 0&&s!==null&&(x=p(h,s));var P=g?{role:"status","aria-live":"assertive"}:{};return C.createElement("div",O0({className:O,style:S},P),C.createElement("p",{className:T,style:A},C.isValidElement(x)?x:"".concat(x)),y())},Ec="recharts-tooltip-wrapper",jF={visibility:"hidden"};function zF(n){var{coordinate:e,translateX:t,translateY:i}=n;return Je(Ec,{["".concat(Ec,"-right")]:be(t)&&e&&be(e.x)&&t>=e.x,["".concat(Ec,"-left")]:be(t)&&e&&be(e.x)&&t<e.x,["".concat(Ec,"-bottom")]:be(i)&&e&&be(e.y)&&i>=e.y,["".concat(Ec,"-top")]:be(i)&&e&&be(e.y)&&i<e.y})}function BO(n){var{allowEscapeViewBox:e,coordinate:t,key:i,offset:r,position:s,reverseDirection:l,tooltipDimension:c,viewBox:d,viewBoxDimension:f}=n;if(s&&be(s[i]))return s[i];var h=t[i]-c-(r>0?r:0),p=t[i]+r;if(e[i])return l[i]?h:p;var g=d[i];if(g==null)return 0;if(l[i]){var y=h,S=g;return y<S?Math.max(p,g):Math.max(h,g)}if(f==null)return 0;var A=p+c,E=g+f;return A>E?Math.max(h,g):Math.max(p,g)}function FF(n){var{translateX:e,translateY:t,useTranslate3d:i}=n;return{transform:i?"translate3d(".concat(e,"px, ").concat(t,"px, 0)"):"translate(".concat(e,"px, ").concat(t,"px)")}}function UF(n){var{allowEscapeViewBox:e,coordinate:t,offsetTop:i,offsetLeft:r,position:s,reverseDirection:l,tooltipBox:c,useTranslate3d:d,viewBox:f}=n,h,p,g;return c.height>0&&c.width>0&&t?(p=BO({allowEscapeViewBox:e,coordinate:t,key:"x",offset:r,position:s,reverseDirection:l,tooltipDimension:c.width,viewBox:f,viewBoxDimension:f.width}),g=BO({allowEscapeViewBox:e,coordinate:t,key:"y",offset:i,position:s,reverseDirection:l,tooltipDimension:c.height,viewBox:f,viewBoxDimension:f.height}),h=FF({translateX:p,translateY:g,useTranslate3d:d})):h=jF,{cssProperties:h,cssClasses:zF({translateX:p,translateY:g,coordinate:t})}}function jO(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function df(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?jO(Object(t),!0).forEach(function(i){T0(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):jO(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function T0(n,e,t){return(e=HF(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function HF(n){var e=qF(n,"string");return typeof e=="symbol"?e:e+""}function qF(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class $F extends C.PureComponent{constructor(){super(...arguments),T0(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),T0(this,"handleKeyDown",e=>{if(e.key==="Escape"){var t,i,r,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(t=(i=this.props.coordinate)===null||i===void 0?void 0:i.x)!==null&&t!==void 0?t:0,y:(r=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&r!==void 0?r:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,t;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((t=this.props.coordinate)===null||t===void 0?void 0:t.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:t,animationDuration:i,animationEasing:r,children:s,coordinate:l,hasPayload:c,isAnimationActive:d,offset:f,position:h,reverseDirection:p,useTranslate3d:g,viewBox:y,wrapperStyle:S,lastBoundingBox:A,innerRef:E,hasPortalFromProps:x}=this.props,O=typeof f=="number"?f:f.x,T=typeof f=="number"?f:f.y,{cssClasses:P,cssProperties:M}=UF({allowEscapeViewBox:t,coordinate:l,offsetLeft:O,offsetTop:T,position:h,reverseDirection:p,tooltipBox:{height:A.height,width:A.width},useTranslate3d:g,viewBox:y}),_=x?{}:df(df({transition:d&&e?"transform ".concat(i,"ms ").concat(r):void 0},M),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&c?"visible":"hidden",position:"absolute",top:0,left:0}),L=df(df({},_),{},{visibility:!this.state.dismissed&&e&&c?"visible":"hidden"},S);return C.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:P,style:L,ref:E},s)}}var oD=()=>{var n;return(n=ye(e=>e.rootProps.accessibilityLayer))!==null&&n!==void 0?n:!0};function M0(){return M0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},M0.apply(null,arguments)}function zO(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function FO(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?zO(Object(t),!0).forEach(function(i){GF(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):zO(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function GF(n,e,t){return(e=VF(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function VF(n){var e=YF(n,"string");return typeof e=="symbol"?e:e+""}function YF(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var UO={curveBasisClosed:Cz,curveBasisOpen:Oz,curveBasis:wz,curveBumpX:uz,curveBumpY:dz,curveLinearClosed:Tz,curveLinear:zh,curveMonotoneX:Mz,curveMonotoneY:_z,curveNatural:Pz,curveStep:Dz,curveStepAfter:Nz,curveStepBefore:Lz},Qf=n=>Xe(n.x)&&Xe(n.y),HO=n=>n.base!=null&&Qf(n.base)&&Qf(n),xc=n=>n.x,wc=n=>n.y,XF=(n,e)=>{if(typeof n=="function")return n;var t="curve".concat(du(n));if((t==="curveMonotone"||t==="curveBump")&&e){var i=UO["".concat(t).concat(e==="vertical"?"Y":"X")];if(i)return i}return UO[t]||zh},qO={connectNulls:!1,type:"linear"},KF=n=>{var{type:e=qO.type,points:t=[],baseLine:i,layout:r,connectNulls:s=qO.connectNulls}=n,l=XF(e,r),c=s?t.filter(Qf):t;if(Array.isArray(i)){var d,f=t.map((S,A)=>FO(FO({},S),{},{base:i[A]}));r==="vertical"?d=nf().y(wc).x1(xc).x0(S=>S.base.x):d=nf().x(xc).y1(wc).y0(S=>S.base.y);var h=d.defined(HO).curve(l),p=s?f.filter(HO):f;return h(p)}var g;r==="vertical"&&be(i)?g=nf().y(wc).x1(xc).x0(i):be(i)?g=nf().x(xc).y1(wc).y0(i):g=k2().x(xc).y(wc);var y=g.defined(Qf).curve(l);return y(c)},Ub=n=>{var{className:e,points:t,path:i,pathRef:r}=n,s=dl();if((!t||!t.length)&&!i)return null;var l={type:n.type,points:n.points,baseLine:n.baseLine,layout:n.layout||s,connectNulls:n.connectNulls},c=t&&t.length?KF(l):i;return C.createElement("path",M0({},lr(n),i3(n),{className:Je("recharts-curve",e),d:c===null?void 0:c,ref:r}))},WF=["x","y","top","left","width","height","className"];function _0(){return _0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},_0.apply(null,arguments)}function $O(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function ZF(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?$O(Object(t),!0).forEach(function(i){QF(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):$O(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function QF(n,e,t){return(e=JF(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function JF(n){var e=eU(n,"string");return typeof e=="symbol"?e:e+""}function eU(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function tU(n,e){if(n==null)return{};var t,i,r=nU(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function nU(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var iU=(n,e,t,i,r,s)=>"M".concat(n,",").concat(r,"v").concat(i,"M").concat(s,",").concat(e,"h").concat(t),rU=n=>{var{x:e=0,y:t=0,top:i=0,left:r=0,width:s=0,height:l=0,className:c}=n,d=tU(n,WF),f=ZF({x:e,y:t,top:i,left:r,width:s,height:l},d);return!be(e)||!be(t)||!be(s)||!be(l)||!be(i)||!be(r)?null:C.createElement("path",_0({},Pi(f),{className:Je("recharts-cross",c),d:iU(e,t,s,l,i,r)}))};function aU(n,e,t,i){var r=i/2;return{stroke:"none",fill:"#ccc",x:n==="horizontal"?e.x-r:t.left+.5,y:n==="horizontal"?t.top+.5:e.y-r,width:n==="horizontal"?i:t.width-1,height:n==="horizontal"?t.height-1:i}}function GO(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function VO(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?GO(Object(t),!0).forEach(function(i){sU(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):GO(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function sU(n,e,t){return(e=oU(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function oU(n){var e=lU(n,"string");return typeof e=="symbol"?e:e+""}function lU(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var cU=n=>n.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),lD=(n,e,t)=>n.map(i=>"".concat(cU(i)," ").concat(e,"ms ").concat(t)).join(","),uU=(n,e)=>[Object.keys(n),Object.keys(e)].reduce((t,i)=>t.filter(r=>i.includes(r))),Qc=(n,e)=>Object.keys(e).reduce((t,i)=>VO(VO({},t),{},{[i]:n(i,e[i])}),{});function YO(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function $t(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?YO(Object(t),!0).forEach(function(i){dU(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):YO(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function dU(n,e,t){return(e=fU(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function fU(n){var e=hU(n,"string");return typeof e=="symbol"?e:e+""}function hU(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Jf=(n,e,t)=>n+(e-n)*t,P0=n=>{var{from:e,to:t}=n;return e!==t},cD=(n,e,t)=>{var i=Qc((r,s)=>{if(P0(s)){var[l,c]=n(s.from,s.to,s.velocity);return $t($t({},s),{},{from:l,velocity:c})}return s},e);return t<1?Qc((r,s)=>P0(s)&&i[r]!=null?$t($t({},s),{},{velocity:Jf(s.velocity,i[r].velocity,t),from:Jf(s.from,i[r].from,t)}):s,e):cD(n,i,t-1)};function pU(n,e,t,i,r,s){var l,c=i.reduce((g,y)=>$t($t({},g),{},{[y]:{from:n[y],velocity:0,to:e[y]}}),{}),d=()=>Qc((g,y)=>y.from,c),f=()=>!Object.values(c).filter(P0).length,h=null,p=g=>{l||(l=g);var y=g-l,S=y/t.dt;c=cD(t,c,S),r($t($t($t({},n),e),d())),l=g,f()||(h=s.setTimeout(p))};return()=>(h=s.setTimeout(p),()=>{var g;(g=h)===null||g===void 0||g()})}function mU(n,e,t,i,r,s,l){var c=null,d=r.reduce((p,g)=>{var y=n[g],S=e[g];return y==null||S==null?p:$t($t({},p),{},{[g]:[y,S]})},{}),f,h=p=>{f||(f=p);var g=(p-f)/i,y=Qc((A,E)=>Jf(...E,t(g)),d);if(s($t($t($t({},n),e),y)),g<1)c=l.setTimeout(h);else{var S=Qc((A,E)=>Jf(...E,t(1)),d);s($t($t($t({},n),e),S))}};return()=>(c=l.setTimeout(h),()=>{var p;(p=c)===null||p===void 0||p()})}const gU=(n,e,t,i,r,s)=>{var l=uU(n,e);return t==null?()=>(r($t($t({},n),e)),()=>{}):t.isStepper===!0?pU(n,e,t,l,r,s):mU(n,e,t,i,l,r,s)};var eh=1e-4,uD=(n,e)=>[0,3*n,3*e-6*n,3*n-3*e+1],dD=(n,e)=>n.map((t,i)=>t*e**i).reduce((t,i)=>t+i),XO=(n,e)=>t=>{var i=uD(n,e);return dD(i,t)},vU=(n,e)=>t=>{var i=uD(n,e),r=[...i.map((s,l)=>s*l).slice(1),0];return dD(r,t)},yU=n=>{var e,t=n.split("(");if(t.length!==2||t[0]!=="cubic-bezier")return null;var i=(e=t[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(i==null||i.length!==4)return null;var r=i.map(s=>parseFloat(s));return[r[0],r[1],r[2],r[3]]},bU=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];if(t.length===1)switch(t[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var r=yU(t[0]);if(r)return r}}return t.length===4?t:[0,0,1,1]},AU=(n,e,t,i)=>{var r=XO(n,t),s=XO(e,i),l=vU(n,t),c=f=>f>1?1:f<0?0:f,d=f=>{for(var h=f>1?1:f,p=h,g=0;g<8;++g){var y=r(p)-h,S=l(p);if(Math.abs(y-h)<eh||S<eh)return s(p);p=c(p-y/S)}return s(p)};return d.isStepper=!1,d},KO=function(){return AU(...bU(...arguments))},SU=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:t=100,damping:i=8,dt:r=17}=e,s=(l,c,d)=>{var f=-(l-c)*t,h=d*i,p=d+(f-h)*r/1e3,g=d*r/1e3+l;return Math.abs(g-c)<eh&&Math.abs(p)<eh?[c,0]:[g,p]};return s.isStepper=!0,s.dt=r,s},EU=n=>{if(typeof n=="string")switch(n){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return KO(n);case"spring":return SU();default:if(n.split("(")[0]==="cubic-bezier")return KO(n)}return typeof n=="function"?n:null};function xU(n){var e,t=()=>null,i=!1,r=null,s=l=>{if(!i){if(Array.isArray(l)){if(!l.length)return;var c=l,[d,...f]=c;if(typeof d=="number"){r=n.setTimeout(s.bind(null,f),d);return}s(d),r=n.setTimeout(s.bind(null,f));return}typeof l=="string"&&(e=l,t(e)),typeof l=="object"&&(e=l,t(e)),typeof l=="function"&&l()}};return{stop:()=>{i=!0},start:l=>{i=!1,r&&(r(),r=null),s(l)},subscribe:l=>(t=l,()=>{t=()=>null}),getTimeoutController:()=>n}}class wU{setTimeout(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=performance.now(),r=null,s=l=>{l-i>=t?e(l):typeof requestAnimationFrame=="function"&&(r=requestAnimationFrame(s))};return r=requestAnimationFrame(s),()=>{r!=null&&cancelAnimationFrame(r)}}}function CU(){return xU(new wU)}var OU=C.createContext(CU);function TU(n,e){var t=C.useContext(OU);return C.useMemo(()=>e??t(n),[n,e,t])}var MU=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),sp={isSsr:MU()},_U={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},WO={t:0},fy={t:1};function op(n){var e=bn(n,_U),{isActive:t,canBegin:i,duration:r,easing:s,begin:l,onAnimationEnd:c,onAnimationStart:d,children:f}=e,h=t==="auto"?!sp.isSsr:t,p=TU(e.animationId,e.animationManager),[g,y]=C.useState(h?WO:fy),S=C.useRef(null);return C.useEffect(()=>{h||y(fy)},[h]),C.useEffect(()=>{if(!h||!i)return ul;var A=gU(WO,fy,EU(s),r,y,p.getTimeoutController()),E=()=>{S.current=A()};return p.start([d,l,E,r,c]),()=>{p.stop(),S.current&&S.current(),c()}},[h,i,r,s,l,d,c,p]),f(g.t)}function lp(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",t=C.useRef(Gc(e)),i=C.useRef(n);return i.current!==n&&(t.current=Gc(e),i.current=n),t.current}var PU=["radius"],DU=["radius"],ZO,QO,JO,eT,tT,nT,iT,rT,aT,sT;function oT(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function lT(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?oT(Object(t),!0).forEach(function(i){LU(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):oT(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function LU(n,e,t){return(e=NU(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function NU(n){var e=RU(n,"string");return typeof e=="symbol"?e:e+""}function RU(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function th(){return th=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},th.apply(null,arguments)}function cT(n,e){if(n==null)return{};var t,i,r=IU(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function IU(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function Qi(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}var uT=(n,e,t,i,r)=>{var s=ja(t),l=ja(i),c=Math.min(Math.abs(s)/2,Math.abs(l)/2),d=l>=0?1:-1,f=s>=0?1:-1,h=l>=0&&s>=0||l<0&&s<0?1:0,p;if(c>0&&Array.isArray(r)){for(var g=[0,0,0,0],y=0,S=4;y<S;y++){var A,E=(A=r[y])!==null&&A!==void 0?A:0;g[y]=E>c?c:E}p=Ct(ZO||(ZO=Qi(["M",",",""])),n,e+d*g[0]),g[0]>0&&(p+=Ct(QO||(QO=Qi(["A ",",",",0,0,",",",",",""])),g[0],g[0],h,n+f*g[0],e)),p+=Ct(JO||(JO=Qi(["L ",",",""])),n+t-f*g[1],e),g[1]>0&&(p+=Ct(eT||(eT=Qi(["A ",",",",0,0,",`,
        `,",",""])),g[1],g[1],h,n+t,e+d*g[1])),p+=Ct(tT||(tT=Qi(["L ",",",""])),n+t,e+i-d*g[2]),g[2]>0&&(p+=Ct(nT||(nT=Qi(["A ",",",",0,0,",`,
        `,",",""])),g[2],g[2],h,n+t-f*g[2],e+i)),p+=Ct(iT||(iT=Qi(["L ",",",""])),n+f*g[3],e+i),g[3]>0&&(p+=Ct(rT||(rT=Qi(["A ",",",",0,0,",`,
        `,",",""])),g[3],g[3],h,n,e+i-d*g[3])),p+="Z"}else if(c>0&&r===+r&&r>0){var x=Math.min(c,r);p=Ct(aT||(aT=Qi(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),n,e+d*x,x,x,h,n+f*x,e,n+t-f*x,e,x,x,h,n+t,e+d*x,n+t,e+i-d*x,x,x,h,n+t-f*x,e+i,n+f*x,e+i,x,x,h,n,e+i-d*x)}else p=Ct(sT||(sT=Qi(["M ",","," h "," v "," h "," Z"])),n,e,t,i,-t);return p},dT={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},fD=n=>{var e=bn(n,dT),t=C.useRef(null),[i,r]=C.useState(-1);C.useEffect(()=>{if(t.current&&t.current.getTotalLength)try{var H=t.current.getTotalLength();H&&r(H)}catch{}},[]);var{x:s,y:l,width:c,height:d,radius:f,className:h}=e,{animationEasing:p,animationDuration:g,animationBegin:y,isAnimationActive:S,isUpdateAnimationActive:A}=e,E=C.useRef(c),x=C.useRef(d),O=C.useRef(s),T=C.useRef(l),P=C.useMemo(()=>({x:s,y:l,width:c,height:d,radius:f}),[s,l,c,d,f]),M=lp(P,"rectangle-");if(s!==+s||l!==+l||c!==+c||d!==+d||c===0||d===0)return null;var _=Je("recharts-rectangle",h);if(!A){var L=Pi(e),{radius:B}=L,F=cT(L,PU);return C.createElement("path",th({},F,{x:ja(s),y:ja(l),width:ja(c),height:ja(d),radius:typeof f=="number"?f:void 0,className:_,d:uT(s,l,c,d,f)}))}var X=E.current,q=x.current,$=O.current,se=T.current,re="0px ".concat(i===-1?1:i,"px"),ce="".concat(i,"px 0px"),j=lD(["strokeDasharray"],g,typeof p=="string"?p:dT.animationEasing);return C.createElement(op,{animationId:M,key:M,canBegin:i>0,duration:g,easing:p,isActive:A,begin:y},H=>{var ie=qt(X,c,H),le=qt(q,d,H),pe=qt($,s,H),I=qt(se,l,H);t.current&&(E.current=ie,x.current=le,O.current=pe,T.current=I);var K;S?H>0?K={transition:j,strokeDasharray:ce}:K={strokeDasharray:re}:K={strokeDasharray:ce};var ne=Pi(e),{radius:oe}=ne,ve=cT(ne,DU);return C.createElement("path",th({},ve,{radius:typeof f=="number"?f:void 0,className:_,d:uT(pe,I,ie,le,f),ref:t,style:lT(lT({},K),e.style)}))})};function fT(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function hT(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?fT(Object(t),!0).forEach(function(i){kU(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):fT(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function kU(n,e,t){return(e=BU(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function BU(n){var e=jU(n,"string");return typeof e=="symbol"?e:e+""}function jU(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var nh=Math.PI/180,zU=n=>n*180/Math.PI,zt=(n,e,t,i)=>({x:n+Math.cos(-nh*i)*t,y:e+Math.sin(-nh*i)*t}),hD=function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(i.left||0)-(i.right||0)),Math.abs(t-(i.top||0)-(i.bottom||0)))/2},FU=(n,e)=>{var{x:t,y:i}=n,{x:r,y:s}=e;return Math.sqrt((t-r)**2+(i-s)**2)},UU=(n,e)=>{var{x:t,y:i}=n,{cx:r,cy:s}=e,l=FU({x:t,y:i},{x:r,y:s});if(l<=0)return{radius:l,angle:0};var c=(t-r)/l,d=Math.acos(c);return i>s&&(d=2*Math.PI-d),{radius:l,angle:zU(d),angleInRadian:d}},HU=n=>{var{startAngle:e,endAngle:t}=n,i=Math.floor(e/360),r=Math.floor(t/360),s=Math.min(i,r);return{startAngle:e-s*360,endAngle:t-s*360}},qU=(n,e)=>{var{startAngle:t,endAngle:i}=e,r=Math.floor(t/360),s=Math.floor(i/360),l=Math.min(r,s);return n+l*360},$U=(n,e)=>{var{chartX:t,chartY:i}=n,{radius:r,angle:s}=UU({x:t,y:i},e),{innerRadius:l,outerRadius:c}=e;if(r<l||r>c||r===0)return null;var{startAngle:d,endAngle:f}=HU(e),h=s,p;if(d<=f){for(;h>f;)h-=360;for(;h<d;)h+=360;p=h>=d&&h<=f}else{for(;h>d;)h-=360;for(;h<f;)h+=360;p=h>=f&&h<=d}return p?hT(hT({},e),{},{radius:r,angle:qU(h,e)}):null};function pD(n){var{cx:e,cy:t,radius:i,startAngle:r,endAngle:s}=n,l=zt(e,t,i,r),c=zt(e,t,i,s);return{points:[l,c],cx:e,cy:t,radius:i,startAngle:r,endAngle:s}}var pT,mT,gT,vT,yT,bT,AT;function D0(){return D0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},D0.apply(null,arguments)}function bs(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}var GU=(n,e)=>{var t=yn(e-n),i=Math.min(Math.abs(e-n),359.999);return t*i},ff=n=>{var{cx:e,cy:t,radius:i,angle:r,sign:s,isExternal:l,cornerRadius:c,cornerIsExternal:d}=n,f=c*(l?1:-1)+i,h=Math.asin(c/f)/nh,p=d?r:r+s*h,g=zt(e,t,f,p),y=zt(e,t,i,p),S=d?r-s*h:r,A=zt(e,t,f*Math.cos(h*nh),S);return{center:g,circleTangency:y,lineTangency:A,theta:h}},mD=n=>{var{cx:e,cy:t,innerRadius:i,outerRadius:r,startAngle:s,endAngle:l}=n,c=GU(s,l),d=s+c,f=zt(e,t,r,s),h=zt(e,t,r,d),p=Ct(pT||(pT=bs(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),f.x,f.y,r,r,+(Math.abs(c)>180),+(s>d),h.x,h.y);if(i>0){var g=zt(e,t,i,s),y=zt(e,t,i,d);p+=Ct(mT||(mT=bs(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),y.x,y.y,i,i,+(Math.abs(c)>180),+(s<=d),g.x,g.y)}else p+=Ct(gT||(gT=bs(["L ",","," Z"])),e,t);return p},VU=n=>{var{cx:e,cy:t,innerRadius:i,outerRadius:r,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:f}=n,h=yn(f-d),{circleTangency:p,lineTangency:g,theta:y}=ff({cx:e,cy:t,radius:r,angle:d,sign:h,cornerRadius:s,cornerIsExternal:c}),{circleTangency:S,lineTangency:A,theta:E}=ff({cx:e,cy:t,radius:r,angle:f,sign:-h,cornerRadius:s,cornerIsExternal:c}),x=c?Math.abs(d-f):Math.abs(d-f)-y-E;if(x<0)return l?Ct(vT||(vT=bs(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),g.x,g.y,s,s,s*2,s,s,-s*2):mD({cx:e,cy:t,innerRadius:i,outerRadius:r,startAngle:d,endAngle:f});var O=Ct(yT||(yT=bs(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),g.x,g.y,s,s,+(h<0),p.x,p.y,r,r,+(x>180),+(h<0),S.x,S.y,s,s,+(h<0),A.x,A.y);if(i>0){var{circleTangency:T,lineTangency:P,theta:M}=ff({cx:e,cy:t,radius:i,angle:d,sign:h,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),{circleTangency:_,lineTangency:L,theta:B}=ff({cx:e,cy:t,radius:i,angle:f,sign:-h,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),F=c?Math.abs(d-f):Math.abs(d-f)-M-B;if(F<0&&s===0)return"".concat(O,"L").concat(e,",").concat(t,"Z");O+=Ct(bT||(bT=bs(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),L.x,L.y,s,s,+(h<0),_.x,_.y,i,i,+(F>180),+(h>0),T.x,T.y,s,s,+(h<0),P.x,P.y)}else O+=Ct(AT||(AT=bs(["L",",","Z"])),e,t);return O},YU={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},gD=n=>{var e=bn(n,YU),{cx:t,cy:i,innerRadius:r,outerRadius:s,cornerRadius:l,forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:h,className:p}=e;if(s<r||f===h)return null;var g=Je("recharts-sector",p),y=s-r,S=wn(l,y,0,!0),A;return S>0&&Math.abs(f-h)<360?A=VU({cx:t,cy:i,innerRadius:r,outerRadius:s,cornerRadius:Math.min(S,y/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:h}):A=mD({cx:t,cy:i,innerRadius:r,outerRadius:s,startAngle:f,endAngle:h}),C.createElement("path",D0({},Pi(e),{className:g,d:A}))};function XU(n,e,t){if(n==="horizontal")return[{x:e.x,y:t.top},{x:e.x,y:t.top+t.height}];if(n==="vertical")return[{x:t.left,y:e.y},{x:t.left+t.width,y:e.y}];if(W2(e)){if(n==="centric"){var{cx:i,cy:r,innerRadius:s,outerRadius:l,angle:c}=e,d=zt(i,r,s,c),f=zt(i,r,l,c);return[{x:d.x,y:d.y},{x:f.x,y:f.y}]}return pD(e)}}var hy={},py={},my={},ST;function KU(){return ST||(ST=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=oP();function t(i){return e.isSymbol(i)?NaN:Number(i)}n.toNumber=t})(my)),my}var ET;function WU(){return ET||(ET=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=KU();function t(i){return i?(i=e.toNumber(i),i===1/0||i===-1/0?(i<0?-1:1)*Number.MAX_VALUE:i===i?i:0):i===0?i:0}n.toFinite=t})(py)),py}var xT;function ZU(){return xT||(xT=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=lP(),t=WU();function i(r,s,l){l&&typeof l!="number"&&e.isIterateeCall(r,s,l)&&(s=l=void 0),r=t.toFinite(r),s===void 0?(s=r,r=0):s=t.toFinite(s),l=l===void 0?r<s?1:-1:t.toFinite(l);const c=Math.max(Math.ceil((s-r)/(l||1)),0),d=new Array(c);for(let f=0;f<c;f++)d[f]=r,r+=l;return d}n.range=i})(hy)),hy}var gy,wT;function QU(){return wT||(wT=1,gy=ZU().range),gy}var JU=QU();const vD=Zr(JU);function za(n,e){return n==null||e==null?NaN:n<e?-1:n>e?1:n>=e?0:NaN}function eH(n,e){return n==null||e==null?NaN:e<n?-1:e>n?1:e>=n?0:NaN}function Hb(n){let e,t,i;n.length!==2?(e=za,t=(c,d)=>za(n(c),d),i=(c,d)=>n(c)-d):(e=n===za||n===eH?n:tH,t=n,i=n);function r(c,d,f=0,h=c.length){if(f<h){if(e(d,d)!==0)return h;do{const p=f+h>>>1;t(c[p],d)<0?f=p+1:h=p}while(f<h)}return f}function s(c,d,f=0,h=c.length){if(f<h){if(e(d,d)!==0)return h;do{const p=f+h>>>1;t(c[p],d)<=0?f=p+1:h=p}while(f<h)}return f}function l(c,d,f=0,h=c.length){const p=r(c,d,f,h-1);return p>f&&i(c[p-1],d)>-i(c[p],d)?p-1:p}return{left:r,center:l,right:s}}function tH(){return 0}function yD(n){return n===null?NaN:+n}function*nH(n,e){for(let t of n)t!=null&&(t=+t)>=t&&(yield t)}const iH=Hb(za),yu=iH.right;Hb(yD).center;class CT extends Map{constructor(e,t=sH){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),e!=null)for(const[i,r]of e)this.set(i,r)}get(e){return super.get(OT(this,e))}has(e){return super.has(OT(this,e))}set(e,t){return super.set(rH(this,e),t)}delete(e){return super.delete(aH(this,e))}}function OT({_intern:n,_key:e},t){const i=e(t);return n.has(i)?n.get(i):t}function rH({_intern:n,_key:e},t){const i=e(t);return n.has(i)?n.get(i):(n.set(i,t),t)}function aH({_intern:n,_key:e},t){const i=e(t);return n.has(i)&&(t=n.get(i),n.delete(i)),t}function sH(n){return n!==null&&typeof n=="object"?n.valueOf():n}function oH(n=za){if(n===za)return bD;if(typeof n!="function")throw new TypeError("compare is not a function");return(e,t)=>{const i=n(e,t);return i||i===0?i:(n(t,t)===0)-(n(e,e)===0)}}function bD(n,e){return(n==null||!(n>=n))-(e==null||!(e>=e))||(n<e?-1:n>e?1:0)}const lH=Math.sqrt(50),cH=Math.sqrt(10),uH=Math.sqrt(2);function ih(n,e,t){const i=(e-n)/Math.max(0,t),r=Math.floor(Math.log10(i)),s=i/Math.pow(10,r),l=s>=lH?10:s>=cH?5:s>=uH?2:1;let c,d,f;return r<0?(f=Math.pow(10,-r)/l,c=Math.round(n*f),d=Math.round(e*f),c/f<n&&++c,d/f>e&&--d,f=-f):(f=Math.pow(10,r)*l,c=Math.round(n/f),d=Math.round(e/f),c*f<n&&++c,d*f>e&&--d),d<c&&.5<=t&&t<2?ih(n,e,t*2):[c,d,f]}function L0(n,e,t){if(e=+e,n=+n,t=+t,!(t>0))return[];if(n===e)return[n];const i=e<n,[r,s,l]=i?ih(e,n,t):ih(n,e,t);if(!(s>=r))return[];const c=s-r+1,d=new Array(c);if(i)if(l<0)for(let f=0;f<c;++f)d[f]=(s-f)/-l;else for(let f=0;f<c;++f)d[f]=(s-f)*l;else if(l<0)for(let f=0;f<c;++f)d[f]=(r+f)/-l;else for(let f=0;f<c;++f)d[f]=(r+f)*l;return d}function N0(n,e,t){return e=+e,n=+n,t=+t,ih(n,e,t)[2]}function R0(n,e,t){e=+e,n=+n,t=+t;const i=e<n,r=i?N0(e,n,t):N0(n,e,t);return(i?-1:1)*(r<0?1/-r:r)}function TT(n,e){let t;for(const i of n)i!=null&&(t<i||t===void 0&&i>=i)&&(t=i);return t}function MT(n,e){let t;for(const i of n)i!=null&&(t>i||t===void 0&&i>=i)&&(t=i);return t}function AD(n,e,t=0,i=1/0,r){if(e=Math.floor(e),t=Math.floor(Math.max(0,t)),i=Math.floor(Math.min(n.length-1,i)),!(t<=e&&e<=i))return n;for(r=r===void 0?bD:oH(r);i>t;){if(i-t>600){const d=i-t+1,f=e-t+1,h=Math.log(d),p=.5*Math.exp(2*h/3),g=.5*Math.sqrt(h*p*(d-p)/d)*(f-d/2<0?-1:1),y=Math.max(t,Math.floor(e-f*p/d+g)),S=Math.min(i,Math.floor(e+(d-f)*p/d+g));AD(n,e,y,S,r)}const s=n[e];let l=t,c=i;for(Cc(n,t,e),r(n[i],s)>0&&Cc(n,t,i);l<c;){for(Cc(n,l,c),++l,--c;r(n[l],s)<0;)++l;for(;r(n[c],s)>0;)--c}r(n[t],s)===0?Cc(n,t,c):(++c,Cc(n,c,i)),c<=e&&(t=c+1),e<=c&&(i=c-1)}return n}function Cc(n,e,t){const i=n[e];n[e]=n[t],n[t]=i}function dH(n,e,t){if(n=Float64Array.from(nH(n)),!(!(i=n.length)||isNaN(e=+e))){if(e<=0||i<2)return MT(n);if(e>=1)return TT(n);var i,r=(i-1)*e,s=Math.floor(r),l=TT(AD(n,s).subarray(0,s+1)),c=MT(n.subarray(s+1));return l+(c-l)*(r-s)}}function fH(n,e,t=yD){if(!(!(i=n.length)||isNaN(e=+e))){if(e<=0||i<2)return+t(n[0],0,n);if(e>=1)return+t(n[i-1],i-1,n);var i,r=(i-1)*e,s=Math.floor(r),l=+t(n[s],s,n),c=+t(n[s+1],s+1,n);return l+(c-l)*(r-s)}}function hH(n,e,t){n=+n,e=+e,t=(r=arguments.length)<2?(e=n,n=0,1):r<3?1:+t;for(var i=-1,r=Math.max(0,Math.ceil((e-n)/t))|0,s=new Array(r);++i<r;)s[i]=n+i*t;return s}function Ni(n,e){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(e).domain(n);break}return this}function ea(n,e){switch(arguments.length){case 0:break;case 1:{typeof n=="function"?this.interpolator(n):this.range(n);break}default:{this.domain(n),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const I0=Symbol("implicit");function qb(){var n=new CT,e=[],t=[],i=I0;function r(s){let l=n.get(s);if(l===void 0){if(i!==I0)return i;n.set(s,l=e.push(s)-1)}return t[l%t.length]}return r.domain=function(s){if(!arguments.length)return e.slice();e=[],n=new CT;for(const l of s)n.has(l)||n.set(l,e.push(l)-1);return r},r.range=function(s){return arguments.length?(t=Array.from(s),r):t.slice()},r.unknown=function(s){return arguments.length?(i=s,r):i},r.copy=function(){return qb(e,t).unknown(i)},Ni.apply(r,arguments),r}function $b(){var n=qb().unknown(void 0),e=n.domain,t=n.range,i=0,r=1,s,l,c=!1,d=0,f=0,h=.5;delete n.unknown;function p(){var g=e().length,y=r<i,S=y?r:i,A=y?i:r;s=(A-S)/Math.max(1,g-d+f*2),c&&(s=Math.floor(s)),S+=(A-S-s*(g-d))*h,l=s*(1-d),c&&(S=Math.round(S),l=Math.round(l));var E=hH(g).map(function(x){return S+s*x});return t(y?E.reverse():E)}return n.domain=function(g){return arguments.length?(e(g),p()):e()},n.range=function(g){return arguments.length?([i,r]=g,i=+i,r=+r,p()):[i,r]},n.rangeRound=function(g){return[i,r]=g,i=+i,r=+r,c=!0,p()},n.bandwidth=function(){return l},n.step=function(){return s},n.round=function(g){return arguments.length?(c=!!g,p()):c},n.padding=function(g){return arguments.length?(d=Math.min(1,f=+g),p()):d},n.paddingInner=function(g){return arguments.length?(d=Math.min(1,g),p()):d},n.paddingOuter=function(g){return arguments.length?(f=+g,p()):f},n.align=function(g){return arguments.length?(h=Math.max(0,Math.min(1,g)),p()):h},n.copy=function(){return $b(e(),[i,r]).round(c).paddingInner(d).paddingOuter(f).align(h)},Ni.apply(p(),arguments)}function SD(n){var e=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,delete n.paddingOuter,n.copy=function(){return SD(e())},n}function pH(){return SD($b.apply(null,arguments).paddingInner(1))}function Gb(n,e,t){n.prototype=e.prototype=t,t.constructor=n}function ED(n,e){var t=Object.create(n.prototype);for(var i in e)t[i]=e[i];return t}function bu(){}var Jc=.7,rh=1/Jc,Qo="\\s*([+-]?\\d+)\\s*",eu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",sr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",mH=/^#([0-9a-f]{3,8})$/,gH=new RegExp(`^rgb\\(${Qo},${Qo},${Qo}\\)$`),vH=new RegExp(`^rgb\\(${sr},${sr},${sr}\\)$`),yH=new RegExp(`^rgba\\(${Qo},${Qo},${Qo},${eu}\\)$`),bH=new RegExp(`^rgba\\(${sr},${sr},${sr},${eu}\\)$`),AH=new RegExp(`^hsl\\(${eu},${sr},${sr}\\)$`),SH=new RegExp(`^hsla\\(${eu},${sr},${sr},${eu}\\)$`),_T={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Gb(bu,tu,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:PT,formatHex:PT,formatHex8:EH,formatHsl:xH,formatRgb:DT,toString:DT});function PT(){return this.rgb().formatHex()}function EH(){return this.rgb().formatHex8()}function xH(){return xD(this).formatHsl()}function DT(){return this.rgb().formatRgb()}function tu(n){var e,t;return n=(n+"").trim().toLowerCase(),(e=mH.exec(n))?(t=e[1].length,e=parseInt(e[1],16),t===6?LT(e):t===3?new qn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):t===8?hf(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):t===4?hf(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=gH.exec(n))?new qn(e[1],e[2],e[3],1):(e=vH.exec(n))?new qn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=yH.exec(n))?hf(e[1],e[2],e[3],e[4]):(e=bH.exec(n))?hf(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=AH.exec(n))?IT(e[1],e[2]/100,e[3]/100,1):(e=SH.exec(n))?IT(e[1],e[2]/100,e[3]/100,e[4]):_T.hasOwnProperty(n)?LT(_T[n]):n==="transparent"?new qn(NaN,NaN,NaN,0):null}function LT(n){return new qn(n>>16&255,n>>8&255,n&255,1)}function hf(n,e,t,i){return i<=0&&(n=e=t=NaN),new qn(n,e,t,i)}function wH(n){return n instanceof bu||(n=tu(n)),n?(n=n.rgb(),new qn(n.r,n.g,n.b,n.opacity)):new qn}function k0(n,e,t,i){return arguments.length===1?wH(n):new qn(n,e,t,i??1)}function qn(n,e,t,i){this.r=+n,this.g=+e,this.b=+t,this.opacity=+i}Gb(qn,k0,ED(bu,{brighter(n){return n=n==null?rh:Math.pow(rh,n),new qn(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?Jc:Math.pow(Jc,n),new qn(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new qn(Os(this.r),Os(this.g),Os(this.b),ah(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:NT,formatHex:NT,formatHex8:CH,formatRgb:RT,toString:RT}));function NT(){return`#${As(this.r)}${As(this.g)}${As(this.b)}`}function CH(){return`#${As(this.r)}${As(this.g)}${As(this.b)}${As((isNaN(this.opacity)?1:this.opacity)*255)}`}function RT(){const n=ah(this.opacity);return`${n===1?"rgb(":"rgba("}${Os(this.r)}, ${Os(this.g)}, ${Os(this.b)}${n===1?")":`, ${n})`}`}function ah(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function Os(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function As(n){return n=Os(n),(n<16?"0":"")+n.toString(16)}function IT(n,e,t,i){return i<=0?n=e=t=NaN:t<=0||t>=1?n=e=NaN:e<=0&&(n=NaN),new Fi(n,e,t,i)}function xD(n){if(n instanceof Fi)return new Fi(n.h,n.s,n.l,n.opacity);if(n instanceof bu||(n=tu(n)),!n)return new Fi;if(n instanceof Fi)return n;n=n.rgb();var e=n.r/255,t=n.g/255,i=n.b/255,r=Math.min(e,t,i),s=Math.max(e,t,i),l=NaN,c=s-r,d=(s+r)/2;return c?(e===s?l=(t-i)/c+(t<i)*6:t===s?l=(i-e)/c+2:l=(e-t)/c+4,c/=d<.5?s+r:2-s-r,l*=60):c=d>0&&d<1?0:l,new Fi(l,c,d,n.opacity)}function OH(n,e,t,i){return arguments.length===1?xD(n):new Fi(n,e,t,i??1)}function Fi(n,e,t,i){this.h=+n,this.s=+e,this.l=+t,this.opacity=+i}Gb(Fi,OH,ED(bu,{brighter(n){return n=n==null?rh:Math.pow(rh,n),new Fi(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?Jc:Math.pow(Jc,n),new Fi(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,e=isNaN(n)||isNaN(this.s)?0:this.s,t=this.l,i=t+(t<.5?t:1-t)*e,r=2*t-i;return new qn(vy(n>=240?n-240:n+120,r,i),vy(n,r,i),vy(n<120?n+240:n-120,r,i),this.opacity)},clamp(){return new Fi(kT(this.h),pf(this.s),pf(this.l),ah(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=ah(this.opacity);return`${n===1?"hsl(":"hsla("}${kT(this.h)}, ${pf(this.s)*100}%, ${pf(this.l)*100}%${n===1?")":`, ${n})`}`}}));function kT(n){return n=(n||0)%360,n<0?n+360:n}function pf(n){return Math.max(0,Math.min(1,n||0))}function vy(n,e,t){return(n<60?e+(t-e)*n/60:n<180?t:n<240?e+(t-e)*(240-n)/60:e)*255}const Vb=n=>()=>n;function TH(n,e){return function(t){return n+t*e}}function MH(n,e,t){return n=Math.pow(n,t),e=Math.pow(e,t)-n,t=1/t,function(i){return Math.pow(n+i*e,t)}}function _H(n){return(n=+n)==1?wD:function(e,t){return t-e?MH(e,t,n):Vb(isNaN(e)?t:e)}}function wD(n,e){var t=e-n;return t?TH(n,t):Vb(isNaN(n)?e:n)}const BT=(function n(e){var t=_H(e);function i(r,s){var l=t((r=k0(r)).r,(s=k0(s)).r),c=t(r.g,s.g),d=t(r.b,s.b),f=wD(r.opacity,s.opacity);return function(h){return r.r=l(h),r.g=c(h),r.b=d(h),r.opacity=f(h),r+""}}return i.gamma=n,i})(1);function PH(n,e){e||(e=[]);var t=n?Math.min(e.length,n.length):0,i=e.slice(),r;return function(s){for(r=0;r<t;++r)i[r]=n[r]*(1-s)+e[r]*s;return i}}function DH(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function LH(n,e){var t=e?e.length:0,i=n?Math.min(t,n.length):0,r=new Array(i),s=new Array(t),l;for(l=0;l<i;++l)r[l]=fl(n[l],e[l]);for(;l<t;++l)s[l]=e[l];return function(c){for(l=0;l<i;++l)s[l]=r[l](c);return s}}function NH(n,e){var t=new Date;return n=+n,e=+e,function(i){return t.setTime(n*(1-i)+e*i),t}}function sh(n,e){return n=+n,e=+e,function(t){return n*(1-t)+e*t}}function RH(n,e){var t={},i={},r;(n===null||typeof n!="object")&&(n={}),(e===null||typeof e!="object")&&(e={});for(r in e)r in n?t[r]=fl(n[r],e[r]):i[r]=e[r];return function(s){for(r in t)i[r]=t[r](s);return i}}var B0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,yy=new RegExp(B0.source,"g");function IH(n){return function(){return n}}function kH(n){return function(e){return n(e)+""}}function BH(n,e){var t=B0.lastIndex=yy.lastIndex=0,i,r,s,l=-1,c=[],d=[];for(n=n+"",e=e+"";(i=B0.exec(n))&&(r=yy.exec(e));)(s=r.index)>t&&(s=e.slice(t,s),c[l]?c[l]+=s:c[++l]=s),(i=i[0])===(r=r[0])?c[l]?c[l]+=r:c[++l]=r:(c[++l]=null,d.push({i:l,x:sh(i,r)})),t=yy.lastIndex;return t<e.length&&(s=e.slice(t),c[l]?c[l]+=s:c[++l]=s),c.length<2?d[0]?kH(d[0].x):IH(e):(e=d.length,function(f){for(var h=0,p;h<e;++h)c[(p=d[h]).i]=p.x(f);return c.join("")})}function fl(n,e){var t=typeof e,i;return e==null||t==="boolean"?Vb(e):(t==="number"?sh:t==="string"?(i=tu(e))?(e=i,BT):BH:e instanceof tu?BT:e instanceof Date?NH:DH(e)?PH:Array.isArray(e)?LH:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?RH:sh)(n,e)}function Yb(n,e){return n=+n,e=+e,function(t){return Math.round(n*(1-t)+e*t)}}function jH(n,e){e===void 0&&(e=n,n=fl);for(var t=0,i=e.length-1,r=e[0],s=new Array(i<0?0:i);t<i;)s[t]=n(r,r=e[++t]);return function(l){var c=Math.max(0,Math.min(i-1,Math.floor(l*=i)));return s[c](l-c)}}function zH(n){return function(){return n}}function oh(n){return+n}var jT=[0,1];function Mn(n){return n}function j0(n,e){return(e-=n=+n)?function(t){return(t-n)/e}:zH(isNaN(e)?NaN:.5)}function FH(n,e){var t;return n>e&&(t=n,n=e,e=t),function(i){return Math.max(n,Math.min(e,i))}}function UH(n,e,t){var i=n[0],r=n[1],s=e[0],l=e[1];return r<i?(i=j0(r,i),s=t(l,s)):(i=j0(i,r),s=t(s,l)),function(c){return s(i(c))}}function HH(n,e,t){var i=Math.min(n.length,e.length)-1,r=new Array(i),s=new Array(i),l=-1;for(n[i]<n[0]&&(n=n.slice().reverse(),e=e.slice().reverse());++l<i;)r[l]=j0(n[l],n[l+1]),s[l]=t(e[l],e[l+1]);return function(c){var d=yu(n,c,1,i)-1;return s[d](r[d](c))}}function Au(n,e){return e.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function cp(){var n=jT,e=jT,t=fl,i,r,s,l=Mn,c,d,f;function h(){var g=Math.min(n.length,e.length);return l!==Mn&&(l=FH(n[0],n[g-1])),c=g>2?HH:UH,d=f=null,p}function p(g){return g==null||isNaN(g=+g)?s:(d||(d=c(n.map(i),e,t)))(i(l(g)))}return p.invert=function(g){return l(r((f||(f=c(e,n.map(i),sh)))(g)))},p.domain=function(g){return arguments.length?(n=Array.from(g,oh),h()):n.slice()},p.range=function(g){return arguments.length?(e=Array.from(g),h()):e.slice()},p.rangeRound=function(g){return e=Array.from(g),t=Yb,h()},p.clamp=function(g){return arguments.length?(l=g?!0:Mn,h()):l!==Mn},p.interpolate=function(g){return arguments.length?(t=g,h()):t},p.unknown=function(g){return arguments.length?(s=g,p):s},function(g,y){return i=g,r=y,h()}}function Xb(){return cp()(Mn,Mn)}function qH(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function lh(n,e){if(!isFinite(n)||n===0)return null;var t=(n=e?n.toExponential(e-1):n.toExponential()).indexOf("e"),i=n.slice(0,t);return[i.length>1?i[0]+i.slice(2):i,+n.slice(t+1)]}function rl(n){return n=lh(Math.abs(n)),n?n[1]:NaN}function $H(n,e){return function(t,i){for(var r=t.length,s=[],l=0,c=n[0],d=0;r>0&&c>0&&(d+c+1>i&&(c=Math.max(1,i-d)),s.push(t.substring(r-=c,r+c)),!((d+=c+1)>i));)c=n[l=(l+1)%n.length];return s.reverse().join(e)}}function GH(n){return function(e){return e.replace(/[0-9]/g,function(t){return n[+t]})}}var VH=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function nu(n){if(!(e=VH.exec(n)))throw new Error("invalid format: "+n);var e;return new Kb({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}nu.prototype=Kb.prototype;function Kb(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}Kb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function YH(n){e:for(var e=n.length,t=1,i=-1,r;t<e;++t)switch(n[t]){case".":i=r=t;break;case"0":i===0&&(i=t),r=t;break;default:if(!+n[t])break e;i>0&&(i=0);break}return i>0?n.slice(0,i)+n.slice(r+1):n}var ch;function XH(n,e){var t=lh(n,e);if(!t)return ch=void 0,n.toPrecision(e);var i=t[0],r=t[1],s=r-(ch=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,l=i.length;return s===l?i:s>l?i+new Array(s-l+1).join("0"):s>0?i.slice(0,s)+"."+i.slice(s):"0."+new Array(1-s).join("0")+lh(n,Math.max(0,e+s-1))[0]}function zT(n,e){var t=lh(n,e);if(!t)return n+"";var i=t[0],r=t[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}const FT={"%":(n,e)=>(n*100).toFixed(e),b:n=>Math.round(n).toString(2),c:n=>n+"",d:qH,e:(n,e)=>n.toExponential(e),f:(n,e)=>n.toFixed(e),g:(n,e)=>n.toPrecision(e),o:n=>Math.round(n).toString(8),p:(n,e)=>zT(n*100,e),r:zT,s:XH,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function UT(n){return n}var HT=Array.prototype.map,qT=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function KH(n){var e=n.grouping===void 0||n.thousands===void 0?UT:$H(HT.call(n.grouping,Number),n.thousands+""),t=n.currency===void 0?"":n.currency[0]+"",i=n.currency===void 0?"":n.currency[1]+"",r=n.decimal===void 0?".":n.decimal+"",s=n.numerals===void 0?UT:GH(HT.call(n.numerals,String)),l=n.percent===void 0?"%":n.percent+"",c=n.minus===void 0?"":n.minus+"",d=n.nan===void 0?"NaN":n.nan+"";function f(p,g){p=nu(p);var y=p.fill,S=p.align,A=p.sign,E=p.symbol,x=p.zero,O=p.width,T=p.comma,P=p.precision,M=p.trim,_=p.type;_==="n"?(T=!0,_="g"):FT[_]||(P===void 0&&(P=12),M=!0,_="g"),(x||y==="0"&&S==="=")&&(x=!0,y="0",S="=");var L=(g&&g.prefix!==void 0?g.prefix:"")+(E==="$"?t:E==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():""),B=(E==="$"?i:/[%p]/.test(_)?l:"")+(g&&g.suffix!==void 0?g.suffix:""),F=FT[_],X=/[defgprs%]/.test(_);P=P===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,P)):Math.max(0,Math.min(20,P));function q($){var se=L,re=B,ce,j,H;if(_==="c")re=F($)+re,$="";else{$=+$;var ie=$<0||1/$<0;if($=isNaN($)?d:F(Math.abs($),P),M&&($=YH($)),ie&&+$==0&&A!=="+"&&(ie=!1),se=(ie?A==="("?A:c:A==="-"||A==="("?"":A)+se,re=(_==="s"&&!isNaN($)&&ch!==void 0?qT[8+ch/3]:"")+re+(ie&&A==="("?")":""),X){for(ce=-1,j=$.length;++ce<j;)if(H=$.charCodeAt(ce),48>H||H>57){re=(H===46?r+$.slice(ce+1):$.slice(ce))+re,$=$.slice(0,ce);break}}}T&&!x&&($=e($,1/0));var le=se.length+$.length+re.length,pe=le<O?new Array(O-le+1).join(y):"";switch(T&&x&&($=e(pe+$,pe.length?O-re.length:1/0),pe=""),S){case"<":$=se+$+re+pe;break;case"=":$=se+pe+$+re;break;case"^":$=pe.slice(0,le=pe.length>>1)+se+$+re+pe.slice(le);break;default:$=pe+se+$+re;break}return s($)}return q.toString=function(){return p+""},q}function h(p,g){var y=Math.max(-8,Math.min(8,Math.floor(rl(g)/3)))*3,S=Math.pow(10,-y),A=f((p=nu(p),p.type="f",p),{suffix:qT[8+y/3]});return function(E){return A(S*E)}}return{format:f,formatPrefix:h}}var mf,Wb,CD;WH({thousands:",",grouping:[3],currency:["$",""]});function WH(n){return mf=KH(n),Wb=mf.format,CD=mf.formatPrefix,mf}function ZH(n){return Math.max(0,-rl(Math.abs(n)))}function QH(n,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(rl(e)/3)))*3-rl(Math.abs(n)))}function JH(n,e){return n=Math.abs(n),e=Math.abs(e)-n,Math.max(0,rl(e)-rl(n))+1}function OD(n,e,t,i){var r=R0(n,e,t),s;switch(i=nu(i??",f"),i.type){case"s":{var l=Math.max(Math.abs(n),Math.abs(e));return i.precision==null&&!isNaN(s=QH(r,l))&&(i.precision=s),CD(i,l)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(s=JH(r,Math.max(Math.abs(n),Math.abs(e))))&&(i.precision=s-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(s=ZH(r))&&(i.precision=s-(i.type==="%")*2);break}}return Wb(i)}function Va(n){var e=n.domain;return n.ticks=function(t){var i=e();return L0(i[0],i[i.length-1],t??10)},n.tickFormat=function(t,i){var r=e();return OD(r[0],r[r.length-1],t??10,i)},n.nice=function(t){t==null&&(t=10);var i=e(),r=0,s=i.length-1,l=i[r],c=i[s],d,f,h=10;for(c<l&&(f=l,l=c,c=f,f=r,r=s,s=f);h-- >0;){if(f=N0(l,c,t),f===d)return i[r]=l,i[s]=c,e(i);if(f>0)l=Math.floor(l/f)*f,c=Math.ceil(c/f)*f;else if(f<0)l=Math.ceil(l*f)/f,c=Math.floor(c*f)/f;else break;d=f}return n},n}function TD(){var n=Xb();return n.copy=function(){return Au(n,TD())},Ni.apply(n,arguments),Va(n)}function MD(n){var e;function t(i){return i==null||isNaN(i=+i)?e:i}return t.invert=t,t.domain=t.range=function(i){return arguments.length?(n=Array.from(i,oh),t):n.slice()},t.unknown=function(i){return arguments.length?(e=i,t):e},t.copy=function(){return MD(n).unknown(e)},n=arguments.length?Array.from(n,oh):[0,1],Va(t)}function _D(n,e){n=n.slice();var t=0,i=n.length-1,r=n[t],s=n[i],l;return s<r&&(l=t,t=i,i=l,l=r,r=s,s=l),n[t]=e.floor(r),n[i]=e.ceil(s),n}function $T(n){return Math.log(n)}function GT(n){return Math.exp(n)}function e5(n){return-Math.log(-n)}function t5(n){return-Math.exp(-n)}function n5(n){return isFinite(n)?+("1e"+n):n<0?0:n}function i5(n){return n===10?n5:n===Math.E?Math.exp:e=>Math.pow(n,e)}function r5(n){return n===Math.E?Math.log:n===10&&Math.log10||n===2&&Math.log2||(n=Math.log(n),e=>Math.log(e)/n)}function VT(n){return(e,t)=>-n(-e,t)}function Zb(n){const e=n($T,GT),t=e.domain;let i=10,r,s;function l(){return r=r5(i),s=i5(i),t()[0]<0?(r=VT(r),s=VT(s),n(e5,t5)):n($T,GT),e}return e.base=function(c){return arguments.length?(i=+c,l()):i},e.domain=function(c){return arguments.length?(t(c),l()):t()},e.ticks=c=>{const d=t();let f=d[0],h=d[d.length-1];const p=h<f;p&&([f,h]=[h,f]);let g=r(f),y=r(h),S,A;const E=c==null?10:+c;let x=[];if(!(i%1)&&y-g<E){if(g=Math.floor(g),y=Math.ceil(y),f>0){for(;g<=y;++g)for(S=1;S<i;++S)if(A=g<0?S/s(-g):S*s(g),!(A<f)){if(A>h)break;x.push(A)}}else for(;g<=y;++g)for(S=i-1;S>=1;--S)if(A=g>0?S/s(-g):S*s(g),!(A<f)){if(A>h)break;x.push(A)}x.length*2<E&&(x=L0(f,h,E))}else x=L0(g,y,Math.min(y-g,E)).map(s);return p?x.reverse():x},e.tickFormat=(c,d)=>{if(c==null&&(c=10),d==null&&(d=i===10?"s":","),typeof d!="function"&&(!(i%1)&&(d=nu(d)).precision==null&&(d.trim=!0),d=Wb(d)),c===1/0)return d;const f=Math.max(1,i*c/e.ticks().length);return h=>{let p=h/s(Math.round(r(h)));return p*i<i-.5&&(p*=i),p<=f?d(h):""}},e.nice=()=>t(_D(t(),{floor:c=>s(Math.floor(r(c))),ceil:c=>s(Math.ceil(r(c)))})),e}function PD(){const n=Zb(cp()).domain([1,10]);return n.copy=()=>Au(n,PD()).base(n.base()),Ni.apply(n,arguments),n}function YT(n){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/n))}}function XT(n){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*n}}function Qb(n){var e=1,t=n(YT(e),XT(e));return t.constant=function(i){return arguments.length?n(YT(e=+i),XT(e)):e},Va(t)}function DD(){var n=Qb(cp());return n.copy=function(){return Au(n,DD()).constant(n.constant())},Ni.apply(n,arguments)}function KT(n){return function(e){return e<0?-Math.pow(-e,n):Math.pow(e,n)}}function a5(n){return n<0?-Math.sqrt(-n):Math.sqrt(n)}function s5(n){return n<0?-n*n:n*n}function Jb(n){var e=n(Mn,Mn),t=1;function i(){return t===1?n(Mn,Mn):t===.5?n(a5,s5):n(KT(t),KT(1/t))}return e.exponent=function(r){return arguments.length?(t=+r,i()):t},Va(e)}function eA(){var n=Jb(cp());return n.copy=function(){return Au(n,eA()).exponent(n.exponent())},Ni.apply(n,arguments),n}function o5(){return eA.apply(null,arguments).exponent(.5)}function WT(n){return Math.sign(n)*n*n}function l5(n){return Math.sign(n)*Math.sqrt(Math.abs(n))}function LD(){var n=Xb(),e=[0,1],t=!1,i;function r(s){var l=l5(n(s));return isNaN(l)?i:t?Math.round(l):l}return r.invert=function(s){return n.invert(WT(s))},r.domain=function(s){return arguments.length?(n.domain(s),r):n.domain()},r.range=function(s){return arguments.length?(n.range((e=Array.from(s,oh)).map(WT)),r):e.slice()},r.rangeRound=function(s){return r.range(s).round(!0)},r.round=function(s){return arguments.length?(t=!!s,r):t},r.clamp=function(s){return arguments.length?(n.clamp(s),r):n.clamp()},r.unknown=function(s){return arguments.length?(i=s,r):i},r.copy=function(){return LD(n.domain(),e).round(t).clamp(n.clamp()).unknown(i)},Ni.apply(r,arguments),Va(r)}function ND(){var n=[],e=[],t=[],i;function r(){var l=0,c=Math.max(1,e.length);for(t=new Array(c-1);++l<c;)t[l-1]=fH(n,l/c);return s}function s(l){return l==null||isNaN(l=+l)?i:e[yu(t,l)]}return s.invertExtent=function(l){var c=e.indexOf(l);return c<0?[NaN,NaN]:[c>0?t[c-1]:n[0],c<t.length?t[c]:n[n.length-1]]},s.domain=function(l){if(!arguments.length)return n.slice();n=[];for(let c of l)c!=null&&!isNaN(c=+c)&&n.push(c);return n.sort(za),r()},s.range=function(l){return arguments.length?(e=Array.from(l),r()):e.slice()},s.unknown=function(l){return arguments.length?(i=l,s):i},s.quantiles=function(){return t.slice()},s.copy=function(){return ND().domain(n).range(e).unknown(i)},Ni.apply(s,arguments)}function RD(){var n=0,e=1,t=1,i=[.5],r=[0,1],s;function l(d){return d!=null&&d<=d?r[yu(i,d,0,t)]:s}function c(){var d=-1;for(i=new Array(t);++d<t;)i[d]=((d+1)*e-(d-t)*n)/(t+1);return l}return l.domain=function(d){return arguments.length?([n,e]=d,n=+n,e=+e,c()):[n,e]},l.range=function(d){return arguments.length?(t=(r=Array.from(d)).length-1,c()):r.slice()},l.invertExtent=function(d){var f=r.indexOf(d);return f<0?[NaN,NaN]:f<1?[n,i[0]]:f>=t?[i[t-1],e]:[i[f-1],i[f]]},l.unknown=function(d){return arguments.length&&(s=d),l},l.thresholds=function(){return i.slice()},l.copy=function(){return RD().domain([n,e]).range(r).unknown(s)},Ni.apply(Va(l),arguments)}function ID(){var n=[.5],e=[0,1],t,i=1;function r(s){return s!=null&&s<=s?e[yu(n,s,0,i)]:t}return r.domain=function(s){return arguments.length?(n=Array.from(s),i=Math.min(n.length,e.length-1),r):n.slice()},r.range=function(s){return arguments.length?(e=Array.from(s),i=Math.min(n.length,e.length-1),r):e.slice()},r.invertExtent=function(s){var l=e.indexOf(s);return[n[l-1],n[l]]},r.unknown=function(s){return arguments.length?(t=s,r):t},r.copy=function(){return ID().domain(n).range(e).unknown(t)},Ni.apply(r,arguments)}const by=new Date,Ay=new Date;function Yt(n,e,t,i){function r(s){return n(s=arguments.length===0?new Date:new Date(+s)),s}return r.floor=s=>(n(s=new Date(+s)),s),r.ceil=s=>(n(s=new Date(s-1)),e(s,1),n(s),s),r.round=s=>{const l=r(s),c=r.ceil(s);return s-l<c-s?l:c},r.offset=(s,l)=>(e(s=new Date(+s),l==null?1:Math.floor(l)),s),r.range=(s,l,c)=>{const d=[];if(s=r.ceil(s),c=c==null?1:Math.floor(c),!(s<l)||!(c>0))return d;let f;do d.push(f=new Date(+s)),e(s,c),n(s);while(f<s&&s<l);return d},r.filter=s=>Yt(l=>{if(l>=l)for(;n(l),!s(l);)l.setTime(l-1)},(l,c)=>{if(l>=l)if(c<0)for(;++c<=0;)for(;e(l,-1),!s(l););else for(;--c>=0;)for(;e(l,1),!s(l););}),t&&(r.count=(s,l)=>(by.setTime(+s),Ay.setTime(+l),n(by),n(Ay),Math.floor(t(by,Ay))),r.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?r.filter(i?l=>i(l)%s===0:l=>r.count(0,l)%s===0):r)),r}const uh=Yt(()=>{},(n,e)=>{n.setTime(+n+e)},(n,e)=>e-n);uh.every=n=>(n=Math.floor(n),!isFinite(n)||!(n>0)?null:n>1?Yt(e=>{e.setTime(Math.floor(e/n)*n)},(e,t)=>{e.setTime(+e+t*n)},(e,t)=>(t-e)/n):uh);uh.range;const Ur=1e3,Mi=Ur*60,Hr=Mi*60,Gr=Hr*24,tA=Gr*7,ZT=Gr*30,Sy=Gr*365,Ss=Yt(n=>{n.setTime(n-n.getMilliseconds())},(n,e)=>{n.setTime(+n+e*Ur)},(n,e)=>(e-n)/Ur,n=>n.getUTCSeconds());Ss.range;const nA=Yt(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*Ur)},(n,e)=>{n.setTime(+n+e*Mi)},(n,e)=>(e-n)/Mi,n=>n.getMinutes());nA.range;const iA=Yt(n=>{n.setUTCSeconds(0,0)},(n,e)=>{n.setTime(+n+e*Mi)},(n,e)=>(e-n)/Mi,n=>n.getUTCMinutes());iA.range;const rA=Yt(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*Ur-n.getMinutes()*Mi)},(n,e)=>{n.setTime(+n+e*Hr)},(n,e)=>(e-n)/Hr,n=>n.getHours());rA.range;const aA=Yt(n=>{n.setUTCMinutes(0,0,0)},(n,e)=>{n.setTime(+n+e*Hr)},(n,e)=>(e-n)/Hr,n=>n.getUTCHours());aA.range;const Su=Yt(n=>n.setHours(0,0,0,0),(n,e)=>n.setDate(n.getDate()+e),(n,e)=>(e-n-(e.getTimezoneOffset()-n.getTimezoneOffset())*Mi)/Gr,n=>n.getDate()-1);Su.range;const up=Yt(n=>{n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e)},(n,e)=>(e-n)/Gr,n=>n.getUTCDate()-1);up.range;const kD=Yt(n=>{n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e)},(n,e)=>(e-n)/Gr,n=>Math.floor(n/Gr));kD.range;function Hs(n){return Yt(e=>{e.setDate(e.getDate()-(e.getDay()+7-n)%7),e.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+t*7)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Mi)/tA)}const dp=Hs(0),dh=Hs(1),c5=Hs(2),u5=Hs(3),al=Hs(4),d5=Hs(5),f5=Hs(6);dp.range;dh.range;c5.range;u5.range;al.range;d5.range;f5.range;function qs(n){return Yt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-n)%7),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t*7)},(e,t)=>(t-e)/tA)}const fp=qs(0),fh=qs(1),h5=qs(2),p5=qs(3),sl=qs(4),m5=qs(5),g5=qs(6);fp.range;fh.range;h5.range;p5.range;sl.range;m5.range;g5.range;const sA=Yt(n=>{n.setDate(1),n.setHours(0,0,0,0)},(n,e)=>{n.setMonth(n.getMonth()+e)},(n,e)=>e.getMonth()-n.getMonth()+(e.getFullYear()-n.getFullYear())*12,n=>n.getMonth());sA.range;const oA=Yt(n=>{n.setUTCDate(1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCMonth(n.getUTCMonth()+e)},(n,e)=>e.getUTCMonth()-n.getUTCMonth()+(e.getUTCFullYear()-n.getUTCFullYear())*12,n=>n.getUTCMonth());oA.range;const Vr=Yt(n=>{n.setMonth(0,1),n.setHours(0,0,0,0)},(n,e)=>{n.setFullYear(n.getFullYear()+e)},(n,e)=>e.getFullYear()-n.getFullYear(),n=>n.getFullYear());Vr.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:Yt(e=>{e.setFullYear(Math.floor(e.getFullYear()/n)*n),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t*n)});Vr.range;const Yr=Yt(n=>{n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCFullYear(n.getUTCFullYear()+e)},(n,e)=>e.getUTCFullYear()-n.getUTCFullYear(),n=>n.getUTCFullYear());Yr.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:Yt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/n)*n),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t*n)});Yr.range;function BD(n,e,t,i,r,s){const l=[[Ss,1,Ur],[Ss,5,5*Ur],[Ss,15,15*Ur],[Ss,30,30*Ur],[s,1,Mi],[s,5,5*Mi],[s,15,15*Mi],[s,30,30*Mi],[r,1,Hr],[r,3,3*Hr],[r,6,6*Hr],[r,12,12*Hr],[i,1,Gr],[i,2,2*Gr],[t,1,tA],[e,1,ZT],[e,3,3*ZT],[n,1,Sy]];function c(f,h,p){const g=h<f;g&&([f,h]=[h,f]);const y=p&&typeof p.range=="function"?p:d(f,h,p),S=y?y.range(f,+h+1):[];return g?S.reverse():S}function d(f,h,p){const g=Math.abs(h-f)/p,y=Hb(([,,E])=>E).right(l,g);if(y===l.length)return n.every(R0(f/Sy,h/Sy,p));if(y===0)return uh.every(Math.max(R0(f,h,p),1));const[S,A]=l[g/l[y-1][2]<l[y][2]/g?y-1:y];return S.every(A)}return[c,d]}const[v5,y5]=BD(Yr,oA,fp,kD,aA,iA),[b5,A5]=BD(Vr,sA,dp,Su,rA,nA);function Ey(n){if(0<=n.y&&n.y<100){var e=new Date(-1,n.m,n.d,n.H,n.M,n.S,n.L);return e.setFullYear(n.y),e}return new Date(n.y,n.m,n.d,n.H,n.M,n.S,n.L)}function xy(n){if(0<=n.y&&n.y<100){var e=new Date(Date.UTC(-1,n.m,n.d,n.H,n.M,n.S,n.L));return e.setUTCFullYear(n.y),e}return new Date(Date.UTC(n.y,n.m,n.d,n.H,n.M,n.S,n.L))}function Oc(n,e,t){return{y:n,m:e,d:t,H:0,M:0,S:0,L:0}}function S5(n){var e=n.dateTime,t=n.date,i=n.time,r=n.periods,s=n.days,l=n.shortDays,c=n.months,d=n.shortMonths,f=Tc(r),h=Mc(r),p=Tc(s),g=Mc(s),y=Tc(l),S=Mc(l),A=Tc(c),E=Mc(c),x=Tc(d),O=Mc(d),T={a:H,A:ie,b:le,B:pe,c:null,d:iM,e:iM,f:$5,g:e8,G:n8,H:U5,I:H5,j:q5,L:jD,m:G5,M:V5,p:I,q:K,Q:sM,s:oM,S:Y5,u:X5,U:K5,V:W5,w:Z5,W:Q5,x:null,X:null,y:J5,Y:t8,Z:i8,"%":aM},P={a:ne,A:oe,b:ve,B:Ee,c:null,d:rM,e:rM,f:o8,g:v8,G:b8,H:r8,I:a8,j:s8,L:FD,m:l8,M:c8,p:de,q:ct,Q:sM,s:oM,S:u8,u:d8,U:f8,V:h8,w:p8,W:m8,x:null,X:null,y:g8,Y:y8,Z:A8,"%":aM},M={a:X,A:q,b:$,B:se,c:re,d:tM,e:tM,f:B5,g:eM,G:JT,H:nM,I:nM,j:N5,L:k5,m:L5,M:R5,p:F,q:D5,Q:z5,s:F5,S:I5,u:O5,U:T5,V:M5,w:C5,W:_5,x:ce,X:j,y:eM,Y:JT,Z:P5,"%":j5};T.x=_(t,T),T.X=_(i,T),T.c=_(e,T),P.x=_(t,P),P.X=_(i,P),P.c=_(e,P);function _(J,Oe){return function(Pe){var ae=[],Lt=-1,Re=0,sn=J.length,on,hr,Sl;for(Pe instanceof Date||(Pe=new Date(+Pe));++Lt<sn;)J.charCodeAt(Lt)===37&&(ae.push(J.slice(Re,Lt)),(hr=QT[on=J.charAt(++Lt)])!=null?on=J.charAt(++Lt):hr=on==="e"?" ":"0",(Sl=Oe[on])&&(on=Sl(Pe,hr)),ae.push(on),Re=Lt+1);return ae.push(J.slice(Re,Lt)),ae.join("")}}function L(J,Oe){return function(Pe){var ae=Oc(1900,void 0,1),Lt=B(ae,J,Pe+="",0),Re,sn;if(Lt!=Pe.length)return null;if("Q"in ae)return new Date(ae.Q);if("s"in ae)return new Date(ae.s*1e3+("L"in ae?ae.L:0));if(Oe&&!("Z"in ae)&&(ae.Z=0),"p"in ae&&(ae.H=ae.H%12+ae.p*12),ae.m===void 0&&(ae.m="q"in ae?ae.q:0),"V"in ae){if(ae.V<1||ae.V>53)return null;"w"in ae||(ae.w=1),"Z"in ae?(Re=xy(Oc(ae.y,0,1)),sn=Re.getUTCDay(),Re=sn>4||sn===0?fh.ceil(Re):fh(Re),Re=up.offset(Re,(ae.V-1)*7),ae.y=Re.getUTCFullYear(),ae.m=Re.getUTCMonth(),ae.d=Re.getUTCDate()+(ae.w+6)%7):(Re=Ey(Oc(ae.y,0,1)),sn=Re.getDay(),Re=sn>4||sn===0?dh.ceil(Re):dh(Re),Re=Su.offset(Re,(ae.V-1)*7),ae.y=Re.getFullYear(),ae.m=Re.getMonth(),ae.d=Re.getDate()+(ae.w+6)%7)}else("W"in ae||"U"in ae)&&("w"in ae||(ae.w="u"in ae?ae.u%7:"W"in ae?1:0),sn="Z"in ae?xy(Oc(ae.y,0,1)).getUTCDay():Ey(Oc(ae.y,0,1)).getDay(),ae.m=0,ae.d="W"in ae?(ae.w+6)%7+ae.W*7-(sn+5)%7:ae.w+ae.U*7-(sn+6)%7);return"Z"in ae?(ae.H+=ae.Z/100|0,ae.M+=ae.Z%100,xy(ae)):Ey(ae)}}function B(J,Oe,Pe,ae){for(var Lt=0,Re=Oe.length,sn=Pe.length,on,hr;Lt<Re;){if(ae>=sn)return-1;if(on=Oe.charCodeAt(Lt++),on===37){if(on=Oe.charAt(Lt++),hr=M[on in QT?Oe.charAt(Lt++):on],!hr||(ae=hr(J,Pe,ae))<0)return-1}else if(on!=Pe.charCodeAt(ae++))return-1}return ae}function F(J,Oe,Pe){var ae=f.exec(Oe.slice(Pe));return ae?(J.p=h.get(ae[0].toLowerCase()),Pe+ae[0].length):-1}function X(J,Oe,Pe){var ae=y.exec(Oe.slice(Pe));return ae?(J.w=S.get(ae[0].toLowerCase()),Pe+ae[0].length):-1}function q(J,Oe,Pe){var ae=p.exec(Oe.slice(Pe));return ae?(J.w=g.get(ae[0].toLowerCase()),Pe+ae[0].length):-1}function $(J,Oe,Pe){var ae=x.exec(Oe.slice(Pe));return ae?(J.m=O.get(ae[0].toLowerCase()),Pe+ae[0].length):-1}function se(J,Oe,Pe){var ae=A.exec(Oe.slice(Pe));return ae?(J.m=E.get(ae[0].toLowerCase()),Pe+ae[0].length):-1}function re(J,Oe,Pe){return B(J,e,Oe,Pe)}function ce(J,Oe,Pe){return B(J,t,Oe,Pe)}function j(J,Oe,Pe){return B(J,i,Oe,Pe)}function H(J){return l[J.getDay()]}function ie(J){return s[J.getDay()]}function le(J){return d[J.getMonth()]}function pe(J){return c[J.getMonth()]}function I(J){return r[+(J.getHours()>=12)]}function K(J){return 1+~~(J.getMonth()/3)}function ne(J){return l[J.getUTCDay()]}function oe(J){return s[J.getUTCDay()]}function ve(J){return d[J.getUTCMonth()]}function Ee(J){return c[J.getUTCMonth()]}function de(J){return r[+(J.getUTCHours()>=12)]}function ct(J){return 1+~~(J.getUTCMonth()/3)}return{format:function(J){var Oe=_(J+="",T);return Oe.toString=function(){return J},Oe},parse:function(J){var Oe=L(J+="",!1);return Oe.toString=function(){return J},Oe},utcFormat:function(J){var Oe=_(J+="",P);return Oe.toString=function(){return J},Oe},utcParse:function(J){var Oe=L(J+="",!0);return Oe.toString=function(){return J},Oe}}}var QT={"-":"",_:" ",0:"0"},rn=/^\s*\d+/,E5=/^%/,x5=/[\\^$*+?|[\]().{}]/g;function Ue(n,e,t){var i=n<0?"-":"",r=(i?-n:n)+"",s=r.length;return i+(s<t?new Array(t-s+1).join(e)+r:r)}function w5(n){return n.replace(x5,"\\$&")}function Tc(n){return new RegExp("^(?:"+n.map(w5).join("|")+")","i")}function Mc(n){return new Map(n.map((e,t)=>[e.toLowerCase(),t]))}function C5(n,e,t){var i=rn.exec(e.slice(t,t+1));return i?(n.w=+i[0],t+i[0].length):-1}function O5(n,e,t){var i=rn.exec(e.slice(t,t+1));return i?(n.u=+i[0],t+i[0].length):-1}function T5(n,e,t){var i=rn.exec(e.slice(t,t+2));return i?(n.U=+i[0],t+i[0].length):-1}function M5(n,e,t){var i=rn.exec(e.slice(t,t+2));return i?(n.V=+i[0],t+i[0].length):-1}function _5(n,e,t){var i=rn.exec(e.slice(t,t+2));return i?(n.W=+i[0],t+i[0].length):-1}function JT(n,e,t){var i=rn.exec(e.slice(t,t+4));return i?(n.y=+i[0],t+i[0].length):-1}function eM(n,e,t){var i=rn.exec(e.slice(t,t+2));return i?(n.y=+i[0]+(+i[0]>68?1900:2e3),t+i[0].length):-1}function P5(n,e,t){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(t,t+6));return i?(n.Z=i[1]?0:-(i[2]+(i[3]||"00")),t+i[0].length):-1}function D5(n,e,t){var i=rn.exec(e.slice(t,t+1));return i?(n.q=i[0]*3-3,t+i[0].length):-1}function L5(n,e,t){var i=rn.exec(e.slice(t,t+2));return i?(n.m=i[0]-1,t+i[0].length):-1}function tM(n,e,t){var i=rn.exec(e.slice(t,t+2));return i?(n.d=+i[0],t+i[0].length):-1}function N5(n,e,t){var i=rn.exec(e.slice(t,t+3));return i?(n.m=0,n.d=+i[0],t+i[0].length):-1}function nM(n,e,t){var i=rn.exec(e.slice(t,t+2));return i?(n.H=+i[0],t+i[0].length):-1}function R5(n,e,t){var i=rn.exec(e.slice(t,t+2));return i?(n.M=+i[0],t+i[0].length):-1}function I5(n,e,t){var i=rn.exec(e.slice(t,t+2));return i?(n.S=+i[0],t+i[0].length):-1}function k5(n,e,t){var i=rn.exec(e.slice(t,t+3));return i?(n.L=+i[0],t+i[0].length):-1}function B5(n,e,t){var i=rn.exec(e.slice(t,t+6));return i?(n.L=Math.floor(i[0]/1e3),t+i[0].length):-1}function j5(n,e,t){var i=E5.exec(e.slice(t,t+1));return i?t+i[0].length:-1}function z5(n,e,t){var i=rn.exec(e.slice(t));return i?(n.Q=+i[0],t+i[0].length):-1}function F5(n,e,t){var i=rn.exec(e.slice(t));return i?(n.s=+i[0],t+i[0].length):-1}function iM(n,e){return Ue(n.getDate(),e,2)}function U5(n,e){return Ue(n.getHours(),e,2)}function H5(n,e){return Ue(n.getHours()%12||12,e,2)}function q5(n,e){return Ue(1+Su.count(Vr(n),n),e,3)}function jD(n,e){return Ue(n.getMilliseconds(),e,3)}function $5(n,e){return jD(n,e)+"000"}function G5(n,e){return Ue(n.getMonth()+1,e,2)}function V5(n,e){return Ue(n.getMinutes(),e,2)}function Y5(n,e){return Ue(n.getSeconds(),e,2)}function X5(n){var e=n.getDay();return e===0?7:e}function K5(n,e){return Ue(dp.count(Vr(n)-1,n),e,2)}function zD(n){var e=n.getDay();return e>=4||e===0?al(n):al.ceil(n)}function W5(n,e){return n=zD(n),Ue(al.count(Vr(n),n)+(Vr(n).getDay()===4),e,2)}function Z5(n){return n.getDay()}function Q5(n,e){return Ue(dh.count(Vr(n)-1,n),e,2)}function J5(n,e){return Ue(n.getFullYear()%100,e,2)}function e8(n,e){return n=zD(n),Ue(n.getFullYear()%100,e,2)}function t8(n,e){return Ue(n.getFullYear()%1e4,e,4)}function n8(n,e){var t=n.getDay();return n=t>=4||t===0?al(n):al.ceil(n),Ue(n.getFullYear()%1e4,e,4)}function i8(n){var e=n.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ue(e/60|0,"0",2)+Ue(e%60,"0",2)}function rM(n,e){return Ue(n.getUTCDate(),e,2)}function r8(n,e){return Ue(n.getUTCHours(),e,2)}function a8(n,e){return Ue(n.getUTCHours()%12||12,e,2)}function s8(n,e){return Ue(1+up.count(Yr(n),n),e,3)}function FD(n,e){return Ue(n.getUTCMilliseconds(),e,3)}function o8(n,e){return FD(n,e)+"000"}function l8(n,e){return Ue(n.getUTCMonth()+1,e,2)}function c8(n,e){return Ue(n.getUTCMinutes(),e,2)}function u8(n,e){return Ue(n.getUTCSeconds(),e,2)}function d8(n){var e=n.getUTCDay();return e===0?7:e}function f8(n,e){return Ue(fp.count(Yr(n)-1,n),e,2)}function UD(n){var e=n.getUTCDay();return e>=4||e===0?sl(n):sl.ceil(n)}function h8(n,e){return n=UD(n),Ue(sl.count(Yr(n),n)+(Yr(n).getUTCDay()===4),e,2)}function p8(n){return n.getUTCDay()}function m8(n,e){return Ue(fh.count(Yr(n)-1,n),e,2)}function g8(n,e){return Ue(n.getUTCFullYear()%100,e,2)}function v8(n,e){return n=UD(n),Ue(n.getUTCFullYear()%100,e,2)}function y8(n,e){return Ue(n.getUTCFullYear()%1e4,e,4)}function b8(n,e){var t=n.getUTCDay();return n=t>=4||t===0?sl(n):sl.ceil(n),Ue(n.getUTCFullYear()%1e4,e,4)}function A8(){return"+0000"}function aM(){return"%"}function sM(n){return+n}function oM(n){return Math.floor(+n/1e3)}var No,HD,qD;S8({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function S8(n){return No=S5(n),HD=No.format,No.parse,qD=No.utcFormat,No.utcParse,No}function E8(n){return new Date(n)}function x8(n){return n instanceof Date?+n:+new Date(+n)}function lA(n,e,t,i,r,s,l,c,d,f){var h=Xb(),p=h.invert,g=h.domain,y=f(".%L"),S=f(":%S"),A=f("%I:%M"),E=f("%I %p"),x=f("%a %d"),O=f("%b %d"),T=f("%B"),P=f("%Y");function M(_){return(d(_)<_?y:c(_)<_?S:l(_)<_?A:s(_)<_?E:i(_)<_?r(_)<_?x:O:t(_)<_?T:P)(_)}return h.invert=function(_){return new Date(p(_))},h.domain=function(_){return arguments.length?g(Array.from(_,x8)):g().map(E8)},h.ticks=function(_){var L=g();return n(L[0],L[L.length-1],_??10)},h.tickFormat=function(_,L){return L==null?M:f(L)},h.nice=function(_){var L=g();return(!_||typeof _.range!="function")&&(_=e(L[0],L[L.length-1],_??10)),_?g(_D(L,_)):h},h.copy=function(){return Au(h,lA(n,e,t,i,r,s,l,c,d,f))},h}function w8(){return Ni.apply(lA(b5,A5,Vr,sA,dp,Su,rA,nA,Ss,HD).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function C8(){return Ni.apply(lA(v5,y5,Yr,oA,fp,up,aA,iA,Ss,qD).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function hp(){var n=0,e=1,t,i,r,s,l=Mn,c=!1,d;function f(p){return p==null||isNaN(p=+p)?d:l(r===0?.5:(p=(s(p)-t)*r,c?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([n,e]=p,t=s(n=+n),i=s(e=+e),r=t===i?0:1/(i-t),f):[n,e]},f.clamp=function(p){return arguments.length?(c=!!p,f):c},f.interpolator=function(p){return arguments.length?(l=p,f):l};function h(p){return function(g){var y,S;return arguments.length?([y,S]=g,l=p(y,S),f):[l(0),l(1)]}}return f.range=h(fl),f.rangeRound=h(Yb),f.unknown=function(p){return arguments.length?(d=p,f):d},function(p){return s=p,t=p(n),i=p(e),r=t===i?0:1/(i-t),f}}function Ya(n,e){return e.domain(n.domain()).interpolator(n.interpolator()).clamp(n.clamp()).unknown(n.unknown())}function $D(){var n=Va(hp()(Mn));return n.copy=function(){return Ya(n,$D())},ea.apply(n,arguments)}function GD(){var n=Zb(hp()).domain([1,10]);return n.copy=function(){return Ya(n,GD()).base(n.base())},ea.apply(n,arguments)}function VD(){var n=Qb(hp());return n.copy=function(){return Ya(n,VD()).constant(n.constant())},ea.apply(n,arguments)}function cA(){var n=Jb(hp());return n.copy=function(){return Ya(n,cA()).exponent(n.exponent())},ea.apply(n,arguments)}function O8(){return cA.apply(null,arguments).exponent(.5)}function YD(){var n=[],e=Mn;function t(i){if(i!=null&&!isNaN(i=+i))return e((yu(n,i,1)-1)/(n.length-1))}return t.domain=function(i){if(!arguments.length)return n.slice();n=[];for(let r of i)r!=null&&!isNaN(r=+r)&&n.push(r);return n.sort(za),t},t.interpolator=function(i){return arguments.length?(e=i,t):e},t.range=function(){return n.map((i,r)=>e(r/(n.length-1)))},t.quantiles=function(i){return Array.from({length:i+1},(r,s)=>dH(n,s/i))},t.copy=function(){return YD(e).domain(n)},ea.apply(t,arguments)}function pp(){var n=0,e=.5,t=1,i=1,r,s,l,c,d,f=Mn,h,p=!1,g;function y(A){return isNaN(A=+A)?g:(A=.5+((A=+h(A))-s)*(i*A<i*s?c:d),f(p?Math.max(0,Math.min(1,A)):A))}y.domain=function(A){return arguments.length?([n,e,t]=A,r=h(n=+n),s=h(e=+e),l=h(t=+t),c=r===s?0:.5/(s-r),d=s===l?0:.5/(l-s),i=s<r?-1:1,y):[n,e,t]},y.clamp=function(A){return arguments.length?(p=!!A,y):p},y.interpolator=function(A){return arguments.length?(f=A,y):f};function S(A){return function(E){var x,O,T;return arguments.length?([x,O,T]=E,f=jH(A,[x,O,T]),y):[f(0),f(.5),f(1)]}}return y.range=S(fl),y.rangeRound=S(Yb),y.unknown=function(A){return arguments.length?(g=A,y):g},function(A){return h=A,r=A(n),s=A(e),l=A(t),c=r===s?0:.5/(s-r),d=s===l?0:.5/(l-s),i=s<r?-1:1,y}}function XD(){var n=Va(pp()(Mn));return n.copy=function(){return Ya(n,XD())},ea.apply(n,arguments)}function KD(){var n=Zb(pp()).domain([.1,1,10]);return n.copy=function(){return Ya(n,KD()).base(n.base())},ea.apply(n,arguments)}function WD(){var n=Qb(pp());return n.copy=function(){return Ya(n,WD()).constant(n.constant())},ea.apply(n,arguments)}function uA(){var n=Jb(pp());return n.copy=function(){return Ya(n,uA()).exponent(n.exponent())},ea.apply(n,arguments)}function T8(){return uA.apply(null,arguments).exponent(.5)}const Ic=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:$b,scaleDiverging:XD,scaleDivergingLog:KD,scaleDivergingPow:uA,scaleDivergingSqrt:T8,scaleDivergingSymlog:WD,scaleIdentity:MD,scaleImplicit:I0,scaleLinear:TD,scaleLog:PD,scaleOrdinal:qb,scalePoint:pH,scalePow:eA,scaleQuantile:ND,scaleQuantize:RD,scaleRadial:LD,scaleSequential:$D,scaleSequentialLog:GD,scaleSequentialPow:cA,scaleSequentialQuantile:YD,scaleSequentialSqrt:O8,scaleSequentialSymlog:VD,scaleSqrt:o5,scaleSymlog:DD,scaleThreshold:ID,scaleTime:w8,scaleUtc:C8,tickFormat:OD},Symbol.toStringTag,{value:"Module"}));var ta=n=>n.chartData,mp=Y([ta],n=>{var e=n.chartData!=null?n.chartData.length-1:0;return{chartData:n.chartData,computedData:n.computedData,dataEndIndex:e,dataStartIndex:0}}),ZD=(n,e,t,i)=>i?mp(n):ta(n),M8=(n,e,t)=>t?mp(n):ta(n);function Xr(n){if(Array.isArray(n)&&n.length===2){var[e,t]=n;if(Xe(e)&&Xe(t))return!0}return!1}function lM(n,e,t){return t?n:[Math.min(n[0],e[0]),Math.max(n[1],e[1])]}function QD(n,e){if(e&&typeof n!="function"&&Array.isArray(n)&&n.length===2){var[t,i]=n,r,s;if(Xe(t))r=t;else if(typeof t=="function")return;if(Xe(i))s=i;else if(typeof i=="function")return;var l=[r,s];if(Xr(l))return l}}function _8(n,e,t){if(!(!t&&e==null)){if(typeof n=="function"&&e!=null)try{var i=n(e,t);if(Xr(i))return lM(i,e,t)}catch{}if(Array.isArray(n)&&n.length===2){var[r,s]=n,l,c;if(r==="auto")e!=null&&(l=Math.min(...e));else if(be(r))l=r;else if(typeof r=="function")try{e!=null&&(l=r(e?.[0]))}catch{}else if(typeof r=="string"&&vO.test(r)){var d=vO.exec(r);if(d==null||d[1]==null||e==null)l=void 0;else{var f=+d[1];l=e[0]-f}}else l=e?.[0];if(s==="auto")e!=null&&(c=Math.max(...e));else if(be(s))c=s;else if(typeof s=="function")try{e!=null&&(c=s(e?.[1]))}catch{}else if(typeof s=="string"&&yO.test(s)){var h=yO.exec(s);if(h==null||h[1]==null||e==null)c=void 0;else{var p=+h[1];c=e[1]+p}}else c=e?.[1];var g=[l,c];if(Xr(g))return e==null?g:lM(g,e,t)}}}var hl=1e9,P8={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},fA,yt=!0,Li="[DecimalError] ",Ts=Li+"Invalid argument: ",dA=Li+"Exponent out of range: ",pl=Math.floor,vs=Math.pow,D8=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ai,tn=1e7,ft=7,JD=9007199254740991,hh=pl(JD/ft),he={};he.absoluteValue=he.abs=function(){var n=new this.constructor(this);return n.s&&(n.s=1),n};he.comparedTo=he.cmp=function(n){var e,t,i,r,s=this;if(n=new s.constructor(n),s.s!==n.s)return s.s||-n.s;if(s.e!==n.e)return s.e>n.e^s.s<0?1:-1;for(i=s.d.length,r=n.d.length,e=0,t=i<r?i:r;e<t;++e)if(s.d[e]!==n.d[e])return s.d[e]>n.d[e]^s.s<0?1:-1;return i===r?0:i>r^s.s<0?1:-1};he.decimalPlaces=he.dp=function(){var n=this,e=n.d.length-1,t=(e-n.e)*ft;if(e=n.d[e],e)for(;e%10==0;e/=10)t--;return t<0?0:t};he.dividedBy=he.div=function(n){return qr(this,new this.constructor(n))};he.dividedToIntegerBy=he.idiv=function(n){var e=this,t=e.constructor;return st(qr(e,new t(n),0,1),t.precision)};he.equals=he.eq=function(n){return!this.cmp(n)};he.exponent=function(){return Ft(this)};he.greaterThan=he.gt=function(n){return this.cmp(n)>0};he.greaterThanOrEqualTo=he.gte=function(n){return this.cmp(n)>=0};he.isInteger=he.isint=function(){return this.e>this.d.length-2};he.isNegative=he.isneg=function(){return this.s<0};he.isPositive=he.ispos=function(){return this.s>0};he.isZero=function(){return this.s===0};he.lessThan=he.lt=function(n){return this.cmp(n)<0};he.lessThanOrEqualTo=he.lte=function(n){return this.cmp(n)<1};he.logarithm=he.log=function(n){var e,t=this,i=t.constructor,r=i.precision,s=r+5;if(n===void 0)n=new i(10);else if(n=new i(n),n.s<1||n.eq(ai))throw Error(Li+"NaN");if(t.s<1)throw Error(Li+(t.s?"NaN":"-Infinity"));return t.eq(ai)?new i(0):(yt=!1,e=qr(iu(t,s),iu(n,s),s),yt=!0,st(e,r))};he.minus=he.sub=function(n){var e=this;return n=new e.constructor(n),e.s==n.s?nL(e,n):eL(e,(n.s=-n.s,n))};he.modulo=he.mod=function(n){var e,t=this,i=t.constructor,r=i.precision;if(n=new i(n),!n.s)throw Error(Li+"NaN");return t.s?(yt=!1,e=qr(t,n,0,1).times(n),yt=!0,t.minus(e)):st(new i(t),r)};he.naturalExponential=he.exp=function(){return tL(this)};he.naturalLogarithm=he.ln=function(){return iu(this)};he.negated=he.neg=function(){var n=new this.constructor(this);return n.s=-n.s||0,n};he.plus=he.add=function(n){var e=this;return n=new e.constructor(n),e.s==n.s?eL(e,n):nL(e,(n.s=-n.s,n))};he.precision=he.sd=function(n){var e,t,i,r=this;if(n!==void 0&&n!==!!n&&n!==1&&n!==0)throw Error(Ts+n);if(e=Ft(r)+1,i=r.d.length-1,t=i*ft+1,i=r.d[i],i){for(;i%10==0;i/=10)t--;for(i=r.d[0];i>=10;i/=10)t++}return n&&e>t?e:t};he.squareRoot=he.sqrt=function(){var n,e,t,i,r,s,l,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(Li+"NaN")}for(n=Ft(c),yt=!1,r=Math.sqrt(+c),r==0||r==1/0?(e=ar(c.d),(e.length+n)%2==0&&(e+="0"),r=Math.sqrt(e),n=pl((n+1)/2)-(n<0||n%2),r==1/0?e="5e"+n:(e=r.toExponential(),e=e.slice(0,e.indexOf("e")+1)+n),i=new d(e)):i=new d(r.toString()),t=d.precision,r=l=t+3;;)if(s=i,i=s.plus(qr(c,s,l+2)).times(.5),ar(s.d).slice(0,l)===(e=ar(i.d)).slice(0,l)){if(e=e.slice(l-3,l+1),r==l&&e=="4999"){if(st(s,t+1,0),s.times(s).eq(c)){i=s;break}}else if(e!="9999")break;l+=4}return yt=!0,st(i,t)};he.times=he.mul=function(n){var e,t,i,r,s,l,c,d,f,h=this,p=h.constructor,g=h.d,y=(n=new p(n)).d;if(!h.s||!n.s)return new p(0);for(n.s*=h.s,t=h.e+n.e,d=g.length,f=y.length,d<f&&(s=g,g=y,y=s,l=d,d=f,f=l),s=[],l=d+f,i=l;i--;)s.push(0);for(i=f;--i>=0;){for(e=0,r=d+i;r>i;)c=s[r]+y[i]*g[r-i-1]+e,s[r--]=c%tn|0,e=c/tn|0;s[r]=(s[r]+e)%tn|0}for(;!s[--l];)s.pop();return e?++t:s.shift(),n.d=s,n.e=t,yt?st(n,p.precision):n};he.toDecimalPlaces=he.todp=function(n,e){var t=this,i=t.constructor;return t=new i(t),n===void 0?t:(dr(n,0,hl),e===void 0?e=i.rounding:dr(e,0,8),st(t,n+Ft(t)+1,e))};he.toExponential=function(n,e){var t,i=this,r=i.constructor;return n===void 0?t=Bs(i,!0):(dr(n,0,hl),e===void 0?e=r.rounding:dr(e,0,8),i=st(new r(i),n+1,e),t=Bs(i,!0,n+1)),t};he.toFixed=function(n,e){var t,i,r=this,s=r.constructor;return n===void 0?Bs(r):(dr(n,0,hl),e===void 0?e=s.rounding:dr(e,0,8),i=st(new s(r),n+Ft(r)+1,e),t=Bs(i.abs(),!1,n+Ft(i)+1),r.isneg()&&!r.isZero()?"-"+t:t)};he.toInteger=he.toint=function(){var n=this,e=n.constructor;return st(new e(n),Ft(n)+1,e.rounding)};he.toNumber=function(){return+this};he.toPower=he.pow=function(n){var e,t,i,r,s,l,c=this,d=c.constructor,f=12,h=+(n=new d(n));if(!n.s)return new d(ai);if(c=new d(c),!c.s){if(n.s<1)throw Error(Li+"Infinity");return c}if(c.eq(ai))return c;if(i=d.precision,n.eq(ai))return st(c,i);if(e=n.e,t=n.d.length-1,l=e>=t,s=c.s,l){if((t=h<0?-h:h)<=JD){for(r=new d(ai),e=Math.ceil(i/ft+4),yt=!1;t%2&&(r=r.times(c),uM(r.d,e)),t=pl(t/2),t!==0;)c=c.times(c),uM(c.d,e);return yt=!0,n.s<0?new d(ai).div(r):st(r,i)}}else if(s<0)throw Error(Li+"NaN");return s=s<0&&n.d[Math.max(e,t)]&1?-1:1,c.s=1,yt=!1,r=n.times(iu(c,i+f)),yt=!0,r=tL(r),r.s=s,r};he.toPrecision=function(n,e){var t,i,r=this,s=r.constructor;return n===void 0?(t=Ft(r),i=Bs(r,t<=s.toExpNeg||t>=s.toExpPos)):(dr(n,1,hl),e===void 0?e=s.rounding:dr(e,0,8),r=st(new s(r),n,e),t=Ft(r),i=Bs(r,n<=t||t<=s.toExpNeg,n)),i};he.toSignificantDigits=he.tosd=function(n,e){var t=this,i=t.constructor;return n===void 0?(n=i.precision,e=i.rounding):(dr(n,1,hl),e===void 0?e=i.rounding:dr(e,0,8)),st(new i(t),n,e)};he.toString=he.valueOf=he.val=he.toJSON=he[Symbol.for("nodejs.util.inspect.custom")]=function(){var n=this,e=Ft(n),t=n.constructor;return Bs(n,e<=t.toExpNeg||e>=t.toExpPos)};function eL(n,e){var t,i,r,s,l,c,d,f,h=n.constructor,p=h.precision;if(!n.s||!e.s)return e.s||(e=new h(n)),yt?st(e,p):e;if(d=n.d,f=e.d,l=n.e,r=e.e,d=d.slice(),s=l-r,s){for(s<0?(i=d,s=-s,c=f.length):(i=f,r=l,c=d.length),l=Math.ceil(p/ft),c=l>c?l+1:c+1,s>c&&(s=c,i.length=1),i.reverse();s--;)i.push(0);i.reverse()}for(c=d.length,s=f.length,c-s<0&&(s=c,i=f,f=d,d=i),t=0;s;)t=(d[--s]=d[s]+f[s]+t)/tn|0,d[s]%=tn;for(t&&(d.unshift(t),++r),c=d.length;d[--c]==0;)d.pop();return e.d=d,e.e=r,yt?st(e,p):e}function dr(n,e,t){if(n!==~~n||n<e||n>t)throw Error(Ts+n)}function ar(n){var e,t,i,r=n.length-1,s="",l=n[0];if(r>0){for(s+=l,e=1;e<r;e++)i=n[e]+"",t=ft-i.length,t&&(s+=Na(t)),s+=i;l=n[e],i=l+"",t=ft-i.length,t&&(s+=Na(t))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}var qr=(function(){function n(i,r){var s,l=0,c=i.length;for(i=i.slice();c--;)s=i[c]*r+l,i[c]=s%tn|0,l=s/tn|0;return l&&i.unshift(l),i}function e(i,r,s,l){var c,d;if(s!=l)d=s>l?1:-1;else for(c=d=0;c<s;c++)if(i[c]!=r[c]){d=i[c]>r[c]?1:-1;break}return d}function t(i,r,s){for(var l=0;s--;)i[s]-=l,l=i[s]<r[s]?1:0,i[s]=l*tn+i[s]-r[s];for(;!i[0]&&i.length>1;)i.shift()}return function(i,r,s,l){var c,d,f,h,p,g,y,S,A,E,x,O,T,P,M,_,L,B,F=i.constructor,X=i.s==r.s?1:-1,q=i.d,$=r.d;if(!i.s)return new F(i);if(!r.s)throw Error(Li+"Division by zero");for(d=i.e-r.e,L=$.length,M=q.length,y=new F(X),S=y.d=[],f=0;$[f]==(q[f]||0);)++f;if($[f]>(q[f]||0)&&--d,s==null?O=s=F.precision:l?O=s+(Ft(i)-Ft(r))+1:O=s,O<0)return new F(0);if(O=O/ft+2|0,f=0,L==1)for(h=0,$=$[0],O++;(f<M||h)&&O--;f++)T=h*tn+(q[f]||0),S[f]=T/$|0,h=T%$|0;else{for(h=tn/($[0]+1)|0,h>1&&($=n($,h),q=n(q,h),L=$.length,M=q.length),P=L,A=q.slice(0,L),E=A.length;E<L;)A[E++]=0;B=$.slice(),B.unshift(0),_=$[0],$[1]>=tn/2&&++_;do h=0,c=e($,A,L,E),c<0?(x=A[0],L!=E&&(x=x*tn+(A[1]||0)),h=x/_|0,h>1?(h>=tn&&(h=tn-1),p=n($,h),g=p.length,E=A.length,c=e(p,A,g,E),c==1&&(h--,t(p,L<g?B:$,g))):(h==0&&(c=h=1),p=$.slice()),g=p.length,g<E&&p.unshift(0),t(A,p,E),c==-1&&(E=A.length,c=e($,A,L,E),c<1&&(h++,t(A,L<E?B:$,E))),E=A.length):c===0&&(h++,A=[0]),S[f++]=h,c&&A[0]?A[E++]=q[P]||0:(A=[q[P]],E=1);while((P++<M||A[0]!==void 0)&&O--)}return S[0]||S.shift(),y.e=d,st(y,l?s+Ft(y)+1:s)}})();function tL(n,e){var t,i,r,s,l,c,d=0,f=0,h=n.constructor,p=h.precision;if(Ft(n)>16)throw Error(dA+Ft(n));if(!n.s)return new h(ai);for(yt=!1,c=p,l=new h(.03125);n.abs().gte(.1);)n=n.times(l),f+=5;for(i=Math.log(vs(2,f))/Math.LN10*2+5|0,c+=i,t=r=s=new h(ai),h.precision=c;;){if(r=st(r.times(n),c),t=t.times(++d),l=s.plus(qr(r,t,c)),ar(l.d).slice(0,c)===ar(s.d).slice(0,c)){for(;f--;)s=st(s.times(s),c);return h.precision=p,e==null?(yt=!0,st(s,p)):s}s=l}}function Ft(n){for(var e=n.e*ft,t=n.d[0];t>=10;t/=10)e++;return e}function wy(n,e,t){if(e>n.LN10.sd())throw yt=!0,t&&(n.precision=t),Error(Li+"LN10 precision limit exceeded");return st(new n(n.LN10),e)}function Na(n){for(var e="";n--;)e+="0";return e}function iu(n,e){var t,i,r,s,l,c,d,f,h,p=1,g=10,y=n,S=y.d,A=y.constructor,E=A.precision;if(y.s<1)throw Error(Li+(y.s?"NaN":"-Infinity"));if(y.eq(ai))return new A(0);if(e==null?(yt=!1,f=E):f=e,y.eq(10))return e==null&&(yt=!0),wy(A,f);if(f+=g,A.precision=f,t=ar(S),i=t.charAt(0),s=Ft(y),Math.abs(s)<15e14){for(;i<7&&i!=1||i==1&&t.charAt(1)>3;)y=y.times(n),t=ar(y.d),i=t.charAt(0),p++;s=Ft(y),i>1?(y=new A("0."+t),s++):y=new A(i+"."+t.slice(1))}else return d=wy(A,f+2,E).times(s+""),y=iu(new A(i+"."+t.slice(1)),f-g).plus(d),A.precision=E,e==null?(yt=!0,st(y,E)):y;for(c=l=y=qr(y.minus(ai),y.plus(ai),f),h=st(y.times(y),f),r=3;;){if(l=st(l.times(h),f),d=c.plus(qr(l,new A(r),f)),ar(d.d).slice(0,f)===ar(c.d).slice(0,f))return c=c.times(2),s!==0&&(c=c.plus(wy(A,f+2,E).times(s+""))),c=qr(c,new A(p),f),A.precision=E,e==null?(yt=!0,st(c,E)):c;c=d,r+=2}}function cM(n,e){var t,i,r;for((t=e.indexOf("."))>-1&&(e=e.replace(".","")),(i=e.search(/e/i))>0?(t<0&&(t=i),t+=+e.slice(i+1),e=e.substring(0,i)):t<0&&(t=e.length),i=0;e.charCodeAt(i)===48;)++i;for(r=e.length;e.charCodeAt(r-1)===48;)--r;if(e=e.slice(i,r),e){if(r-=i,t=t-i-1,n.e=pl(t/ft),n.d=[],i=(t+1)%ft,t<0&&(i+=ft),i<r){for(i&&n.d.push(+e.slice(0,i)),r-=ft;i<r;)n.d.push(+e.slice(i,i+=ft));e=e.slice(i),i=ft-e.length}else i-=r;for(;i--;)e+="0";if(n.d.push(+e),yt&&(n.e>hh||n.e<-hh))throw Error(dA+t)}else n.s=0,n.e=0,n.d=[0];return n}function st(n,e,t){var i,r,s,l,c,d,f,h,p=n.d;for(l=1,s=p[0];s>=10;s/=10)l++;if(i=e-l,i<0)i+=ft,r=e,f=p[h=0];else{if(h=Math.ceil((i+1)/ft),s=p.length,h>=s)return n;for(f=s=p[h],l=1;s>=10;s/=10)l++;i%=ft,r=i-ft+l}if(t!==void 0&&(s=vs(10,l-r-1),c=f/s%10|0,d=e<0||p[h+1]!==void 0||f%s,d=t<4?(c||d)&&(t==0||t==(n.s<0?3:2)):c>5||c==5&&(t==4||d||t==6&&(i>0?r>0?f/vs(10,l-r):0:p[h-1])%10&1||t==(n.s<0?8:7))),e<1||!p[0])return d?(s=Ft(n),p.length=1,e=e-s-1,p[0]=vs(10,(ft-e%ft)%ft),n.e=pl(-e/ft)||0):(p.length=1,p[0]=n.e=n.s=0),n;if(i==0?(p.length=h,s=1,h--):(p.length=h+1,s=vs(10,ft-i),p[h]=r>0?(f/vs(10,l-r)%vs(10,r)|0)*s:0),d)for(;;)if(h==0){(p[0]+=s)==tn&&(p[0]=1,++n.e);break}else{if(p[h]+=s,p[h]!=tn)break;p[h--]=0,s=1}for(i=p.length;p[--i]===0;)p.pop();if(yt&&(n.e>hh||n.e<-hh))throw Error(dA+Ft(n));return n}function nL(n,e){var t,i,r,s,l,c,d,f,h,p,g=n.constructor,y=g.precision;if(!n.s||!e.s)return e.s?e.s=-e.s:e=new g(n),yt?st(e,y):e;if(d=n.d,p=e.d,i=e.e,f=n.e,d=d.slice(),l=f-i,l){for(h=l<0,h?(t=d,l=-l,c=p.length):(t=p,i=f,c=d.length),r=Math.max(Math.ceil(y/ft),c)+2,l>r&&(l=r,t.length=1),t.reverse(),r=l;r--;)t.push(0);t.reverse()}else{for(r=d.length,c=p.length,h=r<c,h&&(c=r),r=0;r<c;r++)if(d[r]!=p[r]){h=d[r]<p[r];break}l=0}for(h&&(t=d,d=p,p=t,e.s=-e.s),c=d.length,r=p.length-c;r>0;--r)d[c++]=0;for(r=p.length;r>l;){if(d[--r]<p[r]){for(s=r;s&&d[--s]===0;)d[s]=tn-1;--d[s],d[r]+=tn}d[r]-=p[r]}for(;d[--c]===0;)d.pop();for(;d[0]===0;d.shift())--i;return d[0]?(e.d=d,e.e=i,yt?st(e,y):e):new g(0)}function Bs(n,e,t){var i,r=Ft(n),s=ar(n.d),l=s.length;return e?(t&&(i=t-l)>0?s=s.charAt(0)+"."+s.slice(1)+Na(i):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(r<0?"e":"e+")+r):r<0?(s="0."+Na(-r-1)+s,t&&(i=t-l)>0&&(s+=Na(i))):r>=l?(s+=Na(r+1-l),t&&(i=t-r-1)>0&&(s=s+"."+Na(i))):((i=r+1)<l&&(s=s.slice(0,i)+"."+s.slice(i)),t&&(i=t-l)>0&&(r+1===l&&(s+="."),s+=Na(i))),n.s<0?"-"+s:s}function uM(n,e){if(n.length>e)return n.length=e,!0}function iL(n){var e,t,i;function r(s){var l=this;if(!(l instanceof r))return new r(s);if(l.constructor=r,s instanceof r){l.s=s.s,l.e=s.e,l.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Ts+s);if(s>0)l.s=1;else if(s<0)s=-s,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(s===~~s&&s<1e7){l.e=0,l.d=[s];return}return cM(l,s.toString())}else if(typeof s!="string")throw Error(Ts+s);if(s.charCodeAt(0)===45?(s=s.slice(1),l.s=-1):l.s=1,D8.test(s))cM(l,s);else throw Error(Ts+s)}if(r.prototype=he,r.ROUND_UP=0,r.ROUND_DOWN=1,r.ROUND_CEIL=2,r.ROUND_FLOOR=3,r.ROUND_HALF_UP=4,r.ROUND_HALF_DOWN=5,r.ROUND_HALF_EVEN=6,r.ROUND_HALF_CEIL=7,r.ROUND_HALF_FLOOR=8,r.clone=iL,r.config=r.set=L8,n===void 0&&(n={}),n)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<i.length;)n.hasOwnProperty(t=i[e++])||(n[t]=this[t]);return r.config(n),r}function L8(n){if(!n||typeof n!="object")throw Error(Li+"Object expected");var e,t,i,r=["precision",1,hl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<r.length;e+=3)if((i=n[t=r[e]])!==void 0)if(pl(i)===i&&i>=r[e+1]&&i<=r[e+2])this[t]=i;else throw Error(Ts+t+": "+i);if((i=n[t="LN10"])!==void 0)if(i==Math.LN10)this[t]=new this(i);else throw Error(Ts+t+": "+i);return this}var fA=iL(P8);ai=new fA(1);const Qe=fA;function rL(n){var e;return n===0?e=1:e=Math.floor(new Qe(n).abs().log(10).toNumber())+1,e}function aL(n,e,t){for(var i=new Qe(n),r=0,s=[];i.lt(e)&&r<1e5;)s.push(i.toNumber()),i=i.add(t),r++;return s}var sL=n=>{var[e,t]=n,[i,r]=[e,t];return e>t&&([i,r]=[t,e]),[i,r]},oL=(n,e,t)=>{if(n.lte(0))return new Qe(0);var i=rL(n.toNumber()),r=new Qe(10).pow(i),s=n.div(r),l=i!==1?.05:.1,c=new Qe(Math.ceil(s.div(l).toNumber())).add(t).mul(l),d=c.mul(r);return e?new Qe(d.toNumber()):new Qe(Math.ceil(d.toNumber()))},N8=(n,e,t)=>{var i=new Qe(1),r=new Qe(n);if(!r.isint()&&t){var s=Math.abs(n);s<1?(i=new Qe(10).pow(rL(n)-1),r=new Qe(Math.floor(r.div(i).toNumber())).mul(i)):s>1&&(r=new Qe(Math.floor(n)))}else n===0?r=new Qe(Math.floor((e-1)/2)):t||(r=new Qe(Math.floor(n)));for(var l=Math.floor((e-1)/2),c=[],d=0;d<e;d++)c.push(r.add(new Qe(d-l).mul(i)).toNumber());return c},lL=function(e,t,i,r){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(i-1)))return{step:new Qe(0),tickMin:new Qe(0),tickMax:new Qe(0)};var l=oL(new Qe(t).sub(e).div(i-1),r,s),c;e<=0&&t>=0?c=new Qe(0):(c=new Qe(e).add(t).div(2),c=c.sub(new Qe(c).mod(l)));var d=Math.ceil(c.sub(e).div(l).toNumber()),f=Math.ceil(new Qe(t).sub(c).div(l).toNumber()),h=d+f+1;return h>i?lL(e,t,i,r,s+1):(h<i&&(f=t>0?f+(i-h):f,d=t>0?d:d+(i-h)),{step:l,tickMin:c.sub(new Qe(d).mul(l)),tickMax:c.add(new Qe(f).mul(l))})},R8=function(e){var[t,i]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(r,2),[c,d]=sL([t,i]);if(c===-1/0||d===1/0){var f=d===1/0?[c,...Array(r-1).fill(1/0)]:[...Array(r-1).fill(-1/0),d];return t>i?f.reverse():f}if(c===d)return N8(c,r,s);var{step:h,tickMin:p,tickMax:g}=lL(c,d,l,s,0),y=aL(p,g.add(new Qe(.1).mul(h)),h);return t>i?y.reverse():y},I8=function(e,t){var[i,r]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,c]=sL([i,r]);if(l===-1/0||c===1/0)return[i,r];if(l===c)return[l];var d=Math.max(t,2),f=oL(new Qe(c).sub(l).div(d-1),s,0),h=[...aL(new Qe(l),new Qe(c),f),c];return s===!1&&(h=h.map(p=>Math.round(p))),i>r?h.reverse():h},cL=n=>n.rootProps.maxBarSize,k8=n=>n.rootProps.barGap,uL=n=>n.rootProps.barCategoryGap,B8=n=>n.rootProps.barSize,Eu=n=>n.rootProps.stackOffset,dL=n=>n.rootProps.reverseStackOrder,hA=n=>n.options.chartName,pA=n=>n.rootProps.syncId,fL=n=>n.rootProps.syncMethod,mA=n=>n.options.eventEmitter,xn={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},hs={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},Ji={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},gp=(n,e)=>{if(!(!n||!e))return n!=null&&n.reversed?[e[1],e[0]]:e};function vp(n,e,t){if(t!=="auto")return t;if(n!=null)return Ga(n,e)?"category":"number"}function dM(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function ph(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?dM(Object(t),!0).forEach(function(i){j8(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):dM(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function j8(n,e,t){return(e=z8(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function z8(n){var e=F8(n,"string");return typeof e=="symbol"?e:e+""}function F8(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var fM={allowDataOverflow:hs.allowDataOverflow,allowDecimals:hs.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:hs.angleAxisId,includeHidden:!1,name:void 0,reversed:hs.reversed,scale:hs.scale,tick:hs.tick,tickCount:void 0,ticks:void 0,type:hs.type,unit:void 0},hM={allowDataOverflow:Ji.allowDataOverflow,allowDecimals:Ji.allowDecimals,allowDuplicatedCategory:Ji.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ji.radiusAxisId,includeHidden:Ji.includeHidden,name:void 0,reversed:Ji.reversed,scale:Ji.scale,tick:Ji.tick,tickCount:Ji.tickCount,ticks:void 0,type:Ji.type,unit:void 0},U8=(n,e)=>{if(e!=null)return n.polarAxis.angleAxis[e]},gA=Y([U8,WP],(n,e)=>{var t;if(n!=null)return n;var i=(t=vp(e,"angleAxis",fM.type))!==null&&t!==void 0?t:"category";return ph(ph({},fM),{},{type:i})}),H8=(n,e)=>n.polarAxis.radiusAxis[e],vA=Y([H8,WP],(n,e)=>{var t;if(n!=null)return n;var i=(t=vp(e,"radiusAxis",hM.type))!==null&&t!==void 0?t:"category";return ph(ph({},hM),{},{type:i})}),yp=n=>n.polarOptions,yA=Y([Qr,Jr,Vt],hD),hL=Y([yp,yA],(n,e)=>{if(n!=null)return wn(n.innerRadius,e,0)}),pL=Y([yp,yA],(n,e)=>{if(n!=null)return wn(n.outerRadius,e,e*.8)}),q8=n=>{if(n==null)return[0,0];var{startAngle:e,endAngle:t}=n;return[e,t]},mL=Y([yp],q8);Y([gA,mL],gp);var gL=Y([yA,hL,pL],(n,e,t)=>{if(!(n==null||e==null||t==null))return[e,t]});Y([vA,gL],gp);var vL=Y([Ke,yp,hL,pL,Qr,Jr],(n,e,t,i,r,s)=>{if(!(n!=="centric"&&n!=="radial"||e==null||t==null||i==null)){var{cx:l,cy:c,startAngle:d,endAngle:f}=e;return{cx:wn(l,r,r/2),cy:wn(c,s,s/2),innerRadius:t,outerRadius:i,startAngle:d,endAngle:f,clockWise:!1}}}),St=(n,e)=>e,xu=(n,e,t)=>t;function bA(n){return n?.id}function yL(n,e,t){var{chartData:i=[]}=e,{allowDuplicatedCategory:r,dataKey:s}=t,l=new Map;return n.forEach(c=>{var d,f=(d=c.data)!==null&&d!==void 0?d:i;if(!(f==null||f.length===0)){var h=bA(c);f.forEach((p,g)=>{var y=s==null||r?g:String(ht(p,s,null)),S=ht(p,c.dataKey,0),A;l.has(y)?A=l.get(y):A={},Object.assign(A,{[h]:S}),l.set(y,A)})}}),Array.from(l.values())}function bp(n){return"stackId"in n&&n.stackId!=null&&n.dataKey!=null}var Ap=(n,e)=>n===e?!0:n==null||e==null?!1:n[0]===e[0]&&n[1]===e[1];function Sp(n,e){return Array.isArray(n)&&Array.isArray(e)&&n.length===0&&e.length===0?!0:n===e}function $8(n,e){if(n.length===e.length){for(var t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}return!1}var an=n=>{var e=Ke(n);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},ml=n=>n.tooltip.settings.axisId;function G8(n){if(n in Ic)return Ic[n]();var e="scale".concat(du(n));if(e in Ic)return Ic[e]()}function pM(n){var e=n.ticks,t=n.bandwidth,i=n.range(),r=[Math.min(...i),Math.max(...i)];return{domain:()=>n.domain(),range:(function(s){function l(){return s.apply(this,arguments)}return l.toString=function(){return s.toString()},l})(()=>r),rangeMin:()=>r[0],rangeMax:()=>r[1],isInRange(s){var l=r[0],c=r[1];return l<=c?s>=l&&s<=c:s>=c&&s<=l},bandwidth:t?()=>t.call(n):void 0,ticks:e?s=>e.call(n,s):void 0,map:(s,l)=>{var c=n(s);if(c!=null){if(n.bandwidth&&l!==null&&l!==void 0&&l.position){var d=n.bandwidth();switch(l.position){case"middle":c+=d/2;break;case"end":c+=d;break}}return c}}}}function mM(n,e,t){if(typeof n=="function")return pM(n.copy().domain(e).range(t));if(n!=null){var i=G8(n);if(i!=null)return i.domain(e).range(t),pM(i)}}var bL=(n,e)=>{if(e!=null)switch(n){case"linear":{if(!Xr(e)){for(var t,i,r=0;r<e.length;r++){var s=e[r];Xe(s)&&((t===void 0||s<t)&&(t=s),(i===void 0||s>i)&&(i=s))}return t!==void 0&&i!==void 0?[t,i]:void 0}return e}default:return e}};function gM(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function mh(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?gM(Object(t),!0).forEach(function(i){V8(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):gM(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function V8(n,e,t){return(e=Y8(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Y8(n){var e=X8(n,"string");return typeof e=="symbol"?e:e+""}function X8(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var z0=[0,"auto"],Jt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},AL=(n,e)=>n.cartesianAxis.xAxis[e],na=(n,e)=>{var t=AL(n,e);return t??Jt},en={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:z0,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:mu},SL=(n,e)=>n.cartesianAxis.yAxis[e],ia=(n,e)=>{var t=SL(n,e);return t??en},K8={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},AA=(n,e)=>{var t=n.cartesianAxis.zAxis[e];return t??K8},Mt=(n,e,t)=>{switch(e){case"xAxis":return na(n,t);case"yAxis":return ia(n,t);case"zAxis":return AA(n,t);case"angleAxis":return gA(n,t);case"radiusAxis":return vA(n,t);default:throw new Error("Unexpected axis type: ".concat(e))}},W8=(n,e,t)=>{switch(e){case"xAxis":return na(n,t);case"yAxis":return ia(n,t);default:throw new Error("Unexpected axis type: ".concat(e))}},gl=(n,e,t)=>{switch(e){case"xAxis":return na(n,t);case"yAxis":return ia(n,t);case"angleAxis":return gA(n,t);case"radiusAxis":return vA(n,t);default:throw new Error("Unexpected axis type: ".concat(e))}},EL=n=>n.graphicalItems.cartesianItems.some(e=>e.type==="bar")||n.graphicalItems.polarItems.some(e=>e.type==="radialBar");function SA(n,e){return t=>{switch(n){case"xAxis":return"xAxisId"in t&&t.xAxisId===e;case"yAxis":return"yAxisId"in t&&t.yAxisId===e;case"zAxis":return"zAxisId"in t&&t.zAxisId===e;case"angleAxis":return"angleAxisId"in t&&t.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in t&&t.radiusAxisId===e;default:return!1}}}var EA=n=>n.graphicalItems.cartesianItems,Z8=Y([St,xu],SA),xA=(n,e,t)=>n.filter(t).filter(i=>e?.includeHidden===!0?!0:!i.hide),wu=Y([EA,Mt,Z8],xA,{memoizeOptions:{resultEqualityCheck:Sp}}),xL=Y([wu],n=>n.filter(e=>e.type==="area"||e.type==="bar").filter(bp)),wL=n=>n.filter(e=>!("stackId"in e)||e.stackId===void 0),Q8=Y([wu],wL),wA=n=>n.map(e=>e.data).filter(Boolean).flat(1),J8=Y([wu],wA,{memoizeOptions:{resultEqualityCheck:Sp}}),CA=(n,e)=>{var{chartData:t=[],dataStartIndex:i,dataEndIndex:r}=e;return n.length>0?n:t.slice(i,r+1)},OA=Y([J8,ZD],CA),TA=(n,e,t)=>e?.dataKey!=null?n.map(i=>({value:ht(i,e.dataKey)})):t.length>0?t.map(i=>i.dataKey).flatMap(i=>n.map(r=>({value:ht(r,i)}))):n.map(i=>({value:i})),Ep=Y([OA,Mt,wu],TA);function CL(n,e){switch(n){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Of(n){if(ur(n)||n instanceof Date){var e=Number(n);if(Xe(e))return e}}function vM(n){if(Array.isArray(n)){var e=[Of(n[0]),Of(n[1])];return Xr(e)?e:void 0}var t=Of(n);if(t!=null)return[t,t]}function Kr(n){return n.map(Of).filter(ir)}function e7(n,e,t){return!t||typeof e!="number"||cr(e)?[]:t.length?Kr(t.flatMap(i=>{var r=ht(n,i.dataKey),s,l;if(Array.isArray(r)?[s,l]=r:s=l=r,!(!Xe(s)||!Xe(l)))return[e-s,e+l]})):[]}var Xt=n=>{var e=an(n),t=ml(n);return gl(n,e,t)},Cu=Y([Xt],n=>n?.dataKey),t7=Y([xL,ZD,Xt],yL),OL=(n,e,t,i)=>{var r={},s=e.reduce((l,c)=>{if(c.stackId==null)return l;var d=l[c.stackId];return d==null&&(d=[]),d.push(c),l[c.stackId]=d,l},r);return Object.fromEntries(Object.entries(s).map(l=>{var[c,d]=l,f=i?[...d].reverse():d,h=f.map(bA);return[c,{stackedData:A4(n,h,t),graphicalItems:f}]}))},F0=Y([t7,xL,Eu,dL],OL),TL=(n,e,t,i)=>{var{dataStartIndex:r,dataEndIndex:s}=e;if(i==null&&t!=="zAxis"){var l=C4(n,r,s);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},n7=Y([Mt],n=>n.allowDataOverflow),MA=n=>{var e;if(n==null||!("domain"in n))return z0;if(n.domain!=null)return n.domain;if("ticks"in n&&n.ticks!=null){if(n.type==="number"){var t=Kr(n.ticks);return[Math.min(...t),Math.max(...t)]}if(n.type==="category")return n.ticks.map(String)}return(e=n?.domain)!==null&&e!==void 0?e:z0},_A=Y([Mt],MA),PA=Y([_A,n7],QD),i7=Y([F0,ta,St,PA],TL,{memoizeOptions:{resultEqualityCheck:Ap}}),xp=n=>n.errorBars,r7=(n,e,t)=>n.flatMap(i=>e[i.id]).filter(Boolean).filter(i=>CL(t,i)),gh=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var r=t.filter(Boolean);if(r.length!==0){var s=r.flat(),l=Math.min(...s),c=Math.max(...s);return[l,c]}},DA=(n,e,t,i,r)=>{var s,l;if(t.length>0&&n.forEach(c=>{t.forEach(d=>{var f,h,p=(f=i[d.id])===null||f===void 0?void 0:f.filter(x=>CL(r,x)),g=ht(c,(h=e.dataKey)!==null&&h!==void 0?h:d.dataKey),y=e7(c,g,p);if(y.length>=2){var S=Math.min(...y),A=Math.max(...y);(s==null||S<s)&&(s=S),(l==null||A>l)&&(l=A)}var E=vM(g);E!=null&&(s=s==null?E[0]:Math.min(s,E[0]),l=l==null?E[1]:Math.max(l,E[1]))})}),e?.dataKey!=null&&n.forEach(c=>{var d=vM(ht(c,e.dataKey));d!=null&&(s=s==null?d[0]:Math.min(s,d[0]),l=l==null?d[1]:Math.max(l,d[1]))}),Xe(s)&&Xe(l))return[s,l]},a7=Y([OA,Mt,Q8,xp,St],DA,{memoizeOptions:{resultEqualityCheck:Ap}});function s7(n){var{value:e}=n;if(ur(e)||e instanceof Date)return e}var o7=(n,e,t)=>{var i=n.map(s7).filter(r=>r!=null);return t&&(e.dataKey==null||e.allowDuplicatedCategory&&X2(i))?vD(0,n.length):e.allowDuplicatedCategory?i:Array.from(new Set(i))},ML=n=>n.referenceElements.dots,vl=(n,e,t)=>n.filter(i=>i.ifOverflow==="extendDomain").filter(i=>e==="xAxis"?i.xAxisId===t:i.yAxisId===t),l7=Y([ML,St,xu],vl),_L=n=>n.referenceElements.areas,c7=Y([_L,St,xu],vl),PL=n=>n.referenceElements.lines,u7=Y([PL,St,xu],vl),DL=(n,e)=>{if(n!=null){var t=Kr(n.map(i=>e==="xAxis"?i.x:i.y));if(t.length!==0)return[Math.min(...t),Math.max(...t)]}},d7=Y(l7,St,DL),LL=(n,e)=>{if(n!=null){var t=Kr(n.flatMap(i=>[e==="xAxis"?i.x1:i.y1,e==="xAxis"?i.x2:i.y2]));if(t.length!==0)return[Math.min(...t),Math.max(...t)]}},f7=Y([c7,St],LL);function h7(n){var e;if(n.x!=null)return Kr([n.x]);var t=(e=n.segment)===null||e===void 0?void 0:e.map(i=>i.x);return t==null||t.length===0?[]:Kr(t)}function p7(n){var e;if(n.y!=null)return Kr([n.y]);var t=(e=n.segment)===null||e===void 0?void 0:e.map(i=>i.y);return t==null||t.length===0?[]:Kr(t)}var NL=(n,e)=>{if(n!=null){var t=n.flatMap(i=>e==="xAxis"?h7(i):p7(i));if(t.length!==0)return[Math.min(...t),Math.max(...t)]}},m7=Y([u7,St],NL),g7=Y(d7,m7,f7,(n,e,t)=>gh(n,t,e)),LA=(n,e,t,i,r,s,l,c)=>{if(t!=null)return t;var d=l==="vertical"&&c==="xAxis"||l==="horizontal"&&c==="yAxis",f=d?gh(i,s,r):gh(s,r);return _8(e,f,n.allowDataOverflow)},v7=Y([Mt,_A,PA,i7,a7,g7,Ke,St],LA,{memoizeOptions:{resultEqualityCheck:Ap}}),y7=[0,1],NA=(n,e,t,i,r,s,l)=>{if(!((n==null||t==null||t.length===0)&&l===void 0)){var{dataKey:c,type:d}=n,f=Ga(e,s);if(f&&c==null){var h;return vD(0,(h=t?.length)!==null&&h!==void 0?h:0)}return d==="category"?o7(i,n,f):r==="expand"?y7:l}},RA=Y([Mt,Ke,OA,Ep,Eu,St,v7],NA);function b7(n){return n in Ic}var RL=(n,e,t)=>{if(n!=null){var{scale:i,type:r}=n;if(i==="auto")return r==="category"&&t&&(t.indexOf("LineChart")>=0||t.indexOf("AreaChart")>=0||t.indexOf("ComposedChart")>=0&&!e)?"point":r==="category"?"band":"linear";if(typeof i=="string"){var s="scale".concat(du(i));return b7(s)?s:"point"}}},Xa=Y([Mt,EL,hA],RL);function IA(n,e,t,i){if(!(t==null||i==null))return typeof n.scale=="function"?mM(n.scale,t,i):mM(e,t,i)}var kA=(n,e,t)=>{var i=MA(e);if(!(t!=="auto"&&t!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(i)&&(i[0]==="auto"||i[1]==="auto")&&Xr(n))return R8(n,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Xr(n))return I8(n,e.tickCount,e.allowDecimals)}},BA=Y([RA,gl,Xa],kA),jA=(n,e,t,i)=>{if(i!=="angleAxis"&&n?.type==="number"&&Xr(e)&&Array.isArray(t)&&t.length>0){var r,s,l=e[0],c=(r=t[0])!==null&&r!==void 0?r:0,d=e[1],f=(s=t[t.length-1])!==null&&s!==void 0?s:0;return[Math.min(l,c),Math.max(d,f)]}return e},A7=Y([Mt,RA,BA,St],jA),S7=Y(Ep,Mt,(n,e)=>{if(!(!e||e.type!=="number")){var t=1/0,i=Array.from(Kr(n.map(p=>p.value))).sort((p,g)=>p-g),r=i[0],s=i[i.length-1];if(r==null||s==null)return 1/0;var l=s-r;if(l===0)return 1/0;for(var c=0;c<i.length-1;c++){var d=i[c],f=i[c+1];if(!(d==null||f==null)){var h=f-d;t=Math.min(t,h)}}return t/l}}),IL=Y(S7,Ke,uL,Vt,(n,e,t,i,r)=>r,(n,e,t,i,r)=>{if(!Xe(n))return 0;var s=e==="vertical"?i.height:i.width;if(r==="gap")return n*s/2;if(r==="no-gap"){var l=wn(t,n*s),c=n*s/2;return c-l-(c-l)/s*l}return 0}),E7=(n,e,t)=>{var i=na(n,e);return i==null||typeof i.padding!="string"?0:IL(n,"xAxis",e,t,i.padding)},x7=(n,e,t)=>{var i=ia(n,e);return i==null||typeof i.padding!="string"?0:IL(n,"yAxis",e,t,i.padding)},w7=Y(na,E7,(n,e)=>{var t,i;if(n==null)return{left:0,right:0};var{padding:r}=n;return typeof r=="string"?{left:e,right:e}:{left:((t=r.left)!==null&&t!==void 0?t:0)+e,right:((i=r.right)!==null&&i!==void 0?i:0)+e}}),C7=Y(ia,x7,(n,e)=>{var t,i;if(n==null)return{top:0,bottom:0};var{padding:r}=n;return typeof r=="string"?{top:e,bottom:e}:{top:((t=r.top)!==null&&t!==void 0?t:0)+e,bottom:((i=r.bottom)!==null&&i!==void 0?i:0)+e}}),O7=Y([Vt,w7,tp,ep,(n,e,t)=>t],(n,e,t,i,r)=>{var{padding:s}=i;return r?[s.left,t.width-s.right]:[n.left+e.left,n.left+n.width-e.right]}),T7=Y([Vt,Ke,C7,tp,ep,(n,e,t)=>t],(n,e,t,i,r,s)=>{var{padding:l}=r;return s?[i.height-l.bottom,l.top]:e==="horizontal"?[n.top+n.height-t.bottom,n.top+t.top]:[n.top+t.top,n.top+n.height-t.bottom]}),Ou=(n,e,t,i)=>{var r;switch(e){case"xAxis":return O7(n,t,i);case"yAxis":return T7(n,t,i);case"zAxis":return(r=AA(n,t))===null||r===void 0?void 0:r.range;case"angleAxis":return mL(n);case"radiusAxis":return gL(n,t);default:return}},kL=Y([Mt,Ou],gp),M7=Y([Xa,A7],bL),wp=Y([Mt,Xa,M7,kL],IA);Y([wu,xp,St],r7);function BL(n,e){return n.id<e.id?-1:n.id>e.id?1:0}var Cp=(n,e)=>e,Op=(n,e,t)=>t,_7=Y(Qh,Cp,Op,(n,e,t)=>n.filter(i=>i.orientation===e).filter(i=>i.mirror===t).sort(BL)),P7=Y(Jh,Cp,Op,(n,e,t)=>n.filter(i=>i.orientation===e).filter(i=>i.mirror===t).sort(BL)),jL=(n,e)=>({width:n.width,height:e.height}),D7=(n,e)=>{var t=typeof e.width=="number"?e.width:mu;return{width:t,height:n.height}},zL=Y(Vt,na,jL),L7=(n,e,t)=>{switch(e){case"top":return n.top;case"bottom":return t-n.bottom;default:return 0}},N7=(n,e,t)=>{switch(e){case"left":return n.left;case"right":return t-n.right;default:return 0}},R7=Y(Jr,Vt,_7,Cp,Op,(n,e,t,i,r)=>{var s={},l;return t.forEach(c=>{var d=jL(e,c);l==null&&(l=L7(e,i,n));var f=i==="top"&&!r||i==="bottom"&&r;s[c.id]=l-Number(f)*d.height,l+=(f?-1:1)*d.height}),s}),I7=Y(Qr,Vt,P7,Cp,Op,(n,e,t,i,r)=>{var s={},l;return t.forEach(c=>{var d=D7(e,c);l==null&&(l=N7(e,i,n));var f=i==="left"&&!r||i==="right"&&r;s[c.id]=l-Number(f)*d.width,l+=(f?-1:1)*d.width}),s}),k7=(n,e)=>{var t=na(n,e);if(t!=null)return R7(n,t.orientation,t.mirror)},B7=Y([Vt,na,k7,(n,e)=>e],(n,e,t,i)=>{if(e!=null){var r=t?.[i];return r==null?{x:n.left,y:0}:{x:n.left,y:r}}}),j7=(n,e)=>{var t=ia(n,e);if(t!=null)return I7(n,t.orientation,t.mirror)},z7=Y([Vt,ia,j7,(n,e)=>e],(n,e,t,i)=>{if(e!=null){var r=t?.[i];return r==null?{x:0,y:n.top}:{x:r,y:n.top}}}),FL=Y(Vt,ia,(n,e)=>{var t=typeof e.width=="number"?e.width:mu;return{width:t,height:n.height}}),yM=(n,e,t)=>{switch(e){case"xAxis":return zL(n,t).width;case"yAxis":return FL(n,t).height;default:return}},UL=(n,e,t,i)=>{if(t!=null){var{allowDuplicatedCategory:r,type:s,dataKey:l}=t,c=Ga(n,i),d=e.map(f=>f.value);if(l&&c&&s==="category"&&r&&X2(d))return d}},zA=Y([Ke,Ep,Mt,St],UL),HL=(n,e,t,i)=>{if(!(t==null||t.dataKey==null)){var{type:r,scale:s}=t,l=Ga(n,i);if(l&&(r==="number"||s!=="auto"))return e.map(c=>c.value)}},FA=Y([Ke,Ep,gl,St],HL);Y([Ke,W8,Xa,wp,zA,FA,Ou,BA,St],(n,e,t,i,r,s,l,c,d)=>{if(e!=null){var f=Ga(n,d);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:d,categoricalDomain:s,duplicateDomain:r,isCategorical:f,niceTicks:c,range:l,realScaleType:t,scale:i}}});var F7=(n,e,t,i,r,s,l,c,d)=>{if(!(e==null||i==null)){var f=Ga(n,d),{type:h,ticks:p,tickCount:g}=e,y=t==="scaleBand"&&typeof i.bandwidth=="function"?i.bandwidth()/2:2,S=h==="category"&&i.bandwidth?i.bandwidth()/y:0;S=d==="angleAxis"&&s!=null&&s.length>=2?yn(s[0]-s[1])*2*S:S;var A=p||r;return A?A.map((E,x)=>{var O=l?l.indexOf(E):E,T=i.map(O);return Xe(T)?{index:x,coordinate:T+S,value:E,offset:S}:null}).filter(ir):f&&c?c.map((E,x)=>{var O=i.map(E);return Xe(O)?{coordinate:O+S,value:E,index:x,offset:S}:null}).filter(ir):i.ticks?i.ticks(g).map((E,x)=>{var O=i.map(E);return Xe(O)?{coordinate:O+S,value:E,index:x,offset:S}:null}).filter(ir):i.domain().map((E,x)=>{var O=i.map(E);return Xe(O)?{coordinate:O+S,value:l?l[E]:E,index:x,offset:S}:null}).filter(ir)}},qL=Y([Ke,gl,Xa,wp,BA,Ou,zA,FA,St],F7),U7=(n,e,t,i,r,s,l)=>{if(!(e==null||t==null||i==null||i[0]===i[1])){var c=Ga(n,l),{tickCount:d}=e,f=0;return f=l==="angleAxis"&&i?.length>=2?yn(i[0]-i[1])*2*f:f,c&&s?s.map((h,p)=>{var g=t.map(h);return Xe(g)?{coordinate:g+f,value:h,index:p,offset:f}:null}).filter(ir):t.ticks?t.ticks(d).map((h,p)=>{var g=t.map(h);return Xe(g)?{coordinate:g+f,value:h,index:p,offset:f}:null}).filter(ir):t.domain().map((h,p)=>{var g=t.map(h);return Xe(g)?{coordinate:g+f,value:r?r[h]:h,index:p,offset:f}:null}).filter(ir)}},ol=Y([Ke,gl,wp,Ou,zA,FA,St],U7),ll=Y(Mt,wp,(n,e)=>{if(!(n==null||e==null))return mh(mh({},n),{},{scale:e})}),H7=Y([Mt,Xa,RA,kL],IA);Y((n,e,t)=>AA(n,t),H7,(n,e)=>{if(!(n==null||e==null))return mh(mh({},n),{},{scale:e})});var q7=Y([Ke,Qh,Jh],(n,e,t)=>{switch(n){case"horizontal":return e.some(i=>i.reversed)?"right-to-left":"left-to-right";case"vertical":return t.some(i=>i.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),$L=n=>n.options.defaultTooltipEventType,GL=n=>n.options.validateTooltipEventTypes;function VL(n,e,t){if(n==null)return e;var i=n?"axis":"item";return t==null?e:t.includes(i)?i:e}function UA(n,e){var t=$L(n),i=GL(n);return VL(e,t,i)}function $7(n){return ye(e=>UA(e,n))}var YL=(n,e)=>{var t,i=Number(e);if(!(cr(i)||e==null))return i>=0?n==null||(t=n[i])===null||t===void 0?void 0:t.value:void 0},G7=n=>n.tooltip.settings,ka={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},V7={itemInteraction:{click:ka,hover:ka},axisInteraction:{click:ka,hover:ka},keyboardInteraction:ka,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},XL=$n({name:"tooltip",initialState:V7,reducers:{addTooltipEntrySettings:{reducer(n,e){n.tooltipItemPayloads.push(e.payload)},prepare:vt()},replaceTooltipEntrySettings:{reducer(n,e){var{prev:t,next:i}=e.payload,r=Ui(n).tooltipItemPayloads.indexOf(t);r>-1&&(n.tooltipItemPayloads[r]=i)},prepare:vt()},removeTooltipEntrySettings:{reducer(n,e){var t=Ui(n).tooltipItemPayloads.indexOf(e.payload);t>-1&&n.tooltipItemPayloads.splice(t,1)},prepare:vt()},setTooltipSettingsState(n,e){n.settings=e.payload},setActiveMouseOverItemIndex(n,e){n.syncInteraction.active=!1,n.keyboardInteraction.active=!1,n.itemInteraction.hover.active=!0,n.itemInteraction.hover.index=e.payload.activeIndex,n.itemInteraction.hover.dataKey=e.payload.activeDataKey,n.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,n.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(n){n.itemInteraction.hover.active=!1,n.axisInteraction.hover.active=!1},mouseLeaveItem(n){n.itemInteraction.hover.active=!1},setActiveClickItemIndex(n,e){n.syncInteraction.active=!1,n.itemInteraction.click.active=!0,n.keyboardInteraction.active=!1,n.itemInteraction.click.index=e.payload.activeIndex,n.itemInteraction.click.dataKey=e.payload.activeDataKey,n.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,n.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(n,e){n.syncInteraction.active=!1,n.axisInteraction.hover.active=!0,n.keyboardInteraction.active=!1,n.axisInteraction.hover.index=e.payload.activeIndex,n.axisInteraction.hover.dataKey=e.payload.activeDataKey,n.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(n,e){n.syncInteraction.active=!1,n.keyboardInteraction.active=!1,n.axisInteraction.click.active=!0,n.axisInteraction.click.index=e.payload.activeIndex,n.axisInteraction.click.dataKey=e.payload.activeDataKey,n.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(n,e){n.syncInteraction=e.payload},setKeyboardInteraction(n,e){n.keyboardInteraction.active=e.payload.active,n.keyboardInteraction.index=e.payload.activeIndex,n.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:Y7,replaceTooltipEntrySettings:X7,removeTooltipEntrySettings:K7,setTooltipSettingsState:W7,setActiveMouseOverItemIndex:KL,mouseLeaveItem:Z7,mouseLeaveChart:WL,setActiveClickItemIndex:Q7,setMouseOverAxisIndex:ZL,setMouseClickAxisIndex:J7,setSyncInteraction:U0,setKeyboardInteraction:H0}=XL.actions,eq=XL.reducer;function bM(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function gf(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?bM(Object(t),!0).forEach(function(i){tq(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):bM(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function tq(n,e,t){return(e=nq(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function nq(n){var e=iq(n,"string");return typeof e=="symbol"?e:e+""}function iq(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function rq(n,e,t){return e==="axis"?t==="click"?n.axisInteraction.click:n.axisInteraction.hover:t==="click"?n.itemInteraction.click:n.itemInteraction.hover}function aq(n){return n.index!=null}var QL=(n,e,t,i)=>{if(e==null)return ka;var r=rq(n,e,t);if(r==null)return ka;if(r.active)return r;if(n.keyboardInteraction.active)return n.keyboardInteraction;if(n.syncInteraction.active&&n.syncInteraction.index!=null)return n.syncInteraction;var s=n.settings.active===!0;if(aq(r)){if(s)return gf(gf({},r),{},{active:!0})}else if(i!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:i,graphicalItemId:void 0};return gf(gf({},ka),{},{coordinate:r.coordinate})};function sq(n){if(typeof n=="number")return Number.isFinite(n)?n:void 0;if(n instanceof Date){var e=n.valueOf();return Number.isFinite(e)?e:void 0}var t=Number(n);return Number.isFinite(t)?t:void 0}function oq(n,e){var t=sq(n),i=e[0],r=e[1];if(t===void 0)return!1;var s=Math.min(i,r),l=Math.max(i,r);return t>=s&&t<=l}function lq(n,e,t){if(t==null||e==null)return!0;var i=ht(n,e);return i==null||!Xr(t)?!0:oq(i,t)}var HA=(n,e,t,i)=>{var r=n?.index;if(r==null)return null;var s=Number(r);if(!Xe(s))return r;var l=0,c=1/0;e.length>0&&(c=e.length-1);var d=Math.max(l,Math.min(s,c)),f=e[d];return f==null||lq(f,t,i)?String(d):null},JL=(n,e,t,i,r,s,l)=>{if(s!=null){var c=l[0],d=c?.getPosition(s);if(d!=null)return d;var f=r?.[Number(s)];if(f)return t==="horizontal"?{x:f.coordinate,y:(i.top+e)/2}:{x:(i.left+n)/2,y:f.coordinate}}},eN=(n,e,t,i)=>{if(e==="axis")return n.tooltipItemPayloads;if(n.tooltipItemPayloads.length===0)return[];var r;if(t==="hover"?r=n.itemInteraction.hover.graphicalItemId:r=n.itemInteraction.click.graphicalItemId,r==null&&i!=null){var s=n.tooltipItemPayloads[0];return s!=null?[s]:[]}return n.tooltipItemPayloads.filter(l=>{var c;return((c=l.settings)===null||c===void 0?void 0:c.graphicalItemId)===r})},tN=n=>n.options.tooltipPayloadSearcher,yl=n=>n.tooltip;function AM(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function SM(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?AM(Object(t),!0).forEach(function(i){cq(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):AM(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function cq(n,e,t){return(e=uq(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function uq(n){var e=dq(n,"string");return typeof e=="symbol"?e:e+""}function dq(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function fq(n,e){return n??e}var nN=(n,e,t,i,r,s,l)=>{if(!(e==null||s==null)){var{chartData:c,computedData:d,dataStartIndex:f,dataEndIndex:h}=t,p=[];return n.reduce((g,y)=>{var S,{dataDefinedOnItem:A,settings:E}=y,x=fq(A,c),O=Array.isArray(x)?FP(x,f,h):x,T=(S=E?.dataKey)!==null&&S!==void 0?S:i,P=E?.nameKey,M;if(i&&Array.isArray(O)&&!Array.isArray(O[0])&&l==="axis"?M=Vz(O,i,r):M=s(O,e,d,P),Array.isArray(M))M.forEach(L=>{var B=SM(SM({},E),{},{name:L.name,unit:L.unit,color:void 0,fill:void 0});g.push(bO({tooltipEntrySettings:B,dataKey:L.dataKey,payload:L.payload,value:ht(L.payload,L.dataKey),name:L.name}))});else{var _;g.push(bO({tooltipEntrySettings:E,dataKey:T,payload:M,value:ht(M,T),name:(_=ht(M,P))!==null&&_!==void 0?_:E?.name}))}return g},p)}},qA=Y([Xt,EL,hA],RL),hq=Y([n=>n.graphicalItems.cartesianItems,n=>n.graphicalItems.polarItems],(n,e)=>[...n,...e]),pq=Y([an,ml],SA),bl=Y([hq,Xt,pq],xA,{memoizeOptions:{resultEqualityCheck:Sp}}),mq=Y([bl],n=>n.filter(bp)),gq=Y([bl],wA,{memoizeOptions:{resultEqualityCheck:Sp}}),Al=Y([gq,ta],CA),vq=Y([mq,ta,Xt],yL),$A=Y([Al,Xt,bl],TA),iN=Y([Xt],MA),yq=Y([Xt],n=>n.allowDataOverflow),rN=Y([iN,yq],QD),bq=Y([bl],n=>n.filter(bp)),Aq=Y([vq,bq,Eu,dL],OL),Sq=Y([Aq,ta,an,rN],TL),Eq=Y([bl],wL),xq=Y([Al,Xt,Eq,xp,an],DA,{memoizeOptions:{resultEqualityCheck:Ap}}),wq=Y([ML,an,ml],vl),Cq=Y([wq,an],DL),Oq=Y([_L,an,ml],vl),Tq=Y([Oq,an],LL),Mq=Y([PL,an,ml],vl),_q=Y([Mq,an],NL),Pq=Y([Cq,_q,Tq],gh),Dq=Y([Xt,iN,rN,Sq,xq,Pq,Ke,an],LA),Tu=Y([Xt,Ke,Al,$A,Eu,an,Dq],NA),Lq=Y([Tu,Xt,qA],kA),Nq=Y([Xt,Tu,Lq,an],jA),aN=n=>{var e=an(n),t=ml(n),i=!1;return Ou(n,e,t,i)},sN=Y([Xt,aN],gp),oN=Y([Xt,qA,Nq,sN],IA),Rq=Y([Ke,$A,Xt,an],UL),Iq=Y([Ke,$A,Xt,an],HL),kq=(n,e,t,i,r,s,l,c)=>{if(e){var{type:d}=e,f=Ga(n,c);if(i){var h=t==="scaleBand"&&i.bandwidth?i.bandwidth()/2:2,p=d==="category"&&i.bandwidth?i.bandwidth()/h:0;return p=c==="angleAxis"&&r!=null&&r?.length>=2?yn(r[0]-r[1])*2*p:p,f&&l?l.map((g,y)=>{var S=i.map(g);return Xe(S)?{coordinate:S+p,value:g,index:y,offset:p}:null}).filter(ir):i.domain().map((g,y)=>{var S=i.map(g);return Xe(S)?{coordinate:S+p,value:s?s[g]:g,index:y,offset:p}:null}).filter(ir)}}},ra=Y([Ke,Xt,qA,oN,aN,Rq,Iq,an],kq),GA=Y([$L,GL,G7],(n,e,t)=>VL(t.shared,n,e)),lN=n=>n.tooltip.settings.trigger,VA=n=>n.tooltip.settings.defaultIndex,Mu=Y([yl,GA,lN,VA],QL),js=Y([Mu,Al,Cu,Tu],HA),cN=Y([ra,js],YL),YA=Y([Mu],n=>{if(n)return n.dataKey}),Bq=Y([Mu],n=>{if(n)return n.graphicalItemId}),uN=Y([yl,GA,lN,VA],eN),jq=Y([Qr,Jr,Ke,Vt,ra,VA,uN],JL),zq=Y([Mu,jq],(n,e)=>n!=null&&n.coordinate?n.coordinate:e),Fq=Y([Mu],n=>{var e;return(e=n?.active)!==null&&e!==void 0?e:!1}),Uq=Y([uN,js,ta,Cu,cN,tN,GA],nN);Y([Uq],n=>{if(n!=null){var e=n.map(t=>t.payload).filter(t=>t!=null);return Array.from(new Set(e))}});function EM(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function xM(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?EM(Object(t),!0).forEach(function(i){Hq(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):EM(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Hq(n,e,t){return(e=qq(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function qq(n){var e=$q(n,"string");return typeof e=="symbol"?e:e+""}function $q(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Gq=()=>ye(Xt),Vq=()=>{var n=Gq(),e=ye(ra),t=ye(oN);return Xf(!n||!t?void 0:xM(xM({},n),{},{scale:t}),e)};function wM(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Ro(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?wM(Object(t),!0).forEach(function(i){Yq(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):wM(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Yq(n,e,t){return(e=Xq(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Xq(n){var e=Kq(n,"string");return typeof e=="symbol"?e:e+""}function Kq(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Wq=(n,e,t,i)=>{var r=e.find(s=>s&&s.index===t);if(r){if(n==="horizontal")return{x:r.coordinate,y:i.chartY};if(n==="vertical")return{x:i.chartX,y:r.coordinate}}return{x:0,y:0}},Zq=(n,e,t,i)=>{var r=e.find(f=>f&&f.index===t);if(r){if(n==="centric"){var s=r.coordinate,{radius:l}=i;return Ro(Ro(Ro({},i),zt(i.cx,i.cy,l,s)),{},{angle:s,radius:l})}var c=r.coordinate,{angle:d}=i;return Ro(Ro(Ro({},i),zt(i.cx,i.cy,c,d)),{},{angle:d,radius:c})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Qq(n,e){var{chartX:t,chartY:i}=n;return t>=e.left&&t<=e.left+e.width&&i>=e.top&&i<=e.top+e.height}var dN=(n,e,t,i,r)=>{var s,l=(s=e?.length)!==null&&s!==void 0?s:0;if(l<=1||n==null)return 0;if(i==="angleAxis"&&r!=null&&Math.abs(Math.abs(r[1]-r[0])-360)<=1e-6)for(var c=0;c<l;c++){var d,f,h,p,g,y=c>0?(d=t[c-1])===null||d===void 0?void 0:d.coordinate:(f=t[l-1])===null||f===void 0?void 0:f.coordinate,S=(h=t[c])===null||h===void 0?void 0:h.coordinate,A=c>=l-1?(p=t[0])===null||p===void 0?void 0:p.coordinate:(g=t[c+1])===null||g===void 0?void 0:g.coordinate,E=void 0;if(!(y==null||S==null||A==null))if(yn(S-y)!==yn(A-S)){var x=[];if(yn(A-S)===yn(r[1]-r[0])){E=A;var O=S+r[1]-r[0];x[0]=Math.min(O,(O+y)/2),x[1]=Math.max(O,(O+y)/2)}else{E=y;var T=A+r[1]-r[0];x[0]=Math.min(S,(T+S)/2),x[1]=Math.max(S,(T+S)/2)}var P=[Math.min(S,(E+S)/2),Math.max(S,(E+S)/2)];if(n>P[0]&&n<=P[1]||n>=x[0]&&n<=x[1]){var M;return(M=t[c])===null||M===void 0?void 0:M.index}}else{var _=Math.min(y,A),L=Math.max(y,A);if(n>(_+S)/2&&n<=(L+S)/2){var B;return(B=t[c])===null||B===void 0?void 0:B.index}}}else if(e)for(var F=0;F<l;F++){var X=e[F];if(X!=null){var q=e[F+1],$=e[F-1];if(F===0&&q!=null&&n<=(X.coordinate+q.coordinate)/2||F===l-1&&$!=null&&n>(X.coordinate+$.coordinate)/2||F>0&&F<l-1&&$!=null&&q!=null&&n>(X.coordinate+$.coordinate)/2&&n<=(X.coordinate+q.coordinate)/2)return X.index}}return-1},Jq=()=>ye(hA),XA=(n,e)=>e,fN=(n,e,t)=>t,KA=(n,e,t,i)=>i,e$=Y(ra,n=>Uh(n,e=>e.coordinate)),WA=Y([yl,XA,fN,KA],QL),ZA=Y([WA,Al,Cu,Tu],HA),t$=(n,e,t)=>{if(e!=null){var i=yl(n);return e==="axis"?t==="hover"?i.axisInteraction.hover.dataKey:i.axisInteraction.click.dataKey:t==="hover"?i.itemInteraction.hover.dataKey:i.itemInteraction.click.dataKey}},hN=Y([yl,XA,fN,KA],eN),vh=Y([Qr,Jr,Ke,Vt,ra,KA,hN],JL),n$=Y([WA,vh],(n,e)=>{var t;return(t=n.coordinate)!==null&&t!==void 0?t:e}),pN=Y([ra,ZA],YL),i$=Y([hN,ZA,ta,Cu,pN,tN,XA],nN),r$=Y([WA,ZA],(n,e)=>({isActive:n.active&&e!=null,activeIndex:e})),a$=(n,e,t,i,r,s,l)=>{if(!(!n||!t||!i||!r)&&Qq(n,l)){var c=O4(n,e),d=dN(c,s,r,t,i),f=Wq(e,r,d,n);return{activeIndex:String(d),activeCoordinate:f}}},s$=(n,e,t,i,r,s,l)=>{if(!(!n||!i||!r||!s||!t)){var c=$U(n,t);if(c){var d=T4(c,e),f=dN(d,l,s,i,r),h=Zq(e,s,f,c);return{activeIndex:String(f),activeCoordinate:h}}}},o$=(n,e,t,i,r,s,l,c)=>{if(!(!n||!e||!i||!r||!s))return e==="horizontal"||e==="vertical"?a$(n,e,i,r,s,l,c):s$(n,e,t,i,r,s,l)},l$=Y(n=>n.zIndex.zIndexMap,(n,e)=>e,(n,e,t)=>t,(n,e,t)=>{if(e!=null){var i=n[e];if(i!=null)return t?i.panoramaElement:i.element}}),c$=Y(n=>n.zIndex.zIndexMap,n=>{var e=Object.keys(n).map(i=>parseInt(i,10)).concat(Object.values(xn)),t=Array.from(new Set(e));return t.sort((i,r)=>i-r)},{memoizeOptions:{resultEqualityCheck:$8}});function CM(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function OM(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?CM(Object(t),!0).forEach(function(i){u$(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):CM(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function u$(n,e,t){return(e=d$(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function d$(n){var e=f$(n,"string");return typeof e=="symbol"?e:e+""}function f$(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var h$={},p$={zIndexMap:Object.values(xn).reduce((n,e)=>OM(OM({},n),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),h$)},m$=new Set(Object.values(xn));function g$(n){return m$.has(n)}var mN=$n({name:"zIndex",initialState:p$,reducers:{registerZIndexPortal:{reducer:(n,e)=>{var{zIndex:t}=e.payload;n.zIndexMap[t]?n.zIndexMap[t].consumers+=1:n.zIndexMap[t]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:vt()},unregisterZIndexPortal:{reducer:(n,e)=>{var{zIndex:t}=e.payload;n.zIndexMap[t]&&(n.zIndexMap[t].consumers-=1,n.zIndexMap[t].consumers<=0&&!g$(t)&&delete n.zIndexMap[t])},prepare:vt()},registerZIndexPortalElement:{reducer:(n,e)=>{var{zIndex:t,element:i,isPanorama:r}=e.payload;n.zIndexMap[t]?r?n.zIndexMap[t].panoramaElement=i:n.zIndexMap[t].element=i:n.zIndexMap[t]={consumers:0,element:r?void 0:i,panoramaElement:r?i:void 0}},prepare:vt()},unregisterZIndexPortalElement:{reducer:(n,e)=>{var{zIndex:t}=e.payload;n.zIndexMap[t]&&(e.payload.isPanorama?n.zIndexMap[t].panoramaElement=void 0:n.zIndexMap[t].element=void 0)},prepare:vt()}}}),{registerZIndexPortal:v$,unregisterZIndexPortal:y$,registerZIndexPortalElement:b$,unregisterZIndexPortalElement:A$}=mN.actions,S$=mN.reducer;function fr(n){var{zIndex:e,children:t}=n,i=aF(),r=i&&e!==void 0&&e!==0,s=ci(),l=lt();C.useLayoutEffect(()=>r?(l(v$({zIndex:e})),()=>{l(y$({zIndex:e}))}):ul,[l,e,r]);var c=ye(d=>l$(d,e,s));return r?c?bb.createPortal(t,c):null:t}function q0(){return q0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},q0.apply(null,arguments)}function TM(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function vf(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?TM(Object(t),!0).forEach(function(i){E$(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):TM(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function E$(n,e,t){return(e=x$(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function x$(n){var e=w$(n,"string");return typeof e=="symbol"?e:e+""}function w$(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function C$(n){var{cursor:e,cursorComp:t,cursorProps:i}=n;return C.isValidElement(e)?C.cloneElement(e,i):C.createElement(t,i)}function O$(n){var e,{coordinate:t,payload:i,index:r,offset:s,tooltipAxisBandSize:l,layout:c,cursor:d,tooltipEventType:f,chartName:h}=n,p=t,g=i,y=r;if(!d||!p||h!=="ScatterChart"&&f!=="axis")return null;var S,A,E;if(h==="ScatterChart")S=p,A=rU,E=xn.cursorLine;else if(h==="BarChart")S=aU(c,p,s,l),A=fD,E=xn.cursorRectangle;else if(c==="radial"&&W2(p)){var{cx:x,cy:O,radius:T,startAngle:P,endAngle:M}=pD(p);S={cx:x,cy:O,startAngle:P,endAngle:M,innerRadius:T,outerRadius:T},A=gD,E=xn.cursorLine}else S={points:XU(c,p,s)},A=Ub,E=xn.cursorLine;var _=typeof d=="object"&&"className"in d?d.className:void 0,L=vf(vf(vf(vf({stroke:"#ccc",pointerEvents:"none"},s),S),$c(d)),{},{payload:g,payloadIndex:y,className:Je("recharts-tooltip-cursor",_)});return C.createElement(fr,{zIndex:(e=n.zIndex)!==null&&e!==void 0?e:E},C.createElement(C$,{cursor:d,cursorComp:A,cursorProps:L}))}function T$(n){var e=Vq(),t=iF(),i=dl(),r=Jq();return e==null||t==null||i==null||r==null?null:C.createElement(O$,q0({},n,{offset:t,layout:i,tooltipAxisBandSize:e,chartName:r}))}var gN=C.createContext(null),M$=()=>C.useContext(gN),Cy={exports:{}},MM;function _$(){return MM||(MM=1,(function(n){var e=Object.prototype.hasOwnProperty,t="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(t=!1));function r(d,f,h){this.fn=d,this.context=f,this.once=h||!1}function s(d,f,h,p,g){if(typeof h!="function")throw new TypeError("The listener must be a function");var y=new r(h,p||d,g),S=t?t+f:f;return d._events[S]?d._events[S].fn?d._events[S]=[d._events[S],y]:d._events[S].push(y):(d._events[S]=y,d._eventsCount++),d}function l(d,f){--d._eventsCount===0?d._events=new i:delete d._events[f]}function c(){this._events=new i,this._eventsCount=0}c.prototype.eventNames=function(){var f=[],h,p;if(this._eventsCount===0)return f;for(p in h=this._events)e.call(h,p)&&f.push(t?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},c.prototype.listeners=function(f){var h=t?t+f:f,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var g=0,y=p.length,S=new Array(y);g<y;g++)S[g]=p[g].fn;return S},c.prototype.listenerCount=function(f){var h=t?t+f:f,p=this._events[h];return p?p.fn?1:p.length:0},c.prototype.emit=function(f,h,p,g,y,S){var A=t?t+f:f;if(!this._events[A])return!1;var E=this._events[A],x=arguments.length,O,T;if(E.fn){switch(E.once&&this.removeListener(f,E.fn,void 0,!0),x){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,h),!0;case 3:return E.fn.call(E.context,h,p),!0;case 4:return E.fn.call(E.context,h,p,g),!0;case 5:return E.fn.call(E.context,h,p,g,y),!0;case 6:return E.fn.call(E.context,h,p,g,y,S),!0}for(T=1,O=new Array(x-1);T<x;T++)O[T-1]=arguments[T];E.fn.apply(E.context,O)}else{var P=E.length,M;for(T=0;T<P;T++)switch(E[T].once&&this.removeListener(f,E[T].fn,void 0,!0),x){case 1:E[T].fn.call(E[T].context);break;case 2:E[T].fn.call(E[T].context,h);break;case 3:E[T].fn.call(E[T].context,h,p);break;case 4:E[T].fn.call(E[T].context,h,p,g);break;default:if(!O)for(M=1,O=new Array(x-1);M<x;M++)O[M-1]=arguments[M];E[T].fn.apply(E[T].context,O)}}return!0},c.prototype.on=function(f,h,p){return s(this,f,h,p,!1)},c.prototype.once=function(f,h,p){return s(this,f,h,p,!0)},c.prototype.removeListener=function(f,h,p,g){var y=t?t+f:f;if(!this._events[y])return this;if(!h)return l(this,y),this;var S=this._events[y];if(S.fn)S.fn===h&&(!g||S.once)&&(!p||S.context===p)&&l(this,y);else{for(var A=0,E=[],x=S.length;A<x;A++)(S[A].fn!==h||g&&!S[A].once||p&&S[A].context!==p)&&E.push(S[A]);E.length?this._events[y]=E.length===1?E[0]:E:l(this,y)}return this},c.prototype.removeAllListeners=function(f){var h;return f?(h=t?t+f:f,this._events[h]&&l(this,h)):(this._events=new i,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=t,c.EventEmitter=c,n.exports=c})(Cy)),Cy.exports}var P$=_$();const D$=Zr(P$);var ru=new D$,$0="recharts.syncEvent.tooltip",_M="recharts.syncEvent.brush",vN=(n,e)=>{if(e&&Array.isArray(n)){var t=Number.parseInt(e,10);if(!cr(t))return n[t]}},L$={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},yN=$n({name:"options",initialState:L$,reducers:{createEventEmitter:n=>{n.eventEmitter==null&&(n.eventEmitter=Symbol("rechartsEventEmitter"))}}}),N$=yN.reducer,{createEventEmitter:R$}=yN.actions;function I$(n){return n.tooltip.syncInteraction}var k$={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},bN=$n({name:"chartData",initialState:k$,reducers:{setChartData(n,e){if(n.chartData=e.payload,e.payload==null){n.dataStartIndex=0,n.dataEndIndex=0;return}e.payload.length>0&&n.dataEndIndex!==e.payload.length-1&&(n.dataEndIndex=e.payload.length-1)},setComputedData(n,e){n.computedData=e.payload},setDataStartEndIndexes(n,e){var{startIndex:t,endIndex:i}=e.payload;t!=null&&(n.dataStartIndex=t),i!=null&&(n.dataEndIndex=i)}}}),{setChartData:PM,setDataStartEndIndexes:B$,setComputedData:RW}=bN.actions,j$=bN.reducer,z$=["x","y"];function DM(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Io(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?DM(Object(t),!0).forEach(function(i){F$(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):DM(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function F$(n,e,t){return(e=U$(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function U$(n){var e=H$(n,"string");return typeof e=="symbol"?e:e+""}function H$(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function q$(n,e){if(n==null)return{};var t,i,r=$$(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function $$(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function G$(){var n=ye(pA),e=ye(mA),t=lt(),i=ye(fL),r=ye(ra),s=dl(),l=np(),c=ye(d=>d.rootProps.className);C.useEffect(()=>{if(n==null)return ul;var d=(f,h,p)=>{if(e!==p&&n===f){if(i==="index"){var g;if(l&&h!==null&&h!==void 0&&(g=h.payload)!==null&&g!==void 0&&g.coordinate&&h.payload.sourceViewBox){var y=h.payload.coordinate,{x:S,y:A}=y,E=q$(y,z$),{x,y:O,width:T,height:P}=h.payload.sourceViewBox,M=Io(Io({},E),{},{x:l.x+(T?(S-x)/T:0)*l.width,y:l.y+(P?(A-O)/P:0)*l.height});t(Io(Io({},h),{},{payload:Io(Io({},h.payload),{},{coordinate:M})}))}else t(h);return}if(r!=null){var _;if(typeof i=="function"){var L={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},B=i(r,L);_=r[B]}else i==="value"&&(_=r.find(j=>String(j.value)===h.payload.label));var{coordinate:F}=h.payload;if(_==null||h.payload.active===!1||F==null||l==null){t(U0({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:X,y:q}=F,$=Math.min(X,l.x+l.width),se=Math.min(q,l.y+l.height),re={x:s==="horizontal"?_.coordinate:$,y:s==="horizontal"?se:_.coordinate},ce=U0({active:h.payload.active,coordinate:re,dataKey:h.payload.dataKey,index:String(_.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox,graphicalItemId:h.payload.graphicalItemId});t(ce)}}};return ru.on($0,d),()=>{ru.off($0,d)}},[c,t,e,n,i,r,s,l])}function V$(){var n=ye(pA),e=ye(mA),t=lt();C.useEffect(()=>{if(n==null)return ul;var i=(r,s,l)=>{e!==l&&n===r&&t(B$(s))};return ru.on(_M,i),()=>{ru.off(_M,i)}},[t,e,n])}function Y$(){var n=lt();C.useEffect(()=>{n(R$())},[n]),G$(),V$()}function X$(n,e,t,i,r,s){var l=ye(y=>t$(y,n,e)),c=ye(mA),d=ye(pA),f=ye(fL),h=ye(I$),p=h?.active,g=np();C.useEffect(()=>{if(!p&&d!=null&&c!=null){var y=U0({active:s,coordinate:t,dataKey:l,index:r,label:typeof i=="number"?String(i):i,sourceViewBox:g,graphicalItemId:void 0});ru.emit($0,d,y,c)}},[p,t,l,r,i,c,d,f,s,g])}function LM(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function NM(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?LM(Object(t),!0).forEach(function(i){K$(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):LM(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function K$(n,e,t){return(e=W$(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function W$(n){var e=Z$(n,"string");return typeof e=="symbol"?e:e+""}function Z$(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Q$(n){return n.dataKey}function J$(n,e){return C.isValidElement(n)?C.cloneElement(n,e):typeof n=="function"?C.createElement(n,e):C.createElement(BF,e)}var RM=[],eG={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Nr(n){var e,t,i=bn(n,eG),{active:r,allowEscapeViewBox:s,animationDuration:l,animationEasing:c,content:d,filterNull:f,isAnimationActive:h,offset:p,payloadUniqBy:g,position:y,reverseDirection:S,useTranslate3d:A,wrapperStyle:E,cursor:x,shared:O,trigger:T,defaultIndex:P,portal:M,axisId:_}=i,L=lt(),B=typeof P=="number"?String(P):P;C.useEffect(()=>{L(W7({shared:O,trigger:T,axisId:_,active:r,defaultIndex:B}))},[L,O,T,_,r,B]);var F=np(),X=oD(),q=$7(O),{activeIndex:$,isActive:se}=(e=ye(de=>r$(de,q,T,B)))!==null&&e!==void 0?e:{},re=ye(de=>i$(de,q,T,B)),ce=ye(de=>pN(de,q,T,B)),j=ye(de=>n$(de,q,T,B)),H=re,ie=M$(),le=(t=r??se)!==null&&t!==void 0?t:!1,[pe,I]=uP([H,le]),K=q==="axis"?ce:void 0;X$(q,T,j,K,$,le);var ne=M??ie;if(ne==null||F==null||q==null)return null;var oe=H??RM;le||(oe=RM),f&&oe.length&&(oe=aP(oe.filter(de=>de.value!=null&&(de.hide!==!0||i.includeHidden)),g,Q$));var ve=oe.length>0,Ee=C.createElement($F,{allowEscapeViewBox:s,animationDuration:l,animationEasing:c,isAnimationActive:h,active:le,coordinate:j,hasPayload:ve,offset:p,position:y,reverseDirection:S,useTranslate3d:A,viewBox:F,wrapperStyle:E,lastBoundingBox:pe,innerRef:I,hasPortalFromProps:!!M},J$(d,NM(NM({},i),{},{payload:oe,label:K,active:le,activeIndex:$,coordinate:j,accessibilityLayer:X})));return C.createElement(C.Fragment,null,bb.createPortal(Ee,ne),le&&C.createElement(T$,{cursor:x,tooltipEventType:q,coordinate:j,payload:oe,index:$}))}var ii=n=>null;ii.displayName="Cell";function tG(n,e,t){return(e=nG(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function nG(n){var e=iG(n,"string");return typeof e=="symbol"?e:e+""}function iG(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class rG{constructor(e){tG(this,"cache",new Map),this.maxSize=e}get(e){var t=this.cache.get(e);return t!==void 0&&(this.cache.delete(e),this.cache.set(e,t)),t}set(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var i=this.cache.keys().next().value;i!=null&&this.cache.delete(i)}this.cache.set(e,t)}clear(){this.cache.clear()}size(){return this.cache.size}}function IM(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function aG(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?IM(Object(t),!0).forEach(function(i){sG(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):IM(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function sG(n,e,t){return(e=oG(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function oG(n){var e=lG(n,"string");return typeof e=="symbol"?e:e+""}function lG(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var cG={cacheSize:2e3,enableCache:!0},AN=aG({},cG),kM=new rG(AN.cacheSize),uG={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},BM="recharts_measurement_span";function dG(n,e){var t=e.fontSize||"",i=e.fontFamily||"",r=e.fontWeight||"",s=e.fontStyle||"",l=e.letterSpacing||"",c=e.textTransform||"";return"".concat(n,"|").concat(t,"|").concat(i,"|").concat(r,"|").concat(s,"|").concat(l,"|").concat(c)}var jM=(n,e)=>{try{var t=document.getElementById(BM);t||(t=document.createElement("span"),t.setAttribute("id",BM),t.setAttribute("aria-hidden","true"),document.body.appendChild(t)),Object.assign(t.style,uG,e),t.textContent="".concat(n);var i=t.getBoundingClientRect();return{width:i.width,height:i.height}}catch{return{width:0,height:0}}},jc=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||sp.isSsr)return{width:0,height:0};if(!AN.enableCache)return jM(e,t);var i=dG(e,t),r=kM.get(i);if(r)return r;var s=jM(e,t);return kM.set(i,s),s},SN;function fG(n,e,t){return(e=hG(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function hG(n){var e=pG(n,"string");return typeof e=="symbol"?e:e+""}function pG(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var zM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,FM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,mG=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,gG=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,vG={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},yG=["cm","mm","pt","pc","in","Q","px"];function bG(n){return yG.includes(n)}var Vo="NaN";function AG(n,e){return n*vG[e]}class gn{static parse(e){var t,[,i,r]=(t=gG.exec(e))!==null&&t!==void 0?t:[];return i==null?gn.NaN:new gn(parseFloat(i),r??"")}constructor(e,t){this.num=e,this.unit=t,this.num=e,this.unit=t,cr(e)&&(this.unit=""),t!==""&&!mG.test(t)&&(this.num=NaN,this.unit=""),bG(t)&&(this.num=AG(e,t),this.unit="px")}add(e){return this.unit!==e.unit?new gn(NaN,""):new gn(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new gn(NaN,""):new gn(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new gn(NaN,""):new gn(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new gn(NaN,""):new gn(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return cr(this.num)}}SN=gn;fG(gn,"NaN",new SN(NaN,""));function EN(n){if(n==null||n.includes(Vo))return Vo;for(var e=n;e.includes("*")||e.includes("/");){var t,[,i,r,s]=(t=zM.exec(e))!==null&&t!==void 0?t:[],l=gn.parse(i??""),c=gn.parse(s??""),d=r==="*"?l.multiply(c):l.divide(c);if(d.isNaN())return Vo;e=e.replace(zM,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,[,h,p,g]=(f=FM.exec(e))!==null&&f!==void 0?f:[],y=gn.parse(h??""),S=gn.parse(g??""),A=p==="+"?y.add(S):y.subtract(S);if(A.isNaN())return Vo;e=e.replace(FM,A.toString())}return e}var UM=/\(([^()]*)\)/;function SG(n){for(var e=n,t;(t=UM.exec(e))!=null;){var[,i]=t;e=e.replace(UM,EN(i))}return e}function EG(n){var e=n.replace(/\s+/g,"");return e=SG(e),e=EN(e),e}function xG(n){try{return EG(n)}catch{return Vo}}function Oy(n){var e=xG(n.slice(5,-1));return e===Vo?"":e}var wG=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],CG=["dx","dy","angle","className","breakAll"];function G0(){return G0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},G0.apply(null,arguments)}function HM(n,e){if(n==null)return{};var t,i,r=OG(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function OG(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var xN=/[ \f\n\r\t\v\u2028\u2029]+/,wN=n=>{var{children:e,breakAll:t,style:i}=n;try{var r=[];nn(e)||(t?r=e.toString().split(""):r=e.toString().split(xN));var s=r.map(c=>({word:c,width:jc(c,i).width})),l=t?0:jc("",i).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}};function TG(n){return n==="start"||n==="middle"||n==="end"||n==="inherit"}var CN=(n,e,t,i)=>n.reduce((r,s)=>{var{word:l,width:c}=s,d=r[r.length-1];if(d&&c!=null&&(e==null||i||d.width+c+t<Number(e)))d.words.push(l),d.width+=c+t;else{var f={words:[l],width:c};r.push(f)}return r},[]),ON=n=>n.reduce((e,t)=>e.width>t.width?e:t),MG="",qM=(n,e,t,i,r,s,l,c)=>{var d=n.slice(0,e),f=wN({breakAll:t,style:i,children:d+MG});if(!f)return[!1,[]];var h=CN(f.wordsWithComputedWidth,s,l,c),p=h.length>r||ON(h).width>Number(s);return[p,h]},_G=(n,e,t,i,r)=>{var{maxLines:s,children:l,style:c,breakAll:d}=n,f=be(s),h=String(l),p=CN(e,i,t,r);if(!f||r)return p;var g=p.length>s||ON(p).width>Number(i);if(!g)return p;for(var y=0,S=h.length-1,A=0,E;y<=S&&A<=h.length-1;){var x=Math.floor((y+S)/2),O=x-1,[T,P]=qM(h,O,d,c,s,i,t,r),[M]=qM(h,x,d,c,s,i,t,r);if(!T&&!M&&(y=x+1),T&&M&&(S=x-1),!T&&M){E=P;break}A++}return E||p},$M=n=>{var e=nn(n)?[]:n.toString().split(xN);return[{words:e,width:void 0}]},PG=n=>{var{width:e,scaleToFit:t,children:i,style:r,breakAll:s,maxLines:l}=n;if((e||t)&&!sp.isSsr){var c,d,f=wN({breakAll:s,children:i,style:r});if(f){var{wordsWithComputedWidth:h,spaceWidth:p}=f;c=h,d=p}else return $M(i);return _G({breakAll:s,children:i,maxLines:l,style:r},c,d,e,!!t)}return $M(i)},TN="#808080",DG={angle:0,breakAll:!1,capHeight:"0.71em",fill:TN,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Tp=C.forwardRef((n,e)=>{var t=bn(n,DG),{x:i,y:r,lineHeight:s,capHeight:l,fill:c,scaleToFit:d,textAnchor:f,verticalAnchor:h}=t,p=HM(t,wG),g=C.useMemo(()=>PG({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:d,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,d,p.style,p.width]),{dx:y,dy:S,angle:A,className:E,breakAll:x}=p,O=HM(p,CG);if(!ur(i)||!ur(r)||g.length===0)return null;var T=Number(i)+(be(y)?y:0),P=Number(r)+(be(S)?S:0);if(!Xe(T)||!Xe(P))return null;var M;switch(h){case"start":M=Oy("calc(".concat(l,")"));break;case"middle":M=Oy("calc(".concat((g.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:M=Oy("calc(".concat(g.length-1," * -").concat(s,")"));break}var _=[],L=g[0];if(d&&L!=null){var B=L.width,{width:F}=p;_.push("scale(".concat(be(F)&&be(B)?F/B:1,")"))}return A&&_.push("rotate(".concat(A,", ").concat(T,", ").concat(P,")")),_.length&&(O.transform=_.join(" ")),C.createElement("text",G0({},Pi(O),{ref:e,x:T,y:P,className:Je("recharts-text",E),textAnchor:f,fill:c.includes("url")?TN:c}),g.map((X,q)=>{var $=X.words.join(x?"":" ");return C.createElement("tspan",{x:T,dy:q===0?M:s,key:"".concat($,"-").concat(q)},$)}))});Tp.displayName="Text";function GM(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function er(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?GM(Object(t),!0).forEach(function(i){LG(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):GM(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function LG(n,e,t){return(e=NG(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function NG(n){var e=RG(n,"string");return typeof e=="symbol"?e:e+""}function RG(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var IG=n=>{var{viewBox:e,position:t,offset:i=0,parentViewBox:r}=n,{x:s,y:l,height:c,upperWidth:d,lowerWidth:f}=jb(e),h=s,p=s+(d-f)/2,g=(h+p)/2,y=(d+f)/2,S=h+d/2,A=c>=0?1:-1,E=A*i,x=A>0?"end":"start",O=A>0?"start":"end",T=d>=0?1:-1,P=T*i,M=T>0?"end":"start",_=T>0?"start":"end",L=r;if(t==="top"){var B={x:h+d/2,y:l-E,horizontalAnchor:"middle",verticalAnchor:x};return L&&(B.height=Math.max(l-L.y,0),B.width=d),B}if(t==="bottom"){var F={x:p+f/2,y:l+c+E,horizontalAnchor:"middle",verticalAnchor:O};return L&&(F.height=Math.max(L.y+L.height-(l+c),0),F.width=f),F}if(t==="left"){var X={x:g-P,y:l+c/2,horizontalAnchor:M,verticalAnchor:"middle"};return L&&(X.width=Math.max(X.x-L.x,0),X.height=c),X}if(t==="right"){var q={x:g+y+P,y:l+c/2,horizontalAnchor:_,verticalAnchor:"middle"};return L&&(q.width=Math.max(L.x+L.width-q.x,0),q.height=c),q}var $=L?{width:y,height:c}:{};return t==="insideLeft"?er({x:g+P,y:l+c/2,horizontalAnchor:_,verticalAnchor:"middle"},$):t==="insideRight"?er({x:g+y-P,y:l+c/2,horizontalAnchor:M,verticalAnchor:"middle"},$):t==="insideTop"?er({x:h+d/2,y:l+E,horizontalAnchor:"middle",verticalAnchor:O},$):t==="insideBottom"?er({x:p+f/2,y:l+c-E,horizontalAnchor:"middle",verticalAnchor:x},$):t==="insideTopLeft"?er({x:h+P,y:l+E,horizontalAnchor:_,verticalAnchor:O},$):t==="insideTopRight"?er({x:h+d-P,y:l+E,horizontalAnchor:M,verticalAnchor:O},$):t==="insideBottomLeft"?er({x:p+P,y:l+c-E,horizontalAnchor:_,verticalAnchor:x},$):t==="insideBottomRight"?er({x:p+f-P,y:l+c-E,horizontalAnchor:M,verticalAnchor:x},$):t&&typeof t=="object"&&(be(t.x)||Ns(t.x))&&(be(t.y)||Ns(t.y))?er({x:s+wn(t.x,y),y:l+wn(t.y,c),horizontalAnchor:"end",verticalAnchor:"end"},$):er({x:S,y:l+c/2,horizontalAnchor:"middle",verticalAnchor:"middle"},$)},kG=["labelRef"],BG=["content"];function VM(n,e){if(n==null)return{};var t,i,r=jG(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function jG(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function YM(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function kc(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?YM(Object(t),!0).forEach(function(i){zG(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):YM(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function zG(n,e,t){return(e=FG(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function FG(n){var e=UG(n,"string");return typeof e=="symbol"?e:e+""}function UG(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Fr(){return Fr=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Fr.apply(null,arguments)}var MN=C.createContext(null),HG=n=>{var{x:e,y:t,upperWidth:i,lowerWidth:r,width:s,height:l,children:c}=n,d=C.useMemo(()=>({x:e,y:t,upperWidth:i,lowerWidth:r,width:s,height:l}),[e,t,i,r,s,l]);return C.createElement(MN.Provider,{value:d},c)},_N=()=>{var n=C.useContext(MN),e=np();return n||(e?jb(e):void 0)},qG=C.createContext(null),$G=()=>{var n=C.useContext(qG),e=ye(vL);return n||e},GG=n=>{var{value:e,formatter:t}=n,i=nn(n.children)?e:n.children;return typeof t=="function"?t(i):i},QA=n=>n!=null&&typeof n=="function",VG=(n,e)=>{var t=yn(e-n),i=Math.min(Math.abs(e-n),360);return t*i},YG=(n,e,t,i,r)=>{var{offset:s,className:l}=n,{cx:c,cy:d,innerRadius:f,outerRadius:h,startAngle:p,endAngle:g,clockWise:y}=r,S=(f+h)/2,A=VG(p,g),E=A>=0?1:-1,x,O;switch(e){case"insideStart":x=p+E*s,O=y;break;case"insideEnd":x=g-E*s,O=!y;break;case"end":x=g+E*s,O=y;break;default:throw new Error("Unsupported position ".concat(e))}O=A<=0?O:!O;var T=zt(c,d,S,x),P=zt(c,d,S,x+(O?1:-1)*359),M="M".concat(T.x,",").concat(T.y,`
    A`).concat(S,",").concat(S,",0,1,").concat(O?0:1,`,
    `).concat(P.x,",").concat(P.y),_=nn(n.id)?Gc("recharts-radial-line-"):n.id;return C.createElement("text",Fr({},i,{dominantBaseline:"central",className:Je("recharts-radial-bar-label",l)}),C.createElement("defs",null,C.createElement("path",{id:_,d:M})),C.createElement("textPath",{xlinkHref:"#".concat(_)},t))},XG=(n,e,t)=>{var{cx:i,cy:r,innerRadius:s,outerRadius:l,startAngle:c,endAngle:d}=n,f=(c+d)/2;if(t==="outside"){var{x:h,y:p}=zt(i,r,l+e,f);return{x:h,y:p,textAnchor:h>=i?"start":"end",verticalAnchor:"middle"}}if(t==="center")return{x:i,y:r,textAnchor:"middle",verticalAnchor:"middle"};if(t==="centerTop")return{x:i,y:r,textAnchor:"middle",verticalAnchor:"start"};if(t==="centerBottom")return{x:i,y:r,textAnchor:"middle",verticalAnchor:"end"};var g=(s+l)/2,{x:y,y:S}=zt(i,r,g,f);return{x:y,y:S,textAnchor:"middle",verticalAnchor:"middle"}},Tf=n=>n!=null&&"cx"in n&&be(n.cx),KG={angle:0,offset:5,zIndex:xn.label,position:"middle",textBreakAll:!1};function WG(n){if(!Tf(n))return n;var{cx:e,cy:t,outerRadius:i}=n,r=i*2;return{x:e-i,y:t-i,width:r,upperWidth:r,lowerWidth:r,height:r}}function Ra(n){var e=bn(n,KG),{viewBox:t,parentViewBox:i,position:r,value:s,children:l,content:c,className:d="",textBreakAll:f,labelRef:h}=e,p=$G(),g=_N(),y=r==="center"?g:p??g,S,A,E;t==null?S=y:Tf(t)?S=t:S=jb(t);var x=WG(S);if(!S||nn(s)&&nn(l)&&!C.isValidElement(c)&&typeof c!="function")return null;var O=kc(kc({},e),{},{viewBox:S});if(C.isValidElement(c)){var{labelRef:T}=O,P=VM(O,kG);return C.cloneElement(c,P)}if(typeof c=="function"){var{content:M}=O,_=VM(O,BG);if(A=C.createElement(c,_),C.isValidElement(A))return A}else A=GG(e);var L=Pi(e);if(Tf(S)){if(r==="insideStart"||r==="insideEnd"||r==="end")return YG(e,r,A,L,S);E=XG(S,e.offset,e.position)}else{if(!x)return null;var B=IG({viewBox:x,position:r,offset:e.offset,parentViewBox:Tf(i)?void 0:i});E=kc(kc({x:B.x,y:B.y,textAnchor:B.horizontalAnchor,verticalAnchor:B.verticalAnchor},B.width!==void 0?{width:B.width}:{}),B.height!==void 0?{height:B.height}:{})}return C.createElement(fr,{zIndex:e.zIndex},C.createElement(Tp,Fr({ref:h,className:Je("recharts-label",d)},L,E,{textAnchor:TG(L.textAnchor)?L.textAnchor:E.textAnchor,breakAll:f}),A))}Ra.displayName="Label";var ZG=(n,e,t)=>{if(!n)return null;var i={viewBox:e,labelRef:t};return n===!0?C.createElement(Ra,Fr({key:"label-implicit"},i)):ur(n)?C.createElement(Ra,Fr({key:"label-implicit",value:n},i)):C.isValidElement(n)?n.type===Ra?C.cloneElement(n,kc({key:"label-implicit"},i)):C.createElement(Ra,Fr({key:"label-implicit",content:n},i)):QA(n)?C.createElement(Ra,Fr({key:"label-implicit",content:n},i)):n&&typeof n=="object"?C.createElement(Ra,Fr({},n,{key:"label-implicit"},i)):null};function QG(n){var{label:e,labelRef:t}=n,i=_N();return ZG(e,i,t)||null}var Ty={},My={},XM;function JG(){return XM||(XM=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t[t.length-1]}n.last=e})(My)),My}var _y={},KM;function eV(){return KM||(KM=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return Array.isArray(t)?t:Array.from(t)}n.toArray=e})(_y)),_y}var WM;function tV(){return WM||(WM=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=JG(),t=eV(),i=Tb();function r(s){if(i.isArrayLike(s))return e.last(t.toArray(s))}n.last=r})(Ty)),Ty}var Py,ZM;function nV(){return ZM||(ZM=1,Py=tV().last),Py}var iV=nV();const rV=Zr(iV);var aV=["valueAccessor"],sV=["dataKey","clockWise","id","textBreakAll","zIndex"];function yh(){return yh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},yh.apply(null,arguments)}function QM(n,e){if(n==null)return{};var t,i,r=oV(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function oV(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var lV=n=>Array.isArray(n.value)?rV(n.value):n.value,PN=C.createContext(void 0),cV=PN.Provider,DN=C.createContext(void 0),uV=DN.Provider;function dV(){return C.useContext(PN)}function fV(){return C.useContext(DN)}function Mf(n){var{valueAccessor:e=lV}=n,t=QM(n,aV),{dataKey:i,clockWise:r,id:s,textBreakAll:l,zIndex:c}=t,d=QM(t,sV),f=dV(),h=fV(),p=f||h;return!p||!p.length?null:C.createElement(fr,{zIndex:c??xn.label},C.createElement(Pn,{className:"recharts-label-list"},p.map((g,y)=>{var S,A=nn(i)?e(g,y):ht(g.payload,i),E=nn(s)?{}:{id:"".concat(s,"-").concat(y)};return C.createElement(Ra,yh({key:"label-".concat(y)},Pi(g),d,E,{fill:(S=t.fill)!==null&&S!==void 0?S:g.fill,parentViewBox:g.parentViewBox,value:A,textBreakAll:l,viewBox:g.viewBox,index:y,zIndex:0}))})))}Mf.displayName="LabelList";function LN(n){var{label:e}=n;return e?e===!0?C.createElement(Mf,{key:"labelList-implicit"}):C.isValidElement(e)||QA(e)?C.createElement(Mf,{key:"labelList-implicit",content:e}):typeof e=="object"?C.createElement(Mf,yh({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var NN=n=>n.graphicalItems.polarItems,hV=Y([St,xu],SA),Mp=Y([NN,Mt,hV],xA),pV=Y([Mp],wA),_p=Y([pV,mp],CA),mV=Y([_p,Mt,Mp],TA);Y([_p,Mt,Mp],(n,e,t)=>t.length>0?n.flatMap(i=>t.flatMap(r=>{var s,l=ht(i,(s=e.dataKey)!==null&&s!==void 0?s:r.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):e?.dataKey!=null?n.map(i=>({value:ht(i,e.dataKey),errorDomain:[]})):n.map(i=>({value:i,errorDomain:[]})));var JM=()=>{},gV=Y([_p,Mt,Mp,xp,St],DA),vV=Y([Mt,_A,PA,JM,gV,JM,Ke,St],LA),RN=Y([Mt,Ke,_p,mV,Eu,St,vV],NA),yV=Y([RN,gl,Xa],kA),bV=Y([Mt,RN,yV,St],jA);Y([Xa,bV],bL);var AV={radiusAxis:{},angleAxis:{}},IN=$n({name:"polarAxis",initialState:AV,reducers:{addRadiusAxis(n,e){n.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(n,e){delete n.radiusAxis[e.payload.id]},addAngleAxis(n,e){n.angleAxis[e.payload.id]=e.payload},removeAngleAxis(n,e){delete n.angleAxis[e.payload.id]}}}),{addRadiusAxis:IW,removeRadiusAxis:kW,addAngleAxis:BW,removeAngleAxis:jW}=IN.actions,SV=IN.reducer;function kN(n){return n&&typeof n=="object"&&"className"in n&&typeof n.className=="string"?n.className:""}function e_(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function t_(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?e_(Object(t),!0).forEach(function(i){EV(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):e_(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function EV(n,e,t){return(e=xV(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function xV(n){var e=wV(n,"string");return typeof e=="symbol"?e:e+""}function wV(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var CV=(n,e)=>e,JA=Y([NN,CV],(n,e)=>n.filter(t=>t.type==="pie").find(t=>t.id===e)),OV=[],e1=(n,e,t)=>t?.length===0?OV:t,BN=Y([mp,JA,e1],(n,e,t)=>{var{chartData:i}=n;if(e!=null){var r;if(e?.data!=null&&e.data.length>0?r=e.data:r=i,(!r||!r.length)&&t!=null&&(r=t.map(s=>t_(t_({},e.presentationProps),s.props))),r!=null)return r}}),TV=Y([BN,JA,e1],(n,e,t)=>{if(!(n==null||e==null))return n.map((i,r)=>{var s,l=ht(i,e.nameKey,e.name),c;return t!=null&&(s=t[r])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?c=t[r].props.fill:typeof i=="object"&&i!=null&&"fill"in i?c=i.fill:c=e.fill,{value:Zh(l,e.dataKey),color:c,payload:i,type:e.legendType}})}),MV=Y([BN,JA,e1,Vt],(n,e,t,i)=>{if(!(e==null||n==null))return D9({offset:i,pieSettings:e,displayedData:n,cells:t})}),Dy={exports:{}},it={};var n_;function _V(){if(n_)return it;n_=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.view_transition"),y=Symbol.for("react.client.reference");function S(A){if(typeof A=="object"&&A!==null){var E=A.$$typeof;switch(E){case n:switch(A=A.type,A){case t:case r:case i:case d:case f:case g:return A;default:switch(A=A&&A.$$typeof,A){case l:case c:case p:case h:return A;case s:return A;default:return E}}case e:return E}}}return it.ContextConsumer=s,it.ContextProvider=l,it.Element=n,it.ForwardRef=c,it.Fragment=t,it.Lazy=p,it.Memo=h,it.Portal=e,it.Profiler=r,it.StrictMode=i,it.Suspense=d,it.SuspenseList=f,it.isContextConsumer=function(A){return S(A)===s},it.isContextProvider=function(A){return S(A)===l},it.isElement=function(A){return typeof A=="object"&&A!==null&&A.$$typeof===n},it.isForwardRef=function(A){return S(A)===c},it.isFragment=function(A){return S(A)===t},it.isLazy=function(A){return S(A)===p},it.isMemo=function(A){return S(A)===h},it.isPortal=function(A){return S(A)===e},it.isProfiler=function(A){return S(A)===r},it.isStrictMode=function(A){return S(A)===i},it.isSuspense=function(A){return S(A)===d},it.isSuspenseList=function(A){return S(A)===f},it.isValidElementType=function(A){return typeof A=="string"||typeof A=="function"||A===t||A===r||A===i||A===d||A===f||typeof A=="object"&&A!==null&&(A.$$typeof===p||A.$$typeof===h||A.$$typeof===l||A.$$typeof===s||A.$$typeof===c||A.$$typeof===y||A.getModuleId!==void 0)},it.typeOf=S,it}var i_;function PV(){return i_||(i_=1,Dy.exports=_V()),Dy.exports}var DV=PV(),r_=n=>typeof n=="string"?n:n?n.displayName||n.name||"Component":"",a_=null,Ly=null,jN=n=>{if(n===a_&&Array.isArray(Ly))return Ly;var e=[];return C.Children.forEach(n,t=>{nn(t)||(DV.isFragment(t)?e=e.concat(jN(t.props.children)):e.push(t))}),Ly=e,a_=n,e};function t1(n,e){var t=[],i=[];return Array.isArray(e)?i=e.map(r=>r_(r)):i=[r_(e)],jN(n).forEach(r=>{var s=Ls(r,"type.displayName")||Ls(r,"type.name");s&&i.indexOf(s)!==-1&&t.push(r)}),t}var Ny={},s_;function LV(){return s_||(s_=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const r=t[Symbol.toStringTag];return r==null||!Object.getOwnPropertyDescriptor(t,Symbol.toStringTag)?.writable?!1:t.toString()===`[object ${r}]`}let i=t;for(;Object.getPrototypeOf(i)!==null;)i=Object.getPrototypeOf(i);return Object.getPrototypeOf(t)===i}n.isPlainObject=e})(Ny)),Ny}var Ry,o_;function NV(){return o_||(o_=1,Ry=LV().isPlainObject),Ry}var RV=NV();const IV=Zr(RV);var l_,c_,u_,d_,f_;function h_(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function p_(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?h_(Object(t),!0).forEach(function(i){kV(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):h_(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function kV(n,e,t){return(e=BV(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function BV(n){var e=jV(n,"string");return typeof e=="symbol"?e:e+""}function jV(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function bh(){return bh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},bh.apply(null,arguments)}function _c(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}var m_=(n,e,t,i,r)=>{var s=t-i,l;return l=Ct(l_||(l_=_c(["M ",",",""])),n,e),l+=Ct(c_||(c_=_c(["L ",",",""])),n+t,e),l+=Ct(u_||(u_=_c(["L ",",",""])),n+t-s/2,e+r),l+=Ct(d_||(d_=_c(["L ",",",""])),n+t-s/2-i,e+r),l+=Ct(f_||(f_=_c(["L ",","," Z"])),n,e),l},zV={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},FV=n=>{var e=bn(n,zV),{x:t,y:i,upperWidth:r,lowerWidth:s,height:l,className:c}=e,{animationEasing:d,animationDuration:f,animationBegin:h,isUpdateAnimationActive:p}=e,g=C.useRef(null),[y,S]=C.useState(-1),A=C.useRef(r),E=C.useRef(s),x=C.useRef(l),O=C.useRef(t),T=C.useRef(i),P=lp(n,"trapezoid-");if(C.useEffect(()=>{if(g.current&&g.current.getTotalLength)try{var re=g.current.getTotalLength();re&&S(re)}catch{}},[]),t!==+t||i!==+i||r!==+r||s!==+s||l!==+l||r===0&&s===0||l===0)return null;var M=Je("recharts-trapezoid",c);if(!p)return C.createElement("g",null,C.createElement("path",bh({},Pi(e),{className:M,d:m_(t,i,r,s,l)})));var _=A.current,L=E.current,B=x.current,F=O.current,X=T.current,q="0px ".concat(y===-1?1:y,"px"),$="".concat(y,"px 0px"),se=lD(["strokeDasharray"],f,d);return C.createElement(op,{animationId:P,key:P,canBegin:y>0,duration:f,easing:d,isActive:p,begin:h},re=>{var ce=qt(_,r,re),j=qt(L,s,re),H=qt(B,l,re),ie=qt(F,t,re),le=qt(X,i,re);g.current&&(A.current=ce,E.current=j,x.current=H,O.current=ie,T.current=le);var pe=re>0?{transition:se,strokeDasharray:$}:{strokeDasharray:q};return C.createElement("path",bh({},Pi(e),{className:M,d:m_(ie,le,ce,j,H),ref:g,style:p_(p_({},pe),e.style)}))})},UV=["option","shapeType","activeClassName"];function HV(n,e){if(n==null)return{};var t,i,r=qV(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function qV(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function g_(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Ah(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?g_(Object(t),!0).forEach(function(i){$V(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):g_(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function $V(n,e,t){return(e=GV(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function GV(n){var e=VV(n,"string");return typeof e=="symbol"?e:e+""}function VV(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function YV(n,e){return Ah(Ah({},e),n)}function XV(n,e){return n==="symbols"}function v_(n){var{shapeType:e,elementProps:t}=n;switch(e){case"rectangle":return C.createElement(fD,t);case"trapezoid":return C.createElement(FV,t);case"sector":return C.createElement(gD,t);case"symbols":if(XV(e))return C.createElement(Ob,t);break;case"curve":return C.createElement(Ub,t);default:return null}}function KV(n){return C.isValidElement(n)?n.props:n}function zN(n){var{option:e,shapeType:t,activeClassName:i="recharts-active-shape"}=n,r=HV(n,UV),s;if(C.isValidElement(e))s=C.cloneElement(e,Ah(Ah({},r),KV(e)));else if(typeof e=="function")s=e(r,r.index);else if(IV(e)&&typeof e!="boolean"){var l=YV(e,r);s=C.createElement(v_,{shapeType:t,elementProps:l})}else{var c=r;s=C.createElement(v_,{shapeType:t,elementProps:c})}return r.isActive?C.createElement(Pn,{className:i},s):s}var n1=(n,e,t)=>{var i=lt();return(r,s)=>l=>{n?.(r,s,l),i(KL({activeIndex:String(s),activeDataKey:e,activeCoordinate:r.tooltipPosition,activeGraphicalItemId:t}))}},i1=n=>{var e=lt();return(t,i)=>r=>{n?.(t,i,r),e(Z7())}},r1=(n,e,t)=>{var i=lt();return(r,s)=>l=>{n?.(r,s,l),i(Q7({activeIndex:String(s),activeDataKey:e,activeCoordinate:r.tooltipPosition,activeGraphicalItemId:t}))}};function FN(n){var{tooltipEntrySettings:e}=n,t=lt(),i=ci(),r=C.useRef(null);return C.useLayoutEffect(()=>{i||(r.current===null?t(Y7(e)):r.current!==e&&t(X7({prev:r.current,next:e})),r.current=e)},[e,t,i]),C.useLayoutEffect(()=>()=>{r.current&&(t(K7(r.current)),r.current=null)},[t]),null}function WV(n){var{legendPayload:e}=n,t=lt(),i=ci(),r=C.useRef(null);return C.useLayoutEffect(()=>{i||(r.current===null?t(rD(e)):r.current!==e&&t(aD({prev:r.current,next:e})),r.current=e)},[t,i,e]),C.useLayoutEffect(()=>()=>{r.current&&(t(sD(r.current)),r.current=null)},[t]),null}function ZV(n){var{legendPayload:e}=n,t=lt(),i=ye(Ke),r=C.useRef(null);return C.useLayoutEffect(()=>{i!=="centric"&&i!=="radial"||(r.current===null?t(rD(e)):r.current!==e&&t(aD({prev:r.current,next:e})),r.current=e)},[t,i,e]),C.useLayoutEffect(()=>()=>{r.current&&(t(sD(r.current)),r.current=null)},[t]),null}var Iy,QV=()=>{var[n]=C.useState(()=>Gc("uid-"));return n},JV=(Iy=Vk.useId)!==null&&Iy!==void 0?Iy:QV;function e9(n,e){var t=JV();return e||(n?"".concat(n,"-").concat(t):t)}var t9=C.createContext(void 0),UN=n=>{var{id:e,type:t,children:i}=n,r=e9("recharts-".concat(t),e);return C.createElement(t9.Provider,{value:r},i(r))},n9={cartesianItems:[],polarItems:[]},HN=$n({name:"graphicalItems",initialState:n9,reducers:{addCartesianGraphicalItem:{reducer(n,e){n.cartesianItems.push(e.payload)},prepare:vt()},replaceCartesianGraphicalItem:{reducer(n,e){var{prev:t,next:i}=e.payload,r=Ui(n).cartesianItems.indexOf(t);r>-1&&(n.cartesianItems[r]=i)},prepare:vt()},removeCartesianGraphicalItem:{reducer(n,e){var t=Ui(n).cartesianItems.indexOf(e.payload);t>-1&&n.cartesianItems.splice(t,1)},prepare:vt()},addPolarGraphicalItem:{reducer(n,e){n.polarItems.push(e.payload)},prepare:vt()},removePolarGraphicalItem:{reducer(n,e){var t=Ui(n).polarItems.indexOf(e.payload);t>-1&&n.polarItems.splice(t,1)},prepare:vt()}}}),{addCartesianGraphicalItem:i9,replaceCartesianGraphicalItem:r9,removeCartesianGraphicalItem:a9,addPolarGraphicalItem:s9,removePolarGraphicalItem:o9}=HN.actions,l9=HN.reducer,c9=n=>{var e=lt(),t=C.useRef(null);return C.useLayoutEffect(()=>{t.current===null?e(i9(n)):t.current!==n&&e(r9({prev:t.current,next:n})),t.current=n},[e,n]),C.useLayoutEffect(()=>()=>{t.current&&(e(a9(t.current)),t.current=null)},[e]),null},u9=C.memo(c9);function d9(n){var e=lt();return C.useLayoutEffect(()=>(e(s9(n)),()=>{e(o9(n))}),[e,n]),null}var f9=["key"],h9=["onMouseEnter","onClick","onMouseLeave"],p9=["id"],m9=["id"];function y_(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Tt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?y_(Object(t),!0).forEach(function(i){g9(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):y_(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function g9(n,e,t){return(e=v9(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function v9(n){var e=y9(n,"string");return typeof e=="symbol"?e:e+""}function y9(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function $a(){return $a=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},$a.apply(null,arguments)}function Pp(n,e){if(n==null)return{};var t,i,r=b9(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function b9(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function A9(n){var e=C.useMemo(()=>t1(n.children,ii),[n.children]),t=ye(i=>TV(i,n.id,e));return t==null?null:C.createElement(ZV,{legendPayload:t})}var S9=C.memo(n=>{var{dataKey:e,nameKey:t,sectors:i,stroke:r,strokeWidth:s,fill:l,name:c,hide:d,tooltipType:f,id:h}=n,p={dataDefinedOnItem:i.map(g=>g.tooltipPayload),getPosition:g=>{var y;return(y=i[Number(g)])===null||y===void 0?void 0:y.tooltipPosition},settings:{stroke:r,strokeWidth:s,fill:l,dataKey:e,nameKey:t,name:Zh(c,e),hide:d,type:f,color:l,unit:"",graphicalItemId:h}};return C.createElement(FN,{tooltipEntrySettings:p})}),E9=(n,e)=>n>e?"start":n<e?"end":"middle",x9=(n,e,t)=>wn(typeof e=="function"?e(n):e,t,t*.8),w9=(n,e,t)=>{var{top:i,left:r,width:s,height:l}=e,c=hD(s,l),d=r+wn(n.cx,s,s/2),f=i+wn(n.cy,l,l/2),h=wn(n.innerRadius,c,0),p=x9(t,n.outerRadius,c),g=n.maxRadius||Math.sqrt(s*s+l*l)/2;return{cx:d,cy:f,innerRadius:h,outerRadius:p,maxRadius:g}},C9=(n,e)=>{var t=yn(e-n),i=Math.min(Math.abs(e-n),360);return t*i},O9=(n,e)=>{if(C.isValidElement(n))return C.cloneElement(n,e);if(typeof n=="function")return n(e);var t=Je("recharts-pie-label-line",typeof n!="boolean"?n.className:""),{key:i}=e,r=Pp(e,f9);return C.createElement(Ub,$a({},r,{type:"linear",className:t}))},T9=(n,e,t)=>{if(C.isValidElement(n))return C.cloneElement(n,e);var i=t;if(typeof n=="function"&&(i=n(e),C.isValidElement(i)))return i;var r=Je("recharts-pie-label-text",kN(n));return C.createElement(Tp,$a({},e,{alignmentBaseline:"middle",className:r}),i)};function M9(n){var{sectors:e,props:t,showLabels:i}=n,{label:r,labelLine:s,dataKey:l}=t;if(!i||!r||!e)return null;var c=lr(t),d=$c(r),f=$c(s),h=typeof r=="object"&&"offsetRadius"in r&&typeof r.offsetRadius=="number"&&r.offsetRadius||20,p=e.map((g,y)=>{var S=(g.startAngle+g.endAngle)/2,A=zt(g.cx,g.cy,g.outerRadius+h,S),E=Tt(Tt(Tt(Tt({},c),g),{},{stroke:"none"},d),{},{index:y,textAnchor:E9(A.x,g.cx)},A),x=Tt(Tt(Tt(Tt({},c),g),{},{fill:"none",stroke:g.fill},f),{},{index:y,points:[zt(g.cx,g.cy,g.outerRadius,S),A],key:"line"});return C.createElement(fr,{zIndex:xn.label,key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(y)},C.createElement(Pn,null,s&&O9(s,x),T9(r,E,ht(g,l))))});return C.createElement(Pn,{className:"recharts-pie-labels"},p)}function _9(n){var{sectors:e,props:t,showLabels:i}=n,{label:r}=t;return typeof r=="object"&&r!=null&&"position"in r?C.createElement(LN,{label:r}):C.createElement(M9,{sectors:e,props:t,showLabels:i})}function P9(n){var{sectors:e,activeShape:t,inactiveShape:i,allOtherPieProps:r,shape:s,id:l}=n,c=ye(js),d=ye(YA),f=ye(Bq),{onMouseEnter:h,onClick:p,onMouseLeave:g}=r,y=Pp(r,h9),S=n1(h,r.dataKey,l),A=i1(g),E=r1(p,r.dataKey,l);return e==null||e.length===0?null:C.createElement(C.Fragment,null,e.map((x,O)=>{if(x?.startAngle===0&&x?.endAngle===0&&e.length!==1)return null;var T=f==null||f===l,P=String(O)===c&&(d==null||r.dataKey===d)&&T,M=c?i:null,_=t&&P?t:M,L=Tt(Tt({},x),{},{stroke:x.stroke,tabIndex:-1,[HP]:O,[qP]:l});return C.createElement(Pn,$a({key:"sector-".concat(x?.startAngle,"-").concat(x?.endAngle,"-").concat(x.midAngle,"-").concat(O),tabIndex:-1,className:"recharts-pie-sector"},fu(y,x,O),{onMouseEnter:S(x,O),onMouseLeave:A(x,O),onClick:E(x,O)}),C.createElement(zN,$a({option:s??_,index:O,shapeType:"sector",isActive:P},L)))}))}function D9(n){var e,{pieSettings:t,displayedData:i,cells:r,offset:s}=n,{cornerRadius:l,startAngle:c,endAngle:d,dataKey:f,nameKey:h,tooltipType:p}=t,g=Math.abs(t.minAngle),y=C9(c,d),S=Math.abs(y),A=i.length<=1?0:(e=t.paddingAngle)!==null&&e!==void 0?e:0,E=i.filter(_=>ht(_,f,0)!==0).length,x=(S>=360?E:E-1)*A,O=S-E*g-x,T=i.reduce((_,L)=>{var B=ht(L,f,0);return _+(be(B)?B:0)},0),P;if(T>0){var M;P=i.map((_,L)=>{var B=ht(_,f,0),F=ht(_,h,L),X=w9(t,s,_),q=(be(B)?B:0)/T,$,se=Tt(Tt({},_),r&&r[L]&&r[L].props);L?$=M.endAngle+yn(y)*A*(B!==0?1:0):$=c;var re=$+yn(y)*((B!==0?g:0)+q*O),ce=($+re)/2,j=(X.innerRadius+X.outerRadius)/2,H=[{name:F,value:B,payload:se,dataKey:f,type:p,graphicalItemId:t.id}],ie=zt(X.cx,X.cy,j,ce);return M=Tt(Tt(Tt(Tt({},t.presentationProps),{},{percent:q,cornerRadius:typeof l=="string"?parseFloat(l):l,name:F,tooltipPayload:H,midAngle:ce,middleRadius:j,tooltipPosition:ie},se),X),{},{value:B,dataKey:f,startAngle:$,endAngle:re,payload:se,paddingAngle:yn(y)*A}),M})}return P}function L9(n){var{showLabels:e,sectors:t,children:i}=n,r=C.useMemo(()=>!e||!t?[]:t.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[t,e]);return C.createElement(uV,{value:e?r:void 0},i)}function N9(n){var{props:e,previousSectorsRef:t,id:i}=n,{sectors:r,isAnimationActive:s,animationBegin:l,animationDuration:c,animationEasing:d,activeShape:f,inactiveShape:h,onAnimationStart:p,onAnimationEnd:g}=e,y=lp(e,"recharts-pie-"),S=t.current,[A,E]=C.useState(!1),x=C.useCallback(()=>{typeof g=="function"&&g(),E(!1)},[g]),O=C.useCallback(()=>{typeof p=="function"&&p(),E(!0)},[p]);return C.createElement(L9,{showLabels:!A,sectors:r},C.createElement(op,{animationId:y,begin:l,duration:c,isActive:s,easing:d,onAnimationStart:O,onAnimationEnd:x,key:y},T=>{var P,M=[],_=r&&r[0],L=(P=_?.startAngle)!==null&&P!==void 0?P:0;return r?.forEach((B,F)=>{var X=S&&S[F],q=F>0?Ls(B,"paddingAngle",0):0;if(X){var $=qt(X.endAngle-X.startAngle,B.endAngle-B.startAngle,T),se=Tt(Tt({},B),{},{startAngle:L+q,endAngle:L+$+q});M.push(se),L=se.endAngle}else{var{endAngle:re,startAngle:ce}=B,j=qt(0,re-ce,T),H=Tt(Tt({},B),{},{startAngle:L+q,endAngle:L+j+q});M.push(H),L=H.endAngle}}),t.current=M,C.createElement(Pn,null,C.createElement(P9,{sectors:M,activeShape:f,inactiveShape:h,allOtherPieProps:e,shape:e.shape,id:i}))}),C.createElement(_9,{showLabels:!A,sectors:r,props:e}),e.children)}var R9={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:xn.area};function I9(n){var{id:e}=n,t=Pp(n,p9),{hide:i,className:r,rootTabIndex:s}=n,l=C.useMemo(()=>t1(n.children,ii),[n.children]),c=ye(h=>MV(h,e,l)),d=C.useRef(null),f=Je("recharts-pie",r);return i||c==null?(d.current=null,C.createElement(Pn,{tabIndex:s,className:f})):C.createElement(fr,{zIndex:n.zIndex},C.createElement(S9,{dataKey:n.dataKey,nameKey:n.nameKey,sectors:c,stroke:n.stroke,strokeWidth:n.strokeWidth,fill:n.fill,name:n.name,hide:n.hide,tooltipType:n.tooltipType,id:e}),C.createElement(Pn,{tabIndex:s,className:f},C.createElement(N9,{props:Tt(Tt({},t),{},{sectors:c}),previousSectorsRef:d,id:e})))}function V0(n){var e=bn(n,R9),{id:t}=e,i=Pp(e,m9),r=lr(i);return C.createElement(UN,{id:t,type:"pie"},s=>C.createElement(C.Fragment,null,C.createElement(d9,{type:"pie",id:s,data:i.data,dataKey:i.dataKey,hide:i.hide,angleAxisId:0,radiusAxisId:0,name:i.name,nameKey:i.nameKey,tooltipType:i.tooltipType,legendType:i.legendType,fill:i.fill,cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,paddingAngle:i.paddingAngle,minAngle:i.minAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius,cornerRadius:i.cornerRadius,presentationProps:r,maxRadius:e.maxRadius}),C.createElement(A9,$a({},i,{id:s})),C.createElement(I9,$a({},i,{id:s}))))}V0.displayName="Pie";function b_(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function A_(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?b_(Object(t),!0).forEach(function(i){k9(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):b_(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function k9(n,e,t){return(e=B9(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function B9(n){var e=j9(n,"string");return typeof e=="symbol"?e:e+""}function j9(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var qN=0,z9={xAxis:{},yAxis:{},zAxis:{}},$N=$n({name:"cartesianAxis",initialState:z9,reducers:{addXAxis:{reducer(n,e){n.xAxis[e.payload.id]=e.payload},prepare:vt()},replaceXAxis:{reducer(n,e){var{prev:t,next:i}=e.payload;n.xAxis[t.id]!==void 0&&(t.id!==i.id&&delete n.xAxis[t.id],n.xAxis[i.id]=i)},prepare:vt()},removeXAxis:{reducer(n,e){delete n.xAxis[e.payload.id]},prepare:vt()},addYAxis:{reducer(n,e){n.yAxis[e.payload.id]=e.payload},prepare:vt()},replaceYAxis:{reducer(n,e){var{prev:t,next:i}=e.payload;n.yAxis[t.id]!==void 0&&(t.id!==i.id&&delete n.yAxis[t.id],n.yAxis[i.id]=i)},prepare:vt()},removeYAxis:{reducer(n,e){delete n.yAxis[e.payload.id]},prepare:vt()},addZAxis:{reducer(n,e){n.zAxis[e.payload.id]=e.payload},prepare:vt()},replaceZAxis:{reducer(n,e){var{prev:t,next:i}=e.payload;n.zAxis[t.id]!==void 0&&(t.id!==i.id&&delete n.zAxis[t.id],n.zAxis[i.id]=i)},prepare:vt()},removeZAxis:{reducer(n,e){delete n.zAxis[e.payload.id]},prepare:vt()},updateYAxisWidth(n,e){var{id:t,width:i}=e.payload,r=n.yAxis[t];if(r){var s,l=r.widthHistory||[];if(l.length===3&&l[0]===l[2]&&i===l[1]&&i!==r.width&&Math.abs(i-((s=l[0])!==null&&s!==void 0?s:0))<=1)return;var c=[...l,i].slice(-3);n.yAxis[t]=A_(A_({},r),{},{width:i,widthHistory:c})}}}}),{addXAxis:F9,replaceXAxis:U9,removeXAxis:H9,addYAxis:q9,replaceYAxis:$9,removeYAxis:G9,addZAxis:zW,replaceZAxis:FW,removeZAxis:UW,updateYAxisWidth:V9}=$N.actions,Y9=$N.reducer,X9=Y([Vt],n=>({top:n.top,bottom:n.bottom,left:n.left,right:n.right})),K9=Y([X9,Qr,Jr],(n,e,t)=>{if(!(!n||e==null||t==null))return{x:n.left,y:n.top,width:Math.max(0,e-n.left-n.right),height:Math.max(0,t-n.top-n.bottom)}}),GN=()=>ye(K9),S_=(n,e,t)=>{var i=t??n;if(!nn(i))return wn(i,e,0)},W9=(n,e,t)=>{var i={},r=n.filter(bp),s=n.filter(f=>f.stackId==null),l=r.reduce((f,h)=>{var p=f[h.stackId];return p==null&&(p=[]),p.push(h),f[h.stackId]=p,f},i),c=Object.entries(l).map(f=>{var h,[p,g]=f,y=g.map(A=>A.dataKey),S=S_(e,t,(h=g[0])===null||h===void 0?void 0:h.barSize);return{stackId:p,dataKeys:y,barSize:S}}),d=s.map(f=>{var h=[f.dataKey].filter(g=>g!=null),p=S_(e,t,f.barSize);return{stackId:void 0,dataKeys:h,barSize:p}});return[...c,...d]};function E_(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function yf(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?E_(Object(t),!0).forEach(function(i){Z9(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):E_(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Z9(n,e,t){return(e=Q9(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Q9(n){var e=J9(n,"string");return typeof e=="symbol"?e:e+""}function J9(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function eY(n,e,t,i,r){var s,l=i.length;if(!(l<1)){var c=wn(n,t,0,!0),d,f=[];if(Xe((s=i[0])===null||s===void 0?void 0:s.barSize)){var h=!1,p=t/l,g=i.reduce((O,T)=>O+(T.barSize||0),0);g+=(l-1)*c,g>=t&&(g-=(l-1)*c,c=0),g>=t&&p>0&&(h=!0,p*=.9,g=l*p);var y=(t-g)/2>>0,S={offset:y-c,size:0};d=i.reduce((O,T)=>{var P,M={stackId:T.stackId,dataKeys:T.dataKeys,position:{offset:S.offset+S.size+c,size:h?p:(P=T.barSize)!==null&&P!==void 0?P:0}},_=[...O,M];return S=M.position,_},f)}else{var A=wn(e,t,0,!0);t-2*A-(l-1)*c<=0&&(c=0);var E=(t-2*A-(l-1)*c)/l;E>1&&(E>>=0);var x=Xe(r)?Math.min(E,r):E;d=i.reduce((O,T,P)=>[...O,{stackId:T.stackId,dataKeys:T.dataKeys,position:{offset:A+(E+c)*P+(E-x)/2,size:x}}],f)}return d}}var tY=(n,e,t,i,r,s,l)=>{var c=nn(l)?e:l,d=eY(t,i,r!==s?r:s,n,c);return r!==s&&d!=null&&(d=d.map(f=>yf(yf({},f),{},{position:yf(yf({},f.position),{},{offset:f.position.offset-r/2})}))),d},nY=(n,e)=>{var t=bA(e);if(!(!n||t==null||e==null)){var{stackId:i}=e;if(i!=null){var r=n[i];if(r){var{stackedData:s}=r;if(s)return s.find(l=>l.key===t)}}}},iY=(n,e)=>{if(!(n==null||e==null)){var t=n.find(i=>i.stackId===e.stackId&&e.dataKey!=null&&i.dataKeys.includes(e.dataKey));if(t!=null)return t.position}};function rY(n,e){return n&&typeof n=="object"&&"zIndex"in n&&typeof n.zIndex=="number"&&Xe(n.zIndex)?n.zIndex:e}var VN=n=>{var{chartData:e}=n,t=lt(),i=ci();return C.useEffect(()=>i?()=>{}:(t(PM(e)),()=>{t(PM(void 0))}),[e,t,i]),null},x_={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},YN=$n({name:"brush",initialState:x_,reducers:{setBrushSettings(n,e){return e.payload==null?x_:e.payload}}}),{setBrushSettings:HW}=YN.actions,aY=YN.reducer;function sY(n){return(n%180+180)%180}var oY=function(e){var{width:t,height:i}=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=sY(r),l=s*Math.PI/180,c=Math.atan(i/t),d=l>c&&l<Math.PI-c?i/Math.sin(l):t/Math.cos(l);return Math.abs(d)},lY={dots:[],areas:[],lines:[]},XN=$n({name:"referenceElements",initialState:lY,reducers:{addDot:(n,e)=>{n.dots.push(e.payload)},removeDot:(n,e)=>{var t=Ui(n).dots.findIndex(i=>i===e.payload);t!==-1&&n.dots.splice(t,1)},addArea:(n,e)=>{n.areas.push(e.payload)},removeArea:(n,e)=>{var t=Ui(n).areas.findIndex(i=>i===e.payload);t!==-1&&n.areas.splice(t,1)},addLine:(n,e)=>{n.lines.push(e.payload)},removeLine:(n,e)=>{var t=Ui(n).lines.findIndex(i=>i===e.payload);t!==-1&&n.lines.splice(t,1)}}}),{addDot:qW,removeDot:$W,addArea:GW,removeArea:VW,addLine:YW,removeLine:XW}=XN.actions,cY=XN.reducer,uY=C.createContext(void 0),dY=n=>{var{children:e}=n,[t]=C.useState("".concat(Gc("recharts"),"-clip")),i=GN();if(i==null)return null;var{x:r,y:s,width:l,height:c}=i;return C.createElement(uY.Provider,{value:t},C.createElement("defs",null,C.createElement("clipPath",{id:t},C.createElement("rect",{x:r,y:s,height:c,width:l}))),e)};function KN(n,e){if(e<1)return[];if(e===1)return n;for(var t=[],i=0;i<n.length;i+=e){var r=n[i];r!==void 0&&t.push(r)}return t}function fY(n,e,t){var i={width:n.width+e.width,height:n.height+e.height};return oY(i,t)}function hY(n,e,t){var i=t==="width",{x:r,y:s,width:l,height:c}=n;return e===1?{start:i?r:s,end:i?r+l:s+c}:{start:i?r+l:s+c,end:i?r:s}}function au(n,e,t,i,r){if(n*e<n*i||n*e>n*r)return!1;var s=t();return n*(e-n*s/2-i)>=0&&n*(e+n*s/2-r)<=0}function pY(n,e){return KN(n,e+1)}function mY(n,e,t,i,r){for(var s=(i||[]).slice(),{start:l,end:c}=e,d=0,f=1,h=l,p=function(){var S=i?.[d];if(S===void 0)return{v:KN(i,f)};var A=d,E,x=()=>(E===void 0&&(E=t(S,A)),E),O=S.coordinate,T=d===0||au(n,O,x,h,c);T||(d=0,h=l,f+=1),T&&(h=O+n*(x()/2+r),d+=f)},g;f<=s.length;)if(g=p(),g)return g.v;return[]}function gY(n,e,t,i,r){var s=(i||[]).slice(),l=s.length;if(l===0)return[];for(var{start:c,end:d}=e,f=1;f<=l;f++){for(var h=(l-1)%f,p=c,g=!0,y=function(){var P=i[A];if(P==null)return 0;var M=A,_,L=()=>(_===void 0&&(_=t(P,M)),_),B=P.coordinate,F=A===h||au(n,B,L,p,d);if(!F)return g=!1,1;F&&(p=B+n*(L()/2+r))},S,A=h;A<l&&(S=y(),!(S!==0&&S===1));A+=f);if(g){for(var E=[],x=h;x<l;x+=f){var O=i[x];O!=null&&E.push(O)}return E}}return[]}function w_(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function En(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?w_(Object(t),!0).forEach(function(i){vY(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):w_(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function vY(n,e,t){return(e=yY(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function yY(n){var e=bY(n,"string");return typeof e=="symbol"?e:e+""}function bY(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function AY(n,e,t,i,r){for(var s=(i||[]).slice(),l=s.length,{start:c}=e,{end:d}=e,f=function(g){var y=s[g];if(y==null)return 1;var S=y,A,E=()=>(A===void 0&&(A=t(y,g)),A);if(g===l-1){var x=n*(S.coordinate+n*E()/2-d);s[g]=S=En(En({},S),{},{tickCoord:x>0?S.coordinate-x*n:S.coordinate})}else s[g]=S=En(En({},S),{},{tickCoord:S.coordinate});if(S.tickCoord!=null){var O=au(n,S.tickCoord,E,c,d);O&&(d=S.tickCoord-n*(E()/2+r),s[g]=En(En({},S),{},{isShow:!0}))}},h=l-1;h>=0;h--)f(h);return s}function SY(n,e,t,i,r,s){var l=(i||[]).slice(),c=l.length,{start:d,end:f}=e;if(s){var h=i[c-1];if(h!=null){var p=t(h,c-1),g=n*(h.coordinate+n*p/2-f);if(l[c-1]=h=En(En({},h),{},{tickCoord:g>0?h.coordinate-g*n:h.coordinate}),h.tickCoord!=null){var y=au(n,h.tickCoord,()=>p,d,f);y&&(f=h.tickCoord-n*(p/2+r),l[c-1]=En(En({},h),{},{isShow:!0}))}}}for(var S=s?c-1:c,A=function(O){var T=l[O];if(T==null)return 1;var P=T,M,_=()=>(M===void 0&&(M=t(T,O)),M);if(O===0){var L=n*(P.coordinate-n*_()/2-d);l[O]=P=En(En({},P),{},{tickCoord:L<0?P.coordinate-L*n:P.coordinate})}else l[O]=P=En(En({},P),{},{tickCoord:P.coordinate});if(P.tickCoord!=null){var B=au(n,P.tickCoord,_,d,f);B&&(d=P.tickCoord+n*(_()/2+r),l[O]=En(En({},P),{},{isShow:!0}))}},E=0;E<S;E++)A(E);return l}function EY(n,e,t){var{tick:i,ticks:r,viewBox:s,minTickGap:l,orientation:c,interval:d,tickFormatter:f,unit:h,angle:p}=n;if(!r||!r.length||!i)return[];if(be(d)||sp.isSsr){var g;return(g=pY(r,be(d)?d:0))!==null&&g!==void 0?g:[]}var y=[],S=c==="top"||c==="bottom"?"width":"height",A=h&&S==="width"?jc(h,{fontSize:e,letterSpacing:t}):{width:0,height:0},E=(M,_)=>{var L=typeof f=="function"?f(M.value,_):M.value;return S==="width"?fY(jc(L,{fontSize:e,letterSpacing:t}),A,p):jc(L,{fontSize:e,letterSpacing:t})[S]},x=r[0],O=r[1],T=r.length>=2&&x!=null&&O!=null?yn(O.coordinate-x.coordinate):1,P=hY(s,T,S);return d==="equidistantPreserveStart"?mY(T,P,E,r,l):d==="equidistantPreserveEnd"?gY(T,P,E,r,l):(d==="preserveStart"||d==="preserveStartEnd"?y=SY(T,P,E,r,l,d==="preserveStartEnd"):y=AY(T,P,E,r,l),y.filter(M=>M.isShow))}var xY=n=>{var{ticks:e,label:t,labelGapWithTick:i=5,tickSize:r=0,tickMargin:s=0}=n,l=0;if(e){Array.from(e).forEach(h=>{if(h){var p=h.getBoundingClientRect();p.width>l&&(l=p.width)}});var c=t?t.getBoundingClientRect().width:0,d=r+s,f=l+d+c+(t?i:0);return Math.round(f)}return 0},wY=["axisLine","width","height","className","hide","ticks","axisType"];function CY(n,e){if(n==null)return{};var t,i,r=OY(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function OY(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function zs(){return zs=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},zs.apply(null,arguments)}function C_(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function wt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?C_(Object(t),!0).forEach(function(i){TY(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):C_(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function TY(n,e,t){return(e=MY(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function MY(n){var e=_Y(n,"string");return typeof e=="symbol"?e:e+""}function _Y(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Ms={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:xn.axis};function PY(n){var{x:e,y:t,width:i,height:r,orientation:s,mirror:l,axisLine:c,otherSvgProps:d}=n;if(!c)return null;var f=wt(wt(wt({},d),lr(c)),{},{fill:"none"});if(s==="top"||s==="bottom"){var h=+(s==="top"&&!l||s==="bottom"&&l);f=wt(wt({},f),{},{x1:e,y1:t+h*r,x2:e+i,y2:t+h*r})}else{var p=+(s==="left"&&!l||s==="right"&&l);f=wt(wt({},f),{},{x1:e+p*i,y1:t,x2:e+p*i,y2:t+r})}return C.createElement("line",zs({},f,{className:Je("recharts-cartesian-axis-line",Ls(c,"className"))}))}function DY(n,e,t,i,r,s,l,c,d){var f,h,p,g,y,S,A=c?-1:1,E=n.tickSize||l,x=be(n.tickCoord)?n.tickCoord:n.coordinate;switch(s){case"top":f=h=n.coordinate,g=t+ +!c*r,p=g-A*E,S=p-A*d,y=x;break;case"left":p=g=n.coordinate,h=e+ +!c*i,f=h-A*E,y=f-A*d,S=x;break;case"right":p=g=n.coordinate,h=e+ +c*i,f=h+A*E,y=f+A*d,S=x;break;default:f=h=n.coordinate,g=t+ +c*r,p=g+A*E,S=p+A*d,y=x;break}return{line:{x1:f,y1:p,x2:h,y2:g},tick:{x:y,y:S}}}function LY(n,e){switch(n){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function NY(n,e){switch(n){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function RY(n){var{option:e,tickProps:t,value:i}=n,r,s=Je(t.className,"recharts-cartesian-axis-tick-value");if(C.isValidElement(e))r=C.cloneElement(e,wt(wt({},t),{},{className:s}));else if(typeof e=="function")r=e(wt(wt({},t),{},{className:s}));else{var l="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(l=Je(l,kN(e))),r=C.createElement(Tp,zs({},t,{className:l}),i)}return r}var IY=C.forwardRef((n,e)=>{var{ticks:t=[],tick:i,tickLine:r,stroke:s,tickFormatter:l,unit:c,padding:d,tickTextProps:f,orientation:h,mirror:p,x:g,y,width:S,height:A,tickSize:E,tickMargin:x,fontSize:O,letterSpacing:T,getTicksConfig:P,events:M,axisType:_}=n,L=EY(wt(wt({},P),{},{ticks:t}),O,T),B=LY(h,p),F=NY(h,p),X=lr(P),q=$c(i),$={};typeof r=="object"&&($=r);var se=wt(wt({},X),{},{fill:"none"},$),re=L.map(H=>wt({entry:H},DY(H,g,y,S,A,h,E,p,x))),ce=re.map(H=>{var{entry:ie,line:le}=H;return C.createElement(Pn,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(ie.value,"-").concat(ie.coordinate,"-").concat(ie.tickCoord)},r&&C.createElement("line",zs({},se,le,{className:Je("recharts-cartesian-axis-tick-line",Ls(r,"className"))})))}),j=re.map((H,ie)=>{var le,pe,{entry:I,tick:K}=H,ne=wt(wt(wt(wt({verticalAnchor:F},X),{},{textAnchor:B,stroke:"none",fill:s},K),{},{index:ie,payload:I,visibleTicksCount:L.length,tickFormatter:l,padding:d},f),{},{angle:(le=(pe=f?.angle)!==null&&pe!==void 0?pe:X.angle)!==null&&le!==void 0?le:0}),oe=wt(wt({},ne),q);return C.createElement(Pn,zs({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(I.value,"-").concat(I.coordinate,"-").concat(I.tickCoord)},fu(M,I,ie)),i&&C.createElement(RY,{option:i,tickProps:oe,value:"".concat(typeof l=="function"?l(I.value,ie):I.value).concat(c||"")}))});return C.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(_,"-ticks")},j.length>0&&C.createElement(fr,{zIndex:xn.label},C.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(_,"-tick-labels"),ref:e},j)),ce.length>0&&C.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(_,"-tick-lines")},ce))}),kY=C.forwardRef((n,e)=>{var{axisLine:t,width:i,height:r,className:s,hide:l,ticks:c,axisType:d}=n,f=CY(n,wY),[h,p]=C.useState(""),[g,y]=C.useState(""),S=C.useRef(null);C.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var E;return xY({ticks:S.current,label:(E=n.labelRef)===null||E===void 0?void 0:E.current,labelGapWithTick:5,tickSize:n.tickSize,tickMargin:n.tickMargin})}}));var A=C.useCallback(E=>{if(E){var x=E.getElementsByClassName("recharts-cartesian-axis-tick-value");S.current=x;var O=x[0];if(O){var T=window.getComputedStyle(O),P=T.fontSize,M=T.letterSpacing;(P!==h||M!==g)&&(p(P),y(M))}}},[h,g]);return l||i!=null&&i<=0||r!=null&&r<=0?null:C.createElement(fr,{zIndex:n.zIndex},C.createElement(Pn,{className:Je("recharts-cartesian-axis",s)},C.createElement(PY,{x:n.x,y:n.y,width:i,height:r,orientation:n.orientation,mirror:n.mirror,axisLine:t,otherSvgProps:lr(n)}),C.createElement(IY,{ref:A,axisType:d,events:f,fontSize:h,getTicksConfig:n,height:n.height,letterSpacing:g,mirror:n.mirror,orientation:n.orientation,padding:n.padding,stroke:n.stroke,tick:n.tick,tickFormatter:n.tickFormatter,tickLine:n.tickLine,tickMargin:n.tickMargin,tickSize:n.tickSize,tickTextProps:n.tickTextProps,ticks:c,unit:n.unit,width:n.width,x:n.x,y:n.y}),C.createElement(HG,{x:n.x,y:n.y,width:n.width,height:n.height,lowerWidth:n.width,upperWidth:n.width},C.createElement(QG,{label:n.label,labelRef:n.labelRef}),n.children)))}),a1=C.forwardRef((n,e)=>{var t=bn(n,Ms);return C.createElement(kY,zs({},t,{ref:e}))});a1.displayName="CartesianAxis";var BY={},WN=$n({name:"errorBars",initialState:BY,reducers:{addErrorBar:(n,e)=>{var{itemId:t,errorBar:i}=e.payload;n[t]||(n[t]=[]),n[t].push(i)},replaceErrorBar:(n,e)=>{var{itemId:t,prev:i,next:r}=e.payload;n[t]&&(n[t]=n[t].map(s=>s.dataKey===i.dataKey&&s.direction===i.direction?r:s))},removeErrorBar:(n,e)=>{var{itemId:t,errorBar:i}=e.payload;n[t]&&(n[t]=n[t].filter(r=>r.dataKey!==i.dataKey||r.direction!==i.direction))}}}),{addErrorBar:KW,replaceErrorBar:WW,removeErrorBar:ZW}=WN.actions,jY=WN.reducer,zY=["children"];function FY(n,e){if(n==null)return{};var t,i,r=UY(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function UY(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var HY={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},qY=C.createContext(HY);function $Y(n){var{children:e}=n,t=FY(n,zY);return C.createElement(qY.Provider,{value:t},e)}function ZN(n,e){var t,i,r=ye(f=>na(f,n)),s=ye(f=>ia(f,e)),l=(t=r?.allowDataOverflow)!==null&&t!==void 0?t:Jt.allowDataOverflow,c=(i=s?.allowDataOverflow)!==null&&i!==void 0?i:en.allowDataOverflow,d=l||c;return{needClip:d,needClipX:l,needClipY:c}}function GY(n){var{xAxisId:e,yAxisId:t,clipPathId:i}=n,r=GN(),{needClipX:s,needClipY:l,needClip:c}=ZN(e,t);if(!c||!r)return null;var{x:d,y:f,width:h,height:p}=r;return C.createElement("clipPath",{id:"clipPath-".concat(i)},C.createElement("rect",{x:s?d:d-h/2,y:l?f:f-p/2,width:s?h:h*2,height:l?p:p*2}))}var ky={exports:{}},By={};var O_;function VY(){if(O_)return By;O_=1;var n=cl();function e(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var t=typeof Object.is=="function"?Object.is:e,i=n.useSyncExternalStore,r=n.useRef,s=n.useEffect,l=n.useMemo,c=n.useDebugValue;return By.useSyncExternalStoreWithSelector=function(d,f,h,p,g){var y=r(null);if(y.current===null){var S={hasValue:!1,value:null};y.current=S}else S=y.current;y=l(function(){function E(M){if(!x){if(x=!0,O=M,M=p(M),g!==void 0&&S.hasValue){var _=S.value;if(g(_,M))return T=_}return T=M}if(_=T,t(O,M))return _;var L=p(M);return g!==void 0&&g(_,L)?(O=M,_):(O=M,T=L)}var x=!1,O,T,P=h===void 0?null:h;return[function(){return E(f())},P===null?void 0:function(){return E(P())}]},[f,h,p,g]);var A=i(d,y[0],y[1]);return s(function(){S.hasValue=!0,S.value=A},[A]),c(A),A},By}var T_;function YY(){return T_||(T_=1,ky.exports=VY()),ky.exports}YY();function XY(n){n()}function KY(){let n=null,e=null;return{clear(){n=null,e=null},notify(){XY(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){const t=[];let i=n;for(;i;)t.push(i),i=i.next;return t},subscribe(t){let i=!0;const r=e={callback:t,next:null,prev:e};return r.prev?r.prev.next=r:n=r,function(){!i||n===null||(i=!1,r.next?r.next.prev=r.prev:e=r.prev,r.prev?r.prev.next=r.next:n=r.next)}}}}var M_={notify(){},get:()=>[]};function WY(n,e){let t,i=M_,r=0,s=!1;function l(A){h();const E=i.subscribe(A);let x=!1;return()=>{x||(x=!0,E(),p())}}function c(){i.notify()}function d(){S.onStateChange&&S.onStateChange()}function f(){return s}function h(){r++,t||(t=n.subscribe(d),i=KY())}function p(){r--,t&&r===0&&(t(),t=void 0,i.clear(),i=M_)}function g(){s||(s=!0,h())}function y(){s&&(s=!1,p())}const S={addNestedSub:l,notifyNestedSubs:c,handleChangeWrapper:d,isSubscribed:f,trySubscribe:g,tryUnsubscribe:y,getListeners:()=>i};return S}var ZY=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",QY=ZY(),JY=()=>typeof navigator<"u"&&navigator.product==="ReactNative",eX=JY(),tX=()=>QY||eX?C.useLayoutEffect:C.useEffect,nX=tX();function __(n,e){return n===e?n!==0||e!==0||1/n===1/e:n!==n&&e!==e}function iX(n,e){if(__(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;const t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(!Object.prototype.hasOwnProperty.call(e,t[r])||!__(n[t[r]],e[t[r]]))return!1;return!0}var rX=Symbol.for("react-redux-context"),aX=typeof globalThis<"u"?globalThis:{};function sX(){if(!C.createContext)return{};const n=aX[rX]??=new Map;let e=n.get(C.createContext);return e||(e=C.createContext(null),n.set(C.createContext,e)),e}var oX=sX();function lX(n){const{children:e,context:t,serverState:i,store:r}=n,s=C.useMemo(()=>{const d=WY(r);return{store:r,subscription:d,getServerState:i?()=>i:void 0}},[r,i]),l=C.useMemo(()=>r.getState(),[r]);nX(()=>{const{subscription:d}=s;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==r.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[s,l]);const c=t||oX;return C.createElement(c.Provider,{value:s},e)}var cX=lX,uX=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function dX(n,e){return n==null&&e==null?!0:typeof n=="number"&&typeof e=="number"?n===e||n!==n&&e!==e:n===e}function s1(n,e){var t=new Set([...Object.keys(n),...Object.keys(e)]);for(var i of t)if(uX.has(i)){if(n[i]==null&&e[i]==null)continue;if(!iX(n[i],e[i]))return!1}else if(!dX(n[i],e[i]))return!1;return!0}function $s(n,e){var t,i;return(t=(i=n.graphicalItems.cartesianItems.find(r=>r.id===e))===null||i===void 0?void 0:i.xAxisId)!==null&&t!==void 0?t:qN}function Gs(n,e){var t,i;return(t=(i=n.graphicalItems.cartesianItems.find(r=>r.id===e))===null||i===void 0?void 0:i.yAxisId)!==null&&t!==void 0?t:qN}var fX="Invariant failed";function hX(n,e){throw new Error(fX)}function Y0(){return Y0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Y0.apply(null,arguments)}function Sh(n){return C.createElement(zN,Y0({shapeType:"rectangle",activeClassName:"recharts-active-bar"},n))}var pX=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(i,r)=>{if(be(e))return e;var s=be(i)||nn(i);return s?e(i,r):(s||hX(),t)}},mX=(n,e,t)=>t,gX=(n,e)=>e,_u=Y([EA,gX],(n,e)=>n.filter(t=>t.type==="bar").find(t=>t.id===e)),vX=Y([_u],n=>n?.maxBarSize),yX=(n,e,t,i)=>i,bX=Y([Ke,EA,$s,Gs,mX],(n,e,t,i,r)=>e.filter(s=>n==="horizontal"?s.xAxisId===t:s.yAxisId===i).filter(s=>s.isPanorama===r).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),AX=(n,e,t)=>{var i=Ke(n),r=$s(n,e),s=Gs(n,e);if(!(r==null||s==null))return i==="horizontal"?F0(n,"yAxis",s,t):F0(n,"xAxis",r,t)},SX=(n,e)=>{var t=Ke(n),i=$s(n,e),r=Gs(n,e);if(!(i==null||r==null))return t==="horizontal"?yM(n,"xAxis",i):yM(n,"yAxis",r)},EX=Y([bX,B8,SX],W9),xX=(n,e,t)=>{var i,r,s=_u(n,e);if(s==null)return 0;var l=$s(n,e),c=Gs(n,e);if(l==null||c==null)return 0;var d=Ke(n),f=cL(n),{maxBarSize:h}=s,p=nn(h)?f:h,g,y;return d==="horizontal"?(g=ll(n,"xAxis",l,t),y=ol(n,"xAxis",l,t)):(g=ll(n,"yAxis",c,t),y=ol(n,"yAxis",c,t)),(i=(r=Xf(g,y,!0))!==null&&r!==void 0?r:p)!==null&&i!==void 0?i:0},QN=(n,e,t)=>{var i=Ke(n),r=$s(n,e),s=Gs(n,e);if(!(r==null||s==null)){var l,c;return i==="horizontal"?(l=ll(n,"xAxis",r,t),c=ol(n,"xAxis",r,t)):(l=ll(n,"yAxis",s,t),c=ol(n,"yAxis",s,t)),Xf(l,c)}},wX=Y([EX,cL,k8,uL,xX,QN,vX],tY),CX=(n,e,t)=>{var i=$s(n,e);if(i!=null)return ll(n,"xAxis",i,t)},OX=(n,e,t)=>{var i=Gs(n,e);if(i!=null)return ll(n,"yAxis",i,t)},TX=(n,e,t)=>{var i=$s(n,e);if(i!=null)return ol(n,"xAxis",i,t)},MX=(n,e,t)=>{var i=Gs(n,e);if(i!=null)return ol(n,"yAxis",i,t)},_X=Y([wX,_u],iY),PX=Y([AX,_u],nY),DX=Y([Vt,kb,CX,OX,TX,MX,_X,Ke,M8,QN,PX,_u,yX],(n,e,t,i,r,s,l,c,d,f,h,p,g)=>{var{chartData:y,dataStartIndex:S,dataEndIndex:A}=d;if(!(p==null||l==null||e==null||c!=="horizontal"&&c!=="vertical"||t==null||i==null||r==null||s==null||f==null)){var{data:E}=p,x;if(E!=null&&E.length>0?x=E:x=y?.slice(S,A+1),x!=null)return aK({layout:c,barSettings:p,pos:l,parentViewBox:e,bandSize:f,xAxis:t,yAxis:i,xAxisTicks:r,yAxisTicks:s,stackedData:h,displayedData:x,offset:n,cells:g,dataStartIndex:S})}}),LX=["index"];function X0(){return X0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},X0.apply(null,arguments)}function NX(n,e){if(n==null)return{};var t,i,r=RX(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function RX(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var JN=C.createContext(void 0),IX=n=>{var e=C.useContext(JN);if(e!=null)return e.stackId;if(n!=null)return S4(n)},kX=(n,e)=>"recharts-bar-stack-clip-path-".concat(n,"-").concat(e),BX=n=>{var e=C.useContext(JN);if(e!=null){var{stackId:t}=e;return"url(#".concat(kX(t,n),")")}},eR=n=>{var{index:e}=n,t=NX(n,LX),i=BX(e);return C.createElement(Pn,X0({className:"recharts-bar-stack-layer",clipPath:i},t))},jX=["onMouseEnter","onMouseLeave","onClick"],zX=["value","background","tooltipPosition"],FX=["id"],UX=["onMouseEnter","onClick","onMouseLeave"];function Wr(){return Wr=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Wr.apply(null,arguments)}function P_(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Tn(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?P_(Object(t),!0).forEach(function(i){HX(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):P_(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function HX(n,e,t){return(e=qX(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function qX(n){var e=$X(n,"string");return typeof e=="symbol"?e:e+""}function $X(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Eh(n,e){if(n==null)return{};var t,i,r=GX(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function GX(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var VX=n=>{var{dataKey:e,name:t,fill:i,legendType:r,hide:s}=n;return[{inactive:s,dataKey:e,type:r,color:i,value:Zh(t,e),payload:n}]},YX=C.memo(n=>{var{dataKey:e,stroke:t,strokeWidth:i,fill:r,name:s,hide:l,unit:c,tooltipType:d,id:f}=n,h={dataDefinedOnItem:void 0,getPosition:ul,settings:{stroke:t,strokeWidth:i,fill:r,dataKey:e,nameKey:void 0,name:Zh(s,e),hide:l,type:d,color:r,unit:c,graphicalItemId:f}};return C.createElement(FN,{tooltipEntrySettings:h})});function XX(n){var e=ye(js),{data:t,dataKey:i,background:r,allOtherBarProps:s}=n,{onMouseEnter:l,onMouseLeave:c,onClick:d}=s,f=Eh(s,jX),h=n1(l,i,s.id),p=i1(c),g=r1(d,i,s.id);if(!r||t==null)return null;var y=$c(r);return C.createElement(fr,{zIndex:rY(r,xn.barBackground)},t.map((S,A)=>{var{value:E,background:x,tooltipPosition:O}=S,T=Eh(S,zX);if(!x)return null;var P=h(S,A),M=p(S,A),_=g(S,A),L=Tn(Tn(Tn(Tn(Tn({option:r,isActive:String(A)===e},T),{},{fill:"#eee"},x),y),fu(f,S,A)),{},{onMouseEnter:P,onMouseLeave:M,onClick:_,dataKey:i,index:A,className:"recharts-bar-background-rectangle"});return C.createElement(Sh,Wr({key:"background-bar-".concat(A)},L))}))}function KX(n){var{showLabels:e,children:t,rects:i}=n,r=i?.map(s=>{var l={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return Tn(Tn({},l),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:l,fill:s.fill})});return C.createElement(cV,{value:e?r:void 0},t)}function WX(n){var{shape:e,activeBar:t,baseProps:i,entry:r,index:s,dataKey:l}=n,c=ye(js),d=ye(YA),f=t&&String(s)===c&&(d==null||l===d),h=f?t:e;return f?C.createElement(fr,{zIndex:xn.activeBar},C.createElement(eR,{index:s},C.createElement(Sh,Wr({},i,{name:String(i.name)},r,{isActive:f,option:h,index:s,dataKey:l})))):C.createElement(Sh,Wr({},i,{name:String(i.name)},r,{isActive:f,option:h,index:s,dataKey:l}))}function ZX(n){var{shape:e,baseProps:t,entry:i,index:r,dataKey:s}=n;return C.createElement(Sh,Wr({},t,{name:String(t.name)},i,{isActive:!1,option:e,index:r,dataKey:s}))}function QX(n){var e,{data:t,props:i}=n,r=(e=lr(i))!==null&&e!==void 0?e:{},{id:s}=r,l=Eh(r,FX),{shape:c,dataKey:d,activeBar:f}=i,{onMouseEnter:h,onClick:p,onMouseLeave:g}=i,y=Eh(i,UX),S=n1(h,d,s),A=i1(g),E=r1(p,d,s);return t?C.createElement(C.Fragment,null,t.map((x,O)=>C.createElement(eR,Wr({index:O,key:"rectangle-".concat(x?.x,"-").concat(x?.y,"-").concat(x?.value,"-").concat(O),className:"recharts-bar-rectangle"},fu(y,x,O),{onMouseEnter:S(x,O),onMouseLeave:A(x,O),onClick:E(x,O)}),f?C.createElement(WX,{shape:c,activeBar:f,baseProps:l,entry:x,index:O,dataKey:d}):C.createElement(ZX,{shape:c,baseProps:l,entry:x,index:O,dataKey:d})))):null}function JX(n){var{props:e,previousRectanglesRef:t}=n,{data:i,layout:r,isAnimationActive:s,animationBegin:l,animationDuration:c,animationEasing:d,onAnimationEnd:f,onAnimationStart:h}=e,p=t.current,g=lp(e,"recharts-bar-"),[y,S]=C.useState(!1),A=!y,E=C.useCallback(()=>{typeof f=="function"&&f(),S(!1)},[f]),x=C.useCallback(()=>{typeof h=="function"&&h(),S(!0)},[h]);return C.createElement(KX,{showLabels:A,rects:i},C.createElement(op,{animationId:g,begin:l,duration:c,isActive:s,easing:d,onAnimationEnd:E,onAnimationStart:x,key:g},O=>{var T=O===1?i:i?.map((P,M)=>{var _=p&&p[M];if(_)return Tn(Tn({},P),{},{x:qt(_.x,P.x,O),y:qt(_.y,P.y,O),width:qt(_.width,P.width,O),height:qt(_.height,P.height,O)});if(r==="horizontal"){var L=qt(0,P.height,O),B=qt(P.stackedBarStart,P.y,O);return Tn(Tn({},P),{},{y:B,height:L})}var F=qt(0,P.width,O),X=qt(P.stackedBarStart,P.x,O);return Tn(Tn({},P),{},{width:F,x:X})});return O>0&&(t.current=T??null),T==null?null:C.createElement(Pn,null,C.createElement(QX,{props:e,data:T}))}),C.createElement(LN,{label:e.label}),e.children)}function eK(n){var e=C.useRef(null);return C.createElement(JX,{previousRectanglesRef:e,props:n})}var tR=0,tK=(n,e)=>{var t=Array.isArray(n.value)?n.value[1]:n.value;return{x:n.x,y:n.y,value:t,errorVal:ht(n,e)}};class nK extends C.PureComponent{render(){var{hide:e,data:t,dataKey:i,className:r,xAxisId:s,yAxisId:l,needClip:c,background:d,id:f}=this.props;if(e||t==null)return null;var h=Je("recharts-bar",r),p=f;return C.createElement(Pn,{className:h,id:f},c&&C.createElement("defs",null,C.createElement(GY,{clipPathId:p,xAxisId:s,yAxisId:l})),C.createElement(Pn,{className:"recharts-bar-rectangles",clipPath:c?"url(#clipPath-".concat(p,")"):void 0},C.createElement(XX,{data:t,dataKey:i,background:d,allOtherBarProps:this.props}),C.createElement(eK,this.props)))}}var iK={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:tR,xAxisId:0,yAxisId:0,zIndex:xn.bar};function rK(n){var{xAxisId:e,yAxisId:t,hide:i,legendType:r,minPointSize:s,activeBar:l,animationBegin:c,animationDuration:d,animationEasing:f,isAnimationActive:h}=n,{needClip:p}=ZN(e,t),g=dl(),y=ci(),S=t1(n.children,ii),A=ye(O=>DX(O,n.id,y,S));if(g!=="vertical"&&g!=="horizontal")return null;var E,x=A?.[0];return x==null||x.height==null||x.width==null?E=0:E=g==="vertical"?x.height/2:x.width/2,C.createElement($Y,{xAxisId:e,yAxisId:t,data:A,dataPointFormatter:tK,errorBarOffset:E},C.createElement(nK,Wr({},n,{layout:g,needClip:p,data:A,xAxisId:e,yAxisId:t,hide:i,legendType:r,minPointSize:s,activeBar:l,animationBegin:c,animationDuration:d,animationEasing:f,isAnimationActive:h})))}function aK(n){var{layout:e,barSettings:{dataKey:t,minPointSize:i},pos:r,bandSize:s,xAxis:l,yAxis:c,xAxisTicks:d,yAxisTicks:f,stackedData:h,displayedData:p,offset:g,cells:y,parentViewBox:S,dataStartIndex:A}=n,E=e==="horizontal"?c:l,x=h?E.scale.domain():null,O=E4({numericAxis:E}),T=E.scale.map(O);return p.map((P,M)=>{var _,L,B,F,X,q;if(h){var $=h[M+A];if($==null)return null;_=g4($,x)}else _=ht(P,t),Array.isArray(_)||(_=[O,_]);var se=pX(i,tR)(_[1],M);if(e==="horizontal"){var re,ce=c.scale.map(_[0]),j=c.scale.map(_[1]);if(ce==null||j==null)return null;L=gO({axis:l,ticks:d,bandSize:s,offset:r.offset,entry:P,index:M}),B=(re=j??ce)!==null&&re!==void 0?re:void 0,F=r.size;var H=ce-j;if(X=cr(H)?0:H,q={x:L,y:g.top,width:F,height:g.height},Math.abs(se)>0&&Math.abs(X)<Math.abs(se)){var ie=yn(X||se)*(Math.abs(se)-Math.abs(X));B-=ie,X+=ie}}else{var le=l.scale.map(_[0]),pe=l.scale.map(_[1]);if(le==null||pe==null)return null;if(L=le,B=gO({axis:c,ticks:f,bandSize:s,offset:r.offset,entry:P,index:M}),F=pe-le,X=r.size,q={x:g.left,y:B,width:g.width,height:X},Math.abs(se)>0&&Math.abs(F)<Math.abs(se)){var I=yn(F||se)*(Math.abs(se)-Math.abs(F));F+=I}}if(L==null||B==null||F==null||X==null)return null;var K=Tn(Tn({},P),{},{stackedBarStart:T,x:L,y:B,width:F,height:X,value:h?_:_[1],payload:P,background:q,tooltipPosition:{x:L+F/2,y:B+X/2},parentViewBox:S},y&&y[M]&&y[M].props);return K}).filter(Boolean)}function sK(n){var e=bn(n,iK),t=IX(e.stackId),i=ci();return C.createElement(UN,{id:e.id,type:"bar"},r=>C.createElement(C.Fragment,null,C.createElement(WV,{legendPayload:VX(e)}),C.createElement(YX,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),C.createElement(u9,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:t,hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:i}),C.createElement(fr,{zIndex:e.zIndex},C.createElement(rK,Wr({},e,{id:r})))))}var Pa=C.memo(sK,s1);Pa.displayName="Bar";var oK=["domain","range"],lK=["domain","range"];function D_(n,e){if(n==null)return{};var t,i,r=cK(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function cK(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function L_(n,e){return n===e?!0:Array.isArray(n)&&n.length===2&&Array.isArray(e)&&e.length===2?n[0]===e[0]&&n[1]===e[1]:!1}function nR(n,e){if(n===e)return!0;var{domain:t,range:i}=n,r=D_(n,oK),{domain:s,range:l}=e,c=D_(e,lK);return!L_(t,s)||!L_(i,l)?!1:s1(r,c)}var uK=["type"],dK=["dangerouslySetInnerHTML","ticks","scale"],fK=["id","scale"];function K0(){return K0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},K0.apply(null,arguments)}function N_(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function R_(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?N_(Object(t),!0).forEach(function(i){hK(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):N_(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function hK(n,e,t){return(e=pK(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function pK(n){var e=mK(n,"string");return typeof e=="symbol"?e:e+""}function mK(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function W0(n,e){if(n==null)return{};var t,i,r=gK(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function gK(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function vK(n){var e=lt(),t=C.useRef(null),i=KP(),{type:r}=n,s=W0(n,uK),l=vp(i,"xAxis",r),c=C.useMemo(()=>{if(l!=null)return R_(R_({},s),{},{type:l})},[s,l]);return C.useLayoutEffect(()=>{c!=null&&(t.current===null?e(F9(c)):t.current!==c&&e(U9({prev:t.current,next:c})),t.current=c)},[c,e]),C.useLayoutEffect(()=>()=>{t.current&&(e(H9(t.current)),t.current=null)},[e]),null}var yK=n=>{var{xAxisId:e,className:t}=n,i=ye(kb),r=ci(),s="xAxis",l=ye(x=>qL(x,s,e,r)),c=ye(x=>zL(x,e)),d=ye(x=>B7(x,e)),f=ye(x=>AL(x,e));if(c==null||d==null||f==null)return null;var{dangerouslySetInnerHTML:h,ticks:p,scale:g}=n,y=W0(n,dK),{id:S,scale:A}=f,E=W0(f,fK);return C.createElement(a1,K0({},y,E,{x:d.x,y:d.y,width:c.width,height:c.height,className:Je("recharts-".concat(s," ").concat(s),t),viewBox:i,ticks:l,axisType:s}))},bK={allowDataOverflow:Jt.allowDataOverflow,allowDecimals:Jt.allowDecimals,allowDuplicatedCategory:Jt.allowDuplicatedCategory,angle:Jt.angle,axisLine:Ms.axisLine,height:Jt.height,hide:!1,includeHidden:Jt.includeHidden,interval:Jt.interval,label:!1,minTickGap:Jt.minTickGap,mirror:Jt.mirror,orientation:Jt.orientation,padding:Jt.padding,reversed:Jt.reversed,scale:Jt.scale,tick:Jt.tick,tickCount:Jt.tickCount,tickLine:Ms.tickLine,tickSize:Ms.tickSize,type:Jt.type,xAxisId:0},AK=n=>{var e=bn(n,bK);return C.createElement(C.Fragment,null,C.createElement(vK,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),C.createElement(yK,e))},Da=C.memo(AK,nR);Da.displayName="XAxis";var SK=["type"],EK=["dangerouslySetInnerHTML","ticks","scale"],xK=["id","scale"];function Z0(){return Z0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Z0.apply(null,arguments)}function I_(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function k_(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?I_(Object(t),!0).forEach(function(i){wK(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):I_(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function wK(n,e,t){return(e=CK(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function CK(n){var e=OK(n,"string");return typeof e=="symbol"?e:e+""}function OK(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Q0(n,e){if(n==null)return{};var t,i,r=TK(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function TK(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function MK(n){var e=lt(),t=C.useRef(null),i=KP(),{type:r}=n,s=Q0(n,SK),l=vp(i,"yAxis",r),c=C.useMemo(()=>{if(l!=null)return k_(k_({},s),{},{type:l})},[l,s]);return C.useLayoutEffect(()=>{c!=null&&(t.current===null?e(q9(c)):t.current!==c&&e($9({prev:t.current,next:c})),t.current=c)},[c,e]),C.useLayoutEffect(()=>()=>{t.current&&(e(G9(t.current)),t.current=null)},[e]),null}function _K(n){var{yAxisId:e,className:t,width:i,label:r}=n,s=C.useRef(null),l=C.useRef(null),c=ye(kb),d=ci(),f=lt(),h="yAxis",p=ye(_=>FL(_,e)),g=ye(_=>z7(_,e)),y=ye(_=>qL(_,h,e,d)),S=ye(_=>SL(_,e));if(C.useLayoutEffect(()=>{if(!(i!=="auto"||!p||QA(r)||C.isValidElement(r)||S==null)){var _=s.current;if(_){var L=_.getCalculatedWidth();Math.round(p.width)!==Math.round(L)&&f(V9({id:e,width:L}))}}},[y,p,f,r,e,i,S]),p==null||g==null||S==null)return null;var{dangerouslySetInnerHTML:A,ticks:E,scale:x}=n,O=Q0(n,EK),{id:T,scale:P}=S,M=Q0(S,xK);return C.createElement(a1,Z0({},O,M,{ref:s,labelRef:l,x:g.x,y:g.y,tickTextProps:i==="auto"?{width:void 0}:{width:i},width:p.width,height:p.height,className:Je("recharts-".concat(h," ").concat(h),t),viewBox:c,ticks:y,axisType:h}))}var PK={allowDataOverflow:en.allowDataOverflow,allowDecimals:en.allowDecimals,allowDuplicatedCategory:en.allowDuplicatedCategory,angle:en.angle,axisLine:Ms.axisLine,hide:!1,includeHidden:en.includeHidden,interval:en.interval,label:!1,minTickGap:en.minTickGap,mirror:en.mirror,orientation:en.orientation,padding:en.padding,reversed:en.reversed,scale:en.scale,tick:en.tick,tickCount:en.tickCount,tickLine:Ms.tickLine,tickSize:Ms.tickSize,type:en.type,width:en.width,yAxisId:0},DK=n=>{var e=bn(n,PK);return C.createElement(C.Fragment,null,C.createElement(MK,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),C.createElement(_K,e))},La=C.memo(DK,nR);La.displayName="YAxis";var LK=(n,e)=>e,o1=Y([LK,Ke,vL,an,sN,ra,e$,Vt],o$),l1=n=>{var e=n.currentTarget.getBoundingClientRect(),t=e.width/n.currentTarget.offsetWidth,i=e.height/n.currentTarget.offsetHeight;return{chartX:Math.round((n.clientX-e.left)/t),chartY:Math.round((n.clientY-e.top)/i)}},iR=Di("mouseClick"),rR=pu();rR.startListening({actionCreator:iR,effect:(n,e)=>{var t=n.payload,i=o1(e.getState(),l1(t));i?.activeIndex!=null&&e.dispatch(J7({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}});var J0=Di("mouseMove"),aR=pu(),bf=null;aR.startListening({actionCreator:J0,effect:(n,e)=>{var t=n.payload;bf!==null&&cancelAnimationFrame(bf);var i=l1(t);bf=requestAnimationFrame(()=>{var r=e.getState(),s=UA(r,r.tooltip.settings.shared);if(s==="axis"){var l=o1(r,i);l?.activeIndex!=null?e.dispatch(ZL({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):e.dispatch(WL())}bf=null})}});function NK(n,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":n==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var B_={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},sR=$n({name:"rootProps",initialState:B_,reducers:{updateOptions:(n,e)=>{var t;n.accessibilityLayer=e.payload.accessibilityLayer,n.barCategoryGap=e.payload.barCategoryGap,n.barGap=(t=e.payload.barGap)!==null&&t!==void 0?t:B_.barGap,n.barSize=e.payload.barSize,n.maxBarSize=e.payload.maxBarSize,n.stackOffset=e.payload.stackOffset,n.syncId=e.payload.syncId,n.syncMethod=e.payload.syncMethod,n.className=e.payload.className,n.baseValue=e.payload.baseValue,n.reverseStackOrder=e.payload.reverseStackOrder}}}),RK=sR.reducer,{updateOptions:IK}=sR.actions,kK=null,BK={updatePolarOptions:(n,e)=>e.payload},oR=$n({name:"polarOptions",initialState:kK,reducers:BK}),{updatePolarOptions:jK}=oR.actions,zK=oR.reducer,lR=Di("keyDown"),cR=Di("focus"),c1=pu();c1.startListening({actionCreator:lR,effect:(n,e)=>{var t=e.getState(),i=t.rootProps.accessibilityLayer!==!1;if(i){var{keyboardInteraction:r}=t.tooltip,s=n.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var l=HA(r,Al(t),Cu(t),Tu(t)),c=l==null?-1:Number(l);if(!(!Number.isFinite(c)||c<0)){var d=ra(t);if(s==="Enter"){var f=vh(t,"axis","hover",String(r.index));e.dispatch(H0({active:!r.active,activeIndex:r.index,activeCoordinate:f}));return}var h=q7(t),p=h==="left-to-right"?1:-1,g=s==="ArrowRight"?1:-1,y=c+g*p;if(!(d==null||y>=d.length||y<0)){var S=vh(t,"axis","hover",String(y));e.dispatch(H0({active:!0,activeIndex:y.toString(),activeCoordinate:S}))}}}}}});c1.startListening({actionCreator:cR,effect:(n,e)=>{var t=e.getState(),i=t.rootProps.accessibilityLayer!==!1;if(i){var{keyboardInteraction:r}=t.tooltip;if(!r.active&&r.index==null){var s="0",l=vh(t,"axis","hover",String(s));e.dispatch(H0({active:!0,activeIndex:s,activeCoordinate:l}))}}}});var Ci=Di("externalEvent"),uR=pu(),jy=new Map;uR.startListening({actionCreator:Ci,effect:(n,e)=>{var{handler:t,reactEvent:i}=n.payload;if(t!=null){i.persist();var r=i.type,s=jy.get(r);s!==void 0&&cancelAnimationFrame(s);var l=requestAnimationFrame(()=>{try{var c=e.getState(),d={activeCoordinate:zq(c),activeDataKey:YA(c),activeIndex:js(c),activeLabel:cN(c),activeTooltipIndex:js(c),isTooltipActive:Fq(c)};t(d,i)}finally{jy.delete(r)}});jy.set(r,l)}}});var FK=Y([yl],n=>n.tooltipItemPayloads),UK=Y([FK,(n,e)=>e,(n,e,t)=>t],(n,e,t)=>{if(e!=null){var i=n.find(s=>s.settings.graphicalItemId===t);if(i!=null){var{getPosition:r}=i;if(r!=null)return r(e)}}}),dR=Di("touchMove"),fR=pu();fR.startListening({actionCreator:dR,effect:(n,e)=>{var t=n.payload;if(!(t.touches==null||t.touches.length===0)){var i=e.getState(),r=UA(i,i.tooltip.settings.shared);if(r==="axis"){var s=t.touches[0];if(s==null)return;var l=o1(i,l1({clientX:s.clientX,clientY:s.clientY,currentTarget:t.currentTarget}));l?.activeIndex!=null&&e.dispatch(ZL({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(r==="item"){var c,d=t.touches[0];if(document.elementFromPoint==null||d==null)return;var f=document.elementFromPoint(d.clientX,d.clientY);if(!f||!f.getAttribute)return;var h=f.getAttribute(HP),p=(c=f.getAttribute(qP))!==null&&c!==void 0?c:void 0,g=bl(i).find(A=>A.id===p);if(h==null||g==null||p==null)return;var{dataKey:y}=g,S=UK(i,h,p);e.dispatch(KL({activeDataKey:y,activeIndex:h,activeCoordinate:S,activeGraphicalItemId:p}))}}}});var HK=fP({brush:aY,cartesianAxis:Y9,chartData:j$,errorBars:jY,graphicalItems:l9,layout:d4,legend:bF,options:N$,polarAxis:SV,polarOptions:zK,referenceElements:cY,rootProps:RK,tooltip:eq,zIndex:S$}),qK=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return k6({reducer:HK,preloadedState:e,middleware:i=>{var r;return i({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([rR.middleware,aR.middleware,c1.middleware,uR.middleware,fR.middleware])},enhancers:i=>{var r=i;return typeof i=="function"&&(r=i()),r.concat(TP({type:"raf"}))},devTools:{serialize:{replacer:NK},name:"recharts-".concat(t)}})};function hR(n){var{preloadedState:e,children:t,reduxStoreName:i}=n,r=ci(),s=C.useRef(null);if(r)return t;s.current==null&&(s.current=qK(e,i));var l=_b;return C.createElement(cX,{context:l,store:s.current},t)}function $K(n){var{layout:e,margin:t}=n,i=lt(),r=ci();return C.useEffect(()=>{r||(i(l4(e)),i(o4(t)))},[i,r,e,t]),null}var pR=C.memo($K,s1);function mR(n){var e=lt();return C.useEffect(()=>{e(IK(n))},[e,n]),null}function j_(n){var{zIndex:e,isPanorama:t}=n,i=C.useRef(null),r=lt();return C.useLayoutEffect(()=>(i.current&&r(b$({zIndex:e,element:i.current,isPanorama:t})),()=>{r(A$({zIndex:e,isPanorama:t}))}),[r,e,t]),C.createElement("g",{tabIndex:-1,ref:i})}function z_(n){var{children:e,isPanorama:t}=n,i=ye(c$);if(!i||i.length===0)return e;var r=i.filter(l=>l<0),s=i.filter(l=>l>0);return C.createElement(C.Fragment,null,r.map(l=>C.createElement(j_,{key:l,zIndex:l,isPanorama:t})),e,s.map(l=>C.createElement(j_,{key:l,zIndex:l,isPanorama:t})))}var GK=["children"];function VK(n,e){if(n==null)return{};var t,i,r=YK(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function YK(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function xh(){return xh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},xh.apply(null,arguments)}var XK={width:"100%",height:"100%",display:"block"},KK=C.forwardRef((n,e)=>{var t=YP(),i=XP(),r=oD();if(!qa(t)||!qa(i))return null;var{children:s,otherAttributes:l,title:c,desc:d}=n,f,h;return l!=null&&(typeof l.tabIndex=="number"?f=l.tabIndex:f=r?0:void 0,typeof l.role=="string"?h=l.role:h=r?"application":void 0),C.createElement(yb,xh({},l,{title:c,desc:d,role:h,tabIndex:f,width:t,height:i,style:XK,ref:e}),s)}),WK=n=>{var{children:e}=n,t=ye(tp);if(!t)return null;var{width:i,height:r,y:s,x:l}=t;return C.createElement(yb,{width:i,height:r,x:l,y:s},e)},F_=C.forwardRef((n,e)=>{var{children:t}=n,i=VK(n,GK),r=ci();return r?C.createElement(WK,null,C.createElement(z_,{isPanorama:!0},t)):C.createElement(KK,xh({ref:e},i),C.createElement(z_,{isPanorama:!1},t))});function ZK(){var n=lt(),[e,t]=C.useState(null),i=ye(M4);return C.useEffect(()=>{if(e!=null){var r=e.getBoundingClientRect(),s=r.width/e.offsetWidth;Xe(s)&&s!==i&&n(u4(s))}},[e,n,i]),t}function U_(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function QK(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?U_(Object(t),!0).forEach(function(i){JK(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):U_(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function JK(n,e,t){return(e=eW(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function eW(n){var e=tW(n,"string");return typeof e=="symbol"?e:e+""}function tW(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Fa(){return Fa=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Fa.apply(null,arguments)}var nW=()=>(Y$(),null);function wh(n){if(typeof n=="number")return n;if(typeof n=="string"){var e=parseFloat(n);if(!Number.isNaN(e))return e}return 0}var iW=C.forwardRef((n,e)=>{var t,i,r=C.useRef(null),[s,l]=C.useState({containerWidth:wh((t=n.style)===null||t===void 0?void 0:t.width),containerHeight:wh((i=n.style)===null||i===void 0?void 0:i.height)}),c=C.useCallback((f,h)=>{l(p=>{var g=Math.round(f),y=Math.round(h);return p.containerWidth===g&&p.containerHeight===y?p:{containerWidth:g,containerHeight:y}})},[]),d=C.useCallback(f=>{if(typeof e=="function"&&e(f),f!=null&&typeof ResizeObserver<"u"){var{width:h,height:p}=f.getBoundingClientRect();c(h,p);var g=S=>{var A=S[0];if(A!=null){var{width:E,height:x}=A.contentRect;c(E,x)}},y=new ResizeObserver(g);y.observe(f),r.current=y}},[e,c]);return C.useEffect(()=>()=>{var f=r.current;f?.disconnect()},[c]),C.createElement(C.Fragment,null,C.createElement(gu,{width:s.containerWidth,height:s.containerHeight}),C.createElement("div",Fa({ref:d},n)))}),rW=C.forwardRef((n,e)=>{var{width:t,height:i}=n,[r,s]=C.useState({containerWidth:wh(t),containerHeight:wh(i)}),l=C.useCallback((d,f)=>{s(h=>{var p=Math.round(d),g=Math.round(f);return h.containerWidth===p&&h.containerHeight===g?h:{containerWidth:p,containerHeight:g}})},[]),c=C.useCallback(d=>{if(typeof e=="function"&&e(d),d!=null){var{width:f,height:h}=d.getBoundingClientRect();l(f,h)}},[e,l]);return C.createElement(C.Fragment,null,C.createElement(gu,{width:r.containerWidth,height:r.containerHeight}),C.createElement("div",Fa({ref:c},n)))}),aW=C.forwardRef((n,e)=>{var{width:t,height:i}=n;return C.createElement(C.Fragment,null,C.createElement(gu,{width:t,height:i}),C.createElement("div",Fa({ref:e},n)))}),sW=C.forwardRef((n,e)=>{var{width:t,height:i}=n;return typeof t=="string"||typeof i=="string"?C.createElement(rW,Fa({},n,{ref:e})):typeof t=="number"&&typeof i=="number"?C.createElement(aW,Fa({},n,{width:t,height:i,ref:e})):C.createElement(C.Fragment,null,C.createElement(gu,{width:t,height:i}),C.createElement("div",Fa({ref:e},n)))});function oW(n){return n?iW:sW}var lW=C.forwardRef((n,e)=>{var{children:t,className:i,height:r,onClick:s,onContextMenu:l,onDoubleClick:c,onMouseDown:d,onMouseEnter:f,onMouseLeave:h,onMouseMove:p,onMouseUp:g,onTouchEnd:y,onTouchMove:S,onTouchStart:A,style:E,width:x,responsive:O,dispatchTouchEvents:T=!0}=n,P=C.useRef(null),M=lt(),[_,L]=C.useState(null),[B,F]=C.useState(null),X=ZK(),q=Bb(),$=q?.width>0?q.width:x,se=q?.height>0?q.height:r,re=C.useCallback(J=>{X(J),typeof e=="function"&&e(J),L(J),F(J),J!=null&&(P.current=J)},[X,e,L,F]),ce=C.useCallback(J=>{M(iR(J)),M(Ci({handler:s,reactEvent:J}))},[M,s]),j=C.useCallback(J=>{M(J0(J)),M(Ci({handler:f,reactEvent:J}))},[M,f]),H=C.useCallback(J=>{M(WL()),M(Ci({handler:h,reactEvent:J}))},[M,h]),ie=C.useCallback(J=>{M(J0(J)),M(Ci({handler:p,reactEvent:J}))},[M,p]),le=C.useCallback(()=>{M(cR())},[M]),pe=C.useCallback(J=>{M(lR(J.key))},[M]),I=C.useCallback(J=>{M(Ci({handler:l,reactEvent:J}))},[M,l]),K=C.useCallback(J=>{M(Ci({handler:c,reactEvent:J}))},[M,c]),ne=C.useCallback(J=>{M(Ci({handler:d,reactEvent:J}))},[M,d]),oe=C.useCallback(J=>{M(Ci({handler:g,reactEvent:J}))},[M,g]),ve=C.useCallback(J=>{M(Ci({handler:A,reactEvent:J}))},[M,A]),Ee=C.useCallback(J=>{T&&M(dR(J)),M(Ci({handler:S,reactEvent:J}))},[M,T,S]),de=C.useCallback(J=>{M(Ci({handler:y,reactEvent:J}))},[M,y]),ct=oW(O);return C.createElement(gN.Provider,{value:_},C.createElement(P2.Provider,{value:B},C.createElement(ct,{width:$??E?.width,height:se??E?.height,className:Je("recharts-wrapper",i),style:QK({position:"relative",cursor:"default",width:$,height:se},E),onClick:ce,onContextMenu:I,onDoubleClick:K,onFocus:le,onKeyDown:pe,onMouseDown:ne,onMouseEnter:j,onMouseLeave:H,onMouseMove:ie,onMouseUp:oe,onTouchEnd:de,onTouchMove:Ee,onTouchStart:ve,ref:re},C.createElement(nW,null),t)))}),cW=["width","height","responsive","children","className","style","compact","title","desc"];function uW(n,e){if(n==null)return{};var t,i,r=dW(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function dW(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var gR=C.forwardRef((n,e)=>{var{width:t,height:i,responsive:r,children:s,className:l,style:c,compact:d,title:f,desc:h}=n,p=uW(n,cW),g=lr(p);return d?C.createElement(C.Fragment,null,C.createElement(gu,{width:t,height:i}),C.createElement(F_,{otherAttributes:g,title:f,desc:h},s)):C.createElement(lW,{className:l,style:c,width:t,height:i,responsive:r??!1,onClick:n.onClick,onMouseLeave:n.onMouseLeave,onMouseEnter:n.onMouseEnter,onMouseMove:n.onMouseMove,onMouseDown:n.onMouseDown,onMouseUp:n.onMouseUp,onContextMenu:n.onContextMenu,onDoubleClick:n.onDoubleClick,onTouchStart:n.onTouchStart,onTouchMove:n.onTouchMove,onTouchEnd:n.onTouchEnd},C.createElement(F_,{otherAttributes:g,title:f,desc:h,ref:e},C.createElement(dY,null,s)))});function eb(){return eb=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},eb.apply(null,arguments)}var fW={top:5,right:5,bottom:5,left:5},hW={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:fW,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},pW=C.forwardRef(function(e,t){var i,r=bn(e.categoricalChartProps,hW),{chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,categoricalChartProps:f}=e,h={chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,eventEmitter:void 0};return C.createElement(hR,{preloadedState:{options:h},reduxStoreName:(i=f.id)!==null&&i!==void 0?i:s},C.createElement(VN,{chartData:f.data}),C.createElement(pR,{layout:r.layout,margin:r.margin}),C.createElement(mR,{baseValue:r.baseValue,accessibilityLayer:r.accessibilityLayer,barCategoryGap:r.barCategoryGap,maxBarSize:r.maxBarSize,stackOffset:r.stackOffset,barGap:r.barGap,barSize:r.barSize,syncId:r.syncId,syncMethod:r.syncMethod,className:r.className,reverseStackOrder:r.reverseStackOrder}),C.createElement(gR,eb({},r,{ref:t})))}),mW=["axis","item"],ps=C.forwardRef((n,e)=>C.createElement(pW,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:mW,tooltipPayloadSearcher:vN,categoricalChartProps:n,ref:e}));function gW(n){var e=lt();return C.useEffect(()=>{e(jK(n))},[e,n]),null}var vW=["layout"];function tb(){return tb=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},tb.apply(null,arguments)}function yW(n,e){if(n==null)return{};var t,i,r=bW(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function bW(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var AW={top:5,right:5,bottom:5,left:5},vR={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:AW,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},SW=C.forwardRef(function(e,t){var i,r=bn(e.categoricalChartProps,vR),{layout:s}=r,l=yW(r,vW),{chartName:c,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:h}=e,p={chartName:c,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:h,eventEmitter:void 0};return C.createElement(hR,{preloadedState:{options:p},reduxStoreName:(i=r.id)!==null&&i!==void 0?i:c},C.createElement(VN,{chartData:r.data}),C.createElement(pR,{layout:s,margin:r.margin}),C.createElement(mR,{baseValue:void 0,accessibilityLayer:r.accessibilityLayer,barCategoryGap:r.barCategoryGap,maxBarSize:r.maxBarSize,stackOffset:r.stackOffset,barGap:r.barGap,barSize:r.barSize,syncId:r.syncId,syncMethod:r.syncMethod,className:r.className,reverseStackOrder:r.reverseStackOrder}),C.createElement(gW,{cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius}),C.createElement(gR,tb({},l,{ref:t})))});function H_(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function q_(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?H_(Object(t),!0).forEach(function(i){EW(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):H_(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function EW(n,e,t){return(e=xW(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function xW(n){var e=wW(n,"string");return typeof e=="symbol"?e:e+""}function wW(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var CW=["item"],OW=q_(q_({},vR),{},{layout:"centric",startAngle:0,endAngle:360}),$_=C.forwardRef((n,e)=>{var t=bn(n,OW);return C.createElement(SW,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:CW,tooltipPayloadSearcher:vN,categoricalChartProps:t,ref:e})});Wo.workerSrc=new URL("/hospital-buin-paine-dashboard/assets/pdf.worker-BA9kU3Pw.mjs",import.meta.url).href;const TW=[{item:"HSLB13000",zona:"NC-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Escritorio simple 120x70 cm",proveedor:"MELMAN SPA",cantidad:3,piso:7,recinto:"SALA VOLUNTARIADO",fechaInstalacion:"03/08/2026"},{item:"HSLB13009",zona:"NC-reas Adminitrativas en General",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Escritorio en L Administrativo",proveedor:"MELMAN SPA",cantidad:2,piso:3,recinto:"OFICINA SUBDIRECTOR MDICO",fechaInstalacion:"17/07/2026"},{item:"HSLB13018",zona:"NC-reas Administrativas en General",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Escritorio en L Administrativo",proveedor:"MELMAN SPA",cantidad:3,piso:3,recinto:"OFICINA COMUNICACIONES",fechaInstalacion:"17/07/2026"},{item:"HSLB13027",zona:"NC-reas Adminitrativas en General",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Escritorio en L Administrativo",proveedor:"MELMAN SPA",cantidad:1,piso:3,recinto:"OFICINA SECRETARA",fechaInstalacion:"17/07/2026"},{item:"HSLB13037",zona:"CM-Salas de Procedimientos no Invasivos",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Escritorio de Consultas",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"SALA PROCEDIMIENTOS GINECO-OBSTTRICO",fechaInstalacion:"01/07/2026"},{item:"HSLB13049",zona:"CM-Consultas Ambulatorias",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Escritorio de Consultas",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"BOX CIRUGA ADULTOS",fechaInstalacion:"01/07/2026"},{item:"HSLB13064",zona:"CM-Salas de Procedimientos no Invasivos",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Escritorio simple 120x70 cm",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"SALA DE PROCEDIMIENTOS OFTALMO COMPLEJO",fechaInstalacion:"01/07/2026"},{item:"HSLB13081",zona:"CM-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Escritorio en L Administrativo",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"SALA MULTIPROPSITO",fechaInstalacion:"01/07/2026"},{item:"HSLB13090",zona:"CM-Consultas Ambulatorias",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Escritorio de Consultas",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"BOX ENFERMERA SALUD MENTAL",fechaInstalacion:"01/07/2026"},{item:"HSLB13100",zona:"CM-Consultas Ambulatorias",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Escritorio de Consultas",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"BOX ENFERMERA INFANTO JUVENIL",fechaInstalacion:"01/07/2026"},{item:"HSLB13109",zona:"CN-Salas y Habitaciones de Hospitalizacin",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Escritorio de Consultas",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"SALA DE ATENCIN",fechaInstalacion:"01/07/2026"},{item:"HSLB13119",zona:"CM-Consultas Ambulatorias",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Escritorio de Consultas",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"BOX ATENCIN ",fechaInstalacion:"01/07/2026"},{item:"HSLB13128",zona:"CN-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Escritorio en L Administrativo",proveedor:"MELMAN SPA",cantidad:1,piso:6,recinto:"OFICINA JEFE CR ATENCIN CERRADA",fechaInstalacion:"03/08/2026"},{item:"HSLB13138",zona:"CN-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Escritorio en L Administrativo",proveedor:"MELMAN SPA",cantidad:1,piso:5,recinto:"OFICINA JEFE MQ INFANTIL",fechaInstalacion:"17/07/2026"},{item:"HSLB15216",zona:"CA-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Banca Madera C",proveedor:"MELMAN SPA",cantidad:1,piso:4,recinto:"VESTUARIO FUNCIONARIOS",fechaInstalacion:"17/07/2026"},{item:"HSLB13155",zona:"CN-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Escritorio en L Administrativo",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"OF. JEFE CR AT. URGENCIA",fechaInstalacion:"01/07/2026"},{item:"HSLB13165",zona:"CN-Laboratorios",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Escritorio simple 120x70 cm",proveedor:"MELMAN SPA",cantidad:6,piso:2,recinto:"MDULO DE TRABAJO TECNLOGO MDICO",fechaInstalacion:"01/07/2026"},{item:"HSLB13174",zona:"CN-Imagenologa",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Escritorio simple 120x70 cm",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"SALA ECOTOMOGRAFO GINECO-OBSTETRICO (EQUIPO/VESTIDOR)",fechaInstalacion:"01/07/2026"},{item:"HSLB13181",zona:"CA-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Escritorio en L Administrativo",proveedor:"MELMAN SPA",cantidad:1,piso:3,recinto:"OFICINA COORDINADOR ESTERILIZACIN",fechaInstalacion:"17/07/2026"},{item:"HSLB13191",zona:"CM-reas de Rehabilitacin",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Escritorio de Consultas",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"BOX INDIFERENCIADO (FONOAUDIO Y TERAPIA OCU)(1)",fechaInstalacion:"01/07/2026"},{item:"HSLB13201",zona:"CM-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Escritorio en L Administrativo",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"OFICINA SUPERVISORA",fechaInstalacion:"01/07/2026"},{item:"HSLB13210",zona:"NC-reas de Servicios Generales",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Escritorio en L Administrativo",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"OFICINA JEFE TIC",fechaInstalacion:"01/07/2026"},{item:"HSLB13219",zona:"NC-reas de Servicios Generales",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Escritorio simple 120x70 cm",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"OFICINA COORDINADOR ROPERA",fechaInstalacion:"01/07/2026"},{item:"HSLB13231",zona:"NC-reas Adminitrativas en General",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Escritorio en L Administrativo",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"OF. JEFE ABASTECIMIENTO",fechaInstalacion:"01/07/2026"},{item:"HSLB13241",zona:"NC-reas de Servicios Generales",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Escritorio simple 120x70 cm",proveedor:"MELMAN SPA",cantidad:4,piso:2,recinto:"MDULO DE TRABAJO EJECUTIVO DE COMPRA",fechaInstalacion:"01/07/2026"},{item:"HSLB13249",zona:"NC-reas de Servicios Generales",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Escritorio en L Administrativo",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"OFICINA COORDINADOR CENTRAL",fechaInstalacion:"01/07/2026"},{item:"HSLB13258",zona:"CM-Consultas Ambulatorias",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Escritorio de Consultas",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"BOX DE ATENCIN",fechaInstalacion:"01/07/2026"},{item:"HSLB13267",zona:"NC-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Escritorio simple 120x70 cm",proveedor:"MELMAN SPA",cantidad:1,piso:3,recinto:"SALA DE CAPACITACIN MASIVA",fechaInstalacion:"17/07/2026"},{item:"HSLB13276",zona:"NC-reas Administrativas en General",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Escritorio en L Administrativo",proveedor:"MELMAN SPA",cantidad:2,piso:1,recinto:"MDULO DE TRABAJO ADMINISTRATIVOS MANTENCIN DE AGENDA",fechaInstalacion:"01/07/2026"},{item:"HSLB13285",zona:"CA-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Escritorio en L Administrativo",proveedor:"MELMAN SPA",cantidad:1,piso:3,recinto:"SALA DE ENTREVISTAS",fechaInstalacion:"17/07/2026"},{item:"HSLB13295",zona:"CN-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Mesa Lateral",proveedor:"MELMAN SPA",cantidad:1,piso:5,recinto:"SALA DE ESTAR FAMILIARES Y ENTREVISTAS",fechaInstalacion:"17/07/2026"},{item:"HSLB13304",zona:"CM-Consultas Ambulatorias",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Mesa Prvulo Tipo I",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"OFICINA ASISTENTE SOCIAL PSICOPEDAGOGA",fechaInstalacion:"01/07/2026"},{item:"HSLB13313",zona:"CN-Urgencia",servicio:"Urgencia",familia:"Mesa",nombre:"Mesa Plegable",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"BODEGA CATSTROFES ( Mesa Plegable Rectangular)",fechaInstalacion:"01/07/2026"},{item:"HSLB13322",zona:"NC-reas Adminitrativas en General",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Mesa Reuniones Tipo I",proveedor:"MELMAN SPA",cantidad:1,piso:3,recinto:"OFICINA SUBDIRECTOR MDICO",fechaInstalacion:"17/07/2026"},{item:"HSLB15221",zona:"CA-reas de Tratamiento Especial",servicio:"Dilisis",familia:"Mesa",nombre:"Mesa Tipo Casino",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"KITCHENETTE",fechaInstalacion:"01/07/2026"},{item:"HSLB13338",zona:"CM-Consultas Ambulatorias",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Mesa Reuniones Tipo I",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"SALA ESTIMULACIN COGNITIVA",fechaInstalacion:"01/07/2026"},{item:"HSLB13347",zona:"CA-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Mesa Reuniones Tipo I",proveedor:"MELMAN SPA",cantidad:1,piso:3,recinto:"SALA DE ESTAR FAMILIARES",fechaInstalacion:"17/07/2026"},{item:"HSLB13356",zona:"CM-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Mesa Reuniones Plegable",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"SALA MULTIUSO",fechaInstalacion:"01/07/2026"},{item:"HSLB13365",zona:"NC-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Mesa Reuniones Tipo I",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"SALA MULTIUSO (labores administrativas)",fechaInstalacion:"01/07/2026"},{item:"HSLB13374",zona:"CM-Consultas Ambulatorias",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Mesa Reuniones Tipo II",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"SALA DE REUNIONES",fechaInstalacion:"01/07/2026"},{item:"HSLB13383",zona:"NC-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Mesa Reuniones Tipo II",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"SALA DE REUNIONES C/KITCHENETTE",fechaInstalacion:"01/07/2026"},{item:"HSLB13392",zona:"NC-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Mesa Reuniones Tipo III",proveedor:"MELMAN SPA",cantidad:1,piso:3,recinto:"SALA DE CAPACITACIN PERSONALIZADA",fechaInstalacion:"17/07/2026"},{item:"HSLB13400",zona:"CM-Consultas Ambulatorias",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Mesa Tipo Casino Circular",proveedor:"MELMAN SPA",cantidad:2,piso:2,recinto:"SALA DE ESTAR /COMEDOR",fechaInstalacion:"01/07/2026"},{item:"HSLB13409",zona:"CN-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Mesa Tipo Casino Circular",proveedor:"MELMAN SPA",cantidad:1,piso:5,recinto:"ESTAR PERSONAL C/ KITCHENETTE",fechaInstalacion:"17/07/2026"},{item:"HSLB13417",zona:"CN-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Mesa Tipo Casino",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"ESTAR PERSONAL C/ KITCHENETTE",fechaInstalacion:"01/07/2026"},{item:"HSLB13424",zona:"CA-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Mesa Tipo Casino Circular",proveedor:"MELMAN SPA",cantidad:1,piso:3,recinto:"ESTAR PERSONAL C/ KITCHENETTE",fechaInstalacion:"17/07/2026"},{item:"HSLB13436",zona:"NC-SAMU",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Mesa Tipo Casino Circular",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"ESTAR PERSONAL",fechaInstalacion:"01/07/2026"},{item:"HSLB13450",zona:"NC-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Mobiliario",nombre:"Caja Fuerte Tipo I",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"MDULO DE TRABAJO SOME RECAUDACIN",fechaInstalacion:"01/07/2026"},{item:"HSLB13459",zona:"CM-Sala Cuna y Jardn Infantil",servicio:"Administracin y apoyo general",familia:"Mobiliario",nombre:"Cama Apilable",proveedor:"MELMAN SPA",cantidad:14,piso:1,recinto:"NIVEL MEDIO MAYOR",fechaInstalacion:"01/07/2026"},{item:"HSLB13468",zona:"CN-Urgencia",servicio:"Urgencia",familia:"Mobiliario",nombre:"Escalera Tijera",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"BODEGA DE INSUMOS CLNICOS",fechaInstalacion:"01/07/2026"},{item:"HSLB13481",zona:"NC-Casino",servicio:"Comedor para funcionarios y pblico",familia:"Otro",nombre:"Carro Bandejero",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"E. CARROS SUCIOS",fechaInstalacion:"01/07/2026"},{item:"HSLB13490",zona:"CM-Central de Alimentacin",servicio:"Central de Alimentacin ",familia:"Otro",nombre:"Carro de Transporte",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"REA ARMADO DESAYUNOS, POSTRES Y COLACIONES",fechaInstalacion:"01/07/2026"},{item:"HSLB13499",zona:"CM-Sala Cuna y Jardn Infantil",servicio:"Administracin y apoyo general",familia:"Otro",nombre:"Colchoneta Reposo A",proveedor:"MELMAN SPA",cantidad:14,piso:1,recinto:"NIVEL MEDIO MAYOR (120 x 60 cm)",fechaInstalacion:"01/07/2026"},{item:"HSLB13508",zona:"CM-Sala Cuna y Jardn Infantil",servicio:"Administracin y apoyo general",familia:"Otro",nombre:"Librero",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"NIVEL MEDIO MAYOR",fechaInstalacion:"01/07/2026"},{item:"HSLB13517",zona:"NC-reas Adminitrativas en General",servicio:"Administracin y apoyo general",familia:"Otro",nombre:"Mueble Tipo Biblioteca A",proveedor:"MELMAN SPA",cantidad:2,piso:3,recinto:"SECRETARA C/ARCHIVO Y FOTOCOP.",fechaInstalacion:"17/07/2026"},{item:"HSLB13526",zona:"NC-reas Administrativas en General",servicio:"Administracin y apoyo general",familia:"Otro",nombre:"Mueble Tipo Biblioteca A",proveedor:"MELMAN SPA",cantidad:3,piso:3,recinto:"MD. TRABAJO (calidad)",fechaInstalacion:"17/07/2026"},{item:"HSLB13533",zona:"NC-reas Administrativas en General",servicio:"Administracin y apoyo general",familia:"Otro",nombre:"Mueble Tipo Biblioteca A",proveedor:"MELMAN SPA",cantidad:1,piso:3,recinto:"COORDINADOR GESTIN DE PACIENTES",fechaInstalacion:"17/07/2026"},{item:"HSLB13539",zona:"NC-reas Adminitrativas en General",servicio:"Administracin y apoyo general",familia:"Otro",nombre:"Mueble Tipo Biblioteca A",proveedor:"MELMAN SPA",cantidad:1,piso:3,recinto:"OFICINA JEFE CAE",fechaInstalacion:"17/07/2026"},{item:"HSLB15226",zona:"CA-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Otro",nombre:"Mueble Tipo Biblioteca A",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"OFICINA JEFE CUIDADOS PALIATIVOS",fechaInstalacion:"01/07/2026"},{item:"HSLB13556",zona:"CM-Consultas Ambulatorias",servicio:"Administracin y apoyo general",familia:"Otro",nombre:"Mueble Tipo Biblioteca B",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"BOX PSICLOGO ADULTO",fechaInstalacion:"01/07/2026"},{item:"HSLB13563",zona:"CM-Consultas Ambulatorias",servicio:"Administracin y apoyo general",familia:"Otro",nombre:"Mueble Tipo Biblioteca B",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"BOX TERAPEUTA OCUPACIONAL",fechaInstalacion:"01/07/2026"},{item:"HSLB13572",zona:"CN-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Otro",nombre:"Mueble Tipo Biblioteca A",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"OFICINA ENFERMERA COORDINADORA",fechaInstalacion:"01/07/2026"},{item:"HSLB13579",zona:"CM-Consultas Ambulatorias",servicio:"Administracin y apoyo general",familia:"Otro",nombre:"Mueble Tipo Biblioteca B",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"SALA ESTIMULACIN COGNITIVA",fechaInstalacion:"01/07/2026"},{item:"HSLB13588",zona:"CN-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Otro",nombre:"Mueble Tipo Biblioteca A",proveedor:"MELMAN SPA",cantidad:1,piso:6,recinto:"OFICINA JEFE MQ ADULTO",fechaInstalacion:"03/08/2026"},{item:"HSLB13718",zona:"CN-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Otro",nombre:"Mueble Tipo Biblioteca A",proveedor:"MELMAN SPA",cantidad:1,piso:4,recinto:"SALA DE ENTREVISTAS",fechaInstalacion:"17/07/2026"},{item:"HSLB13600",zona:"CN-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Otro",nombre:"Mueble Tipo Biblioteca A",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"OF. JEFE CR AT. URGENCIA",fechaInstalacion:"01/07/2026"},{item:"HSLB13610",zona:"CN-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Otro",nombre:"Mueble Tipo Biblioteca A",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"OFICINA SECRETARA",fechaInstalacion:"01/07/2026"},{item:"HSLB13619",zona:"CN-Imagenologa",servicio:"Administracin y apoyo general",familia:"Otro",nombre:"Mueble Tipo Biblioteca A",proveedor:"MELMAN SPA",cantidad:4,piso:1,recinto:"MDULO DE TRABAJO (INFORMES)",fechaInstalacion:"01/07/2026"},{item:"HSLB13627",zona:"CM-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Otro",nombre:"Mueble Tipo Biblioteca A",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"MESN C/ARCHIVO Y FOTOCOPIADORA",fechaInstalacion:"01/07/2026"},{item:"HSLB13640",zona:"CA-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Otro",nombre:"Mueble Tipo Biblioteca A",proveedor:"MELMAN SPA",cantidad:1,piso:4,recinto:"OFICINA NUTRICIONISTA",fechaInstalacion:"17/07/2026"},{item:"HSLB13649",zona:"NC-reas Adminitrativas en General",servicio:"Administracin y apoyo general",familia:"Otro",nombre:"Mueble Tipo Biblioteca A",proveedor:"MELMAN SPA",cantidad:4,piso:3,recinto:"MDULOS DE TRABAJO (sala de digitalizacin datos)",fechaInstalacion:"17/07/2026"},{item:"HSLB13658",zona:"NC-reas de Servicios Generales",servicio:"Administracin y apoyo general",familia:"Otro",nombre:"Mueble Tipo Biblioteca A",proveedor:"MELMAN SPA",cantidad:1,piso:3,recinto:"SECRETARIA C/ARCHIVO, FOTOCOP.",fechaInstalacion:"17/07/2026"},{item:"HSLB13667",zona:"NC-reas de Servicios Generales",servicio:"Administracin y apoyo general",familia:"Otro",nombre:"Mueble Tipo Biblioteca A",proveedor:"MELMAN SPA",cantidad:1,piso:3,recinto:"SECRETARIA C/ARCHIVO, FOTOCOP.",fechaInstalacion:"17/07/2026"},{item:"HSLB13679",zona:"NC-reas Adminitrativas en General",servicio:"Administracin y apoyo general",familia:"Otro",nombre:"Mueble Tipo Biblioteca A",proveedor:"MELMAN SPA",cantidad:1,piso:3,recinto:"COORDINADOR TESORERA",fechaInstalacion:"17/07/2026"},{item:"HSLB13687",zona:"NC-reas de Servicios Generales",servicio:"Administracin y apoyo general",familia:"Otro",nombre:"Mueble Tipo Biblioteca A",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"OFICINA ADMINISTRADOR DE CONTRATOS",fechaInstalacion:"01/07/2026"},{item:"HSLB14126",zona:"CM-reas de Rehabilitacin",servicio:"Med fsica y rehabilitacin",familia:"Otro",nombre:"Pizarra Acrlica",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"GIMNASIO ADULTO REHABILITACIN CARDIOVASCULAR",fechaInstalacion:"01/07/2026"},{item:"HSLB14135",zona:"CN-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Otro",nombre:"Velador",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"RESIDENCIA MDICA C/BAO",fechaInstalacion:"01/07/2026"},{item:"HSLB14144",zona:"CM-Residencias Mdicas",servicio:"Administracin y apoyo general",familia:"Otro",nombre:"Velador",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"RESIDENCIA MDICA C/BAO",fechaInstalacion:"01/07/2026"},{item:"HSLB14153",zona:"CN-Imagenologa",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Banca Madera A",proveedor:"MELMAN SPA",cantidad:2,piso:1,recinto:"SALA ECOTOMOGRAFO GINECO-OBSTETRICO (EQUIPO/VESTIDOR)",fechaInstalacion:"01/07/2026"},{item:"HSLB14162",zona:"CM-reas de Rehabilitacin",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Apilable de Base Ancha",proveedor:"MELMAN SPA",cantidad:10,piso:1,recinto:"GIMNASIO PEDIATRICO",fechaInstalacion:"01/07/2026"},{item:"HSLB14171",zona:"NC-reas Adminitrativas en General",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:1,piso:3,recinto:"OFICINA DIRECTOR C/BAO",fechaInstalacion:"17/07/2026"},{item:"HSLB14180",zona:"NC-reas Administrativas en General",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:1,piso:3,recinto:"MD. TRABAJO (Winsig)",fechaInstalacion:"17/07/2026"},{item:"HSLB14189",zona:"NC-reas Adminitrativas en General",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:2,piso:3,recinto:"COORDINADOR GESTIN DEL CUIDADO AT. ABIERTA",fechaInstalacion:"17/07/2026"},{item:"HSLB14198",zona:"CM-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"MDULO DE TRABAJO OIRS",fechaInstalacion:"01/07/2026"},{item:"HSLB14207",zona:"CM-Salas de Procedimientos no Invasivos",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"SALA PROCEDIMIENTOS GINECO-OBSTTRICO",fechaInstalacion:"01/07/2026"},{item:"HSLB14220",zona:"CM-Consultas Ambulatorias",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"BOX CIRUGA ADULTOS",fechaInstalacion:"01/07/2026"},{item:"HSLB14233",zona:"CM-Consultas Ambulatorias",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"BOX CARDIO OTORRINO",fechaInstalacion:"01/07/2026"},{item:"HSLB14242",zona:"CM-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"RECAUDACIN ODONTOLOGA",fechaInstalacion:"01/07/2026"},{item:"HSLB14251",zona:"CM-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"OFICINA ENFERMERA",fechaInstalacion:"01/07/2026"},{item:"HSLB14260",zona:"CM-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"OFICINA JEFE SALUD MENTAL",fechaInstalacion:"01/07/2026"},{item:"HSLB14269",zona:"CM-Consultas Ambulatorias",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"BOX PSICLOGO INFANTO JUVENIL",fechaInstalacion:"01/07/2026"},{item:"HSLB14278",zona:"CM-Consultas Ambulatorias",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"BOX PSIQUIATRA ADULTO",fechaInstalacion:"01/07/2026"},{item:"HSLB14287",zona:"CN-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:2,piso:1,recinto:"ESTACIN DE ENFERMERA",fechaInstalacion:"01/07/2026"},{item:"HSLB14295",zona:"CM-Consultas Ambulatorias",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"SALA DE ENTREVISTAS",fechaInstalacion:"01/07/2026"},{item:"HSLB14304",zona:"CN-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:1,piso:6,recinto:"OFICINA JEFE CR ATENCIN CERRADA",fechaInstalacion:"03/08/2026"},{item:"HSLB14314",zona:"CN-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:6,piso:5,recinto:"ESTACIN DE ENFERMERA",fechaInstalacion:"17/07/2026"},{item:"HSLB14324",zona:"CN-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:1,piso:5,recinto:"MDULO TRABAJO SUPERVISOR",fechaInstalacion:"17/07/2026"},{item:"HSLB14333",zona:"CN-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:1,piso:4,recinto:"LACTARIO",fechaInstalacion:"17/07/2026"},{item:"HSLB14342",zona:"CA-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:3,piso:3,recinto:"ESTACIN DE ENFERMERA",fechaInstalacion:"17/07/2026"},{item:"HSLB14351",zona:"CN-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"COORDINADOR CR AT. URGENCIA",fechaInstalacion:"01/07/2026"},{item:"HSLB14360",zona:"CN-Urgencia",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"SALA ENTREVISTA ACOGIDA",fechaInstalacion:"01/07/2026"},{item:"HSLB14369",zona:"CN-Laboratorios",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"SECCIN BIOQUMICA",fechaInstalacion:"01/07/2026"},{item:"HSLB14378",zona:"CN-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:2,piso:2,recinto:"MESN RECEPCIN",fechaInstalacion:"01/07/2026"},{item:"HSLB14387",zona:"CN-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"OFICINA JEFE IMAGENOLOGA",fechaInstalacion:"01/07/2026"},{item:"HSLB14396",zona:"CN-Imagenologa",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"SALA ECOTOMOGRAFO INDIFERENCIADO (EQUIPO/VESTIDOR)",fechaInstalacion:"01/07/2026"},{item:"HSLB14406",zona:"CM-Farmacia General",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:4,piso:2,recinto:"RECEPCIN DESPACHO DIGITACIN (VENTANILLAS)",fechaInstalacion:"01/07/2026"},{item:"HSLB14416",zona:"CA-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:1,piso:3,recinto:"MESN RECEPCIN",fechaInstalacion:"17/07/2026"},{item:"HSLB15242",zona:"CA-Otros Servicios Adyacentes",servicio:"Pabellones",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:1,piso:3,recinto:"SALA RECUPERACIN URGENCIA",fechaInstalacion:"17/07/2026"},{item:"HSLB14425",zona:"CM-reas de Rehabilitacin",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"SALA DE TERAPIA GRUPAL (12 MAX)",fechaInstalacion:"01/07/2026"},{item:"HSLB14434",zona:"CM-reas de Rehabilitacin",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"SALA PREPARACIN DE PACIENTES",fechaInstalacion:"01/07/2026"},{item:"HSLB14443",zona:"CM-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"SECRETARIA C/ARCH. Y FOTO",fechaInstalacion:"01/07/2026"},{item:"HSLB14452",zona:"NC-reas Adminitrativas en General",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:1,piso:3,recinto:"MESN DE RECEPCIN",fechaInstalacion:"17/07/2026"},{item:"HSLB14461",zona:"NC-reas de Servicios Generales",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:1,piso:3,recinto:"SECRETARIA C/ARCHIVO, FOTOCOP.",fechaInstalacion:"17/07/2026"},{item:"HSLB14470",zona:"NC-Locales Externos",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"PORTERA c/BAO (1)",fechaInstalacion:"01/07/2026"},{item:"HSLB14479",zona:"NC-reas de Servicios Generales",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:1,piso:3,recinto:"SECRETARIA C/ARCHIVO, FOTOCOP.",fechaInstalacion:"17/07/2026"},{item:"HSLB14496",zona:"NC-reas Adminitrativas en General",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:1,piso:3,recinto:"MDULO DE TRABAJO (presupuesto)",fechaInstalacion:"17/07/2026"},{item:"HSLB14505",zona:"NC-reas de Servicios Generales",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"SECRETARA C/ARCHIVO Y FOTOCOPIADORA",fechaInstalacion:"01/07/2026"},{item:"HSLB14513",zona:"NC-reas de Servicios Generales",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"OFICINA COORDINADOR CENTRAL",fechaInstalacion:"01/07/2026"},{item:"HSLB14522",zona:"NC-reas Adminitrativas en General",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"COORDINADOR SALUD DEL TRABAJADOR",fechaInstalacion:"01/07/2026"},{item:"HSLB14531",zona:"NC-reas Adminitrativas en General",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:1,piso:3,recinto:"COORDINADOR CAPACITACIN Y FORMACIN",fechaInstalacion:"17/07/2026"},{item:"HSLB14540",zona:"NC-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"SALA MULTIUSO (labores administrativas)",fechaInstalacion:"01/07/2026"},{item:"HSLB14549",zona:"CN-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:6,piso:4,recinto:"ESTACIN DE ENFERMERA",fechaInstalacion:"17/07/2026"},{item:"HSLB14558",zona:"NC-reas Administrativas en General",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"MDULO DE TRABAJO PROFESIONALES  DEMANDA CONSULTAS MDICAS",fechaInstalacion:"01/07/2026"},{item:"HSLB14567",zona:"CM-Sala Cuna y Jardn Infantil",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Lactante",proveedor:"MELMAN SPA",cantidad:9,piso:1,recinto:"NIVEL SALA CUNA 2",fechaInstalacion:"01/07/2026"},{item:"HSLB14576",zona:"CN-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Prvulo",proveedor:"MELMAN SPA",cantidad:4,piso:5,recinto:"AULA HOSPITALARIA",fechaInstalacion:"17/07/2026"},{item:"HSLB14585",zona:"CN-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla tipo Casino",proveedor:"MELMAN SPA",cantidad:4,piso:1,recinto:"SALA DE ESTAR FAMILIARES",fechaInstalacion:"01/07/2026"},{item:"HSLB14594",zona:"CN-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla tipo Casino",proveedor:"MELMAN SPA",cantidad:4,piso:6,recinto:"SALA DE ESTAR FAMILIARES Y ENTREVISTAS",fechaInstalacion:"03/08/2026"},{item:"HSLB14605",zona:"CN-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla tipo Casino",proveedor:"MELMAN SPA",cantidad:4,piso:2,recinto:"ESTAR PERSONAL C/ KITCHENETTE",fechaInstalacion:"01/07/2026"},{item:"HSLB14615",zona:"NC-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla tipo Casino",proveedor:"MELMAN SPA",cantidad:4,piso:1,recinto:"ESTAR PERSONAL C/ KITCHENETTE",fechaInstalacion:"01/07/2026"},{item:"HSLB14625",zona:"NC-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Tipo Universitaria",proveedor:"MELMAN SPA",cantidad:25,piso:3,recinto:"SALA DE CAPACITACIN MASIVA",fechaInstalacion:"17/07/2026"},{item:"HSLB14634",zona:"NC-reas Adminitrativas en General",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:4,piso:3,recinto:"OFICINA SUBDIRECTOR MDICO",fechaInstalacion:"17/07/2026"},{item:"HSLB14644",zona:"NC-reas Administrativas en General",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:2,piso:3,recinto:"OFICINA ASESOR JURDICO",fechaInstalacion:"17/07/2026"},{item:"HSLB14653",zona:"NC-reas Adminitrativas en General",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:2,piso:3,recinto:"OFICINA SECRETARA",fechaInstalacion:"17/07/2026"},{item:"HSLB14662",zona:"CM-Salas de Procedimientos no Invasivos",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"SALA PROCEDIMIENTOS MONITOREO FETAL",fechaInstalacion:"01/07/2026"},{item:"HSLB14671",zona:"CM-Consultas Ambulatorias",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:2,piso:2,recinto:"BOX MEDICINA ADULTOS",fechaInstalacion:"01/07/2026"},{item:"HSLB14680",zona:"CM-Salas de Procedimientos no Invasivos",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"SALA PROCEDIMIENTOS TRAUMATOLOGA INFANTIL",fechaInstalacion:"01/07/2026"},{item:"HSLB15251",zona:"CM-Otros Servicios Adyacentes",servicio:"Odontologa",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:3,piso:2,recinto:"ESTAC. SILLA DE RUEDAS",fechaInstalacion:"01/07/2026"},{item:"HSLB14698",zona:"CM-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:2,piso:1,recinto:"OFICINA ENFERMERA",fechaInstalacion:"01/07/2026"},{item:"HSLB14707",zona:"CM-Consultas Ambulatorias",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:2,piso:2,recinto:"BOX ENFERMERA SALUD MENTAL",fechaInstalacion:"01/07/2026"},{item:"HSLB14716",zona:"CM-Consultas Ambulatorias",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:2,piso:2,recinto:"BOX ENFERMERA INFANTO JUVENIL",fechaInstalacion:"01/07/2026"},{item:"HSLB14725",zona:"CN-Salas y Habitaciones de Hospitalizacin",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:2,piso:1,recinto:"SALA DE ATENCIN",fechaInstalacion:"01/07/2026"},{item:"HSLB14734",zona:"CN-Salas y Habitaciones de Hospitalizacin",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:4,piso:1,recinto:"TALLER COMPUTACIN",fechaInstalacion:"01/07/2026"},{item:"HSLB14743",zona:"CM-Consultas Ambulatorias",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:4,piso:2,recinto:"SALA MULTIUSO",fechaInstalacion:"01/07/2026"},{item:"HSLB14752",zona:"CM-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:8,piso:2,recinto:"SALA DE REUNIONES",fechaInstalacion:"01/07/2026"},{item:"HSLB14761",zona:"CN-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:2,piso:6,recinto:"OFICINA JEFE MQ ADULTO",fechaInstalacion:"03/08/2026"},{item:"HSLB14770",zona:"CN-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:2,piso:4,recinto:"OFICINA CHILE CRECE CONTIGO",fechaInstalacion:"17/07/2026"},{item:"HSLB14777",zona:"CA-Sala Parto o Pabelln de Parto",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:2,piso:3,recinto:"SALA MULTIUSO",fechaInstalacion:"17/07/2026"},{item:"HSLB14786",zona:"CN-Urgencia",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:2,piso:1,recinto:"MODULO DE TRABAJO OIRS",fechaInstalacion:"01/07/2026"},{item:"HSLB14795",zona:"CN-Urgencia",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"BOX URGENCIA(3)",fechaInstalacion:"01/07/2026"},{item:"HSLB14803",zona:"CN-Urgencia",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:2,piso:1,recinto:"SALA OBSERVACIN (INFANTIL)",fechaInstalacion:"04/05/2026"},{item:"HSLB14813",zona:"CN-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:2,piso:2,recinto:"OFICINA JEFE LABORATORIO",fechaInstalacion:"01/07/2026"},{item:"HSLB14821",zona:"CN-Laboratorios",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:2,piso:2,recinto:"TOMA DE MUESTRA COMUN",fechaInstalacion:"01/07/2026"},{item:"HSLB14830",zona:"CM-Farmacia General",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:2,piso:2,recinto:"MDULOS DE ENTREVISTA Y EDUCACIN",fechaInstalacion:"01/07/2026"},{item:"HSLB14839",zona:"CM-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:2,piso:1,recinto:"OFICINA JEFE REHABILITACIN",fechaInstalacion:"01/07/2026"},{item:"HSLB14848",zona:"CM-reas de Rehabilitacin",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"SALA PREPARACIN DE PACIENTES",fechaInstalacion:"01/07/2026"},{item:"HSLB14856",zona:"CM-Sala Mortuoria",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:2,piso:1,recinto:"MESN RECEPCIN DE REGISTRO DE INFORMES",fechaInstalacion:"01/07/2026"},{item:"HSLB14866",zona:"NC-reas de Servicios Generales",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:2,piso:3,recinto:"OFICINA MEDIOAMBIENTAL",fechaInstalacion:"17/07/2026"},{item:"HSLB14875",zona:"NC-reas de Servicios Generales",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:2,piso:3,recinto:"SECRETARIA C/ARCHIVO, FOTOCOP.",fechaInstalacion:"17/07/2026"},{item:"HSLB14887",zona:"NC-reas Adminitrativas en General",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:2,piso:3,recinto:"MDULO DE TRABAJO (gestin financiera)",fechaInstalacion:"17/07/2026"},{item:"HSLB14896",zona:"NC-reas de Servicios Generales",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:2,piso:2,recinto:"OFICINA ADMINISTRADOR DE CONTRATOS",fechaInstalacion:"01/07/2026"},{item:"HSLB14905",zona:"NC-reas Adminitrativas en General",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:4,piso:3,recinto:"OF. JEFE CR GESTIN DE LAS PERSONAS",fechaInstalacion:"17/07/2026"},{item:"HSLB14914",zona:"NC-reas Adminitrativas en General",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:2,piso:2,recinto:"COORD. SALUD OCUP. Y PREVEN. DE RIESGOS",fechaInstalacion:"01/07/2026"},{item:"HSLB14923",zona:"NC-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:20,piso:3,recinto:"AUDITORIO",fechaInstalacion:"17/07/2026"},{item:"HSLB14932",zona:"NC-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:4,piso:2,recinto:"SALA MULTIUSO (labores administrativas)",fechaInstalacion:"01/07/2026"},{item:"HSLB14941",zona:"CM-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:2,piso:1,recinto:"OFICINA 2 EDUCADORAS",fechaInstalacion:"01/07/2026"},{item:"HSLB14950",zona:"CM-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:2,piso:2,recinto:"OFICINA ENFERMERA COORDINADORA",fechaInstalacion:"01/07/2026"},{item:"HSLB14959",zona:"CM-Consultas Ambulatorias",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silln 1 Cuerpo",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"BOX PSICLOGO ADULTO",fechaInstalacion:"01/07/2026"},{item:"HSLB14968",zona:"CN-Salas y Habitaciones de Hospitalizacin",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silln 1 Cuerpo",proveedor:"MELMAN SPA",cantidad:2,piso:1,recinto:"SALA ESTAR COMEDOR",fechaInstalacion:"01/07/2026"},{item:"HSLB14976",zona:"NC-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silln 1 Cuerpo",proveedor:"MELMAN SPA",cantidad:3,piso:2,recinto:"SALA DE LECTURA",fechaInstalacion:"01/07/2026"},{item:"HSLB14985",zona:"CM-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silln 2 Cuerpo",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"SALA ENTREVISTA A PACIENTES",fechaInstalacion:"01/07/2026"},{item:"HSLB14994",zona:"CN-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silln 2 Cuerpo",proveedor:"MELMAN SPA",cantidad:6,piso:5,recinto:"SALA DE ESPERA",fechaInstalacion:"17/07/2026"},{item:"HSLB15003",zona:"CN-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silln 2 Cuerpo",proveedor:"MELMAN SPA",cantidad:2,piso:6,recinto:"SALA DE ESTAR FAMILIARES Y ENTREVISTAS",fechaInstalacion:"03/08/2026"},{item:"HSLB15010",zona:"CA-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silln 2 Cuerpo",proveedor:"MELMAN SPA",cantidad:1,piso:3,recinto:"ESTAR PERSONAL C/ KITCHENETTE",fechaInstalacion:"17/07/2026"},{item:"HSLB15019",zona:"CN-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silln 2 Cuerpo",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"ESTAR PERSONAL C/ KITCHENETTE",fechaInstalacion:"01/07/2026"},{item:"HSLB15029",zona:"CM-reas de Rehabilitacin",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silln 2 Cuerpo",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"BOX PSICOLOGO / A. SOCIAL",fechaInstalacion:"01/07/2026"},{item:"HSLB15041",zona:"CN-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silln 2 Cuerpo",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"ESTAR PERSONAL C/ KITCHENETTE",fechaInstalacion:"01/07/2026"},{item:"HSLB15050",zona:"CN-Pensionado",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silln Bergere",proveedor:"MELMAN SPA",cantidad:1,piso:5,recinto:"SALA 1 CAMA",fechaInstalacion:"17/07/2026"},{item:"HSLB15059",zona:"CN-Salas y Habitaciones de Hospitalizacin",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silln Bergere",proveedor:"MELMAN SPA",cantidad:4,piso:7,recinto:"SALA 4 CAMAS",fechaInstalacion:"03/08/2026"},{item:"HSLB15068",zona:"CN-Salas y Habitaciones de Hospitalizacin",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silln Bergere",proveedor:"MELMAN SPA",cantidad:1,piso:7,recinto:"SALA 1 CAMA",fechaInstalacion:"03/08/2026"},{item:"HSLB15080",zona:"CN-Salas y Habitaciones de Hospitalizacin",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silln Bergere",proveedor:"MELMAN SPA",cantidad:4,piso:6,recinto:"SALA 4 CAMAS",fechaInstalacion:"03/08/2026"},{item:"HSLB15093",zona:"CN-Salas y Habitaciones de Hospitalizacin",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silln Bergere",proveedor:"MELMAN SPA",cantidad:1,piso:5,recinto:"SALA 1 CAMA",fechaInstalacion:"17/07/2026"},{item:"HSLB15102",zona:"CN-Salas y Habitaciones de Hospitalizacin",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silln Bergere",proveedor:"MELMAN SPA",cantidad:4,piso:4,recinto:"SALA 4 CAMAS",fechaInstalacion:"17/07/2026"},{item:"HSLB15112",zona:"CA-Unidad de Paciente Crtico",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silln Bergere",proveedor:"MELMAN SPA",cantidad:1,piso:3,recinto:"SALA 1 CAMA",fechaInstalacion:"01/07/2026"},{item:"HSLB15121",zona:"CA-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silln Bergere",proveedor:"MELMAN SPA",cantidad:1,piso:3,recinto:"RESIDENCIA MDICA",fechaInstalacion:"17/07/2026"},{item:"HSLB15143",zona:"CM-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silln Tipo Poltrona",proveedor:"MELMAN SPA",cantidad:2,piso:2,recinto:"SALA ENTREVISTA A PACIENTES",fechaInstalacion:"01/07/2026"},{item:"HSLB15265",zona:"NC-SAMU",servicio:"Urgencia",familia:"Mobiliario",nombre:"Cama 1 1/2 Plaza",proveedor:"MELMAN SPA",cantidad:2,piso:1,recinto:"RESIDENCIA DOBLE",fechaInstalacion:"01/07/2026"},{item:"HSLB15274",zona:"CM-Sala Cuna y Jardn Infantil",servicio:"Administracin y apoyo general",familia:"Otro",nombre:"Contenedor",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"NIVEL SALA CUNA 2",fechaInstalacion:"01/07/2026"},{item:"HSLB15172",zona:"CN-Laboratorios",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Escritorio simple 120x70 cm",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"TOMA DE MUESTRA COMUN",fechaInstalacion:"01/07/2026"},{item:"HSLB15275",zona:"CM-Sala Cuna y Jardn Infantil",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Mesa Prvulo Inclusin",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"NIVEL SALA CUNA 2",fechaInstalacion:"01/07/2026"},{item:"HSLB13698",zona:"NC-reas Adminitrativas en General",servicio:"Administracin y apoyo general",familia:"Otro",nombre:"Mueble Tipo Biblioteca A",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"COORDINADOR SALUD DEL TRABAJADOR",fechaInstalacion:"01/07/2026"},{item:"HSLB15278",zona:"NC-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Otro",nombre:"Mueble Tipo Biblioteca A",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"SALA MULTIUSO (labores administrativas)",fechaInstalacion:"01/07/2026"},{item:"HSLB15282",zona:"CM-Otros Servicios Adyacentes",servicio:"Psiquiatra",familia:"Silla",nombre:"Silla Alta Cafeteria",proveedor:"MELMAN SPA",cantidad:6,piso:2,recinto:"TALLER DE COCINA",fechaInstalacion:"01/06/2026"},{item:"HSLB15292",zona:"CN-Salas y Habitaciones de Hospitalizacin",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"SALA DE ATENCIN",fechaInstalacion:"01/07/2026"},{item:"HSLB15305",zona:"CA-Central de Esterilizacin",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:2,piso:3,recinto:"REA EQUIPO AIRE COMPRIMIDO- OSMOSIS INVERSA",fechaInstalacion:"17/07/2026"},{item:"HSLB15312",zona:"NC-reas de Servicios Generales",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"PREPARACIN DE CARROS",fechaInstalacion:"01/07/2026"},{item:"HSLB15321",zona:"CN-Salas de Procedimientos Invasivos y/o de Mayor Complejidad",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"SALA PROCEDIMIENTOS ENDOSCOPA INDIFERENCIADO",fechaInstalacion:"01/07/2026"},{item:"HSLB15330",zona:"CM-Servicio Dental",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:2,piso:2,recinto:"BOX DENTAL POLIFUNCIONAL(5)",fechaInstalacion:"01/06/2026"},{item:"HSLB15339",zona:"CM-Consultas Ambulatorias",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"SALA DE PROCEDIMIENTO",fechaInstalacion:"01/07/2026"},{item:"HSLB15346",zona:"CN-Urgencia",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"BOX MONITOREO FETAL C / BAO",fechaInstalacion:"01/07/2026"},{item:"HSLB15355",zona:"CN-Urgencia",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:2,piso:1,recinto:"BOX AT. ACOGIDA C/BAO Y DUCHA",fechaInstalacion:"01/07/2026"}],yR={totalItems:1973,totalQty:4456,uniqueRecintos:812,uniqueNombres:79,uniqueServicios:39,uniqueZonas:29,proveedores:3,familias:4,byFamilia:[{name:"Silla",qty:3233},{name:"Mesa",qty:694},{name:"Otro",qty:426},{name:"Mobiliario",qty:103}],byProveedor:[{name:"MELMAN SPA",qty:4256},{name:"ALLMEDICA",qty:106},{name:"COMERCIAL HAGELIN",qty:94}],byPiso:[{name:"Piso 1",piso:1,qty:1466},{name:"Piso 2",piso:2,qty:1547},{name:"Piso 3",piso:3,qty:845},{name:"Piso 4",piso:4,qty:184},{name:"Piso 5",piso:5,qty:137},{name:"Piso 6",piso:6,qty:150},{name:"Piso 7",piso:7,qty:127}],byServicio:[{name:"Administracin y apoyo general",qty:825},{name:"Consultas medicas generales",qty:376},{name:"Urgencia",qty:311},{name:"Comedor funcionarios/pblico",qty:307},{name:"Sala Cuna",qty:296},{name:"Hospitalizacin",qty:230},{name:"Hospital de da",qty:212},{name:"Psiquiatra",qty:179},{name:"UHCIP",qty:170},{name:"Laboratorio",qty:166},{name:"Med fsica y rehabilitacin",qty:144},{name:"Imagenologa",qty:90},{name:"Pabellones",qty:86},{name:"Contabilidad",qty:83},{name:"Dilisis",qty:76},{name:"Farmacia",qty:75},{name:"UTI",qty:71},{name:"Central de Alimentacin",qty:69},{name:"Odontologa",qty:68},{name:"Cafetera",qty:66},{name:"Consultas Ambulatorias",qty:59},{name:"Mantenimiento",qty:52},{name:"Biblioteca",qty:52},{name:"Parto Integral",qty:48},{name:"Laboratorio UMT",qty:46},{name:"Cuidados Paliativos",qty:45},{name:"Vestuario",qty:41},{name:"Auditorio",qty:40},{name:"Abastecimiento",qty:32},{name:"Esterilizacin",qty:29},{name:"Chile Crece Contigo",qty:26},{name:"Neonatologa",qty:25},{name:"SEDILE",qty:14},{name:"Lavandera",qty:12},{name:"Morgue",qty:11},{name:"Telemedicina",qty:8},{name:"Circulacin Rehabilitacin",qty:8},{name:"Exterior portera",qty:6},{name:"Ciruga menor",qty:2}],byNombre:[{name:"Silla Visita",qty:1285},{name:"Silla Ergonmica",qty:631},{name:"Silla tipo Casino",qty:478},{name:"Mueble Tipo Biblioteca A",qty:272},{name:"Silla Butaca Espera 3 Cuerpos",qty:223},{name:"Silln Bergere",qty:185},{name:"Escritorio en L Administrativo",qty:178},{name:"Escritorio simple 120x70 cm",qty:122},{name:"Silln 2 Cuerpo",qty:103},{name:"Mesa Tipo Casino",qty:74},{name:"Punto de Registro",qty:67},{name:"Banca Madera B",qty:59},{name:"Escritorio de Consultas",qty:58},{name:"Colchoneta Reposo A",qty:56},{name:"Mesa Reuniones Tipo I",qty:54},{name:"Silla Prvulo",qty:52},{name:"Mesa Tipo Casino Circular",qty:41},{name:"Silla Tipo Universitaria",qty:33},{name:"Mesa Lateral",qty:31},{name:"Silln 1 Cuerpo",qty:31},{name:"Banca Madera A",qty:29},{name:"Cama Apilable",qty:28},{name:"Banca Madera C",qty:21},{name:"Perchero",qty:20},{name:"Velador",qty:20}],byMes:[{name:"Mayo 2026",qty:66},{name:"Junio 2026",qty:44},{name:"Julio 2026",qty:4069},{name:"Agosto 2026",qty:277}],bySemana:[{name:"29/06 - 05/07",qty:2924},{name:"13/07 - 19/07",qty:1145},{name:"03/08 - 09/08",qty:277},{name:"04/05 - 10/05",qty:66},{name:"01/06 - 07/06",qty:44}],byDia:[{name:"01/07/2026",qty:2924},{name:"17/07/2026",qty:1145},{name:"03/08/2026",qty:277},{name:"04/05/2026",qty:66},{name:"01/06/2026",qty:44}],fechaStats:{fechaMin:"04/05/2026",fechaMax:"03/08/2026",totalMeses:4,totalSemanas:5}},R={primary:"#0090FF",primaryDark:"#0070DD",green:"#00C896",orange:"#FF9500",red:"#FF3B30",purple:"#8B5CF6",blue:"#0EA5E9",cyan:"#06B6D4",bg:"#F8F9FA",sidebar:"#EFF3F6",white:"#FFFFFF",border:"#E5E7EB",borderLight:"#F3F4F6",text:"#1F2937",textMuted:"#6B7280",textLight:"#9CA3AF"},Sn=[R.primary,R.green,R.orange,R.purple,R.cyan,R.blue,"#F59E0B","#EC4899","#14B8A6","#8B5CF6","#0EA5E9","#F97316"],jr={Silla:R.primary,Mesa:R.orange,Otro:R.green,Mobiliario:R.purple};function MW({icon:n,color:e,size:t=56}){return N.jsx("div",{style:{width:t,height:t,background:`linear-gradient(135deg, ${e} 0%, ${e}DD 100%)`,borderRadius:12,display:"flex",alignItems:"center",justifyContent:"center",fontSize:t*.5,boxShadow:`0 4px 12px ${e}30`},children:n})}function wi({label:n,value:e,sub:t,icon:i,color:r=R.primary,compact:s=!1}){return N.jsx("div",{style:{background:R.white,border:`1px solid ${R.border}`,borderRadius:12,padding:s?"20px":"24px",display:"flex",flexDirection:"column",gap:s?12:16,boxShadow:"0 1px 3px rgba(0,0,0,0.04), 0 1px 2px rgba(0,0,0,0.02)",transition:"all 0.2s ease",cursor:"pointer"},onMouseEnter:l=>{l.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.08), 0 2px 4px rgba(0,0,0,0.04)",l.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:l=>{l.currentTarget.style.boxShadow="0 1px 3px rgba(0,0,0,0.04), 0 1px 2px rgba(0,0,0,0.02)",l.currentTarget.style.transform="translateY(0)"},children:N.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[N.jsx(MW,{icon:i,color:r,size:s?44:56}),N.jsxs("div",{style:{flex:1},children:[N.jsx("div",{style:{fontSize:11,color:R.textLight,fontWeight:600,textTransform:"uppercase",letterSpacing:.5,marginBottom:4},children:n}),N.jsxs("div",{style:{fontSize:s?24:32,fontWeight:700,color:R.text,lineHeight:1,fontFamily:"'Inter', -apple-system, system-ui, sans-serif"},children:[typeof e=="number"?e.toLocaleString("es-CL"):e,t&&N.jsx("span",{style:{fontSize:s?11:13,color:R.textMuted,fontWeight:500,marginLeft:6},children:t})]})]})]})})}function Pc({label:n,value:e,color:t,icon:i}){return N.jsxs("div",{style:{display:"flex",alignItems:"center",gap:16,padding:"16px 20px",background:R.white,borderRadius:12,border:`1px solid ${R.borderLight}`},children:[N.jsx("div",{style:{width:48,height:48,background:t,borderRadius:10,display:"flex",alignItems:"center",justifyContent:"center",fontSize:20,color:R.white,fontWeight:700},children:i}),N.jsxs("div",{style:{flex:1},children:[N.jsx("div",{style:{fontSize:28,fontWeight:700,color:R.text,lineHeight:1,marginBottom:4},children:e}),N.jsx("div",{style:{fontSize:12,color:R.textMuted,fontWeight:500},children:n})]})]})}function Fn({children:n,count:e,action:t,icon:i}){return N.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:20,marginTop:32},children:[N.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[i&&N.jsx("span",{style:{fontSize:20},children:i}),N.jsx("h2",{style:{fontSize:20,fontWeight:700,color:R.text,margin:0,fontFamily:"'Inter', -apple-system, system-ui, sans-serif"},children:n}),e&&N.jsx("span",{style:{background:R.borderLight,color:R.textMuted,padding:"4px 10px",borderRadius:6,fontSize:12,fontWeight:600},children:e})]}),t&&N.jsx("button",{style:{background:"transparent",color:R.primary,border:"none",fontSize:14,fontWeight:600,cursor:"pointer",padding:"6px 12px",borderRadius:6,transition:"background 0.2s ease"},onMouseEnter:r=>r.currentTarget.style.background=R.borderLight,onMouseLeave:r=>r.currentTarget.style.background="transparent",children:t})]})}function Rr({active:n,payload:e}){if(!n||!e||!e.length)return null;const t=e[0];return N.jsxs("div",{style:{background:R.white,border:`1px solid ${R.border}`,borderRadius:8,padding:"10px 14px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},children:[N.jsx("div",{style:{fontSize:12,color:R.textMuted,marginBottom:4,fontWeight:500},children:t.payload.name||t.name}),N.jsx("div",{style:{fontSize:18,fontWeight:700,color:t.color||R.primary},children:(t.value||t.payload.qty||t.payload.value||0).toLocaleString("es-CL")})]})}function ko({data:n,columns:e,maxRows:t=10}){const[i,r]=C.useState(!1),s=i?n:n.slice(0,t);return N.jsxs("div",{style:{background:R.white,borderRadius:12,overflow:"hidden",border:`1px solid ${R.border}`,boxShadow:"0 1px 3px rgba(0,0,0,0.04)"},children:[N.jsx("div",{style:{display:"grid",gridTemplateColumns:e.map(l=>l.width||"1fr").join(" "),columnGap:24,background:R.bg,borderBottom:`1px solid ${R.border}`,padding:"14px 20px",fontWeight:600,fontSize:11,color:R.textMuted,letterSpacing:.5,textTransform:"uppercase"},children:e.map(l=>N.jsx("div",{style:{textAlign:l.align||"left"},children:l.label},l.key))}),s.map((l,c)=>N.jsx("div",{style:{display:"grid",gridTemplateColumns:e.map(d=>d.width||"1fr").join(" "),columnGap:24,padding:"14px 20px",borderBottom:c<s.length-1?`1px solid ${R.borderLight}`:"none",transition:"background 0.15s ease"},onMouseEnter:d=>d.currentTarget.style.background=R.bg,onMouseLeave:d=>d.currentTarget.style.background=R.white,children:e.map(d=>{const f=l[d.key];return N.jsx("div",{style:{textAlign:d.align||"left",fontSize:14,color:d.highlight?R.text:R.textMuted,fontWeight:d.highlight?600:400,fontFamily:d.mono?"'SF Mono', 'Monaco', monospace":"inherit"},children:d.render?d.render(f,l):f},d.key)})},c)),n.length>t&&N.jsx("div",{style:{padding:"14px 20px",textAlign:"center",borderTop:`1px solid ${R.borderLight}`,background:R.bg},children:N.jsx("button",{onClick:()=>r(!i),style:{background:R.primary,color:R.white,border:"none",padding:"8px 20px",borderRadius:8,fontSize:13,fontWeight:600,cursor:"pointer",transition:"background 0.2s ease"},onMouseEnter:l=>l.currentTarget.style.background=R.primaryDark,onMouseLeave:l=>l.currentTarget.style.background=R.primary,children:i?"Mostrar menos":`Ver ${n.length-t} ms`})})]})}function Bo({value:n,max:e,color:t=R.primary}){const i=Math.min(100,n/e*100);return N.jsx("div",{style:{background:R.borderLight,borderRadius:4,height:6,overflow:"hidden"},children:N.jsx("div",{style:{background:t,width:`${i}%`,height:"100%",borderRadius:4,transition:"width 0.4s ease"}})})}function _W({data:n}){const[e,t]=C.useState({zona:"",familia:"",proveedor:"",piso:"",servicio:"",search:"",fechaDesde:"",fechaHasta:""}),[i,r]=C.useState(1),s=20,l=C.useMemo(()=>[...new Set(n.map(E=>E.zona))].filter(Boolean).sort(),[n]),c=C.useMemo(()=>[...new Set(n.map(E=>E.familia))].filter(Boolean).sort(),[n]),d=C.useMemo(()=>[...new Set(n.map(E=>E.proveedor))].filter(Boolean).sort(),[n]),f=C.useMemo(()=>[...new Set(n.map(E=>E.piso))].filter(Boolean).sort((E,x)=>E-x),[n]),h=C.useMemo(()=>yR.byServicio.map(E=>E.name).sort(),[]),p=E=>{if(!E)return null;const[x,O,T]=E.split("/");return new Date(Number(T),Number(O)-1,Number(x))},g=C.useMemo(()=>{const E=e.fechaDesde?new Date(e.fechaDesde):null,x=e.fechaHasta?new Date(e.fechaHasta):null;return n.filter(O=>{const T=!e.zona||O.zona===e.zona,P=!e.familia||O.familia===e.familia,M=!e.proveedor||O.proveedor===e.proveedor,_=!e.piso||O.piso.toString()===e.piso,L=!e.servicio||O.servicio===e.servicio,B=!e.search||O.nombre?.toLowerCase().includes(e.search.toLowerCase())||O.recinto?.toLowerCase().includes(e.search.toLowerCase())||O.item?.toLowerCase().includes(e.search.toLowerCase()),F=p(O.fechaInstalacion),X=!E||!F||F>=E,q=!x||!F||F<=x;return T&&P&&M&&_&&L&&B&&X&&q})},[n,e]),y=Math.ceil(g.length/s),S=g.slice((i-1)*s,i*s);C.useEffect(()=>{r(1)},[e]);const A=({label:E,value:x,onChange:O,options:T,placeholder:P})=>N.jsxs("div",{style:{flex:1,minWidth:150},children:[N.jsx("label",{style:{display:"block",fontSize:11,fontWeight:600,color:R.textMuted,marginBottom:6,textTransform:"uppercase",letterSpacing:.5},children:E}),N.jsxs("select",{value:x,onChange:M=>O(M.target.value),style:{width:"100%",padding:"8px 12px",borderRadius:8,border:`1px solid ${R.border}`,background:R.white,fontSize:13,color:R.text,cursor:"pointer",transition:"border-color 0.2s ease"},onFocus:M=>M.target.style.borderColor=R.primary,onBlur:M=>M.target.style.borderColor=R.border,children:[N.jsx("option",{value:"",children:P}),T.map((M,_)=>N.jsx("option",{value:M,children:M},_))]})]});return N.jsxs(N.Fragment,{children:[N.jsx(Fn,{icon:"",children:"Datos Completos del Inventario"}),N.jsxs("div",{style:{background:R.white,borderRadius:12,padding:24,border:`1px solid ${R.border}`,boxShadow:"0 1px 3px rgba(0,0,0,0.04)",marginBottom:24},children:[N.jsx("div",{style:{marginBottom:20},children:N.jsx("input",{type:"text",placeholder:" Buscar por nombre, recinto o cdigo...",value:e.search,onChange:E=>t({...e,search:E.target.value}),style:{width:"100%",padding:"12px 16px",borderRadius:8,border:`1px solid ${R.border}`,fontSize:14,color:R.text,transition:"border-color 0.2s ease"},onFocus:E=>E.target.style.borderColor=R.primary,onBlur:E=>E.target.style.borderColor=R.border})}),N.jsxs("div",{style:{display:"flex",gap:12,marginBottom:20,flexWrap:"wrap"},children:[N.jsx(A,{label:"Familia",value:e.familia,onChange:E=>t({...e,familia:E}),options:c,placeholder:"Todas las familias"}),N.jsx(A,{label:"Piso",value:e.piso,onChange:E=>t({...e,piso:E}),options:f.map(String),placeholder:"Todos los pisos"}),N.jsx(A,{label:"Proveedor",value:e.proveedor,onChange:E=>t({...e,proveedor:E}),options:d,placeholder:"Todos los proveedores"}),N.jsx(A,{label:"Zona",value:e.zona,onChange:E=>t({...e,zona:E}),options:l,placeholder:"Todas las zonas"}),N.jsx(A,{label:"Servicio",value:e.servicio,onChange:E=>t({...e,servicio:E}),options:h,placeholder:"Todos los servicios"}),N.jsxs("div",{style:{flex:1,minWidth:150},children:[N.jsx("label",{style:{display:"block",fontSize:11,fontWeight:600,color:R.textMuted,marginBottom:6,textTransform:"uppercase",letterSpacing:.5},children:"Fecha Desde"}),N.jsx("input",{type:"date",value:e.fechaDesde,onChange:E=>t({...e,fechaDesde:E.target.value}),style:{width:"100%",padding:"8px 12px",borderRadius:8,border:`1px solid ${R.border}`,background:R.white,fontSize:13,color:R.text,cursor:"pointer",transition:"border-color 0.2s ease"},onFocus:E=>E.target.style.borderColor=R.primary,onBlur:E=>E.target.style.borderColor=R.border})]}),N.jsxs("div",{style:{flex:1,minWidth:150},children:[N.jsx("label",{style:{display:"block",fontSize:11,fontWeight:600,color:R.textMuted,marginBottom:6,textTransform:"uppercase",letterSpacing:.5},children:"Fecha Hasta"}),N.jsx("input",{type:"date",value:e.fechaHasta,onChange:E=>t({...e,fechaHasta:E.target.value}),style:{width:"100%",padding:"8px 12px",borderRadius:8,border:`1px solid ${R.border}`,background:R.white,fontSize:13,color:R.text,cursor:"pointer",transition:"border-color 0.2s ease"},onFocus:E=>E.target.style.borderColor=R.primary,onBlur:E=>E.target.style.borderColor=R.border})]}),Object.values(e).some(E=>E)&&N.jsx("div",{style:{flex:1,minWidth:150,display:"flex",alignItems:"flex-end"},children:N.jsx("button",{onClick:()=>t({zona:"",familia:"",proveedor:"",piso:"",servicio:"",search:"",fechaDesde:"",fechaHasta:""}),style:{padding:"8px 16px",borderRadius:8,border:`1px solid ${R.border}`,background:R.white,color:R.textMuted,fontSize:13,fontWeight:600,cursor:"pointer",transition:"all 0.2s ease",width:"100%"},onMouseEnter:E=>{E.currentTarget.style.background=R.red,E.currentTarget.style.color=R.white,E.currentTarget.style.borderColor=R.red},onMouseLeave:E=>{E.currentTarget.style.background=R.white,E.currentTarget.style.color=R.textMuted,E.currentTarget.style.borderColor=R.border},children:"Limpiar filtros"})})]}),N.jsxs("div",{style:{marginBottom:16,fontSize:13,color:R.textMuted,fontWeight:500},children:["Mostrando ",N.jsx("span",{style:{color:R.primary,fontWeight:700},children:g.length})," de ",n.length," registros",g.length!==n.length&&N.jsxs("span",{style:{marginLeft:8},children:["(",(g.length/n.length*100).toFixed(1),"% del total)"]})]}),N.jsx("div",{style:{overflowX:"auto"},children:N.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[N.jsx("thead",{children:N.jsxs("tr",{style:{background:R.bg,borderBottom:`2px solid ${R.border}`},children:[N.jsx("th",{style:{padding:"12px 16px",textAlign:"left",fontSize:11,fontWeight:600,color:R.textMuted,textTransform:"uppercase",letterSpacing:.5},children:"tem"}),N.jsx("th",{style:{padding:"12px 16px",textAlign:"left",fontSize:11,fontWeight:600,color:R.textMuted,textTransform:"uppercase",letterSpacing:.5},children:"Nombre"}),N.jsx("th",{style:{padding:"12px 16px",textAlign:"left",fontSize:11,fontWeight:600,color:R.textMuted,textTransform:"uppercase",letterSpacing:.5},children:"Familia"}),N.jsx("th",{style:{padding:"12px 16px",textAlign:"center",fontSize:11,fontWeight:600,color:R.textMuted,textTransform:"uppercase",letterSpacing:.5},children:"Cant."}),N.jsx("th",{style:{padding:"12px 16px",textAlign:"center",fontSize:11,fontWeight:600,color:R.textMuted,textTransform:"uppercase",letterSpacing:.5},children:"Piso"}),N.jsx("th",{style:{padding:"12px 16px",textAlign:"left",fontSize:11,fontWeight:600,color:R.textMuted,textTransform:"uppercase",letterSpacing:.5},children:"Recinto"}),N.jsx("th",{style:{padding:"12px 16px",textAlign:"left",fontSize:11,fontWeight:600,color:R.textMuted,textTransform:"uppercase",letterSpacing:.5},children:"Proveedor"}),N.jsx("th",{style:{padding:"12px 16px",textAlign:"left",fontSize:11,fontWeight:600,color:R.textMuted,textTransform:"uppercase",letterSpacing:.5},children:"Zona"}),N.jsx("th",{style:{padding:"12px 16px",textAlign:"center",fontSize:11,fontWeight:600,color:R.textMuted,textTransform:"uppercase",letterSpacing:.5},children:"Fecha Inst."})]})}),N.jsx("tbody",{children:S.length>0?S.map((E,x)=>N.jsxs("tr",{style:{borderBottom:`1px solid ${R.borderLight}`,transition:"background 0.15s ease"},onMouseEnter:O=>O.currentTarget.style.background=R.bg,onMouseLeave:O=>O.currentTarget.style.background=R.white,children:[N.jsx("td",{style:{padding:"12px 16px",fontSize:13,color:R.textMuted,fontFamily:"'SF Mono', monospace"},children:E.item}),N.jsx("td",{style:{padding:"12px 16px",fontSize:13,color:R.text,fontWeight:600},children:E.nombre}),N.jsx("td",{style:{padding:"12px 16px",fontSize:13,color:R.text},children:N.jsx("span",{style:{padding:"4px 10px",borderRadius:6,background:jr[E.familia]?`${jr[E.familia]}15`:R.borderLight,color:jr[E.familia]||R.textMuted,fontSize:12,fontWeight:600},children:E.familia})}),N.jsx("td",{style:{padding:"12px 16px",fontSize:14,color:R.text,textAlign:"center",fontWeight:700},children:E.cantidad}),N.jsx("td",{style:{padding:"12px 16px",fontSize:13,color:R.text,textAlign:"center",fontWeight:600},children:E.piso}),N.jsx("td",{style:{padding:"12px 16px",fontSize:12,color:R.textMuted,maxWidth:200,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:E.recinto}),N.jsx("td",{style:{padding:"12px 16px",fontSize:12,color:R.text},children:E.proveedor}),N.jsx("td",{style:{padding:"12px 16px",fontSize:11,color:R.textMuted,maxWidth:180,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:E.zona}),N.jsx("td",{style:{padding:"12px 16px",fontSize:12,color:R.primary,textAlign:"center",fontWeight:600,whiteSpace:"nowrap"},children:E.fechaInstalacion})]},x)):N.jsx("tr",{children:N.jsx("td",{colSpan:9,style:{padding:"40px",textAlign:"center",color:R.textMuted,fontSize:14},children:"No se encontraron resultados con los filtros aplicados"})})})]})}),y>1&&N.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:20,paddingTop:20,borderTop:`1px solid ${R.borderLight}`},children:[N.jsxs("div",{style:{fontSize:13,color:R.textMuted},children:["Pgina ",i," de ",y]}),N.jsxs("div",{style:{display:"flex",gap:8},children:[N.jsx("button",{onClick:()=>r(Math.max(1,i-1)),disabled:i===1,style:{padding:"8px 16px",borderRadius:8,border:`1px solid ${R.border}`,background:i===1?R.borderLight:R.white,color:i===1?R.textMuted:R.text,fontSize:13,fontWeight:600,cursor:i===1?"not-allowed":"pointer",transition:"all 0.2s ease"},onMouseEnter:E=>{i!==1&&(E.currentTarget.style.background=R.primary,E.currentTarget.style.color=R.white,E.currentTarget.style.borderColor=R.primary)},onMouseLeave:E=>{i!==1&&(E.currentTarget.style.background=R.white,E.currentTarget.style.color=R.text,E.currentTarget.style.borderColor=R.border)},children:" Anterior"}),N.jsx("button",{onClick:()=>r(Math.min(y,i+1)),disabled:i===y,style:{padding:"8px 16px",borderRadius:8,border:`1px solid ${R.border}`,background:i===y?R.borderLight:R.white,color:i===y?R.textMuted:R.text,fontSize:13,fontWeight:600,cursor:i===y?"not-allowed":"pointer",transition:"all 0.2s ease"},onMouseEnter:E=>{i!==y&&(E.currentTarget.style.background=R.primary,E.currentTarget.style.color=R.white,E.currentTarget.style.borderColor=R.primary)},onMouseLeave:E=>{i!==y&&(E.currentTarget.style.background=R.white,E.currentTarget.style.color=R.text,E.currentTarget.style.borderColor=R.border)},children:"Siguiente "})]})]})]})]})}function PW({url:n}){const e=C.useRef(null),t=C.useRef([]),[i,r]=C.useState(0),[s,l]=C.useState(1),[c,d]=C.useState(1),[f,h]=C.useState(0),[p,g]=C.useState(!0),[y,S]=C.useState(null),A=C.useRef(null),E=C.useRef(new Map),x=C.useCallback(async(M,_)=>{E.current.forEach(L=>L.cancel()),E.current.clear();for(let L=1;L<=M.numPages;L++){const B=await M.getPage(L),F=B.getViewport({scale:_}),X=t.current[L-1];if(!X)continue;const q=window.devicePixelRatio||1;X.width=F.width*q,X.height=F.height*q,X.style.width=F.width+"px",X.style.height=F.height+"px";const $=X.getContext("2d");$.scale(q,q);const se=B.render({canvasContext:$,viewport:F});E.current.set(L,se);try{await se.promise}catch{}}},[]),O=C.useCallback(M=>{const _=e.current?.clientWidth??900;return Math.max(.3,(_-24)/M)},[]);C.useEffect(()=>{g(!0),S(null),r(0),t.current=[],A.current=null,E.current.forEach(M=>M.cancel()),E.current.clear(),g2(n).promise.then(async M=>{A.current=M,r(M.numPages);const L=(await M.getPage(1)).getViewport({scale:1});h(L.width);const B=O(L.width);d(B),g(!1),setTimeout(()=>x(M,B),60)}).catch(()=>{S("No se pudo cargar el PDF."),g(!1)})},[n,x,O]),C.useEffect(()=>{if(!e.current||f===0)return;const M=new ResizeObserver(()=>{if(!A.current)return;const _=O(f);d(_),x(A.current,_)});return M.observe(e.current),()=>M.disconnect()},[f,O,x]);const T=C.useCallback(()=>{if(!A.current||f===0)return;const M=O(f);d(M),x(A.current,M)},[f,O,x]),P=C.useCallback(M=>{d(_=>{const L=Math.min(4,Math.max(.3,parseFloat((_+M).toFixed(2))));return A.current&&x(A.current,L),L})},[x]);return C.useEffect(()=>{const M=e.current;if(!M)return;const _=()=>{const L=M.getBoundingClientRect();t.current.forEach((B,F)=>{if(!B)return;const X=B.getBoundingClientRect();X.top<=L.top+L.height*.6&&X.bottom>=L.top&&l(F+1)})};return M.addEventListener("scroll",_),()=>M.removeEventListener("scroll",_)},[i]),N.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100%"},children:[N.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,padding:"10px 16px",borderBottom:"1px solid #e5e7eb",background:"#f8fafc",flexShrink:0},children:[N.jsx("button",{onClick:()=>P(-.15),style:zy,title:"Alejar",children:""}),N.jsxs("span",{style:{fontSize:13,fontWeight:600,color:"#374151",minWidth:48,textAlign:"center"},children:[Math.round(c*100),"%"]}),N.jsx("button",{onClick:()=>P(.15),style:zy,title:"Acercar",children:"+"}),N.jsx("button",{onClick:T,style:{...zy,width:"auto",padding:"0 10px",fontSize:12},title:"Ajustar al ancho",children:" Ajustar"}),N.jsx("span",{style:{flex:1}}),i>0&&N.jsxs("span",{style:{fontSize:12,color:"#6b7280"},children:["Pg. ",s," / ",i]}),N.jsx("a",{href:n,target:"_blank",rel:"noopener noreferrer",style:{fontSize:12,color:"#2563eb",fontWeight:600,textDecoration:"none",padding:"4px 10px",border:"1px solid #2563eb",borderRadius:6},children:" Nueva pestaa"})]}),N.jsxs("div",{ref:e,style:{flex:1,overflowY:"auto",overflowX:"hidden",background:"#525659",padding:"16px 12px",display:"flex",flexDirection:"column",alignItems:"center",gap:12,minHeight:600},children:[p&&N.jsx("div",{style:{color:"#fff",marginTop:60,fontSize:15},children:"Cargando PDF"}),y&&N.jsx("div",{style:{color:"#fca5a5",marginTop:60,fontSize:15},children:y}),!p&&!y&&Array.from({length:i}).map((M,_)=>N.jsx("canvas",{ref:L=>{L&&(t.current[_]=L)},style:{boxShadow:"0 2px 8px rgba(0,0,0,0.4)",background:"#fff",display:"block",maxWidth:"100%"}},_))]})]})}const zy={width:32,height:32,border:"1px solid #d1d5db",borderRadius:6,background:"#fff",cursor:"pointer",fontSize:16,fontWeight:700,display:"flex",alignItems:"center",justifyContent:"center"};function DW(){const[n,e]=C.useState("Resumen"),t=yR,i=[{name:"Resumen",icon:""},{name:"Por Familia",icon:""},{name:"Por Proveedor",icon:""},{name:"Por Piso",icon:""},{name:"Por Servicio",icon:""},{name:"Por Producto",icon:""},{name:"Por Fecha",icon:""},{name:"Esp. Tcnicas",icon:""}],r=[{code:"201.001",name:"Estacin de Trabajo",file:"EETT 201.001 ESTACION DE TRABAJO (REV2).pdf"},{code:"201.002",name:"Mesa Lateral",file:"EETT 201.002 MESA LATERAL (REV1).pdf"},{code:"201.003",name:"Mesa Prvulo Inclusin",file:"EETT 201.003 MESA PARVULO INCLUSION (REV1).pdf"},{code:"201.004",name:"Mesa Prvulo Tipo I",file:"EETT 201.004 MESA PARVULO TIPO I (REV1).pdf"},{code:"201.005",name:"Mesa Prvulo Tipo II",file:"EETT 201.005 MESA PARVULO TIPO II (REV1).pdf"},{code:"201.008",name:"Mesa Reuniones Tipo I",file:"EETT 201.008 MESA REUNIONES TIPO I (REV1).pdf"},{code:"201.009",name:"Mesa Reuniones Tipo II",file:"EETT 201.009 MESA REUNIONES TIPO II (REV3).pdf"},{code:"201.010",name:"Mesa Reuniones Tipo III",file:"EETT 201.010 MESA REUNIONES TIPO III (REV3).pdf"},{code:"201.011",name:"Mesa Tipo Casino",file:"EETT 201.011 MESA TIPO CASINO (REV1).pdf"},{code:"202.001",name:"Atril Graduable",file:"EETT 202.001 ATRIL GRADUABLE (REV1).pdf"},{code:"202.006",name:"Cama Apilable",file:"EETT 202.006 CAMA APILABLE (REV1).pdf"},{code:"202.008",name:"Cuna Alta",file:"EETT 202.008 CUNA ALTA (REV1).pdf"},{code:"202.009",name:"Cuna Baja",file:"EETT 202.009 CUNA BAJA (REV1).pdf"},{code:"202.012",name:"Mueble Locker",file:"EETT 202.012 MUEBLE LOCKER (REV1).pdf"},{code:"203.014",name:"Librero",file:"EETT 203.014 LIBRERO (REV1).pdf"},{code:"203.015",name:"Mueble Arrimo",file:"EETT 203.015 MUEBLE ARRIMO (REV1).pdf"},{code:"203.016",name:"Mueble Tipo Biblioteca",file:"EETT 203.016 MUEBLE TIPO BIBLIOTECA.pdf"},{code:"203.018",name:"Perchero",file:"EETT 203.018 PERCHERO (REV1).pdf"},{code:"203.022",name:"Contenedor",file:"EETT 203.022 CONTENEDOR.pdf"},{code:"204.001",name:"Banca",file:"EETT 204.001 BANCA (REV1).pdf"},{code:"204.002",name:"Banca Madera",file:"EETT 204.002 BANCA MADERA (REV1).pdf"},{code:"204.003",name:"Silla Adulto",file:"EETT 204.003 SILLA ADULTO (REV1).pdf"},{code:"204.005",name:"Silla Bacnica",file:"EETT 204.005 SILLA BACINICA (REV1).pdf"},{code:"204.006",name:"Silla Ergonmica",file:"EETT 204.006 SILLA ERGONOMICA (REV1).pdf"},{code:"204.007",name:"Silla Lactante",file:"EETT 204.007 SILLA LACTANTE (REV1).pdf"},{code:"204.009",name:"Silla Prvulo",file:"EETT 204.009 SILLA PARVULO (REV1).pdf"},{code:"204.010",name:"Silla Tipo Casino",file:"EETT 204.010 SILLA TIPO CASINO (REV1).pdf"},{code:"204.011",name:"Silla Tipo Universitaria",file:"EETT 204.011 SILLA TIPO UNIVERSITARIA (REV1).pdf"},{code:"204.012",name:"Silla Visita",file:"EETT 204.012 SILLA VISITA (REV1).pdf"},{code:"204.013",name:"Silln 1 Cuerpo",file:"EETT 204.013 SILLON 1 CUERPO (REV1).pdf"},{code:"204.014",name:"Silln 2 Cuerpo",file:"EETT 204.014 SILLON 2 CUERPO (REV1).pdf"},{code:"204.015",name:"Silln Bergere",file:"EETT 204.015 SILLON BERGERE (REV1).pdf"},{code:"204.019",name:"Silla de Apoyo Hora Ingesta",file:"EETT 204.019 SILLA DE APOYO HORA INGESTA.pdf"},{code:"204.020",name:"Silla Butaca Espera 3 Cuerpos",file:"EETT 204.020 SILLA BUTACA ESPERA 3 CUERPOS.pdf"}],[s,l]=C.useState(null),[c,d]=C.useState(""),f=h=>h.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase();return N.jsxs("div",{style:{minHeight:"100vh",background:R.bg,display:"flex"},children:[N.jsxs("div",{style:{width:240,background:R.sidebar,borderRight:`1px solid ${R.border}`,padding:"24px 0",display:"flex",flexDirection:"column"},children:[N.jsx("div",{style:{padding:"0 24px 32px 24px",borderBottom:`1px solid ${R.border}`},children:N.jsx("img",{src:"/hospital-buin-paine-dashboard/logo-buin-paine.png",alt:"Hospital Buin Paine",style:{width:"100%",maxWidth:160,display:"block"}})}),N.jsx("div",{style:{flex:1,padding:"24px 16px"},children:i.map(h=>N.jsxs("button",{onClick:()=>e(h.name),style:{width:"100%",background:n===h.name?`${R.primary}10`:"transparent",color:n===h.name?R.primary:R.textMuted,border:"none",padding:"12px 16px",borderRadius:8,fontSize:14,fontWeight:600,cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:12,marginBottom:4,textAlign:"left"},onMouseEnter:p=>{n!==h.name&&(p.currentTarget.style.background=R.white)},onMouseLeave:p=>{n!==h.name&&(p.currentTarget.style.background="transparent")},children:[N.jsx("span",{style:{fontSize:18},children:h.icon}),N.jsx("span",{children:h.name})]},h.name))})]}),N.jsx("div",{style:{flex:1,overflow:"auto"},children:N.jsxs("div",{style:{maxWidth:1200,margin:"0 auto",padding:"32px 40px"},children:[N.jsxs("div",{style:{marginBottom:32},children:[N.jsx("h1",{style:{fontSize:32,fontWeight:700,margin:0,color:R.text,fontFamily:"'Inter', sans-serif"},children:"Dashboard Mobiliario No Clnico"}),N.jsx("p",{style:{fontSize:14,color:R.textMuted,margin:"8px 0 0 0",fontWeight:500},children:"Hospital Buin Paine  Cronograma Dominion"})]}),n==="Resumen"&&N.jsxs(N.Fragment,{children:[N.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(260px, 1fr))",gap:16,marginBottom:32},children:[N.jsx(wi,{label:"Total Items",value:t.totalItems,sub:"tems",icon:"",color:R.primary}),N.jsx(wi,{label:"Total Unidades",value:t.totalQty,sub:"unidades",icon:"",color:R.green}),N.jsx(wi,{label:"Recintos",value:t.uniqueRecintos,sub:"espacios",icon:"",color:R.orange}),N.jsx(wi,{label:"Productos",value:t.uniqueNombres,sub:"tipos",icon:"",color:R.purple})]}),N.jsx(Fn,{action:"Ver ms",children:"Estado del Inventario"}),N.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:16,marginBottom:32},children:[N.jsx(Pc,{label:"Familias",value:t.familias,color:R.green,icon:""}),N.jsx(Pc,{label:"Proveedores",value:t.proveedores,color:R.orange,icon:""}),N.jsx(Pc,{label:"Servicios",value:t.uniqueServicios,color:R.primary,icon:""}),N.jsx(Pc,{label:"Zonas",value:t.uniqueZonas,color:R.purple,icon:""})]}),N.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:20,marginBottom:32},children:[N.jsxs("div",{style:{background:R.white,borderRadius:12,padding:24,border:`1px solid ${R.border}`,boxShadow:"0 1px 3px rgba(0,0,0,0.04)"},children:[N.jsx("h3",{style:{fontSize:16,fontWeight:700,color:R.text,marginBottom:20,marginTop:0},children:"Distribucin por Familia"}),N.jsx(Lr,{width:"100%",height:280,children:N.jsxs($_,{children:[N.jsx(V0,{data:t.byFamilia,dataKey:"qty",nameKey:"name",cx:"50%",cy:"50%",innerRadius:60,outerRadius:90,paddingAngle:2,children:t.byFamilia.map((h,p)=>N.jsx(ii,{fill:jr[h.name]||Sn[p]},p))}),N.jsx(Nr,{content:N.jsx(Rr,{})}),N.jsx(C0,{wrapperStyle:{fontSize:12,color:R.textMuted},iconType:"square"})]})})]}),N.jsxs("div",{style:{background:R.white,borderRadius:12,padding:24,border:`1px solid ${R.border}`,boxShadow:"0 1px 3px rgba(0,0,0,0.04)"},children:[N.jsx("h3",{style:{fontSize:16,fontWeight:700,color:R.text,marginBottom:20,marginTop:0},children:"Top Proveedores"}),N.jsx(Lr,{width:"100%",height:280,children:N.jsxs(ps,{data:t.byProveedor,children:[N.jsx(Da,{dataKey:"name",tick:{fill:R.textMuted,fontSize:11},axisLine:{stroke:R.border}}),N.jsx(La,{tick:{fill:R.textMuted,fontSize:11},axisLine:{stroke:R.border}}),N.jsx(Nr,{content:N.jsx(Rr,{})}),N.jsx(Pa,{dataKey:"qty",name:"Cantidad",radius:[6,6,0,0],children:t.byProveedor.map((h,p)=>N.jsx(ii,{fill:Sn[p]},p))})]})})]})]}),N.jsx(Fn,{action:"Ver todos",children:"Top 5 Productos"}),N.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))",gap:16,marginBottom:40},children:t.byNombre.slice(0,5).map((h,p)=>N.jsx(wi,{label:h.name,value:h.qty,sub:"uds",icon:["","","","4","5"][p],color:Sn[p],compact:!0},p))}),N.jsx(_W,{data:TW})]}),n==="Por Familia"&&N.jsxs(N.Fragment,{children:[N.jsx(Fn,{count:t.familias,children:"Anlisis por Familia"}),N.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1.2fr 1fr",gap:20,marginBottom:32},children:[N.jsx("div",{style:{background:R.white,borderRadius:12,padding:24,border:`1px solid ${R.border}`,boxShadow:"0 1px 3px rgba(0,0,0,0.04)"},children:N.jsx(Lr,{width:"100%",height:320,children:N.jsxs($_,{children:[N.jsx(V0,{data:t.byFamilia,dataKey:"qty",nameKey:"name",cx:"50%",cy:"50%",innerRadius:70,outerRadius:100,paddingAngle:3,label:h=>`${(h.qty/t.totalQty*100).toFixed(1)}%`,children:t.byFamilia.map((h,p)=>N.jsx(ii,{fill:jr[h.name]||Sn[p]},p))}),N.jsx(Nr,{content:N.jsx(Rr,{})}),N.jsx(C0,{wrapperStyle:{fontSize:13}})]})})}),N.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:16},children:t.byFamilia.map((h,p)=>N.jsx(wi,{label:h.name,value:h.qty,sub:`${(h.qty/t.totalQty*100).toFixed(1)}%`,icon:["","","",""][p],color:jr[h.name]||Sn[p],compact:!0},p))})]}),N.jsx(ko,{data:t.byFamilia.map((h,p)=>({...h,rank:p+1,pctQty:(h.qty/t.totalQty*100).toFixed(1)+"%"})),columns:[{key:"rank",label:"#",align:"center",mono:!0,width:"60px"},{key:"name",label:"Familia",highlight:!0,width:"200px"},{key:"qty",label:"Cantidad",align:"right",mono:!0,width:"120px"},{key:"pctQty",label:"% del Total",align:"right",mono:!0,width:"120px"},{key:"qty",label:"Distribucin",render:h=>N.jsx(Bo,{value:h,max:3233,color:R.primary})}],maxRows:4})]}),n==="Por Proveedor"&&N.jsxs(N.Fragment,{children:[N.jsx(Fn,{count:t.proveedores,children:"Anlisis por Proveedor"}),N.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:16,marginBottom:32},children:t.byProveedor.map((h,p)=>N.jsx(wi,{label:h.name,value:h.qty,sub:`${(h.qty/t.totalQty*100).toFixed(1)}%`,icon:["","",""][p]||"",color:Sn[p]},p))}),N.jsx("div",{style:{background:R.white,borderRadius:12,padding:24,border:`1px solid ${R.border}`,boxShadow:"0 1px 3px rgba(0,0,0,0.04)",marginBottom:24},children:N.jsx(Lr,{width:"100%",height:280,children:N.jsxs(ps,{data:t.byProveedor,children:[N.jsx(Da,{dataKey:"name",tick:{fill:R.textMuted,fontSize:11},axisLine:{stroke:R.border}}),N.jsx(La,{tick:{fill:R.textMuted,fontSize:11},axisLine:{stroke:R.border}}),N.jsx(Nr,{content:N.jsx(Rr,{})}),N.jsx(Pa,{dataKey:"qty",name:"Cantidad",radius:[6,6,0,0],children:t.byProveedor.map((h,p)=>N.jsx(ii,{fill:Sn[p]},p))})]})})}),N.jsx(ko,{data:t.byProveedor.map((h,p)=>({...h,rank:p+1,pctQty:(h.qty/t.totalQty*100).toFixed(1)+"%"})),columns:[{key:"rank",label:"#",align:"center",mono:!0,width:"60px"},{key:"name",label:"Proveedor",highlight:!0},{key:"qty",label:"Cantidad",align:"right",mono:!0,width:"120px"},{key:"pctQty",label:"% del Total",align:"right",mono:!0,width:"120px"},{key:"qty",label:"Distribucin",render:h=>N.jsx(Bo,{value:h,max:4256,color:R.green})}],maxRows:3})]}),n==="Por Piso"&&N.jsxs(N.Fragment,{children:[N.jsx(Fn,{children:"Distribucin por Piso"}),N.jsx("div",{style:{background:R.white,borderRadius:12,padding:24,border:`1px solid ${R.border}`,boxShadow:"0 1px 3px rgba(0,0,0,0.04)",marginBottom:24},children:N.jsx(Lr,{width:"100%",height:320,children:N.jsxs(ps,{data:t.byPiso,children:[N.jsx(Da,{dataKey:"name",tick:{fill:R.textMuted,fontSize:12},axisLine:{stroke:R.border}}),N.jsx(La,{tick:{fill:R.textMuted,fontSize:11},axisLine:{stroke:R.border}}),N.jsx(Nr,{content:N.jsx(Rr,{})}),N.jsx(Pa,{dataKey:"qty",name:"Cantidad",radius:[6,6,0,0],children:t.byPiso.map((h,p)=>N.jsx(ii,{fill:Sn[p]},p))})]})})}),N.jsx(ko,{data:t.byPiso.map(h=>({...h,pctQty:(h.qty/t.totalQty*100).toFixed(1)+"%"})),columns:[{key:"name",label:"Piso",highlight:!0,width:"150px"},{key:"qty",label:"Cantidad",align:"right",mono:!0,width:"120px"},{key:"pctQty",label:"% del Total",align:"right",mono:!0,width:"120px"},{key:"qty",label:"Distribucin",render:h=>N.jsx(Bo,{value:h,max:1547,color:R.orange})}]}),N.jsx(Fn,{children:"Resumen por Piso"}),N.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))",gap:16},children:t.byPiso.map(h=>N.jsx(wi,{label:h.name,value:h.qty,sub:"unidades",icon:["1","2","3","4","5","6","7"][h.piso-1],color:Sn[h.piso-1],compact:!0},h.piso))})]}),n==="Por Servicio"&&N.jsxs(N.Fragment,{children:[N.jsx(Fn,{count:t.uniqueServicios,children:"Cantidad por Servicio"}),N.jsx("div",{style:{background:R.white,borderRadius:12,padding:24,border:`1px solid ${R.border}`,boxShadow:"0 1px 3px rgba(0,0,0,0.04)",marginBottom:24},children:N.jsx(Lr,{width:"100%",height:560,children:N.jsxs(ps,{data:t.byServicio.slice(0,20),layout:"vertical",margin:{left:10},children:[N.jsx(Da,{type:"number",tick:{fill:R.textMuted,fontSize:11},axisLine:{stroke:R.border}}),N.jsx(La,{type:"category",dataKey:"name",width:200,tick:{fill:R.text,fontSize:11},axisLine:{stroke:R.border}}),N.jsx(Nr,{content:N.jsx(Rr,{})}),N.jsx(Pa,{dataKey:"qty",name:"Cantidad",radius:[0,6,6,0],children:t.byServicio.slice(0,20).map((h,p)=>N.jsx(ii,{fill:Sn[p%Sn.length]},p))})]})})}),N.jsx(ko,{data:t.byServicio.map((h,p)=>({...h,rank:p+1,pctQty:(h.qty/t.totalQty*100).toFixed(1)+"%"})),columns:[{key:"rank",label:"#",align:"center",mono:!0,width:"60px"},{key:"name",label:"Servicio",highlight:!0},{key:"qty",label:"Cantidad",align:"right",mono:!0,width:"120px"},{key:"pctQty",label:"% del Total",align:"right",mono:!0,width:"120px"},{key:"qty",label:"Distribucin",render:h=>N.jsx(Bo,{value:h,max:825,color:R.primary})}],maxRows:15})]}),n==="Por Producto"&&N.jsxs(N.Fragment,{children:[N.jsx(Fn,{count:t.uniqueNombres,children:"Top 25 Productos"}),N.jsx("div",{style:{background:R.white,borderRadius:12,padding:24,border:`1px solid ${R.border}`,boxShadow:"0 1px 3px rgba(0,0,0,0.04)",marginBottom:24},children:N.jsx(Lr,{width:"100%",height:600,children:N.jsxs(ps,{data:t.byNombre,layout:"vertical",margin:{left:10},children:[N.jsx(Da,{type:"number",tick:{fill:R.textMuted,fontSize:11},axisLine:{stroke:R.border}}),N.jsx(La,{type:"category",dataKey:"name",width:220,tick:{fill:R.text,fontSize:11},axisLine:{stroke:R.border}}),N.jsx(Nr,{content:N.jsx(Rr,{})}),N.jsx(Pa,{dataKey:"qty",name:"Cantidad",radius:[0,6,6,0],children:t.byNombre.map((h,p)=>{const g=h.name.includes("Silla")||h.name.includes("Silln")?jr.Silla:h.name.includes("Escritorio")||h.name.includes("Mesa")?jr.Mesa:h.name.includes("Mueble")||h.name.includes("Banca")?jr.Otro:Sn[p%Sn.length];return N.jsx(ii,{fill:g},p)})})]})})}),N.jsx(ko,{data:t.byNombre.map((h,p)=>({...h,rank:p+1,pctQty:(h.qty/t.totalQty*100).toFixed(1)+"%"})),columns:[{key:"rank",label:"#",align:"center",mono:!0,width:"60px"},{key:"name",label:"Producto",highlight:!0},{key:"qty",label:"Cantidad",align:"right",mono:!0,width:"120px"},{key:"pctQty",label:"% del Total",align:"right",mono:!0,width:"120px"},{key:"qty",label:"Distribucin",render:h=>N.jsx(Bo,{value:h,max:1285,color:R.orange})}],maxRows:15})]}),n==="Por Fecha"&&N.jsxs(N.Fragment,{children:[N.jsx(Fn,{icon:"",children:"Cronograma de Instalacin"}),N.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))",gap:16,marginBottom:32},children:[N.jsx(wi,{label:"Fecha Inicio",value:t.fechaStats.fechaMin,sub:"primera instalacin",icon:"",color:R.green,compact:!0}),N.jsx(wi,{label:"Fecha Trmino",value:t.fechaStats.fechaMax,sub:"ltima instalacin",icon:"",color:R.orange,compact:!0}),N.jsx(wi,{label:"Meses",value:t.fechaStats.totalMeses,sub:"de instalacin",icon:"",color:R.primary,compact:!0}),N.jsx(wi,{label:"Semanas",value:t.fechaStats.totalSemanas,sub:"programadas",icon:"",color:R.purple,compact:!0})]}),N.jsx(Fn,{children:"Distribucin Mensual"}),N.jsx("div",{style:{background:R.white,borderRadius:12,padding:24,border:`1px solid ${R.border}`,boxShadow:"0 1px 3px rgba(0,0,0,0.04)",marginBottom:24},children:N.jsx(Lr,{width:"100%",height:300,children:N.jsxs(ps,{data:t.byMes,children:[N.jsx(Da,{dataKey:"name",tick:{fill:R.textMuted,fontSize:12},axisLine:{stroke:R.border}}),N.jsx(La,{tick:{fill:R.textMuted,fontSize:11},axisLine:{stroke:R.border}}),N.jsx(Nr,{content:N.jsx(Rr,{})}),N.jsx(Pa,{dataKey:"qty",name:"Cantidad",radius:[6,6,0,0],children:t.byMes.map((h,p)=>N.jsx(ii,{fill:Sn[p]},p))})]})})}),N.jsx(ko,{data:t.byMes.map((h,p)=>({...h,rank:p+1,pctQty:(h.qty/t.totalQty*100).toFixed(1)+"%"})),columns:[{key:"rank",label:"#",align:"center",mono:!0,width:"60px"},{key:"name",label:"Mes",highlight:!0,width:"200px"},{key:"qty",label:"Cantidad",align:"right",mono:!0,width:"120px"},{key:"pctQty",label:"% del Total",align:"right",mono:!0,width:"120px"},{key:"qty",label:"Distribucin",render:h=>N.jsx(Bo,{value:h,max:4069,color:R.primary})}],maxRows:4}),N.jsx(Fn,{children:"Top 5 Semanas con Ms Instalaciones"}),N.jsx("div",{style:{background:R.white,borderRadius:12,padding:24,border:`1px solid ${R.border}`,boxShadow:"0 1px 3px rgba(0,0,0,0.04)",marginBottom:24},children:N.jsx(Lr,{width:"100%",height:280,children:N.jsxs(ps,{data:t.bySemana,children:[N.jsx(Da,{dataKey:"name",tick:{fill:R.textMuted,fontSize:11},axisLine:{stroke:R.border},angle:-15,textAnchor:"end",height:60}),N.jsx(La,{tick:{fill:R.textMuted,fontSize:11},axisLine:{stroke:R.border}}),N.jsx(Nr,{content:N.jsx(Rr,{})}),N.jsx(Pa,{dataKey:"qty",name:"Cantidad",radius:[6,6,0,0],children:t.bySemana.map((h,p)=>N.jsx(ii,{fill:Sn[p]},p))})]})})}),N.jsx(Fn,{children:"Top 5 Das con Ms Instalaciones"}),N.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:16,marginBottom:24},children:t.byDia.map((h,p)=>N.jsx(Pc,{label:h.name,value:h.qty,color:Sn[p],icon:["","","","4","5"][p]},p))}),N.jsxs("div",{style:{background:`${R.orange}10`,border:`1px solid ${R.orange}40`,borderRadius:12,padding:20,display:"flex",alignItems:"flex-start",gap:16},children:[N.jsx("div",{style:{width:40,height:40,background:R.orange,borderRadius:8,display:"flex",alignItems:"center",justifyContent:"center",fontSize:20,flexShrink:0},children:""}),N.jsxs("div",{children:[N.jsx("div",{style:{fontSize:16,fontWeight:700,color:R.text,marginBottom:6},children:"Pico de Instalacin Detectado"}),N.jsxs("div",{style:{fontSize:14,color:R.textMuted,lineHeight:1.5},children:["El 01/07/2026 concentra ",N.jsx("strong",{style:{color:R.text},children:"2,924 unidades"})," (",(2924/t.totalQty*100).toFixed(1),"% del total). Se recomienda coordinar recursos adicionales de instalacin para esta fecha."]})]})]})]}),n==="Esp. Tcnicas"&&N.jsxs(N.Fragment,{children:[N.jsx(Fn,{count:`${r.length}`,children:"Especificaciones Tcnicas de Mobiliario"}),N.jsxs("div",{style:{background:R.white,borderRadius:12,border:`1px solid ${R.border}`,boxShadow:"0 1px 3px rgba(0,0,0,0.04)",marginBottom:16,display:"flex",alignItems:"center",overflow:"hidden",height:48},children:[N.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,padding:"0 14px",borderRight:`1px solid ${R.border}`,flexShrink:0,height:"100%"},children:[N.jsx("span",{style:{fontSize:14,color:R.textMuted},children:""}),N.jsx("input",{type:"text",placeholder:"Buscar...",value:c,onChange:h=>d(h.target.value),style:{width:140,padding:"0",border:"none",outline:"none",fontSize:13,color:R.text,background:"transparent"}}),c&&N.jsx("button",{onClick:()=>d(""),style:{border:"none",background:"none",cursor:"pointer",color:R.textMuted,fontSize:16,lineHeight:1,padding:0},children:""})]}),N.jsx("div",{style:{display:"flex",gap:6,alignItems:"center",overflowX:"auto",padding:"0 12px",flex:1,height:"100%",scrollbarWidth:"none"},children:(()=>{const h=r.filter(p=>f(p.name).includes(f(c))||f(p.code).includes(f(c)));return h.length===0?N.jsxs("span",{style:{fontSize:12,color:R.textMuted,whiteSpace:"nowrap"},children:['Sin resultados para "',c,'"']}):h.map(p=>N.jsxs("button",{onClick:()=>{l(p.file),d("")},style:{padding:"4px 11px",borderRadius:20,flexShrink:0,border:`1px solid ${s===p.file?R.primary:R.border}`,background:s===p.file?R.primary:R.bg,color:s===p.file?R.white:R.text,fontSize:12,fontWeight:s===p.file?600:400,cursor:"pointer",whiteSpace:"nowrap",transition:"all 0.15s ease"},children:[N.jsx("span",{style:{fontFamily:"monospace",fontSize:10,opacity:.7,marginRight:4},children:p.code}),p.name]},p.code))})()})]}),N.jsx("div",{style:{background:R.white,borderRadius:12,border:`1px solid ${R.border}`,boxShadow:"0 1px 3px rgba(0,0,0,0.04)",overflow:"hidden",display:"flex",flexDirection:"column",minHeight:700},children:s?N.jsxs(N.Fragment,{children:[N.jsxs("div",{style:{padding:"11px 16px",borderBottom:`1px solid ${R.border}`,background:R.bg,fontSize:13,fontWeight:600,color:R.text,display:"flex",alignItems:"center",gap:8},children:[N.jsx("span",{style:{fontFamily:"monospace",fontSize:11,color:R.primary},children:r.find(h=>h.file===s)?.code}),N.jsx("span",{style:{color:R.textMuted},children:""}),r.find(h=>h.file===s)?.name]}),N.jsx(PW,{url:`/hospital-buin-paine-dashboard/eett/${encodeURIComponent(s)}`},s)]}):N.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",color:R.textMuted,gap:12,minHeight:500},children:[N.jsx("div",{style:{fontSize:48},children:""}),N.jsx("div",{style:{fontSize:16,fontWeight:600,color:R.text},children:"Selecciona una especificacin"}),N.jsx("div",{style:{fontSize:13},children:"Busca por nombre o cdigo y haz clic en el chip para ver la ficha tcnica"})]})})]}),N.jsxs("div",{style:{marginTop:48,padding:"20px 0",borderTop:`1px solid ${R.border}`,display:"flex",justifyContent:"space-between",fontSize:12,color:R.textMuted},children:[N.jsx("span",{children:"Hospital Buin Paine  Mobiliario No Clnico"}),N.jsxs("span",{children:["Fuente: MNC_Claude_20260209.xlsx  ",t.totalQty.toLocaleString("es-CL")," unidades"]})]})]})})]})}Qk.createRoot(document.getElementById("root")).render(N.jsx(C.StrictMode,{children:N.jsx(DW,{})}));
