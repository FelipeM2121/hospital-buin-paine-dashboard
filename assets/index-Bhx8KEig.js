var uw=n=>{throw TypeError(n)};var Yg=(n,e,t)=>e.has(n)||uw("Cannot "+t);var gt=(n,e,t)=>(Yg(n,e,"read from private field"),t?t.call(n):e.get(n)),Ki=(n,e,t)=>e.has(n)?uw("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),Fn=(n,e,t,i)=>(Yg(n,e,"write to private field"),i?i.call(n,t):e.set(n,t),t),Wi=(n,e,t)=>(Yg(n,e,"access private method"),t);var dw=(n,e,t,i)=>({set _(r){Fn(n,e,r,t)},get _(){return gt(n,e,i)}});function Hk(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function Qr(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Xg={exports:{}},mc={};var fw;function $k(){if(fw)return mc;fw=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,r,s){var l=null;if(s!==void 0&&(l=""+s),r.key!==void 0&&(l=""+r.key),"key"in r){s={};for(var c in r)c!=="key"&&(s[c]=r[c])}else s=r;return r=s.ref,{$$typeof:n,type:i,key:l,ref:r!==void 0?r:null,props:s}}return mc.Fragment=e,mc.jsx=t,mc.jsxs=t,mc}var hw;function qk(){return hw||(hw=1,Xg.exports=$k()),Xg.exports}var D=qk(),Kg={exports:{}},Te={};var pw;function Gk(){if(pw)return Te;pw=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),g=Symbol.iterator;function y(I){return I===null||typeof I!="object"?null:(I=g&&I[g]||I["@@iterator"],typeof I=="function"?I:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,x={};function E(I,K,ne){this.props=I,this.context=K,this.refs=x,this.updater=ne||S}E.prototype.isReactComponent={},E.prototype.setState=function(I,K){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,K,"setState")},E.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function O(){}O.prototype=E.prototype;function T(I,K,ne){this.props=I,this.context=K,this.refs=x,this.updater=ne||S}var P=T.prototype=new O;P.constructor=T,A(P,E.prototype),P.isPureReactComponent=!0;var M=Array.isArray;function _(){}var N={H:null,A:null,T:null,S:null},j=Object.prototype.hasOwnProperty;function F(I,K,ne){var oe=ne.ref;return{$$typeof:n,type:I,key:K,ref:oe!==void 0?oe:null,props:ne}}function X(I,K){return F(I.type,K,I.props)}function $(I){return typeof I=="object"&&I!==null&&I.$$typeof===n}function q(I){var K={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(ne){return K[ne]})}var se=/\/+/g;function re(I,K){return typeof I=="object"&&I!==null&&I.key!=null?q(""+I.key):K.toString(36)}function ce(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(_,_):(I.status="pending",I.then(function(K){I.status==="pending"&&(I.status="fulfilled",I.value=K)},function(K){I.status==="pending"&&(I.status="rejected",I.reason=K)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function B(I,K,ne,oe,ve){var xe=typeof I;(xe==="undefined"||xe==="boolean")&&(I=null);var de=!1;if(I===null)de=!0;else switch(xe){case"bigint":case"string":case"number":de=!0;break;case"object":switch(I.$$typeof){case n:case e:de=!0;break;case h:return de=I._init,B(de(I._payload),K,ne,oe,ve)}}if(de)return ve=ve(I),de=oe===""?"."+re(I,0):oe,M(ve)?(ne="",de!=null&&(ne=de.replace(se,"$&/")+"/"),B(ve,K,ne,"",function(Oe){return Oe})):ve!=null&&($(ve)&&(ve=X(ve,ne+(ve.key==null||I&&I.key===ve.key?"":(""+ve.key).replace(se,"$&/")+"/")+de)),K.push(ve)),1;de=0;var ut=oe===""?".":oe+":";if(M(I))for(var J=0;J<I.length;J++)oe=I[J],xe=ut+re(oe,J),de+=B(oe,K,ne,xe,ve);else if(J=y(I),typeof J=="function")for(I=J.call(I),J=0;!(oe=I.next()).done;)oe=oe.value,xe=ut+re(oe,J++),de+=B(oe,K,ne,xe,ve);else if(xe==="object"){if(typeof I.then=="function")return B(ce(I),K,ne,oe,ve);throw K=String(I),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return de}function H(I,K,ne){if(I==null)return I;var oe=[],ve=0;return B(I,oe,"","",function(xe){return K.call(ne,xe,ve++)}),oe}function ie(I){if(I._status===-1){var K=I._result;K=K(),K.then(function(ne){(I._status===0||I._status===-1)&&(I._status=1,I._result=ne)},function(ne){(I._status===0||I._status===-1)&&(I._status=2,I._result=ne)}),I._status===-1&&(I._status=0,I._result=K)}if(I._status===1)return I._result.default;throw I._result}var le=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},pe={map:H,forEach:function(I,K,ne){H(I,function(){K.apply(this,arguments)},ne)},count:function(I){var K=0;return H(I,function(){K++}),K},toArray:function(I){return H(I,function(K){return K})||[]},only:function(I){if(!$(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return Te.Activity=p,Te.Children=pe,Te.Component=E,Te.Fragment=t,Te.Profiler=r,Te.PureComponent=T,Te.StrictMode=i,Te.Suspense=d,Te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Te.__COMPILER_RUNTIME={__proto__:null,c:function(I){return N.H.useMemoCache(I)}},Te.cache=function(I){return function(){return I.apply(null,arguments)}},Te.cacheSignal=function(){return null},Te.cloneElement=function(I,K,ne){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var oe=A({},I.props),ve=I.key;if(K!=null)for(xe in K.key!==void 0&&(ve=""+K.key),K)!j.call(K,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&K.ref===void 0||(oe[xe]=K[xe]);var xe=arguments.length-2;if(xe===1)oe.children=ne;else if(1<xe){for(var de=Array(xe),ut=0;ut<xe;ut++)de[ut]=arguments[ut+2];oe.children=de}return F(I.type,ve,oe)},Te.createContext=function(I){return I={$$typeof:l,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:s,_context:I},I},Te.createElement=function(I,K,ne){var oe,ve={},xe=null;if(K!=null)for(oe in K.key!==void 0&&(xe=""+K.key),K)j.call(K,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(ve[oe]=K[oe]);var de=arguments.length-2;if(de===1)ve.children=ne;else if(1<de){for(var ut=Array(de),J=0;J<de;J++)ut[J]=arguments[J+2];ve.children=ut}if(I&&I.defaultProps)for(oe in de=I.defaultProps,de)ve[oe]===void 0&&(ve[oe]=de[oe]);return F(I,xe,ve)},Te.createRef=function(){return{current:null}},Te.forwardRef=function(I){return{$$typeof:c,render:I}},Te.isValidElement=$,Te.lazy=function(I){return{$$typeof:h,_payload:{_status:-1,_result:I},_init:ie}},Te.memo=function(I,K){return{$$typeof:f,type:I,compare:K===void 0?null:K}},Te.startTransition=function(I){var K=N.T,ne={};N.T=ne;try{var oe=I(),ve=N.S;ve!==null&&ve(ne,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(_,le)}catch(xe){le(xe)}finally{K!==null&&ne.types!==null&&(K.types=ne.types),N.T=K}},Te.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Te.use=function(I){return N.H.use(I)},Te.useActionState=function(I,K,ne){return N.H.useActionState(I,K,ne)},Te.useCallback=function(I,K){return N.H.useCallback(I,K)},Te.useContext=function(I){return N.H.useContext(I)},Te.useDebugValue=function(){},Te.useDeferredValue=function(I,K){return N.H.useDeferredValue(I,K)},Te.useEffect=function(I,K){return N.H.useEffect(I,K)},Te.useEffectEvent=function(I){return N.H.useEffectEvent(I)},Te.useId=function(){return N.H.useId()},Te.useImperativeHandle=function(I,K,ne){return N.H.useImperativeHandle(I,K,ne)},Te.useInsertionEffect=function(I,K){return N.H.useInsertionEffect(I,K)},Te.useLayoutEffect=function(I,K){return N.H.useLayoutEffect(I,K)},Te.useMemo=function(I,K){return N.H.useMemo(I,K)},Te.useOptimistic=function(I,K){return N.H.useOptimistic(I,K)},Te.useReducer=function(I,K,ne){return N.H.useReducer(I,K,ne)},Te.useRef=function(I){return N.H.useRef(I)},Te.useState=function(I){return N.H.useState(I)},Te.useSyncExternalStore=function(I,K,ne){return N.H.useSyncExternalStore(I,K,ne)},Te.useTransition=function(){return N.H.useTransition()},Te.version="19.2.4",Te}var mw;function ul(){return mw||(mw=1,Kg.exports=Gk()),Kg.exports}var C=ul();const Vk=Qr(C),Yk=Hk({__proto__:null,default:Vk},[C]);var Wg={exports:{}},gc={},Zg={exports:{}},Qg={};var gw;function Xk(){return gw||(gw=1,(function(n){function e(B,H){var ie=B.length;B.push(H);e:for(;0<ie;){var le=ie-1>>>1,pe=B[le];if(0<r(pe,H))B[le]=H,B[ie]=pe,ie=le;else break e}}function t(B){return B.length===0?null:B[0]}function i(B){if(B.length===0)return null;var H=B[0],ie=B.pop();if(ie!==H){B[0]=ie;e:for(var le=0,pe=B.length,I=pe>>>1;le<I;){var K=2*(le+1)-1,ne=B[K],oe=K+1,ve=B[oe];if(0>r(ne,ie))oe<pe&&0>r(ve,ne)?(B[le]=ve,B[oe]=ie,le=oe):(B[le]=ne,B[K]=ie,le=K);else if(oe<pe&&0>r(ve,ie))B[le]=ve,B[oe]=ie,le=oe;else break e}}return H}function r(B,H){var ie=B.sortIndex-H.sortIndex;return ie!==0?ie:B.id-H.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var d=[],f=[],h=1,p=null,g=3,y=!1,S=!1,A=!1,x=!1,E=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function P(B){for(var H=t(f);H!==null;){if(H.callback===null)i(f);else if(H.startTime<=B)i(f),H.sortIndex=H.expirationTime,e(d,H);else break;H=t(f)}}function M(B){if(A=!1,P(B),!S)if(t(d)!==null)S=!0,_||(_=!0,q());else{var H=t(f);H!==null&&ce(M,H.startTime-B)}}var _=!1,N=-1,j=5,F=-1;function X(){return x?!0:!(n.unstable_now()-F<j)}function $(){if(x=!1,_){var B=n.unstable_now();F=B;var H=!0;try{e:{S=!1,A&&(A=!1,O(N),N=-1),y=!0;var ie=g;try{t:{for(P(B),p=t(d);p!==null&&!(p.expirationTime>B&&X());){var le=p.callback;if(typeof le=="function"){p.callback=null,g=p.priorityLevel;var pe=le(p.expirationTime<=B);if(B=n.unstable_now(),typeof pe=="function"){p.callback=pe,P(B),H=!0;break t}p===t(d)&&i(d),P(B)}else i(d);p=t(d)}if(p!==null)H=!0;else{var I=t(f);I!==null&&ce(M,I.startTime-B),H=!1}}break e}finally{p=null,g=ie,y=!1}H=void 0}}finally{H?q():_=!1}}}var q;if(typeof T=="function")q=function(){T($)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,re=se.port2;se.port1.onmessage=$,q=function(){re.postMessage(null)}}else q=function(){E($,0)};function ce(B,H){N=E(function(){B(n.unstable_now())},H)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(B){B.callback=null},n.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<B?Math.floor(1e3/B):5},n.unstable_getCurrentPriorityLevel=function(){return g},n.unstable_next=function(B){switch(g){case 1:case 2:case 3:var H=3;break;default:H=g}var ie=g;g=H;try{return B()}finally{g=ie}},n.unstable_requestPaint=function(){x=!0},n.unstable_runWithPriority=function(B,H){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var ie=g;g=B;try{return H()}finally{g=ie}},n.unstable_scheduleCallback=function(B,H,ie){var le=n.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?le+ie:le):ie=le,B){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=ie+pe,B={id:h++,callback:H,priorityLevel:B,startTime:ie,expirationTime:pe,sortIndex:-1},ie>le?(B.sortIndex=ie,e(f,B),t(d)===null&&B===t(f)&&(A?(O(N),N=-1):A=!0,ce(M,ie-le))):(B.sortIndex=pe,e(d,B),S||y||(S=!0,_||(_=!0,q()))),B},n.unstable_shouldYield=X,n.unstable_wrapCallback=function(B){var H=g;return function(){var ie=g;g=H;try{return B.apply(this,arguments)}finally{g=ie}}}})(Qg)),Qg}var vw;function Kk(){return vw||(vw=1,Zg.exports=Xk()),Zg.exports}var Jg={exports:{}},Sn={};var yw;function Wk(){if(yw)return Sn;yw=1;var n=ul();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function s(d,f,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:p==null?null:""+p,children:d,containerInfo:f,implementation:h}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Sn.createPortal=function(d,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return s(d,f,null,h)},Sn.flushSync=function(d){var f=l.T,h=i.p;try{if(l.T=null,i.p=2,d)return d()}finally{l.T=f,i.p=h,i.d.f()}},Sn.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(d,f))},Sn.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},Sn.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var h=f.as,p=c(h,f.crossOrigin),g=typeof f.integrity=="string"?f.integrity:void 0,y=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?i.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:g,fetchPriority:y}):h==="script"&&i.d.X(d,{crossOrigin:p,integrity:g,fetchPriority:y,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Sn.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=c(f.as,f.crossOrigin);i.d.M(d,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(d)},Sn.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,p=c(h,f.crossOrigin);i.d.L(d,h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Sn.preloadModule=function(d,f){if(typeof d=="string")if(f){var h=c(f.as,f.crossOrigin);i.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(d)},Sn.requestFormReset=function(d){i.d.r(d)},Sn.unstable_batchedUpdates=function(d,f){return d(f)},Sn.useFormState=function(d,f,h){return l.H.useFormState(d,f,h)},Sn.useFormStatus=function(){return l.H.useHostTransitionStatus()},Sn.version="19.2.4",Sn}var bw;function VM(){if(bw)return Jg.exports;bw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Jg.exports=Wk(),Jg.exports}var Aw;function Zk(){if(Aw)return gc;Aw=1;var n=Kk(),e=ul(),t=VM();function i(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var o=a,u=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(u=o.return),a=o.return;while(a)}return o.tag===3?u:null}function l(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function c(a){if(a.tag===31){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function d(a){if(s(a)!==a)throw Error(i(188))}function f(a){var o=a.alternate;if(!o){if(o=s(a),o===null)throw Error(i(188));return o!==a?null:a}for(var u=a,m=o;;){var v=u.return;if(v===null)break;var b=v.alternate;if(b===null){if(m=v.return,m!==null){u=m;continue}break}if(v.child===b.child){for(b=v.child;b;){if(b===u)return d(v),a;if(b===m)return d(v),o;b=b.sibling}throw Error(i(188))}if(u.return!==m.return)u=v,m=b;else{for(var w=!1,L=v.child;L;){if(L===u){w=!0,u=v,m=b;break}if(L===m){w=!0,m=v,u=b;break}L=L.sibling}if(!w){for(L=b.child;L;){if(L===u){w=!0,u=b,m=v;break}if(L===m){w=!0,m=b,u=v;break}L=L.sibling}if(!w)throw Error(i(189))}}if(u.alternate!==m)throw Error(i(190))}if(u.tag!==3)throw Error(i(188));return u.stateNode.current===u?a:o}function h(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=h(a),o!==null)return o;a=a.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),T=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),X=Symbol.for("react.memo_cache_sentinel"),$=Symbol.iterator;function q(a){return a===null||typeof a!="object"?null:(a=$&&a[$]||a["@@iterator"],typeof a=="function"?a:null)}var se=Symbol.for("react.client.reference");function re(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===se?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case A:return"Fragment";case E:return"Profiler";case x:return"StrictMode";case M:return"Suspense";case _:return"SuspenseList";case F:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case S:return"Portal";case T:return a.displayName||"Context";case O:return(a._context.displayName||"Context")+".Consumer";case P:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case N:return o=a.displayName||null,o!==null?o:re(a.type)||"Memo";case j:o=a._payload,a=a._init;try{return re(a(o))}catch{}}return null}var ce=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},le=[],pe=-1;function I(a){return{current:a}}function K(a){0>pe||(a.current=le[pe],le[pe]=null,pe--)}function ne(a,o){pe++,le[pe]=a.current,a.current=o}var oe=I(null),ve=I(null),xe=I(null),de=I(null);function ut(a,o){switch(ne(xe,o),ne(ve,a),ne(oe,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?NE(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=NE(o),a=RE(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}K(oe),ne(oe,a)}function J(){K(oe),K(ve),K(xe)}function Oe(a){a.memoizedState!==null&&ne(de,a);var o=oe.current,u=RE(o,a.type);o!==u&&(ne(ve,a),ne(oe,u))}function Pe(a){ve.current===a&&(K(oe),K(ve)),de.current===a&&(K(de),dc._currentValue=ie)}var ae,Nt;function Ie(a){if(ae===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);ae=o&&o[1]||"",Nt=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ae+a+Nt}var on=!1;function ln(a,o){if(!a||on)return"";on=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(o){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(Z){var W=Z}Reflect.construct(a,[],te)}else{try{te.call()}catch(Z){W=Z}a.call(te.prototype)}}else{try{throw Error()}catch(Z){W=Z}(te=a())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(Z){if(Z&&W&&typeof Z.stack=="string")return[Z.stack,W.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=m.DetermineComponentFrameRoot(),w=b[0],L=b[1];if(w&&L){var k=w.split(`
`),V=L.split(`
`);for(v=m=0;m<k.length&&!k[m].includes("DetermineComponentFrameRoot");)m++;for(;v<V.length&&!V[v].includes("DetermineComponentFrameRoot");)v++;if(m===k.length||v===V.length)for(m=k.length-1,v=V.length-1;1<=m&&0<=v&&k[m]!==V[v];)v--;for(;1<=m&&0<=v;m--,v--)if(k[m]!==V[v]){if(m!==1||v!==1)do if(m--,v--,0>v||k[m]!==V[v]){var Q=`
`+k[m].replace(" at new "," at ");return a.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",a.displayName)),Q}while(1<=m&&0<=v);break}}}finally{on=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?Ie(u):""}function pr(a,o){switch(a.tag){case 26:case 27:case 5:return Ie(a.type);case 16:return Ie("Lazy");case 13:return a.child!==o&&o!==null?Ie("Suspense Fallback"):Ie("Suspense");case 19:return Ie("SuspenseList");case 0:case 15:return ln(a.type,!1);case 11:return ln(a.type.render,!1);case 1:return ln(a.type,!0);case 31:return Ie("Activity");default:return""}}function xl(a){try{var o="",u=null;do o+=pr(a,u),u=a,a=a.return;while(a);return o}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var Lp=Object.prototype.hasOwnProperty,Np=n.unstable_scheduleCallback,Rp=n.unstable_cancelCallback,AR=n.unstable_shouldYield,SR=n.unstable_requestPaint,Vn=n.unstable_now,xR=n.unstable_getCurrentPriorityLevel,d1=n.unstable_ImmediatePriority,f1=n.unstable_UserBlockingPriority,Du=n.unstable_NormalPriority,ER=n.unstable_LowPriority,h1=n.unstable_IdlePriority,wR=n.log,CR=n.unstable_setDisableYieldValue,El=null,Yn=null;function sa(a){if(typeof wR=="function"&&CR(a),Yn&&typeof Yn.setStrictMode=="function")try{Yn.setStrictMode(El,a)}catch{}}var Xn=Math.clz32?Math.clz32:MR,OR=Math.log,TR=Math.LN2;function MR(a){return a>>>=0,a===0?32:31-(OR(a)/TR|0)|0}var Lu=256,Nu=262144,Ru=4194304;function Wa(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Iu(a,o,u){var m=a.pendingLanes;if(m===0)return 0;var v=0,b=a.suspendedLanes,w=a.pingedLanes;a=a.warmLanes;var L=m&134217727;return L!==0?(m=L&~b,m!==0?v=Wa(m):(w&=L,w!==0?v=Wa(w):u||(u=L&~a,u!==0&&(v=Wa(u))))):(L=m&~b,L!==0?v=Wa(L):w!==0?v=Wa(w):u||(u=m&~a,u!==0&&(v=Wa(u)))),v===0?0:o!==0&&o!==v&&(o&b)===0&&(b=v&-v,u=o&-o,b>=u||b===32&&(u&4194048)!==0)?o:v}function wl(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function _R(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function p1(){var a=Ru;return Ru<<=1,(Ru&62914560)===0&&(Ru=4194304),a}function Ip(a){for(var o=[],u=0;31>u;u++)o.push(a);return o}function Cl(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function PR(a,o,u,m,v,b){var w=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var L=a.entanglements,k=a.expirationTimes,V=a.hiddenUpdates;for(u=w&~u;0<u;){var Q=31-Xn(u),te=1<<Q;L[Q]=0,k[Q]=-1;var W=V[Q];if(W!==null)for(V[Q]=null,Q=0;Q<W.length;Q++){var Z=W[Q];Z!==null&&(Z.lane&=-536870913)}u&=~te}m!==0&&m1(a,m,0),b!==0&&v===0&&a.tag!==0&&(a.suspendedLanes|=b&~(w&~o))}function m1(a,o,u){a.pendingLanes|=o,a.suspendedLanes&=~o;var m=31-Xn(o);a.entangledLanes|=o,a.entanglements[m]=a.entanglements[m]|1073741824|u&261930}function g1(a,o){var u=a.entangledLanes|=o;for(a=a.entanglements;u;){var m=31-Xn(u),v=1<<m;v&o|a[m]&o&&(a[m]|=o),u&=~v}}function v1(a,o){var u=o&-o;return u=(u&42)!==0?1:kp(u),(u&(a.suspendedLanes|o))!==0?0:u}function kp(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function jp(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function y1(){var a=H.p;return a!==0?a:(a=window.event,a===void 0?32:iw(a.type))}function b1(a,o){var u=H.p;try{return H.p=a,o()}finally{H.p=u}}var oa=Math.random().toString(36).slice(2),cn="__reactFiber$"+oa,Nn="__reactProps$"+oa,Ys="__reactContainer$"+oa,Bp="__reactEvents$"+oa,DR="__reactListeners$"+oa,LR="__reactHandles$"+oa,A1="__reactResources$"+oa,Ol="__reactMarker$"+oa;function zp(a){delete a[cn],delete a[Nn],delete a[Bp],delete a[DR],delete a[LR]}function Xs(a){var o=a[cn];if(o)return o;for(var u=a.parentNode;u;){if(o=u[Ys]||u[cn]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(a=UE(a);a!==null;){if(u=a[cn])return u;a=UE(a)}return o}a=u,u=a.parentNode}return null}function Ks(a){if(a=a[cn]||a[Ys]){var o=a.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return a}return null}function Tl(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(i(33))}function Ws(a){var o=a[A1];return o||(o=a[A1]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Wt(a){a[Ol]=!0}var S1=new Set,x1={};function Za(a,o){Zs(a,o),Zs(a+"Capture",o)}function Zs(a,o){for(x1[a]=o,a=0;a<o.length;a++)S1.add(o[a])}var NR=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),E1={},w1={};function RR(a){return Lp.call(w1,a)?!0:Lp.call(E1,a)?!1:NR.test(a)?w1[a]=!0:(E1[a]=!0,!1)}function ku(a,o,u){if(RR(o))if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var m=o.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+u)}}function ju(a,o,u){if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+u)}}function mr(a,o,u,m){if(m===null)a.removeAttribute(u);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(o,u,""+m)}}function di(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function C1(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function IR(a,o,u){var m=Object.getOwnPropertyDescriptor(a.constructor.prototype,o);if(!a.hasOwnProperty(o)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var v=m.get,b=m.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return v.call(this)},set:function(w){u=""+w,b.call(this,w)}}),Object.defineProperty(a,o,{enumerable:m.enumerable}),{getValue:function(){return u},setValue:function(w){u=""+w},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function Fp(a){if(!a._valueTracker){var o=C1(a)?"checked":"value";a._valueTracker=IR(a,o,""+a[o])}}function O1(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var u=o.getValue(),m="";return a&&(m=C1(a)?a.checked?"true":"false":a.value),a=m,a!==u?(o.setValue(a),!0):!1}function Bu(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var kR=/[\n"\\]/g;function fi(a){return a.replace(kR,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Up(a,o,u,m,v,b,w,L){a.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?a.type=w:a.removeAttribute("type"),o!=null?w==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+di(o)):a.value!==""+di(o)&&(a.value=""+di(o)):w!=="submit"&&w!=="reset"||a.removeAttribute("value"),o!=null?Hp(a,w,di(o)):u!=null?Hp(a,w,di(u)):m!=null&&a.removeAttribute("value"),v==null&&b!=null&&(a.defaultChecked=!!b),v!=null&&(a.checked=v&&typeof v!="function"&&typeof v!="symbol"),L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?a.name=""+di(L):a.removeAttribute("name")}function T1(a,o,u,m,v,b,w,L){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(a.type=b),o!=null||u!=null){if(!(b!=="submit"&&b!=="reset"||o!=null)){Fp(a);return}u=u!=null?""+di(u):"",o=o!=null?""+di(o):u,L||o===a.value||(a.value=o),a.defaultValue=o}m=m??v,m=typeof m!="function"&&typeof m!="symbol"&&!!m,a.checked=L?a.checked:!!m,a.defaultChecked=!!m,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(a.name=w),Fp(a)}function Hp(a,o,u){o==="number"&&Bu(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function Qs(a,o,u,m){if(a=a.options,o){o={};for(var v=0;v<u.length;v++)o["$"+u[v]]=!0;for(u=0;u<a.length;u++)v=o.hasOwnProperty("$"+a[u].value),a[u].selected!==v&&(a[u].selected=v),v&&m&&(a[u].defaultSelected=!0)}else{for(u=""+di(u),o=null,v=0;v<a.length;v++){if(a[v].value===u){a[v].selected=!0,m&&(a[v].defaultSelected=!0);return}o!==null||a[v].disabled||(o=a[v])}o!==null&&(o.selected=!0)}}function M1(a,o,u){if(o!=null&&(o=""+di(o),o!==a.value&&(a.value=o),u==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=u!=null?""+di(u):""}function _1(a,o,u,m){if(o==null){if(m!=null){if(u!=null)throw Error(i(92));if(ce(m)){if(1<m.length)throw Error(i(93));m=m[0]}u=m}u==null&&(u=""),o=u}u=di(o),a.defaultValue=u,m=a.textContent,m===u&&m!==""&&m!==null&&(a.value=m),Fp(a)}function Js(a,o){if(o){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=o;return}}a.textContent=o}var jR=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function P1(a,o,u){var m=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?m?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":m?a.setProperty(o,u):typeof u!="number"||u===0||jR.has(o)?o==="float"?a.cssFloat=u:a[o]=(""+u).trim():a[o]=u+"px"}function D1(a,o,u){if(o!=null&&typeof o!="object")throw Error(i(62));if(a=a.style,u!=null){for(var m in u)!u.hasOwnProperty(m)||o!=null&&o.hasOwnProperty(m)||(m.indexOf("--")===0?a.setProperty(m,""):m==="float"?a.cssFloat="":a[m]="");for(var v in o)m=o[v],o.hasOwnProperty(v)&&u[v]!==m&&P1(a,v,m)}else for(var b in o)o.hasOwnProperty(b)&&P1(a,b,o[b])}function $p(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var BR=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zR=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zu(a){return zR.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function gr(){}var qp=null;function Gp(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var eo=null,to=null;function L1(a){var o=Ks(a);if(o&&(a=o.stateNode)){var u=a[Nn]||null;e:switch(a=o.stateNode,o.type){case"input":if(Up(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+fi(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var m=u[o];if(m!==a&&m.form===a.form){var v=m[Nn]||null;if(!v)throw Error(i(90));Up(m,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(o=0;o<u.length;o++)m=u[o],m.form===a.form&&O1(m)}break e;case"textarea":M1(a,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&Qs(a,!!u.multiple,o,!1)}}}var Vp=!1;function N1(a,o,u){if(Vp)return a(o,u);Vp=!0;try{var m=a(o);return m}finally{if(Vp=!1,(eo!==null||to!==null)&&(Od(),eo&&(o=eo,a=to,to=eo=null,L1(o),a)))for(o=0;o<a.length;o++)L1(a[o])}}function Ml(a,o){var u=a.stateNode;if(u===null)return null;var m=u[Nn]||null;if(m===null)return null;u=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(a=a.type,m=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!m;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(i(231,o,typeof u));return u}var vr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yp=!1;if(vr)try{var _l={};Object.defineProperty(_l,"passive",{get:function(){Yp=!0}}),window.addEventListener("test",_l,_l),window.removeEventListener("test",_l,_l)}catch{Yp=!1}var la=null,Xp=null,Fu=null;function R1(){if(Fu)return Fu;var a,o=Xp,u=o.length,m,v="value"in la?la.value:la.textContent,b=v.length;for(a=0;a<u&&o[a]===v[a];a++);var w=u-a;for(m=1;m<=w&&o[u-m]===v[b-m];m++);return Fu=v.slice(a,1<m?1-m:void 0)}function Uu(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function Hu(){return!0}function I1(){return!1}function Rn(a){function o(u,m,v,b,w){this._reactName=u,this._targetInst=v,this.type=m,this.nativeEvent=b,this.target=w,this.currentTarget=null;for(var L in a)a.hasOwnProperty(L)&&(u=a[L],this[L]=u?u(b):b[L]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Hu:I1,this.isPropagationStopped=I1,this}return p(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Hu)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Hu)},persist:function(){},isPersistent:Hu}),o}var Qa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$u=Rn(Qa),Pl=p({},Qa,{view:0,detail:0}),FR=Rn(Pl),Kp,Wp,Dl,qu=p({},Pl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qp,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Dl&&(Dl&&a.type==="mousemove"?(Kp=a.screenX-Dl.screenX,Wp=a.screenY-Dl.screenY):Wp=Kp=0,Dl=a),Kp)},movementY:function(a){return"movementY"in a?a.movementY:Wp}}),k1=Rn(qu),UR=p({},qu,{dataTransfer:0}),HR=Rn(UR),$R=p({},Pl,{relatedTarget:0}),Zp=Rn($R),qR=p({},Qa,{animationName:0,elapsedTime:0,pseudoElement:0}),GR=Rn(qR),VR=p({},Qa,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),YR=Rn(VR),XR=p({},Qa,{data:0}),j1=Rn(XR),KR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},WR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ZR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function QR(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=ZR[a])?!!o[a]:!1}function Qp(){return QR}var JR=p({},Pl,{key:function(a){if(a.key){var o=KR[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=Uu(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?WR[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qp,charCode:function(a){return a.type==="keypress"?Uu(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Uu(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),eI=Rn(JR),tI=p({},qu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),B1=Rn(tI),nI=p({},Pl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qp}),iI=Rn(nI),rI=p({},Qa,{propertyName:0,elapsedTime:0,pseudoElement:0}),aI=Rn(rI),sI=p({},qu,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),oI=Rn(sI),lI=p({},Qa,{newState:0,oldState:0}),cI=Rn(lI),uI=[9,13,27,32],Jp=vr&&"CompositionEvent"in window,Ll=null;vr&&"documentMode"in document&&(Ll=document.documentMode);var dI=vr&&"TextEvent"in window&&!Ll,z1=vr&&(!Jp||Ll&&8<Ll&&11>=Ll),F1=" ",U1=!1;function H1(a,o){switch(a){case"keyup":return uI.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $1(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var no=!1;function fI(a,o){switch(a){case"compositionend":return $1(o);case"keypress":return o.which!==32?null:(U1=!0,F1);case"textInput":return a=o.data,a===F1&&U1?null:a;default:return null}}function hI(a,o){if(no)return a==="compositionend"||!Jp&&H1(a,o)?(a=R1(),Fu=Xp=la=null,no=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return z1&&o.locale!=="ko"?null:o.data;default:return null}}var pI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function q1(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!pI[a.type]:o==="textarea"}function G1(a,o,u,m){eo?to?to.push(m):to=[m]:eo=m,o=Nd(o,"onChange"),0<o.length&&(u=new $u("onChange","change",null,u,m),a.push({event:u,listeners:o}))}var Nl=null,Rl=null;function mI(a){TE(a,0)}function Gu(a){var o=Tl(a);if(O1(o))return a}function V1(a,o){if(a==="change")return o}var Y1=!1;if(vr){var em;if(vr){var tm="oninput"in document;if(!tm){var X1=document.createElement("div");X1.setAttribute("oninput","return;"),tm=typeof X1.oninput=="function"}em=tm}else em=!1;Y1=em&&(!document.documentMode||9<document.documentMode)}function K1(){Nl&&(Nl.detachEvent("onpropertychange",W1),Rl=Nl=null)}function W1(a){if(a.propertyName==="value"&&Gu(Rl)){var o=[];G1(o,Rl,a,Gp(a)),N1(mI,o)}}function gI(a,o,u){a==="focusin"?(K1(),Nl=o,Rl=u,Nl.attachEvent("onpropertychange",W1)):a==="focusout"&&K1()}function vI(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Gu(Rl)}function yI(a,o){if(a==="click")return Gu(o)}function bI(a,o){if(a==="input"||a==="change")return Gu(o)}function AI(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var Kn=typeof Object.is=="function"?Object.is:AI;function Il(a,o){if(Kn(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var u=Object.keys(a),m=Object.keys(o);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var v=u[m];if(!Lp.call(o,v)||!Kn(a[v],o[v]))return!1}return!0}function Z1(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Q1(a,o){var u=Z1(a);a=0;for(var m;u;){if(u.nodeType===3){if(m=a+u.textContent.length,a<=o&&m>=o)return{node:u,offset:o-a};a=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Z1(u)}}function J1(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?J1(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function eS(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=Bu(a.document);o instanceof a.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)a=o.contentWindow;else break;o=Bu(a.document)}return o}function nm(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var SI=vr&&"documentMode"in document&&11>=document.documentMode,io=null,im=null,kl=null,rm=!1;function tS(a,o,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;rm||io==null||io!==Bu(m)||(m=io,"selectionStart"in m&&nm(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),kl&&Il(kl,m)||(kl=m,m=Nd(im,"onSelect"),0<m.length&&(o=new $u("onSelect","select",null,o,u),a.push({event:o,listeners:m}),o.target=io)))}function Ja(a,o){var u={};return u[a.toLowerCase()]=o.toLowerCase(),u["Webkit"+a]="webkit"+o,u["Moz"+a]="moz"+o,u}var ro={animationend:Ja("Animation","AnimationEnd"),animationiteration:Ja("Animation","AnimationIteration"),animationstart:Ja("Animation","AnimationStart"),transitionrun:Ja("Transition","TransitionRun"),transitionstart:Ja("Transition","TransitionStart"),transitioncancel:Ja("Transition","TransitionCancel"),transitionend:Ja("Transition","TransitionEnd")},am={},nS={};vr&&(nS=document.createElement("div").style,"AnimationEvent"in window||(delete ro.animationend.animation,delete ro.animationiteration.animation,delete ro.animationstart.animation),"TransitionEvent"in window||delete ro.transitionend.transition);function es(a){if(am[a])return am[a];if(!ro[a])return a;var o=ro[a],u;for(u in o)if(o.hasOwnProperty(u)&&u in nS)return am[a]=o[u];return a}var iS=es("animationend"),rS=es("animationiteration"),aS=es("animationstart"),xI=es("transitionrun"),EI=es("transitionstart"),wI=es("transitioncancel"),sS=es("transitionend"),oS=new Map,sm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");sm.push("scrollEnd");function Ii(a,o){oS.set(a,o),Za(o,[a])}var Vu=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},hi=[],ao=0,om=0;function Yu(){for(var a=ao,o=om=ao=0;o<a;){var u=hi[o];hi[o++]=null;var m=hi[o];hi[o++]=null;var v=hi[o];hi[o++]=null;var b=hi[o];if(hi[o++]=null,m!==null&&v!==null){var w=m.pending;w===null?v.next=v:(v.next=w.next,w.next=v),m.pending=v}b!==0&&lS(u,v,b)}}function Xu(a,o,u,m){hi[ao++]=a,hi[ao++]=o,hi[ao++]=u,hi[ao++]=m,om|=m,a.lanes|=m,a=a.alternate,a!==null&&(a.lanes|=m)}function lm(a,o,u,m){return Xu(a,o,u,m),Ku(a)}function ts(a,o){return Xu(a,null,null,o),Ku(a)}function lS(a,o,u){a.lanes|=u;var m=a.alternate;m!==null&&(m.lanes|=u);for(var v=!1,b=a.return;b!==null;)b.childLanes|=u,m=b.alternate,m!==null&&(m.childLanes|=u),b.tag===22&&(a=b.stateNode,a===null||a._visibility&1||(v=!0)),a=b,b=b.return;return a.tag===3?(b=a.stateNode,v&&o!==null&&(v=31-Xn(u),a=b.hiddenUpdates,m=a[v],m===null?a[v]=[o]:m.push(o),o.lane=u|536870912),b):null}function Ku(a){if(50<rc)throw rc=0,vg=null,Error(i(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var so={};function CI(a,o,u,m){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wn(a,o,u,m){return new CI(a,o,u,m)}function cm(a){return a=a.prototype,!(!a||!a.isReactComponent)}function yr(a,o){var u=a.alternate;return u===null?(u=Wn(a.tag,o,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=o,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&65011712,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,o=a.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function cS(a,o){a.flags&=65011714;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,o=u.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function Wu(a,o,u,m,v,b){var w=0;if(m=a,typeof a=="function")cm(a)&&(w=1);else if(typeof a=="string")w=Pk(a,u,oe.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case F:return a=Wn(31,u,o,v),a.elementType=F,a.lanes=b,a;case A:return ns(u.children,v,b,o);case x:w=8,v|=24;break;case E:return a=Wn(12,u,o,v|2),a.elementType=E,a.lanes=b,a;case M:return a=Wn(13,u,o,v),a.elementType=M,a.lanes=b,a;case _:return a=Wn(19,u,o,v),a.elementType=_,a.lanes=b,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case T:w=10;break e;case O:w=9;break e;case P:w=11;break e;case N:w=14;break e;case j:w=16,m=null;break e}w=29,u=Error(i(130,a===null?"null":typeof a,"")),m=null}return o=Wn(w,u,o,v),o.elementType=a,o.type=m,o.lanes=b,o}function ns(a,o,u,m){return a=Wn(7,a,m,o),a.lanes=u,a}function um(a,o,u){return a=Wn(6,a,null,o),a.lanes=u,a}function uS(a){var o=Wn(18,null,null,0);return o.stateNode=a,o}function dm(a,o,u){return o=Wn(4,a.children!==null?a.children:[],a.key,o),o.lanes=u,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var dS=new WeakMap;function pi(a,o){if(typeof a=="object"&&a!==null){var u=dS.get(a);return u!==void 0?u:(o={value:a,source:o,stack:xl(o)},dS.set(a,o),o)}return{value:a,source:o,stack:xl(o)}}var oo=[],lo=0,Zu=null,jl=0,mi=[],gi=0,ca=null,Gi=1,Vi="";function br(a,o){oo[lo++]=jl,oo[lo++]=Zu,Zu=a,jl=o}function fS(a,o,u){mi[gi++]=Gi,mi[gi++]=Vi,mi[gi++]=ca,ca=a;var m=Gi;a=Vi;var v=32-Xn(m)-1;m&=~(1<<v),u+=1;var b=32-Xn(o)+v;if(30<b){var w=v-v%5;b=(m&(1<<w)-1).toString(32),m>>=w,v-=w,Gi=1<<32-Xn(o)+v|u<<v|m,Vi=b+a}else Gi=1<<b|u<<v|m,Vi=a}function fm(a){a.return!==null&&(br(a,1),fS(a,1,0))}function hm(a){for(;a===Zu;)Zu=oo[--lo],oo[lo]=null,jl=oo[--lo],oo[lo]=null;for(;a===ca;)ca=mi[--gi],mi[gi]=null,Vi=mi[--gi],mi[gi]=null,Gi=mi[--gi],mi[gi]=null}function hS(a,o){mi[gi++]=Gi,mi[gi++]=Vi,mi[gi++]=ca,Gi=o.id,Vi=o.overflow,ca=a}var un=null,dt=null,Be=!1,ua=null,vi=!1,pm=Error(i(519));function da(a){var o=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Bl(pi(o,a)),pm}function pS(a){var o=a.stateNode,u=a.type,m=a.memoizedProps;switch(o[cn]=a,o[Nn]=m,u){case"dialog":Re("cancel",o),Re("close",o);break;case"iframe":case"object":case"embed":Re("load",o);break;case"video":case"audio":for(u=0;u<sc.length;u++)Re(sc[u],o);break;case"source":Re("error",o);break;case"img":case"image":case"link":Re("error",o),Re("load",o);break;case"details":Re("toggle",o);break;case"input":Re("invalid",o),T1(o,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":Re("invalid",o);break;case"textarea":Re("invalid",o),_1(o,m.value,m.defaultValue,m.children)}u=m.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||m.suppressHydrationWarning===!0||DE(o.textContent,u)?(m.popover!=null&&(Re("beforetoggle",o),Re("toggle",o)),m.onScroll!=null&&Re("scroll",o),m.onScrollEnd!=null&&Re("scrollend",o),m.onClick!=null&&(o.onclick=gr),o=!0):o=!1,o||da(a,!0)}function mS(a){for(un=a.return;un;)switch(un.tag){case 5:case 31:case 13:vi=!1;return;case 27:case 3:vi=!0;return;default:un=un.return}}function co(a){if(a!==un)return!1;if(!Be)return mS(a),Be=!0,!1;var o=a.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||Lg(a.type,a.memoizedProps)),u=!u),u&&dt&&da(a),mS(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));dt=FE(a)}else if(o===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));dt=FE(a)}else o===27?(o=dt,Ca(a.type)?(a=jg,jg=null,dt=a):dt=o):dt=un?bi(a.stateNode.nextSibling):null;return!0}function is(){dt=un=null,Be=!1}function mm(){var a=ua;return a!==null&&(Bn===null?Bn=a:Bn.push.apply(Bn,a),ua=null),a}function Bl(a){ua===null?ua=[a]:ua.push(a)}var gm=I(null),rs=null,Ar=null;function fa(a,o,u){ne(gm,o._currentValue),o._currentValue=u}function Sr(a){a._currentValue=gm.current,K(gm)}function vm(a,o,u){for(;a!==null;){var m=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),a===u)break;a=a.return}}function ym(a,o,u,m){var v=a.child;for(v!==null&&(v.return=a);v!==null;){var b=v.dependencies;if(b!==null){var w=v.child;b=b.firstContext;e:for(;b!==null;){var L=b;b=v;for(var k=0;k<o.length;k++)if(L.context===o[k]){b.lanes|=u,L=b.alternate,L!==null&&(L.lanes|=u),vm(b.return,u,a),m||(w=null);break e}b=L.next}}else if(v.tag===18){if(w=v.return,w===null)throw Error(i(341));w.lanes|=u,b=w.alternate,b!==null&&(b.lanes|=u),vm(w,u,a),w=null}else w=v.child;if(w!==null)w.return=v;else for(w=v;w!==null;){if(w===a){w=null;break}if(v=w.sibling,v!==null){v.return=w.return,w=v;break}w=w.return}v=w}}function uo(a,o,u,m){a=null;for(var v=o,b=!1;v!==null;){if(!b){if((v.flags&524288)!==0)b=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var w=v.alternate;if(w===null)throw Error(i(387));if(w=w.memoizedProps,w!==null){var L=v.type;Kn(v.pendingProps.value,w.value)||(a!==null?a.push(L):a=[L])}}else if(v===de.current){if(w=v.alternate,w===null)throw Error(i(387));w.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(a!==null?a.push(dc):a=[dc])}v=v.return}a!==null&&ym(o,a,u,m),o.flags|=262144}function Qu(a){for(a=a.firstContext;a!==null;){if(!Kn(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function as(a){rs=a,Ar=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function dn(a){return gS(rs,a)}function Ju(a,o){return rs===null&&as(a),gS(a,o)}function gS(a,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},Ar===null){if(a===null)throw Error(i(308));Ar=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else Ar=Ar.next=o;return u}var OI=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(u,m){a.push(m)}};this.abort=function(){o.aborted=!0,a.forEach(function(u){return u()})}},TI=n.unstable_scheduleCallback,MI=n.unstable_NormalPriority,Rt={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function bm(){return{controller:new OI,data:new Map,refCount:0}}function zl(a){a.refCount--,a.refCount===0&&TI(MI,function(){a.controller.abort()})}var Fl=null,Am=0,fo=0,ho=null;function _I(a,o){if(Fl===null){var u=Fl=[];Am=0,fo=Eg(),ho={status:"pending",value:void 0,then:function(m){u.push(m)}}}return Am++,o.then(vS,vS),o}function vS(){if(--Am===0&&Fl!==null){ho!==null&&(ho.status="fulfilled");var a=Fl;Fl=null,fo=0,ho=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function PI(a,o){var u=[],m={status:"pending",value:null,reason:null,then:function(v){u.push(v)}};return a.then(function(){m.status="fulfilled",m.value=o;for(var v=0;v<u.length;v++)(0,u[v])(o)},function(v){for(m.status="rejected",m.reason=v,v=0;v<u.length;v++)(0,u[v])(void 0)}),m}var yS=B.S;B.S=function(a,o){tE=Vn(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&_I(a,o),yS!==null&&yS(a,o)};var ss=I(null);function Sm(){var a=ss.current;return a!==null?a:st.pooledCache}function ed(a,o){o===null?ne(ss,ss.current):ne(ss,o.pool)}function bS(){var a=Sm();return a===null?null:{parent:Rt._currentValue,pool:a}}var po=Error(i(460)),xm=Error(i(474)),td=Error(i(542)),nd={then:function(){}};function AS(a){return a=a.status,a==="fulfilled"||a==="rejected"}function SS(a,o,u){switch(u=a[u],u===void 0?a.push(o):u!==o&&(o.then(gr,gr),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,ES(a),a;default:if(typeof o.status=="string")o.then(gr,gr);else{if(a=st,a!==null&&100<a.shellSuspendCounter)throw Error(i(482));a=o,a.status="pending",a.then(function(m){if(o.status==="pending"){var v=o;v.status="fulfilled",v.value=m}},function(m){if(o.status==="pending"){var v=o;v.status="rejected",v.reason=m}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,ES(a),a}throw ls=o,po}}function os(a){try{var o=a._init;return o(a._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(ls=u,po):u}}var ls=null;function xS(){if(ls===null)throw Error(i(459));var a=ls;return ls=null,a}function ES(a){if(a===po||a===td)throw Error(i(483))}var mo=null,Ul=0;function id(a){var o=Ul;return Ul+=1,mo===null&&(mo=[]),SS(mo,a,o)}function Hl(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function rd(a,o){throw o.$$typeof===g?Error(i(525)):(a=Object.prototype.toString.call(o),Error(i(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function wS(a){function o(U,z){if(a){var G=U.deletions;G===null?(U.deletions=[z],U.flags|=16):G.push(z)}}function u(U,z){if(!a)return null;for(;z!==null;)o(U,z),z=z.sibling;return null}function m(U){for(var z=new Map;U!==null;)U.key!==null?z.set(U.key,U):z.set(U.index,U),U=U.sibling;return z}function v(U,z){return U=yr(U,z),U.index=0,U.sibling=null,U}function b(U,z,G){return U.index=G,a?(G=U.alternate,G!==null?(G=G.index,G<z?(U.flags|=67108866,z):G):(U.flags|=67108866,z)):(U.flags|=1048576,z)}function w(U){return a&&U.alternate===null&&(U.flags|=67108866),U}function L(U,z,G,ee){return z===null||z.tag!==6?(z=um(G,U.mode,ee),z.return=U,z):(z=v(z,G),z.return=U,z)}function k(U,z,G,ee){var Ae=G.type;return Ae===A?Q(U,z,G.props.children,ee,G.key):z!==null&&(z.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===j&&os(Ae)===z.type)?(z=v(z,G.props),Hl(z,G),z.return=U,z):(z=Wu(G.type,G.key,G.props,null,U.mode,ee),Hl(z,G),z.return=U,z)}function V(U,z,G,ee){return z===null||z.tag!==4||z.stateNode.containerInfo!==G.containerInfo||z.stateNode.implementation!==G.implementation?(z=dm(G,U.mode,ee),z.return=U,z):(z=v(z,G.children||[]),z.return=U,z)}function Q(U,z,G,ee,Ae){return z===null||z.tag!==7?(z=ns(G,U.mode,ee,Ae),z.return=U,z):(z=v(z,G),z.return=U,z)}function te(U,z,G){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=um(""+z,U.mode,G),z.return=U,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case y:return G=Wu(z.type,z.key,z.props,null,U.mode,G),Hl(G,z),G.return=U,G;case S:return z=dm(z,U.mode,G),z.return=U,z;case j:return z=os(z),te(U,z,G)}if(ce(z)||q(z))return z=ns(z,U.mode,G,null),z.return=U,z;if(typeof z.then=="function")return te(U,id(z),G);if(z.$$typeof===T)return te(U,Ju(U,z),G);rd(U,z)}return null}function W(U,z,G,ee){var Ae=z!==null?z.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return Ae!==null?null:L(U,z,""+G,ee);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case y:return G.key===Ae?k(U,z,G,ee):null;case S:return G.key===Ae?V(U,z,G,ee):null;case j:return G=os(G),W(U,z,G,ee)}if(ce(G)||q(G))return Ae!==null?null:Q(U,z,G,ee,null);if(typeof G.then=="function")return W(U,z,id(G),ee);if(G.$$typeof===T)return W(U,z,Ju(U,G),ee);rd(U,G)}return null}function Z(U,z,G,ee,Ae){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return U=U.get(G)||null,L(z,U,""+ee,Ae);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case y:return U=U.get(ee.key===null?G:ee.key)||null,k(z,U,ee,Ae);case S:return U=U.get(ee.key===null?G:ee.key)||null,V(z,U,ee,Ae);case j:return ee=os(ee),Z(U,z,G,ee,Ae)}if(ce(ee)||q(ee))return U=U.get(G)||null,Q(z,U,ee,Ae,null);if(typeof ee.then=="function")return Z(U,z,G,id(ee),Ae);if(ee.$$typeof===T)return Z(U,z,G,Ju(z,ee),Ae);rd(z,ee)}return null}function me(U,z,G,ee){for(var Ae=null,Fe=null,ge=z,De=z=0,je=null;ge!==null&&De<G.length;De++){ge.index>De?(je=ge,ge=null):je=ge.sibling;var Ue=W(U,ge,G[De],ee);if(Ue===null){ge===null&&(ge=je);break}a&&ge&&Ue.alternate===null&&o(U,ge),z=b(Ue,z,De),Fe===null?Ae=Ue:Fe.sibling=Ue,Fe=Ue,ge=je}if(De===G.length)return u(U,ge),Be&&br(U,De),Ae;if(ge===null){for(;De<G.length;De++)ge=te(U,G[De],ee),ge!==null&&(z=b(ge,z,De),Fe===null?Ae=ge:Fe.sibling=ge,Fe=ge);return Be&&br(U,De),Ae}for(ge=m(ge);De<G.length;De++)je=Z(ge,U,De,G[De],ee),je!==null&&(a&&je.alternate!==null&&ge.delete(je.key===null?De:je.key),z=b(je,z,De),Fe===null?Ae=je:Fe.sibling=je,Fe=je);return a&&ge.forEach(function(Pa){return o(U,Pa)}),Be&&br(U,De),Ae}function Ee(U,z,G,ee){if(G==null)throw Error(i(151));for(var Ae=null,Fe=null,ge=z,De=z=0,je=null,Ue=G.next();ge!==null&&!Ue.done;De++,Ue=G.next()){ge.index>De?(je=ge,ge=null):je=ge.sibling;var Pa=W(U,ge,Ue.value,ee);if(Pa===null){ge===null&&(ge=je);break}a&&ge&&Pa.alternate===null&&o(U,ge),z=b(Pa,z,De),Fe===null?Ae=Pa:Fe.sibling=Pa,Fe=Pa,ge=je}if(Ue.done)return u(U,ge),Be&&br(U,De),Ae;if(ge===null){for(;!Ue.done;De++,Ue=G.next())Ue=te(U,Ue.value,ee),Ue!==null&&(z=b(Ue,z,De),Fe===null?Ae=Ue:Fe.sibling=Ue,Fe=Ue);return Be&&br(U,De),Ae}for(ge=m(ge);!Ue.done;De++,Ue=G.next())Ue=Z(ge,U,De,Ue.value,ee),Ue!==null&&(a&&Ue.alternate!==null&&ge.delete(Ue.key===null?De:Ue.key),z=b(Ue,z,De),Fe===null?Ae=Ue:Fe.sibling=Ue,Fe=Ue);return a&&ge.forEach(function(Uk){return o(U,Uk)}),Be&&br(U,De),Ae}function it(U,z,G,ee){if(typeof G=="object"&&G!==null&&G.type===A&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case y:e:{for(var Ae=G.key;z!==null;){if(z.key===Ae){if(Ae=G.type,Ae===A){if(z.tag===7){u(U,z.sibling),ee=v(z,G.props.children),ee.return=U,U=ee;break e}}else if(z.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===j&&os(Ae)===z.type){u(U,z.sibling),ee=v(z,G.props),Hl(ee,G),ee.return=U,U=ee;break e}u(U,z);break}else o(U,z);z=z.sibling}G.type===A?(ee=ns(G.props.children,U.mode,ee,G.key),ee.return=U,U=ee):(ee=Wu(G.type,G.key,G.props,null,U.mode,ee),Hl(ee,G),ee.return=U,U=ee)}return w(U);case S:e:{for(Ae=G.key;z!==null;){if(z.key===Ae)if(z.tag===4&&z.stateNode.containerInfo===G.containerInfo&&z.stateNode.implementation===G.implementation){u(U,z.sibling),ee=v(z,G.children||[]),ee.return=U,U=ee;break e}else{u(U,z);break}else o(U,z);z=z.sibling}ee=dm(G,U.mode,ee),ee.return=U,U=ee}return w(U);case j:return G=os(G),it(U,z,G,ee)}if(ce(G))return me(U,z,G,ee);if(q(G)){if(Ae=q(G),typeof Ae!="function")throw Error(i(150));return G=Ae.call(G),Ee(U,z,G,ee)}if(typeof G.then=="function")return it(U,z,id(G),ee);if(G.$$typeof===T)return it(U,z,Ju(U,G),ee);rd(U,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,z!==null&&z.tag===6?(u(U,z.sibling),ee=v(z,G),ee.return=U,U=ee):(u(U,z),ee=um(G,U.mode,ee),ee.return=U,U=ee),w(U)):u(U,z)}return function(U,z,G,ee){try{Ul=0;var Ae=it(U,z,G,ee);return mo=null,Ae}catch(ge){if(ge===po||ge===td)throw ge;var Fe=Wn(29,ge,null,U.mode);return Fe.lanes=ee,Fe.return=U,Fe}}}var cs=wS(!0),CS=wS(!1),ha=!1;function Em(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wm(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function pa(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function ma(a,o,u){var m=a.updateQueue;if(m===null)return null;if(m=m.shared,($e&2)!==0){var v=m.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),m.pending=o,o=Ku(a),lS(a,null,u),o}return Xu(a,m,o,u),Ku(a)}function $l(a,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var m=o.lanes;m&=a.pendingLanes,u|=m,o.lanes=u,g1(a,u)}}function Cm(a,o){var u=a.updateQueue,m=a.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var v=null,b=null;if(u=u.firstBaseUpdate,u!==null){do{var w={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};b===null?v=b=w:b=b.next=w,u=u.next}while(u!==null);b===null?v=b=o:b=b.next=o}else v=b=o;u={baseState:m.baseState,firstBaseUpdate:v,lastBaseUpdate:b,shared:m.shared,callbacks:m.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=o:a.next=o,u.lastBaseUpdate=o}var Om=!1;function ql(){if(Om){var a=ho;if(a!==null)throw a}}function Gl(a,o,u,m){Om=!1;var v=a.updateQueue;ha=!1;var b=v.firstBaseUpdate,w=v.lastBaseUpdate,L=v.shared.pending;if(L!==null){v.shared.pending=null;var k=L,V=k.next;k.next=null,w===null?b=V:w.next=V,w=k;var Q=a.alternate;Q!==null&&(Q=Q.updateQueue,L=Q.lastBaseUpdate,L!==w&&(L===null?Q.firstBaseUpdate=V:L.next=V,Q.lastBaseUpdate=k))}if(b!==null){var te=v.baseState;w=0,Q=V=k=null,L=b;do{var W=L.lane&-536870913,Z=W!==L.lane;if(Z?(ke&W)===W:(m&W)===W){W!==0&&W===fo&&(Om=!0),Q!==null&&(Q=Q.next={lane:0,tag:L.tag,payload:L.payload,callback:null,next:null});e:{var me=a,Ee=L;W=o;var it=u;switch(Ee.tag){case 1:if(me=Ee.payload,typeof me=="function"){te=me.call(it,te,W);break e}te=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=Ee.payload,W=typeof me=="function"?me.call(it,te,W):me,W==null)break e;te=p({},te,W);break e;case 2:ha=!0}}W=L.callback,W!==null&&(a.flags|=64,Z&&(a.flags|=8192),Z=v.callbacks,Z===null?v.callbacks=[W]:Z.push(W))}else Z={lane:W,tag:L.tag,payload:L.payload,callback:L.callback,next:null},Q===null?(V=Q=Z,k=te):Q=Q.next=Z,w|=W;if(L=L.next,L===null){if(L=v.shared.pending,L===null)break;Z=L,L=Z.next,Z.next=null,v.lastBaseUpdate=Z,v.shared.pending=null}}while(!0);Q===null&&(k=te),v.baseState=k,v.firstBaseUpdate=V,v.lastBaseUpdate=Q,b===null&&(v.shared.lanes=0),Aa|=w,a.lanes=w,a.memoizedState=te}}function OS(a,o){if(typeof a!="function")throw Error(i(191,a));a.call(o)}function TS(a,o){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)OS(u[a],o)}var go=I(null),ad=I(0);function MS(a,o){a=Pr,ne(ad,a),ne(go,o),Pr=a|o.baseLanes}function Tm(){ne(ad,Pr),ne(go,go.current)}function Mm(){Pr=ad.current,K(go),K(ad)}var Zn=I(null),yi=null;function ga(a){var o=a.alternate;ne(Pt,Pt.current&1),ne(Zn,a),yi===null&&(o===null||go.current!==null||o.memoizedState!==null)&&(yi=a)}function _m(a){ne(Pt,Pt.current),ne(Zn,a),yi===null&&(yi=a)}function _S(a){a.tag===22?(ne(Pt,Pt.current),ne(Zn,a),yi===null&&(yi=a)):va()}function va(){ne(Pt,Pt.current),ne(Zn,Zn.current)}function Qn(a){K(Zn),yi===a&&(yi=null),K(Pt)}var Pt=I(0);function sd(a){for(var o=a;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||Ig(u)||kg(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var xr=0,_e=null,tt=null,It=null,od=!1,vo=!1,us=!1,ld=0,Vl=0,yo=null,DI=0;function Et(){throw Error(i(321))}function Pm(a,o){if(o===null)return!1;for(var u=0;u<o.length&&u<a.length;u++)if(!Kn(a[u],o[u]))return!1;return!0}function Dm(a,o,u,m,v,b){return xr=b,_e=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,B.H=a===null||a.memoizedState===null?fx:Vm,us=!1,b=u(m,v),us=!1,vo&&(b=DS(o,u,m,v)),PS(a),b}function PS(a){B.H=Kl;var o=tt!==null&&tt.next!==null;if(xr=0,It=tt=_e=null,od=!1,Vl=0,yo=null,o)throw Error(i(300));a===null||kt||(a=a.dependencies,a!==null&&Qu(a)&&(kt=!0))}function DS(a,o,u,m){_e=a;var v=0;do{if(vo&&(yo=null),Vl=0,vo=!1,25<=v)throw Error(i(301));if(v+=1,It=tt=null,a.updateQueue!=null){var b=a.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}B.H=hx,b=o(u,m)}while(vo);return b}function LI(){var a=B.H,o=a.useState()[0];return o=typeof o.then=="function"?Yl(o):o,a=a.useState()[0],(tt!==null?tt.memoizedState:null)!==a&&(_e.flags|=1024),o}function Lm(){var a=ld!==0;return ld=0,a}function Nm(a,o,u){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~u}function Rm(a){if(od){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}od=!1}xr=0,It=tt=_e=null,vo=!1,Vl=ld=0,yo=null}function On(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?_e.memoizedState=It=a:It=It.next=a,It}function Dt(){if(tt===null){var a=_e.alternate;a=a!==null?a.memoizedState:null}else a=tt.next;var o=It===null?_e.memoizedState:It.next;if(o!==null)It=o,tt=a;else{if(a===null)throw _e.alternate===null?Error(i(467)):Error(i(310));tt=a,a={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},It===null?_e.memoizedState=It=a:It=It.next=a}return It}function cd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yl(a){var o=Vl;return Vl+=1,yo===null&&(yo=[]),a=SS(yo,a,o),o=_e,(It===null?o.memoizedState:It.next)===null&&(o=o.alternate,B.H=o===null||o.memoizedState===null?fx:Vm),a}function ud(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Yl(a);if(a.$$typeof===T)return dn(a)}throw Error(i(438,String(a)))}function Im(a){var o=null,u=_e.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var m=_e.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(o={data:m.data.map(function(v){return v.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=cd(),_e.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(a),m=0;m<a;m++)u[m]=X;return o.index++,u}function Er(a,o){return typeof o=="function"?o(a):o}function dd(a){var o=Dt();return km(o,tt,a)}function km(a,o,u){var m=a.queue;if(m===null)throw Error(i(311));m.lastRenderedReducer=u;var v=a.baseQueue,b=m.pending;if(b!==null){if(v!==null){var w=v.next;v.next=b.next,b.next=w}o.baseQueue=v=b,m.pending=null}if(b=a.baseState,v===null)a.memoizedState=b;else{o=v.next;var L=w=null,k=null,V=o,Q=!1;do{var te=V.lane&-536870913;if(te!==V.lane?(ke&te)===te:(xr&te)===te){var W=V.revertLane;if(W===0)k!==null&&(k=k.next={lane:0,revertLane:0,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),te===fo&&(Q=!0);else if((xr&W)===W){V=V.next,W===fo&&(Q=!0);continue}else te={lane:0,revertLane:V.revertLane,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},k===null?(L=k=te,w=b):k=k.next=te,_e.lanes|=W,Aa|=W;te=V.action,us&&u(b,te),b=V.hasEagerState?V.eagerState:u(b,te)}else W={lane:te,revertLane:V.revertLane,gesture:V.gesture,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},k===null?(L=k=W,w=b):k=k.next=W,_e.lanes|=te,Aa|=te;V=V.next}while(V!==null&&V!==o);if(k===null?w=b:k.next=L,!Kn(b,a.memoizedState)&&(kt=!0,Q&&(u=ho,u!==null)))throw u;a.memoizedState=b,a.baseState=w,a.baseQueue=k,m.lastRenderedState=b}return v===null&&(m.lanes=0),[a.memoizedState,m.dispatch]}function jm(a){var o=Dt(),u=o.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=a;var m=u.dispatch,v=u.pending,b=o.memoizedState;if(v!==null){u.pending=null;var w=v=v.next;do b=a(b,w.action),w=w.next;while(w!==v);Kn(b,o.memoizedState)||(kt=!0),o.memoizedState=b,o.baseQueue===null&&(o.baseState=b),u.lastRenderedState=b}return[b,m]}function LS(a,o,u){var m=_e,v=Dt(),b=Be;if(b){if(u===void 0)throw Error(i(407));u=u()}else u=o();var w=!Kn((tt||v).memoizedState,u);if(w&&(v.memoizedState=u,kt=!0),v=v.queue,Fm(IS.bind(null,m,v,a),[a]),v.getSnapshot!==o||w||It!==null&&It.memoizedState.tag&1){if(m.flags|=2048,bo(9,{destroy:void 0},RS.bind(null,m,v,u,o),null),st===null)throw Error(i(349));b||(xr&127)!==0||NS(m,o,u)}return u}function NS(a,o,u){a.flags|=16384,a={getSnapshot:o,value:u},o=_e.updateQueue,o===null?(o=cd(),_e.updateQueue=o,o.stores=[a]):(u=o.stores,u===null?o.stores=[a]:u.push(a))}function RS(a,o,u,m){o.value=u,o.getSnapshot=m,kS(o)&&jS(a)}function IS(a,o,u){return u(function(){kS(o)&&jS(a)})}function kS(a){var o=a.getSnapshot;a=a.value;try{var u=o();return!Kn(a,u)}catch{return!0}}function jS(a){var o=ts(a,2);o!==null&&zn(o,a,2)}function Bm(a){var o=On();if(typeof a=="function"){var u=a;if(a=u(),us){sa(!0);try{u()}finally{sa(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Er,lastRenderedState:a},o}function BS(a,o,u,m){return a.baseState=u,km(a,tt,typeof m=="function"?m:Er)}function NI(a,o,u,m,v){if(pd(a))throw Error(i(485));if(a=o.action,a!==null){var b={payload:v,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){b.listeners.push(w)}};B.T!==null?u(!0):b.isTransition=!1,m(b),u=o.pending,u===null?(b.next=o.pending=b,zS(o,b)):(b.next=u.next,o.pending=u.next=b)}}function zS(a,o){var u=o.action,m=o.payload,v=a.state;if(o.isTransition){var b=B.T,w={};B.T=w;try{var L=u(v,m),k=B.S;k!==null&&k(w,L),FS(a,o,L)}catch(V){zm(a,o,V)}finally{b!==null&&w.types!==null&&(b.types=w.types),B.T=b}}else try{b=u(v,m),FS(a,o,b)}catch(V){zm(a,o,V)}}function FS(a,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(m){US(a,o,m)},function(m){return zm(a,o,m)}):US(a,o,u)}function US(a,o,u){o.status="fulfilled",o.value=u,HS(o),a.state=u,o=a.pending,o!==null&&(u=o.next,u===o?a.pending=null:(u=u.next,o.next=u,zS(a,u)))}function zm(a,o,u){var m=a.pending;if(a.pending=null,m!==null){m=m.next;do o.status="rejected",o.reason=u,HS(o),o=o.next;while(o!==m)}a.action=null}function HS(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function $S(a,o){return o}function qS(a,o){if(Be){var u=st.formState;if(u!==null){e:{var m=_e;if(Be){if(dt){t:{for(var v=dt,b=vi;v.nodeType!==8;){if(!b){v=null;break t}if(v=bi(v.nextSibling),v===null){v=null;break t}}b=v.data,v=b==="F!"||b==="F"?v:null}if(v){dt=bi(v.nextSibling),m=v.data==="F!";break e}}da(m)}m=!1}m&&(o=u[0])}}return u=On(),u.memoizedState=u.baseState=o,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$S,lastRenderedState:o},u.queue=m,u=cx.bind(null,_e,m),m.dispatch=u,m=Bm(!1),b=Gm.bind(null,_e,!1,m.queue),m=On(),v={state:o,dispatch:null,action:a,pending:null},m.queue=v,u=NI.bind(null,_e,v,b,u),v.dispatch=u,m.memoizedState=a,[o,u,!1]}function GS(a){var o=Dt();return VS(o,tt,a)}function VS(a,o,u){if(o=km(a,o,$S)[0],a=dd(Er)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var m=Yl(o)}catch(w){throw w===po?td:w}else m=o;o=Dt();var v=o.queue,b=v.dispatch;return u!==o.memoizedState&&(_e.flags|=2048,bo(9,{destroy:void 0},RI.bind(null,v,u),null)),[m,b,a]}function RI(a,o){a.action=o}function YS(a){var o=Dt(),u=tt;if(u!==null)return VS(o,u,a);Dt(),o=o.memoizedState,u=Dt();var m=u.queue.dispatch;return u.memoizedState=a,[o,m,!1]}function bo(a,o,u,m){return a={tag:a,create:u,deps:m,inst:o,next:null},o=_e.updateQueue,o===null&&(o=cd(),_e.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=a.next=a:(m=u.next,u.next=a,a.next=m,o.lastEffect=a),a}function XS(){return Dt().memoizedState}function fd(a,o,u,m){var v=On();_e.flags|=a,v.memoizedState=bo(1|o,{destroy:void 0},u,m===void 0?null:m)}function hd(a,o,u,m){var v=Dt();m=m===void 0?null:m;var b=v.memoizedState.inst;tt!==null&&m!==null&&Pm(m,tt.memoizedState.deps)?v.memoizedState=bo(o,b,u,m):(_e.flags|=a,v.memoizedState=bo(1|o,b,u,m))}function KS(a,o){fd(8390656,8,a,o)}function Fm(a,o){hd(2048,8,a,o)}function II(a){_e.flags|=4;var o=_e.updateQueue;if(o===null)o=cd(),_e.updateQueue=o,o.events=[a];else{var u=o.events;u===null?o.events=[a]:u.push(a)}}function WS(a){var o=Dt().memoizedState;return II({ref:o,nextImpl:a}),function(){if(($e&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}function ZS(a,o){return hd(4,2,a,o)}function QS(a,o){return hd(4,4,a,o)}function JS(a,o){if(typeof o=="function"){a=a();var u=o(a);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function ex(a,o,u){u=u!=null?u.concat([a]):null,hd(4,4,JS.bind(null,o,a),u)}function Um(){}function tx(a,o){var u=Dt();o=o===void 0?null:o;var m=u.memoizedState;return o!==null&&Pm(o,m[1])?m[0]:(u.memoizedState=[a,o],a)}function nx(a,o){var u=Dt();o=o===void 0?null:o;var m=u.memoizedState;if(o!==null&&Pm(o,m[1]))return m[0];if(m=a(),us){sa(!0);try{a()}finally{sa(!1)}}return u.memoizedState=[m,o],m}function Hm(a,o,u){return u===void 0||(xr&1073741824)!==0&&(ke&261930)===0?a.memoizedState=o:(a.memoizedState=u,a=iE(),_e.lanes|=a,Aa|=a,u)}function ix(a,o,u,m){return Kn(u,o)?u:go.current!==null?(a=Hm(a,u,m),Kn(a,o)||(kt=!0),a):(xr&42)===0||(xr&1073741824)!==0&&(ke&261930)===0?(kt=!0,a.memoizedState=u):(a=iE(),_e.lanes|=a,Aa|=a,o)}function rx(a,o,u,m,v){var b=H.p;H.p=b!==0&&8>b?b:8;var w=B.T,L={};B.T=L,Gm(a,!1,o,u);try{var k=v(),V=B.S;if(V!==null&&V(L,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var Q=PI(k,m);Xl(a,o,Q,ti(a))}else Xl(a,o,m,ti(a))}catch(te){Xl(a,o,{then:function(){},status:"rejected",reason:te},ti())}finally{H.p=b,w!==null&&L.types!==null&&(w.types=L.types),B.T=w}}function kI(){}function $m(a,o,u,m){if(a.tag!==5)throw Error(i(476));var v=ax(a).queue;rx(a,v,o,ie,u===null?kI:function(){return sx(a),u(m)})}function ax(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Er,lastRenderedState:ie},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Er,lastRenderedState:u},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function sx(a){var o=ax(a);o.next===null&&(o=a.alternate.memoizedState),Xl(a,o.next.queue,{},ti())}function qm(){return dn(dc)}function ox(){return Dt().memoizedState}function lx(){return Dt().memoizedState}function jI(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var u=ti();a=pa(u);var m=ma(o,a,u);m!==null&&(zn(m,o,u),$l(m,o,u)),o={cache:bm()},a.payload=o;return}o=o.return}}function BI(a,o,u){var m=ti();u={lane:m,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},pd(a)?ux(o,u):(u=lm(a,o,u,m),u!==null&&(zn(u,a,m),dx(u,o,m)))}function cx(a,o,u){var m=ti();Xl(a,o,u,m)}function Xl(a,o,u,m){var v={lane:m,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(pd(a))ux(o,v);else{var b=a.alternate;if(a.lanes===0&&(b===null||b.lanes===0)&&(b=o.lastRenderedReducer,b!==null))try{var w=o.lastRenderedState,L=b(w,u);if(v.hasEagerState=!0,v.eagerState=L,Kn(L,w))return Xu(a,o,v,0),st===null&&Yu(),!1}catch{}if(u=lm(a,o,v,m),u!==null)return zn(u,a,m),dx(u,o,m),!0}return!1}function Gm(a,o,u,m){if(m={lane:2,revertLane:Eg(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},pd(a)){if(o)throw Error(i(479))}else o=lm(a,u,m,2),o!==null&&zn(o,a,2)}function pd(a){var o=a.alternate;return a===_e||o!==null&&o===_e}function ux(a,o){vo=od=!0;var u=a.pending;u===null?o.next=o:(o.next=u.next,u.next=o),a.pending=o}function dx(a,o,u){if((u&4194048)!==0){var m=o.lanes;m&=a.pendingLanes,u|=m,o.lanes=u,g1(a,u)}}var Kl={readContext:dn,use:ud,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useLayoutEffect:Et,useInsertionEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useSyncExternalStore:Et,useId:Et,useHostTransitionStatus:Et,useFormState:Et,useActionState:Et,useOptimistic:Et,useMemoCache:Et,useCacheRefresh:Et};Kl.useEffectEvent=Et;var fx={readContext:dn,use:ud,useCallback:function(a,o){return On().memoizedState=[a,o===void 0?null:o],a},useContext:dn,useEffect:KS,useImperativeHandle:function(a,o,u){u=u!=null?u.concat([a]):null,fd(4194308,4,JS.bind(null,o,a),u)},useLayoutEffect:function(a,o){return fd(4194308,4,a,o)},useInsertionEffect:function(a,o){fd(4,2,a,o)},useMemo:function(a,o){var u=On();o=o===void 0?null:o;var m=a();if(us){sa(!0);try{a()}finally{sa(!1)}}return u.memoizedState=[m,o],m},useReducer:function(a,o,u){var m=On();if(u!==void 0){var v=u(o);if(us){sa(!0);try{u(o)}finally{sa(!1)}}}else v=o;return m.memoizedState=m.baseState=v,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:v},m.queue=a,a=a.dispatch=BI.bind(null,_e,a),[m.memoizedState,a]},useRef:function(a){var o=On();return a={current:a},o.memoizedState=a},useState:function(a){a=Bm(a);var o=a.queue,u=cx.bind(null,_e,o);return o.dispatch=u,[a.memoizedState,u]},useDebugValue:Um,useDeferredValue:function(a,o){var u=On();return Hm(u,a,o)},useTransition:function(){var a=Bm(!1);return a=rx.bind(null,_e,a.queue,!0,!1),On().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,u){var m=_e,v=On();if(Be){if(u===void 0)throw Error(i(407));u=u()}else{if(u=o(),st===null)throw Error(i(349));(ke&127)!==0||NS(m,o,u)}v.memoizedState=u;var b={value:u,getSnapshot:o};return v.queue=b,KS(IS.bind(null,m,b,a),[a]),m.flags|=2048,bo(9,{destroy:void 0},RS.bind(null,m,b,u,o),null),u},useId:function(){var a=On(),o=st.identifierPrefix;if(Be){var u=Vi,m=Gi;u=(m&~(1<<32-Xn(m)-1)).toString(32)+u,o="_"+o+"R_"+u,u=ld++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=DI++,o="_"+o+"r_"+u.toString(32)+"_";return a.memoizedState=o},useHostTransitionStatus:qm,useFormState:qS,useActionState:qS,useOptimistic:function(a){var o=On();o.memoizedState=o.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=Gm.bind(null,_e,!0,u),u.dispatch=o,[a,o]},useMemoCache:Im,useCacheRefresh:function(){return On().memoizedState=jI.bind(null,_e)},useEffectEvent:function(a){var o=On(),u={impl:a};return o.memoizedState=u,function(){if(($e&2)!==0)throw Error(i(440));return u.impl.apply(void 0,arguments)}}},Vm={readContext:dn,use:ud,useCallback:tx,useContext:dn,useEffect:Fm,useImperativeHandle:ex,useInsertionEffect:ZS,useLayoutEffect:QS,useMemo:nx,useReducer:dd,useRef:XS,useState:function(){return dd(Er)},useDebugValue:Um,useDeferredValue:function(a,o){var u=Dt();return ix(u,tt.memoizedState,a,o)},useTransition:function(){var a=dd(Er)[0],o=Dt().memoizedState;return[typeof a=="boolean"?a:Yl(a),o]},useSyncExternalStore:LS,useId:ox,useHostTransitionStatus:qm,useFormState:GS,useActionState:GS,useOptimistic:function(a,o){var u=Dt();return BS(u,tt,a,o)},useMemoCache:Im,useCacheRefresh:lx};Vm.useEffectEvent=WS;var hx={readContext:dn,use:ud,useCallback:tx,useContext:dn,useEffect:Fm,useImperativeHandle:ex,useInsertionEffect:ZS,useLayoutEffect:QS,useMemo:nx,useReducer:jm,useRef:XS,useState:function(){return jm(Er)},useDebugValue:Um,useDeferredValue:function(a,o){var u=Dt();return tt===null?Hm(u,a,o):ix(u,tt.memoizedState,a,o)},useTransition:function(){var a=jm(Er)[0],o=Dt().memoizedState;return[typeof a=="boolean"?a:Yl(a),o]},useSyncExternalStore:LS,useId:ox,useHostTransitionStatus:qm,useFormState:YS,useActionState:YS,useOptimistic:function(a,o){var u=Dt();return tt!==null?BS(u,tt,a,o):(u.baseState=a,[a,u.queue.dispatch])},useMemoCache:Im,useCacheRefresh:lx};hx.useEffectEvent=WS;function Ym(a,o,u,m){o=a.memoizedState,u=u(m,o),u=u==null?o:p({},o,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var Xm={enqueueSetState:function(a,o,u){a=a._reactInternals;var m=ti(),v=pa(m);v.payload=o,u!=null&&(v.callback=u),o=ma(a,v,m),o!==null&&(zn(o,a,m),$l(o,a,m))},enqueueReplaceState:function(a,o,u){a=a._reactInternals;var m=ti(),v=pa(m);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=ma(a,v,m),o!==null&&(zn(o,a,m),$l(o,a,m))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var u=ti(),m=pa(u);m.tag=2,o!=null&&(m.callback=o),o=ma(a,m,u),o!==null&&(zn(o,a,u),$l(o,a,u))}};function px(a,o,u,m,v,b,w){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(m,b,w):o.prototype&&o.prototype.isPureReactComponent?!Il(u,m)||!Il(v,b):!0}function mx(a,o,u,m){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,m),o.state!==a&&Xm.enqueueReplaceState(o,o.state,null)}function ds(a,o){var u=o;if("ref"in o){u={};for(var m in o)m!=="ref"&&(u[m]=o[m])}if(a=a.defaultProps){u===o&&(u=p({},u));for(var v in a)u[v]===void 0&&(u[v]=a[v])}return u}function gx(a){Vu(a)}function vx(a){console.error(a)}function yx(a){Vu(a)}function md(a,o){try{var u=a.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(m){setTimeout(function(){throw m})}}function bx(a,o,u){try{var m=a.onCaughtError;m(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Km(a,o,u){return u=pa(u),u.tag=3,u.payload={element:null},u.callback=function(){md(a,o)},u}function Ax(a){return a=pa(a),a.tag=3,a}function Sx(a,o,u,m){var v=u.type.getDerivedStateFromError;if(typeof v=="function"){var b=m.value;a.payload=function(){return v(b)},a.callback=function(){bx(o,u,m)}}var w=u.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(a.callback=function(){bx(o,u,m),typeof v!="function"&&(Sa===null?Sa=new Set([this]):Sa.add(this));var L=m.stack;this.componentDidCatch(m.value,{componentStack:L!==null?L:""})})}function zI(a,o,u,m,v){if(u.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(o=u.alternate,o!==null&&uo(o,u,v,!0),u=Zn.current,u!==null){switch(u.tag){case 31:case 13:return yi===null?Td():u.alternate===null&&wt===0&&(wt=3),u.flags&=-257,u.flags|=65536,u.lanes=v,m===nd?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([m]):o.add(m),Ag(a,m,v)),!1;case 22:return u.flags|=65536,m===nd?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([m])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([m]):u.add(m)),Ag(a,m,v)),!1}throw Error(i(435,u.tag))}return Ag(a,m,v),Td(),!1}if(Be)return o=Zn.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=v,m!==pm&&(a=Error(i(422),{cause:m}),Bl(pi(a,u)))):(m!==pm&&(o=Error(i(423),{cause:m}),Bl(pi(o,u))),a=a.current.alternate,a.flags|=65536,v&=-v,a.lanes|=v,m=pi(m,u),v=Km(a.stateNode,m,v),Cm(a,v),wt!==4&&(wt=2)),!1;var b=Error(i(520),{cause:m});if(b=pi(b,u),ic===null?ic=[b]:ic.push(b),wt!==4&&(wt=2),o===null)return!0;m=pi(m,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,a=v&-v,u.lanes|=a,a=Km(u.stateNode,m,a),Cm(u,a),!1;case 1:if(o=u.type,b=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Sa===null||!Sa.has(b))))return u.flags|=65536,v&=-v,u.lanes|=v,v=Ax(v),Sx(v,a,u,m),Cm(u,v),!1}u=u.return}while(u!==null);return!1}var Wm=Error(i(461)),kt=!1;function fn(a,o,u,m){o.child=a===null?CS(o,null,u,m):cs(o,a.child,u,m)}function xx(a,o,u,m,v){u=u.render;var b=o.ref;if("ref"in m){var w={};for(var L in m)L!=="ref"&&(w[L]=m[L])}else w=m;return as(o),m=Dm(a,o,u,w,b,v),L=Lm(),a!==null&&!kt?(Nm(a,o,v),wr(a,o,v)):(Be&&L&&fm(o),o.flags|=1,fn(a,o,m,v),o.child)}function Ex(a,o,u,m,v){if(a===null){var b=u.type;return typeof b=="function"&&!cm(b)&&b.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=b,wx(a,o,b,m,v)):(a=Wu(u.type,null,m,o,o.mode,v),a.ref=o.ref,a.return=o,o.child=a)}if(b=a.child,!rg(a,v)){var w=b.memoizedProps;if(u=u.compare,u=u!==null?u:Il,u(w,m)&&a.ref===o.ref)return wr(a,o,v)}return o.flags|=1,a=yr(b,m),a.ref=o.ref,a.return=o,o.child=a}function wx(a,o,u,m,v){if(a!==null){var b=a.memoizedProps;if(Il(b,m)&&a.ref===o.ref)if(kt=!1,o.pendingProps=m=b,rg(a,v))(a.flags&131072)!==0&&(kt=!0);else return o.lanes=a.lanes,wr(a,o,v)}return Zm(a,o,u,m,v)}function Cx(a,o,u,m){var v=m.children,b=a!==null?a.memoizedState:null;if(a===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((o.flags&128)!==0){if(b=b!==null?b.baseLanes|u:u,a!==null){for(m=o.child=a.child,v=0;m!==null;)v=v|m.lanes|m.childLanes,m=m.sibling;m=v&~b}else m=0,o.child=null;return Ox(a,o,b,u,m)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&ed(o,b!==null?b.cachePool:null),b!==null?MS(o,b):Tm(),_S(o);else return m=o.lanes=536870912,Ox(a,o,b!==null?b.baseLanes|u:u,u,m)}else b!==null?(ed(o,b.cachePool),MS(o,b),va(),o.memoizedState=null):(a!==null&&ed(o,null),Tm(),va());return fn(a,o,v,u),o.child}function Wl(a,o){return a!==null&&a.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function Ox(a,o,u,m,v){var b=Sm();return b=b===null?null:{parent:Rt._currentValue,pool:b},o.memoizedState={baseLanes:u,cachePool:b},a!==null&&ed(o,null),Tm(),_S(o),a!==null&&uo(a,o,m,!0),o.childLanes=v,null}function gd(a,o){return o=yd({mode:o.mode,children:o.children},a.mode),o.ref=a.ref,a.child=o,o.return=a,o}function Tx(a,o,u){return cs(o,a.child,null,u),a=gd(o,o.pendingProps),a.flags|=2,Qn(o),o.memoizedState=null,a}function FI(a,o,u){var m=o.pendingProps,v=(o.flags&128)!==0;if(o.flags&=-129,a===null){if(Be){if(m.mode==="hidden")return a=gd(o,m),o.lanes=536870912,Wl(null,a);if(_m(o),(a=dt)?(a=zE(a,vi),a=a!==null&&a.data==="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:ca!==null?{id:Gi,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},u=uS(a),u.return=o,o.child=u,un=o,dt=null)):a=null,a===null)throw da(o);return o.lanes=536870912,null}return gd(o,m)}var b=a.memoizedState;if(b!==null){var w=b.dehydrated;if(_m(o),v)if(o.flags&256)o.flags&=-257,o=Tx(a,o,u);else if(o.memoizedState!==null)o.child=a.child,o.flags|=128,o=null;else throw Error(i(558));else if(kt||uo(a,o,u,!1),v=(u&a.childLanes)!==0,kt||v){if(m=st,m!==null&&(w=v1(m,u),w!==0&&w!==b.retryLane))throw b.retryLane=w,ts(a,w),zn(m,a,w),Wm;Td(),o=Tx(a,o,u)}else a=b.treeContext,dt=bi(w.nextSibling),un=o,Be=!0,ua=null,vi=!1,a!==null&&hS(o,a),o=gd(o,m),o.flags|=4096;return o}return a=yr(a.child,{mode:m.mode,children:m.children}),a.ref=o.ref,o.child=a,a.return=o,a}function vd(a,o){var u=o.ref;if(u===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(i(284));(a===null||a.ref!==u)&&(o.flags|=4194816)}}function Zm(a,o,u,m,v){return as(o),u=Dm(a,o,u,m,void 0,v),m=Lm(),a!==null&&!kt?(Nm(a,o,v),wr(a,o,v)):(Be&&m&&fm(o),o.flags|=1,fn(a,o,u,v),o.child)}function Mx(a,o,u,m,v,b){return as(o),o.updateQueue=null,u=DS(o,m,u,v),PS(a),m=Lm(),a!==null&&!kt?(Nm(a,o,b),wr(a,o,b)):(Be&&m&&fm(o),o.flags|=1,fn(a,o,u,b),o.child)}function _x(a,o,u,m,v){if(as(o),o.stateNode===null){var b=so,w=u.contextType;typeof w=="object"&&w!==null&&(b=dn(w)),b=new u(m,b),o.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Xm,o.stateNode=b,b._reactInternals=o,b=o.stateNode,b.props=m,b.state=o.memoizedState,b.refs={},Em(o),w=u.contextType,b.context=typeof w=="object"&&w!==null?dn(w):so,b.state=o.memoizedState,w=u.getDerivedStateFromProps,typeof w=="function"&&(Ym(o,u,w,m),b.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(w=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),w!==b.state&&Xm.enqueueReplaceState(b,b.state,null),Gl(o,m,b,v),ql(),b.state=o.memoizedState),typeof b.componentDidMount=="function"&&(o.flags|=4194308),m=!0}else if(a===null){b=o.stateNode;var L=o.memoizedProps,k=ds(u,L);b.props=k;var V=b.context,Q=u.contextType;w=so,typeof Q=="object"&&Q!==null&&(w=dn(Q));var te=u.getDerivedStateFromProps;Q=typeof te=="function"||typeof b.getSnapshotBeforeUpdate=="function",L=o.pendingProps!==L,Q||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(L||V!==w)&&mx(o,b,m,w),ha=!1;var W=o.memoizedState;b.state=W,Gl(o,m,b,v),ql(),V=o.memoizedState,L||W!==V||ha?(typeof te=="function"&&(Ym(o,u,te,m),V=o.memoizedState),(k=ha||px(o,u,k,m,W,V,w))?(Q||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(o.flags|=4194308)):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=V),b.props=m,b.state=V,b.context=w,m=k):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{b=o.stateNode,wm(a,o),w=o.memoizedProps,Q=ds(u,w),b.props=Q,te=o.pendingProps,W=b.context,V=u.contextType,k=so,typeof V=="object"&&V!==null&&(k=dn(V)),L=u.getDerivedStateFromProps,(V=typeof L=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(w!==te||W!==k)&&mx(o,b,m,k),ha=!1,W=o.memoizedState,b.state=W,Gl(o,m,b,v),ql();var Z=o.memoizedState;w!==te||W!==Z||ha||a!==null&&a.dependencies!==null&&Qu(a.dependencies)?(typeof L=="function"&&(Ym(o,u,L,m),Z=o.memoizedState),(Q=ha||px(o,u,Q,m,W,Z,k)||a!==null&&a.dependencies!==null&&Qu(a.dependencies))?(V||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(m,Z,k),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(m,Z,k)),typeof b.componentDidUpdate=="function"&&(o.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof b.componentDidUpdate!="function"||w===a.memoizedProps&&W===a.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||w===a.memoizedProps&&W===a.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=Z),b.props=m,b.state=Z,b.context=k,m=Q):(typeof b.componentDidUpdate!="function"||w===a.memoizedProps&&W===a.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||w===a.memoizedProps&&W===a.memoizedState||(o.flags|=1024),m=!1)}return b=m,vd(a,o),m=(o.flags&128)!==0,b||m?(b=o.stateNode,u=m&&typeof u.getDerivedStateFromError!="function"?null:b.render(),o.flags|=1,a!==null&&m?(o.child=cs(o,a.child,null,v),o.child=cs(o,null,u,v)):fn(a,o,u,v),o.memoizedState=b.state,a=o.child):a=wr(a,o,v),a}function Px(a,o,u,m){return is(),o.flags|=256,fn(a,o,u,m),o.child}var Qm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Jm(a){return{baseLanes:a,cachePool:bS()}}function eg(a,o,u){return a=a!==null?a.childLanes&~u:0,o&&(a|=ei),a}function Dx(a,o,u){var m=o.pendingProps,v=!1,b=(o.flags&128)!==0,w;if((w=b)||(w=a!==null&&a.memoizedState===null?!1:(Pt.current&2)!==0),w&&(v=!0,o.flags&=-129),w=(o.flags&32)!==0,o.flags&=-33,a===null){if(Be){if(v?ga(o):va(),(a=dt)?(a=zE(a,vi),a=a!==null&&a.data!=="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:ca!==null?{id:Gi,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},u=uS(a),u.return=o,o.child=u,un=o,dt=null)):a=null,a===null)throw da(o);return kg(a)?o.lanes=32:o.lanes=536870912,null}var L=m.children;return m=m.fallback,v?(va(),v=o.mode,L=yd({mode:"hidden",children:L},v),m=ns(m,v,u,null),L.return=o,m.return=o,L.sibling=m,o.child=L,m=o.child,m.memoizedState=Jm(u),m.childLanes=eg(a,w,u),o.memoizedState=Qm,Wl(null,m)):(ga(o),tg(o,L))}var k=a.memoizedState;if(k!==null&&(L=k.dehydrated,L!==null)){if(b)o.flags&256?(ga(o),o.flags&=-257,o=ng(a,o,u)):o.memoizedState!==null?(va(),o.child=a.child,o.flags|=128,o=null):(va(),L=m.fallback,v=o.mode,m=yd({mode:"visible",children:m.children},v),L=ns(L,v,u,null),L.flags|=2,m.return=o,L.return=o,m.sibling=L,o.child=m,cs(o,a.child,null,u),m=o.child,m.memoizedState=Jm(u),m.childLanes=eg(a,w,u),o.memoizedState=Qm,o=Wl(null,m));else if(ga(o),kg(L)){if(w=L.nextSibling&&L.nextSibling.dataset,w)var V=w.dgst;w=V,m=Error(i(419)),m.stack="",m.digest=w,Bl({value:m,source:null,stack:null}),o=ng(a,o,u)}else if(kt||uo(a,o,u,!1),w=(u&a.childLanes)!==0,kt||w){if(w=st,w!==null&&(m=v1(w,u),m!==0&&m!==k.retryLane))throw k.retryLane=m,ts(a,m),zn(w,a,m),Wm;Ig(L)||Td(),o=ng(a,o,u)}else Ig(L)?(o.flags|=192,o.child=a.child,o=null):(a=k.treeContext,dt=bi(L.nextSibling),un=o,Be=!0,ua=null,vi=!1,a!==null&&hS(o,a),o=tg(o,m.children),o.flags|=4096);return o}return v?(va(),L=m.fallback,v=o.mode,k=a.child,V=k.sibling,m=yr(k,{mode:"hidden",children:m.children}),m.subtreeFlags=k.subtreeFlags&65011712,V!==null?L=yr(V,L):(L=ns(L,v,u,null),L.flags|=2),L.return=o,m.return=o,m.sibling=L,o.child=m,Wl(null,m),m=o.child,L=a.child.memoizedState,L===null?L=Jm(u):(v=L.cachePool,v!==null?(k=Rt._currentValue,v=v.parent!==k?{parent:k,pool:k}:v):v=bS(),L={baseLanes:L.baseLanes|u,cachePool:v}),m.memoizedState=L,m.childLanes=eg(a,w,u),o.memoizedState=Qm,Wl(a.child,m)):(ga(o),u=a.child,a=u.sibling,u=yr(u,{mode:"visible",children:m.children}),u.return=o,u.sibling=null,a!==null&&(w=o.deletions,w===null?(o.deletions=[a],o.flags|=16):w.push(a)),o.child=u,o.memoizedState=null,u)}function tg(a,o){return o=yd({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function yd(a,o){return a=Wn(22,a,null,o),a.lanes=0,a}function ng(a,o,u){return cs(o,a.child,null,u),a=tg(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function Lx(a,o,u){a.lanes|=o;var m=a.alternate;m!==null&&(m.lanes|=o),vm(a.return,o,u)}function ig(a,o,u,m,v,b){var w=a.memoizedState;w===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:v,treeForkCount:b}:(w.isBackwards=o,w.rendering=null,w.renderingStartTime=0,w.last=m,w.tail=u,w.tailMode=v,w.treeForkCount=b)}function Nx(a,o,u){var m=o.pendingProps,v=m.revealOrder,b=m.tail;m=m.children;var w=Pt.current,L=(w&2)!==0;if(L?(w=w&1|2,o.flags|=128):w&=1,ne(Pt,w),fn(a,o,m,u),m=Be?jl:0,!L&&a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Lx(a,u,o);else if(a.tag===19)Lx(a,u,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(v){case"forwards":for(u=o.child,v=null;u!==null;)a=u.alternate,a!==null&&sd(a)===null&&(v=u),u=u.sibling;u=v,u===null?(v=o.child,o.child=null):(v=u.sibling,u.sibling=null),ig(o,!1,v,u,b,m);break;case"backwards":case"unstable_legacy-backwards":for(u=null,v=o.child,o.child=null;v!==null;){if(a=v.alternate,a!==null&&sd(a)===null){o.child=v;break}a=v.sibling,v.sibling=u,u=v,v=a}ig(o,!0,u,null,b,m);break;case"together":ig(o,!1,null,null,void 0,m);break;default:o.memoizedState=null}return o.child}function wr(a,o,u){if(a!==null&&(o.dependencies=a.dependencies),Aa|=o.lanes,(u&o.childLanes)===0)if(a!==null){if(uo(a,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(i(153));if(o.child!==null){for(a=o.child,u=yr(a,a.pendingProps),o.child=u,u.return=o;a.sibling!==null;)a=a.sibling,u=u.sibling=yr(a,a.pendingProps),u.return=o;u.sibling=null}return o.child}function rg(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&Qu(a)))}function UI(a,o,u){switch(o.tag){case 3:ut(o,o.stateNode.containerInfo),fa(o,Rt,a.memoizedState.cache),is();break;case 27:case 5:Oe(o);break;case 4:ut(o,o.stateNode.containerInfo);break;case 10:fa(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,_m(o),null;break;case 13:var m=o.memoizedState;if(m!==null)return m.dehydrated!==null?(ga(o),o.flags|=128,null):(u&o.child.childLanes)!==0?Dx(a,o,u):(ga(o),a=wr(a,o,u),a!==null?a.sibling:null);ga(o);break;case 19:var v=(a.flags&128)!==0;if(m=(u&o.childLanes)!==0,m||(uo(a,o,u,!1),m=(u&o.childLanes)!==0),v){if(m)return Nx(a,o,u);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),ne(Pt,Pt.current),m)break;return null;case 22:return o.lanes=0,Cx(a,o,u,o.pendingProps);case 24:fa(o,Rt,a.memoizedState.cache)}return wr(a,o,u)}function Rx(a,o,u){if(a!==null)if(a.memoizedProps!==o.pendingProps)kt=!0;else{if(!rg(a,u)&&(o.flags&128)===0)return kt=!1,UI(a,o,u);kt=(a.flags&131072)!==0}else kt=!1,Be&&(o.flags&1048576)!==0&&fS(o,jl,o.index);switch(o.lanes=0,o.tag){case 16:e:{var m=o.pendingProps;if(a=os(o.elementType),o.type=a,typeof a=="function")cm(a)?(m=ds(a,m),o.tag=1,o=_x(null,o,a,m,u)):(o.tag=0,o=Zm(null,o,a,m,u));else{if(a!=null){var v=a.$$typeof;if(v===P){o.tag=11,o=xx(null,o,a,m,u);break e}else if(v===N){o.tag=14,o=Ex(null,o,a,m,u);break e}}throw o=re(a)||a,Error(i(306,o,""))}}return o;case 0:return Zm(a,o,o.type,o.pendingProps,u);case 1:return m=o.type,v=ds(m,o.pendingProps),_x(a,o,m,v,u);case 3:e:{if(ut(o,o.stateNode.containerInfo),a===null)throw Error(i(387));m=o.pendingProps;var b=o.memoizedState;v=b.element,wm(a,o),Gl(o,m,null,u);var w=o.memoizedState;if(m=w.cache,fa(o,Rt,m),m!==b.cache&&ym(o,[Rt],u,!0),ql(),m=w.element,b.isDehydrated)if(b={element:m,isDehydrated:!1,cache:w.cache},o.updateQueue.baseState=b,o.memoizedState=b,o.flags&256){o=Px(a,o,m,u);break e}else if(m!==v){v=pi(Error(i(424)),o),Bl(v),o=Px(a,o,m,u);break e}else for(a=o.stateNode.containerInfo,a.nodeType===9?a=a.body:a=a.nodeName==="HTML"?a.ownerDocument.body:a,dt=bi(a.firstChild),un=o,Be=!0,ua=null,vi=!0,u=CS(o,null,m,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(is(),m===v){o=wr(a,o,u);break e}fn(a,o,m,u)}o=o.child}return o;case 26:return vd(a,o),a===null?(u=GE(o.type,null,o.pendingProps,null))?o.memoizedState=u:Be||(u=o.type,a=o.pendingProps,m=Rd(xe.current).createElement(u),m[cn]=o,m[Nn]=a,hn(m,u,a),Wt(m),o.stateNode=m):o.memoizedState=GE(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return Oe(o),a===null&&Be&&(m=o.stateNode=HE(o.type,o.pendingProps,xe.current),un=o,vi=!0,v=dt,Ca(o.type)?(jg=v,dt=bi(m.firstChild)):dt=v),fn(a,o,o.pendingProps.children,u),vd(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&Be&&((v=m=dt)&&(m=vk(m,o.type,o.pendingProps,vi),m!==null?(o.stateNode=m,un=o,dt=bi(m.firstChild),vi=!1,v=!0):v=!1),v||da(o)),Oe(o),v=o.type,b=o.pendingProps,w=a!==null?a.memoizedProps:null,m=b.children,Lg(v,b)?m=null:w!==null&&Lg(v,w)&&(o.flags|=32),o.memoizedState!==null&&(v=Dm(a,o,LI,null,null,u),dc._currentValue=v),vd(a,o),fn(a,o,m,u),o.child;case 6:return a===null&&Be&&((a=u=dt)&&(u=yk(u,o.pendingProps,vi),u!==null?(o.stateNode=u,un=o,dt=null,a=!0):a=!1),a||da(o)),null;case 13:return Dx(a,o,u);case 4:return ut(o,o.stateNode.containerInfo),m=o.pendingProps,a===null?o.child=cs(o,null,m,u):fn(a,o,m,u),o.child;case 11:return xx(a,o,o.type,o.pendingProps,u);case 7:return fn(a,o,o.pendingProps,u),o.child;case 8:return fn(a,o,o.pendingProps.children,u),o.child;case 12:return fn(a,o,o.pendingProps.children,u),o.child;case 10:return m=o.pendingProps,fa(o,o.type,m.value),fn(a,o,m.children,u),o.child;case 9:return v=o.type._context,m=o.pendingProps.children,as(o),v=dn(v),m=m(v),o.flags|=1,fn(a,o,m,u),o.child;case 14:return Ex(a,o,o.type,o.pendingProps,u);case 15:return wx(a,o,o.type,o.pendingProps,u);case 19:return Nx(a,o,u);case 31:return FI(a,o,u);case 22:return Cx(a,o,u,o.pendingProps);case 24:return as(o),m=dn(Rt),a===null?(v=Sm(),v===null&&(v=st,b=bm(),v.pooledCache=b,b.refCount++,b!==null&&(v.pooledCacheLanes|=u),v=b),o.memoizedState={parent:m,cache:v},Em(o),fa(o,Rt,v)):((a.lanes&u)!==0&&(wm(a,o),Gl(o,null,null,u),ql()),v=a.memoizedState,b=o.memoizedState,v.parent!==m?(v={parent:m,cache:m},o.memoizedState=v,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=v),fa(o,Rt,m)):(m=b.cache,fa(o,Rt,m),m!==v.cache&&ym(o,[Rt],u,!0))),fn(a,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}function Cr(a){a.flags|=4}function ag(a,o,u,m,v){if((o=(a.mode&32)!==0)&&(o=!1),o){if(a.flags|=16777216,(v&335544128)===v)if(a.stateNode.complete)a.flags|=8192;else if(oE())a.flags|=8192;else throw ls=nd,xm}else a.flags&=-16777217}function Ix(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!WE(o))if(oE())a.flags|=8192;else throw ls=nd,xm}function bd(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?p1():536870912,a.lanes|=o,Eo|=o)}function Zl(a,o){if(!Be)switch(a.tailMode){case"hidden":o=a.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:m.sibling=null}}function ft(a){var o=a.alternate!==null&&a.alternate.child===a.child,u=0,m=0;if(o)for(var v=a.child;v!==null;)u|=v.lanes|v.childLanes,m|=v.subtreeFlags&65011712,m|=v.flags&65011712,v.return=a,v=v.sibling;else for(v=a.child;v!==null;)u|=v.lanes|v.childLanes,m|=v.subtreeFlags,m|=v.flags,v.return=a,v=v.sibling;return a.subtreeFlags|=m,a.childLanes=u,o}function HI(a,o,u){var m=o.pendingProps;switch(hm(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(o),null;case 1:return ft(o),null;case 3:return u=o.stateNode,m=null,a!==null&&(m=a.memoizedState.cache),o.memoizedState.cache!==m&&(o.flags|=2048),Sr(Rt),J(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(co(o)?Cr(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,mm())),ft(o),null;case 26:var v=o.type,b=o.memoizedState;return a===null?(Cr(o),b!==null?(ft(o),Ix(o,b)):(ft(o),ag(o,v,null,m,u))):b?b!==a.memoizedState?(Cr(o),ft(o),Ix(o,b)):(ft(o),o.flags&=-16777217):(a=a.memoizedProps,a!==m&&Cr(o),ft(o),ag(o,v,a,m,u)),null;case 27:if(Pe(o),u=xe.current,v=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==m&&Cr(o);else{if(!m){if(o.stateNode===null)throw Error(i(166));return ft(o),null}a=oe.current,co(o)?pS(o):(a=HE(v,m,u),o.stateNode=a,Cr(o))}return ft(o),null;case 5:if(Pe(o),v=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==m&&Cr(o);else{if(!m){if(o.stateNode===null)throw Error(i(166));return ft(o),null}if(b=oe.current,co(o))pS(o);else{var w=Rd(xe.current);switch(b){case 1:b=w.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:b=w.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":b=w.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":b=w.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":b=w.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof m.is=="string"?w.createElement("select",{is:m.is}):w.createElement("select"),m.multiple?b.multiple=!0:m.size&&(b.size=m.size);break;default:b=typeof m.is=="string"?w.createElement(v,{is:m.is}):w.createElement(v)}}b[cn]=o,b[Nn]=m;e:for(w=o.child;w!==null;){if(w.tag===5||w.tag===6)b.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===o)break e;for(;w.sibling===null;){if(w.return===null||w.return===o)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}o.stateNode=b;e:switch(hn(b,v,m),v){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&Cr(o)}}return ft(o),ag(o,o.type,a===null?null:a.memoizedProps,o.pendingProps,u),null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==m&&Cr(o);else{if(typeof m!="string"&&o.stateNode===null)throw Error(i(166));if(a=xe.current,co(o)){if(a=o.stateNode,u=o.memoizedProps,m=null,v=un,v!==null)switch(v.tag){case 27:case 5:m=v.memoizedProps}a[cn]=o,a=!!(a.nodeValue===u||m!==null&&m.suppressHydrationWarning===!0||DE(a.nodeValue,u)),a||da(o,!0)}else a=Rd(a).createTextNode(m),a[cn]=o,o.stateNode=a}return ft(o),null;case 31:if(u=o.memoizedState,a===null||a.memoizedState!==null){if(m=co(o),u!==null){if(a===null){if(!m)throw Error(i(318));if(a=o.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(557));a[cn]=o}else is(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;ft(o),a=!1}else u=mm(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=u),a=!0;if(!a)return o.flags&256?(Qn(o),o):(Qn(o),null);if((o.flags&128)!==0)throw Error(i(558))}return ft(o),null;case 13:if(m=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(v=co(o),m!==null&&m.dehydrated!==null){if(a===null){if(!v)throw Error(i(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(i(317));v[cn]=o}else is(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;ft(o),v=!1}else v=mm(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=v),v=!0;if(!v)return o.flags&256?(Qn(o),o):(Qn(o),null)}return Qn(o),(o.flags&128)!==0?(o.lanes=u,o):(u=m!==null,a=a!==null&&a.memoizedState!==null,u&&(m=o.child,v=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(v=m.alternate.memoizedState.cachePool.pool),b=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(b=m.memoizedState.cachePool.pool),b!==v&&(m.flags|=2048)),u!==a&&u&&(o.child.flags|=8192),bd(o,o.updateQueue),ft(o),null);case 4:return J(),a===null&&Tg(o.stateNode.containerInfo),ft(o),null;case 10:return Sr(o.type),ft(o),null;case 19:if(K(Pt),m=o.memoizedState,m===null)return ft(o),null;if(v=(o.flags&128)!==0,b=m.rendering,b===null)if(v)Zl(m,!1);else{if(wt!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(b=sd(a),b!==null){for(o.flags|=128,Zl(m,!1),a=b.updateQueue,o.updateQueue=a,bd(o,a),o.subtreeFlags=0,a=u,u=o.child;u!==null;)cS(u,a),u=u.sibling;return ne(Pt,Pt.current&1|2),Be&&br(o,m.treeForkCount),o.child}a=a.sibling}m.tail!==null&&Vn()>wd&&(o.flags|=128,v=!0,Zl(m,!1),o.lanes=4194304)}else{if(!v)if(a=sd(b),a!==null){if(o.flags|=128,v=!0,a=a.updateQueue,o.updateQueue=a,bd(o,a),Zl(m,!0),m.tail===null&&m.tailMode==="hidden"&&!b.alternate&&!Be)return ft(o),null}else 2*Vn()-m.renderingStartTime>wd&&u!==536870912&&(o.flags|=128,v=!0,Zl(m,!1),o.lanes=4194304);m.isBackwards?(b.sibling=o.child,o.child=b):(a=m.last,a!==null?a.sibling=b:o.child=b,m.last=b)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=Vn(),a.sibling=null,u=Pt.current,ne(Pt,v?u&1|2:u&1),Be&&br(o,m.treeForkCount),a):(ft(o),null);case 22:case 23:return Qn(o),Mm(),m=o.memoizedState!==null,a!==null?a.memoizedState!==null!==m&&(o.flags|=8192):m&&(o.flags|=8192),m?(u&536870912)!==0&&(o.flags&128)===0&&(ft(o),o.subtreeFlags&6&&(o.flags|=8192)):ft(o),u=o.updateQueue,u!==null&&bd(o,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==u&&(o.flags|=2048),a!==null&&K(ss),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),Sr(Rt),ft(o),null;case 25:return null;case 30:return null}throw Error(i(156,o.tag))}function $I(a,o){switch(hm(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return Sr(Rt),J(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return Pe(o),null;case 31:if(o.memoizedState!==null){if(Qn(o),o.alternate===null)throw Error(i(340));is()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 13:if(Qn(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(i(340));is()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return K(Pt),null;case 4:return J(),null;case 10:return Sr(o.type),null;case 22:case 23:return Qn(o),Mm(),a!==null&&K(ss),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return Sr(Rt),null;case 25:return null;default:return null}}function kx(a,o){switch(hm(o),o.tag){case 3:Sr(Rt),J();break;case 26:case 27:case 5:Pe(o);break;case 4:J();break;case 31:o.memoizedState!==null&&Qn(o);break;case 13:Qn(o);break;case 19:K(Pt);break;case 10:Sr(o.type);break;case 22:case 23:Qn(o),Mm(),a!==null&&K(ss);break;case 24:Sr(Rt)}}function Ql(a,o){try{var u=o.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var v=m.next;u=v;do{if((u.tag&a)===a){m=void 0;var b=u.create,w=u.inst;m=b(),w.destroy=m}u=u.next}while(u!==v)}}catch(L){Qe(o,o.return,L)}}function ya(a,o,u){try{var m=o.updateQueue,v=m!==null?m.lastEffect:null;if(v!==null){var b=v.next;m=b;do{if((m.tag&a)===a){var w=m.inst,L=w.destroy;if(L!==void 0){w.destroy=void 0,v=o;var k=u,V=L;try{V()}catch(Q){Qe(v,k,Q)}}}m=m.next}while(m!==b)}}catch(Q){Qe(o,o.return,Q)}}function jx(a){var o=a.updateQueue;if(o!==null){var u=a.stateNode;try{TS(o,u)}catch(m){Qe(a,a.return,m)}}}function Bx(a,o,u){u.props=ds(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(m){Qe(a,o,m)}}function Jl(a,o){try{var u=a.ref;if(u!==null){switch(a.tag){case 26:case 27:case 5:var m=a.stateNode;break;case 30:m=a.stateNode;break;default:m=a.stateNode}typeof u=="function"?a.refCleanup=u(m):u.current=m}}catch(v){Qe(a,o,v)}}function Yi(a,o){var u=a.ref,m=a.refCleanup;if(u!==null)if(typeof m=="function")try{m()}catch(v){Qe(a,o,v)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(v){Qe(a,o,v)}else u.current=null}function zx(a){var o=a.type,u=a.memoizedProps,m=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&m.focus();break e;case"img":u.src?m.src=u.src:u.srcSet&&(m.srcset=u.srcSet)}}catch(v){Qe(a,a.return,v)}}function sg(a,o,u){try{var m=a.stateNode;dk(m,a.type,u,o),m[Nn]=o}catch(v){Qe(a,a.return,v)}}function Fx(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Ca(a.type)||a.tag===4}function og(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Fx(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Ca(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function lg(a,o,u){var m=a.tag;if(m===5||m===6)a=a.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(a,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(a),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=gr));else if(m!==4&&(m===27&&Ca(a.type)&&(u=a.stateNode,o=null),a=a.child,a!==null))for(lg(a,o,u),a=a.sibling;a!==null;)lg(a,o,u),a=a.sibling}function Ad(a,o,u){var m=a.tag;if(m===5||m===6)a=a.stateNode,o?u.insertBefore(a,o):u.appendChild(a);else if(m!==4&&(m===27&&Ca(a.type)&&(u=a.stateNode),a=a.child,a!==null))for(Ad(a,o,u),a=a.sibling;a!==null;)Ad(a,o,u),a=a.sibling}function Ux(a){var o=a.stateNode,u=a.memoizedProps;try{for(var m=a.type,v=o.attributes;v.length;)o.removeAttributeNode(v[0]);hn(o,m,u),o[cn]=a,o[Nn]=u}catch(b){Qe(a,a.return,b)}}var Or=!1,jt=!1,cg=!1,Hx=typeof WeakSet=="function"?WeakSet:Set,Zt=null;function qI(a,o){if(a=a.containerInfo,Pg=Ud,a=eS(a),nm(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{u=(u=a.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var v=m.anchorOffset,b=m.focusNode;m=m.focusOffset;try{u.nodeType,b.nodeType}catch{u=null;break e}var w=0,L=-1,k=-1,V=0,Q=0,te=a,W=null;t:for(;;){for(var Z;te!==u||v!==0&&te.nodeType!==3||(L=w+v),te!==b||m!==0&&te.nodeType!==3||(k=w+m),te.nodeType===3&&(w+=te.nodeValue.length),(Z=te.firstChild)!==null;)W=te,te=Z;for(;;){if(te===a)break t;if(W===u&&++V===v&&(L=w),W===b&&++Q===m&&(k=w),(Z=te.nextSibling)!==null)break;te=W,W=te.parentNode}te=Z}u=L===-1||k===-1?null:{start:L,end:k}}else u=null}u=u||{start:0,end:0}}else u=null;for(Dg={focusedElem:a,selectionRange:u},Ud=!1,Zt=o;Zt!==null;)if(o=Zt,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,Zt=a;else for(;Zt!==null;){switch(o=Zt,b=o.alternate,a=o.flags,o.tag){case 0:if((a&4)!==0&&(a=o.updateQueue,a=a!==null?a.events:null,a!==null))for(u=0;u<a.length;u++)v=a[u],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&b!==null){a=void 0,u=o,v=b.memoizedProps,b=b.memoizedState,m=u.stateNode;try{var me=ds(u.type,v);a=m.getSnapshotBeforeUpdate(me,b),m.__reactInternalSnapshotBeforeUpdate=a}catch(Ee){Qe(u,u.return,Ee)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,u=a.nodeType,u===9)Rg(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Rg(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(i(163))}if(a=o.sibling,a!==null){a.return=o.return,Zt=a;break}Zt=o.return}}function $x(a,o,u){var m=u.flags;switch(u.tag){case 0:case 11:case 15:Mr(a,u),m&4&&Ql(5,u);break;case 1:if(Mr(a,u),m&4)if(a=u.stateNode,o===null)try{a.componentDidMount()}catch(w){Qe(u,u.return,w)}else{var v=ds(u.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(v,o,a.__reactInternalSnapshotBeforeUpdate)}catch(w){Qe(u,u.return,w)}}m&64&&jx(u),m&512&&Jl(u,u.return);break;case 3:if(Mr(a,u),m&64&&(a=u.updateQueue,a!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{TS(a,o)}catch(w){Qe(u,u.return,w)}}break;case 27:o===null&&m&4&&Ux(u);case 26:case 5:Mr(a,u),o===null&&m&4&&zx(u),m&512&&Jl(u,u.return);break;case 12:Mr(a,u);break;case 31:Mr(a,u),m&4&&Vx(a,u);break;case 13:Mr(a,u),m&4&&Yx(a,u),m&64&&(a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(u=JI.bind(null,u),bk(a,u))));break;case 22:if(m=u.memoizedState!==null||Or,!m){o=o!==null&&o.memoizedState!==null||jt,v=Or;var b=jt;Or=m,(jt=o)&&!b?_r(a,u,(u.subtreeFlags&8772)!==0):Mr(a,u),Or=v,jt=b}break;case 30:break;default:Mr(a,u)}}function qx(a){var o=a.alternate;o!==null&&(a.alternate=null,qx(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&zp(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var mt=null,In=!1;function Tr(a,o,u){for(u=u.child;u!==null;)Gx(a,o,u),u=u.sibling}function Gx(a,o,u){if(Yn&&typeof Yn.onCommitFiberUnmount=="function")try{Yn.onCommitFiberUnmount(El,u)}catch{}switch(u.tag){case 26:jt||Yi(u,o),Tr(a,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:jt||Yi(u,o);var m=mt,v=In;Ca(u.type)&&(mt=u.stateNode,In=!1),Tr(a,o,u),lc(u.stateNode),mt=m,In=v;break;case 5:jt||Yi(u,o);case 6:if(m=mt,v=In,mt=null,Tr(a,o,u),mt=m,In=v,mt!==null)if(In)try{(mt.nodeType===9?mt.body:mt.nodeName==="HTML"?mt.ownerDocument.body:mt).removeChild(u.stateNode)}catch(b){Qe(u,o,b)}else try{mt.removeChild(u.stateNode)}catch(b){Qe(u,o,b)}break;case 18:mt!==null&&(In?(a=mt,jE(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,u.stateNode),Do(a)):jE(mt,u.stateNode));break;case 4:m=mt,v=In,mt=u.stateNode.containerInfo,In=!0,Tr(a,o,u),mt=m,In=v;break;case 0:case 11:case 14:case 15:ya(2,u,o),jt||ya(4,u,o),Tr(a,o,u);break;case 1:jt||(Yi(u,o),m=u.stateNode,typeof m.componentWillUnmount=="function"&&Bx(u,o,m)),Tr(a,o,u);break;case 21:Tr(a,o,u);break;case 22:jt=(m=jt)||u.memoizedState!==null,Tr(a,o,u),jt=m;break;default:Tr(a,o,u)}}function Vx(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Do(a)}catch(u){Qe(o,o.return,u)}}}function Yx(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Do(a)}catch(u){Qe(o,o.return,u)}}function GI(a){switch(a.tag){case 31:case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new Hx),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new Hx),o;default:throw Error(i(435,a.tag))}}function Sd(a,o){var u=GI(a);o.forEach(function(m){if(!u.has(m)){u.add(m);var v=ek.bind(null,a,m);m.then(v,v)}})}function kn(a,o){var u=o.deletions;if(u!==null)for(var m=0;m<u.length;m++){var v=u[m],b=a,w=o,L=w;e:for(;L!==null;){switch(L.tag){case 27:if(Ca(L.type)){mt=L.stateNode,In=!1;break e}break;case 5:mt=L.stateNode,In=!1;break e;case 3:case 4:mt=L.stateNode.containerInfo,In=!0;break e}L=L.return}if(mt===null)throw Error(i(160));Gx(b,w,v),mt=null,In=!1,b=v.alternate,b!==null&&(b.return=null),v.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)Xx(o,a),o=o.sibling}var ki=null;function Xx(a,o){var u=a.alternate,m=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:kn(o,a),jn(a),m&4&&(ya(3,a,a.return),Ql(3,a),ya(5,a,a.return));break;case 1:kn(o,a),jn(a),m&512&&(jt||u===null||Yi(u,u.return)),m&64&&Or&&(a=a.updateQueue,a!==null&&(m=a.callbacks,m!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?m:u.concat(m))));break;case 26:var v=ki;if(kn(o,a),jn(a),m&512&&(jt||u===null||Yi(u,u.return)),m&4){var b=u!==null?u.memoizedState:null;if(m=a.memoizedState,u===null)if(m===null)if(a.stateNode===null){e:{m=a.type,u=a.memoizedProps,v=v.ownerDocument||v;t:switch(m){case"title":b=v.getElementsByTagName("title")[0],(!b||b[Ol]||b[cn]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=v.createElement(m),v.head.insertBefore(b,v.querySelector("head > title"))),hn(b,m,u),b[cn]=a,Wt(b),m=b;break e;case"link":var w=XE("link","href",v).get(m+(u.href||""));if(w){for(var L=0;L<w.length;L++)if(b=w[L],b.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&b.getAttribute("rel")===(u.rel==null?null:u.rel)&&b.getAttribute("title")===(u.title==null?null:u.title)&&b.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){w.splice(L,1);break t}}b=v.createElement(m),hn(b,m,u),v.head.appendChild(b);break;case"meta":if(w=XE("meta","content",v).get(m+(u.content||""))){for(L=0;L<w.length;L++)if(b=w[L],b.getAttribute("content")===(u.content==null?null:""+u.content)&&b.getAttribute("name")===(u.name==null?null:u.name)&&b.getAttribute("property")===(u.property==null?null:u.property)&&b.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&b.getAttribute("charset")===(u.charSet==null?null:u.charSet)){w.splice(L,1);break t}}b=v.createElement(m),hn(b,m,u),v.head.appendChild(b);break;default:throw Error(i(468,m))}b[cn]=a,Wt(b),m=b}a.stateNode=m}else KE(v,a.type,a.stateNode);else a.stateNode=YE(v,m,a.memoizedProps);else b!==m?(b===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):b.count--,m===null?KE(v,a.type,a.stateNode):YE(v,m,a.memoizedProps)):m===null&&a.stateNode!==null&&sg(a,a.memoizedProps,u.memoizedProps)}break;case 27:kn(o,a),jn(a),m&512&&(jt||u===null||Yi(u,u.return)),u!==null&&m&4&&sg(a,a.memoizedProps,u.memoizedProps);break;case 5:if(kn(o,a),jn(a),m&512&&(jt||u===null||Yi(u,u.return)),a.flags&32){v=a.stateNode;try{Js(v,"")}catch(me){Qe(a,a.return,me)}}m&4&&a.stateNode!=null&&(v=a.memoizedProps,sg(a,v,u!==null?u.memoizedProps:v)),m&1024&&(cg=!0);break;case 6:if(kn(o,a),jn(a),m&4){if(a.stateNode===null)throw Error(i(162));m=a.memoizedProps,u=a.stateNode;try{u.nodeValue=m}catch(me){Qe(a,a.return,me)}}break;case 3:if(jd=null,v=ki,ki=Id(o.containerInfo),kn(o,a),ki=v,jn(a),m&4&&u!==null&&u.memoizedState.isDehydrated)try{Do(o.containerInfo)}catch(me){Qe(a,a.return,me)}cg&&(cg=!1,Kx(a));break;case 4:m=ki,ki=Id(a.stateNode.containerInfo),kn(o,a),jn(a),ki=m;break;case 12:kn(o,a),jn(a);break;case 31:kn(o,a),jn(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,Sd(a,m)));break;case 13:kn(o,a),jn(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Ed=Vn()),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,Sd(a,m)));break;case 22:v=a.memoizedState!==null;var k=u!==null&&u.memoizedState!==null,V=Or,Q=jt;if(Or=V||v,jt=Q||k,kn(o,a),jt=Q,Or=V,jn(a),m&8192)e:for(o=a.stateNode,o._visibility=v?o._visibility&-2:o._visibility|1,v&&(u===null||k||Or||jt||fs(a)),u=null,o=a;;){if(o.tag===5||o.tag===26){if(u===null){k=u=o;try{if(b=k.stateNode,v)w=b.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{L=k.stateNode;var te=k.memoizedProps.style,W=te!=null&&te.hasOwnProperty("display")?te.display:null;L.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(me){Qe(k,k.return,me)}}}else if(o.tag===6){if(u===null){k=o;try{k.stateNode.nodeValue=v?"":k.memoizedProps}catch(me){Qe(k,k.return,me)}}}else if(o.tag===18){if(u===null){k=o;try{var Z=k.stateNode;v?BE(Z,!0):BE(k.stateNode,!1)}catch(me){Qe(k,k.return,me)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}m&4&&(m=a.updateQueue,m!==null&&(u=m.retryQueue,u!==null&&(m.retryQueue=null,Sd(a,u))));break;case 19:kn(o,a),jn(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,Sd(a,m)));break;case 30:break;case 21:break;default:kn(o,a),jn(a)}}function jn(a){var o=a.flags;if(o&2){try{for(var u,m=a.return;m!==null;){if(Fx(m)){u=m;break}m=m.return}if(u==null)throw Error(i(160));switch(u.tag){case 27:var v=u.stateNode,b=og(a);Ad(a,b,v);break;case 5:var w=u.stateNode;u.flags&32&&(Js(w,""),u.flags&=-33);var L=og(a);Ad(a,L,w);break;case 3:case 4:var k=u.stateNode.containerInfo,V=og(a);lg(a,V,k);break;default:throw Error(i(161))}}catch(Q){Qe(a,a.return,Q)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function Kx(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;Kx(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function Mr(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)$x(a,o.alternate,o),o=o.sibling}function fs(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:ya(4,o,o.return),fs(o);break;case 1:Yi(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&Bx(o,o.return,u),fs(o);break;case 27:lc(o.stateNode);case 26:case 5:Yi(o,o.return),fs(o);break;case 22:o.memoizedState===null&&fs(o);break;case 30:fs(o);break;default:fs(o)}a=a.sibling}}function _r(a,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var m=o.alternate,v=a,b=o,w=b.flags;switch(b.tag){case 0:case 11:case 15:_r(v,b,u),Ql(4,b);break;case 1:if(_r(v,b,u),m=b,v=m.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(V){Qe(m,m.return,V)}if(m=b,v=m.updateQueue,v!==null){var L=m.stateNode;try{var k=v.shared.hiddenCallbacks;if(k!==null)for(v.shared.hiddenCallbacks=null,v=0;v<k.length;v++)OS(k[v],L)}catch(V){Qe(m,m.return,V)}}u&&w&64&&jx(b),Jl(b,b.return);break;case 27:Ux(b);case 26:case 5:_r(v,b,u),u&&m===null&&w&4&&zx(b),Jl(b,b.return);break;case 12:_r(v,b,u);break;case 31:_r(v,b,u),u&&w&4&&Vx(v,b);break;case 13:_r(v,b,u),u&&w&4&&Yx(v,b);break;case 22:b.memoizedState===null&&_r(v,b,u),Jl(b,b.return);break;case 30:break;default:_r(v,b,u)}o=o.sibling}}function ug(a,o){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&zl(u))}function dg(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&zl(a))}function ji(a,o,u,m){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Wx(a,o,u,m),o=o.sibling}function Wx(a,o,u,m){var v=o.flags;switch(o.tag){case 0:case 11:case 15:ji(a,o,u,m),v&2048&&Ql(9,o);break;case 1:ji(a,o,u,m);break;case 3:ji(a,o,u,m),v&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&zl(a)));break;case 12:if(v&2048){ji(a,o,u,m),a=o.stateNode;try{var b=o.memoizedProps,w=b.id,L=b.onPostCommit;typeof L=="function"&&L(w,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(k){Qe(o,o.return,k)}}else ji(a,o,u,m);break;case 31:ji(a,o,u,m);break;case 13:ji(a,o,u,m);break;case 23:break;case 22:b=o.stateNode,w=o.alternate,o.memoizedState!==null?b._visibility&2?ji(a,o,u,m):ec(a,o):b._visibility&2?ji(a,o,u,m):(b._visibility|=2,Ao(a,o,u,m,(o.subtreeFlags&10256)!==0||!1)),v&2048&&ug(w,o);break;case 24:ji(a,o,u,m),v&2048&&dg(o.alternate,o);break;default:ji(a,o,u,m)}}function Ao(a,o,u,m,v){for(v=v&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var b=a,w=o,L=u,k=m,V=w.flags;switch(w.tag){case 0:case 11:case 15:Ao(b,w,L,k,v),Ql(8,w);break;case 23:break;case 22:var Q=w.stateNode;w.memoizedState!==null?Q._visibility&2?Ao(b,w,L,k,v):ec(b,w):(Q._visibility|=2,Ao(b,w,L,k,v)),v&&V&2048&&ug(w.alternate,w);break;case 24:Ao(b,w,L,k,v),v&&V&2048&&dg(w.alternate,w);break;default:Ao(b,w,L,k,v)}o=o.sibling}}function ec(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=a,m=o,v=m.flags;switch(m.tag){case 22:ec(u,m),v&2048&&ug(m.alternate,m);break;case 24:ec(u,m),v&2048&&dg(m.alternate,m);break;default:ec(u,m)}o=o.sibling}}var tc=8192;function So(a,o,u){if(a.subtreeFlags&tc)for(a=a.child;a!==null;)Zx(a,o,u),a=a.sibling}function Zx(a,o,u){switch(a.tag){case 26:So(a,o,u),a.flags&tc&&a.memoizedState!==null&&Dk(u,ki,a.memoizedState,a.memoizedProps);break;case 5:So(a,o,u);break;case 3:case 4:var m=ki;ki=Id(a.stateNode.containerInfo),So(a,o,u),ki=m;break;case 22:a.memoizedState===null&&(m=a.alternate,m!==null&&m.memoizedState!==null?(m=tc,tc=16777216,So(a,o,u),tc=m):So(a,o,u));break;default:So(a,o,u)}}function Qx(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function nc(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var m=o[u];Zt=m,eE(m,a)}Qx(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Jx(a),a=a.sibling}function Jx(a){switch(a.tag){case 0:case 11:case 15:nc(a),a.flags&2048&&ya(9,a,a.return);break;case 3:nc(a);break;case 12:nc(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,xd(a)):nc(a);break;default:nc(a)}}function xd(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var m=o[u];Zt=m,eE(m,a)}Qx(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:ya(8,o,o.return),xd(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,xd(o));break;default:xd(o)}a=a.sibling}}function eE(a,o){for(;Zt!==null;){var u=Zt;switch(u.tag){case 0:case 11:case 15:ya(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var m=u.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:zl(u.memoizedState.cache)}if(m=u.child,m!==null)m.return=u,Zt=m;else e:for(u=a;Zt!==null;){m=Zt;var v=m.sibling,b=m.return;if(qx(m),m===u){Zt=null;break e}if(v!==null){v.return=b,Zt=v;break e}Zt=b}}}var VI={getCacheForType:function(a){var o=dn(Rt),u=o.data.get(a);return u===void 0&&(u=a(),o.data.set(a,u)),u},cacheSignal:function(){return dn(Rt).controller.signal}},YI=typeof WeakMap=="function"?WeakMap:Map,$e=0,st=null,Ne=null,ke=0,Ze=0,Jn=null,ba=!1,xo=!1,fg=!1,Pr=0,wt=0,Aa=0,hs=0,hg=0,ei=0,Eo=0,ic=null,Bn=null,pg=!1,Ed=0,tE=0,wd=1/0,Cd=null,Sa=null,Ht=0,xa=null,wo=null,Dr=0,mg=0,gg=null,nE=null,rc=0,vg=null;function ti(){return($e&2)!==0&&ke!==0?ke&-ke:B.T!==null?Eg():y1()}function iE(){if(ei===0)if((ke&536870912)===0||Be){var a=Nu;Nu<<=1,(Nu&3932160)===0&&(Nu=262144),ei=a}else ei=536870912;return a=Zn.current,a!==null&&(a.flags|=32),ei}function zn(a,o,u){(a===st&&(Ze===2||Ze===9)||a.cancelPendingCommit!==null)&&(Co(a,0),Ea(a,ke,ei,!1)),Cl(a,u),(($e&2)===0||a!==st)&&(a===st&&(($e&2)===0&&(hs|=u),wt===4&&Ea(a,ke,ei,!1)),Xi(a))}function rE(a,o,u){if(($e&6)!==0)throw Error(i(327));var m=!u&&(o&127)===0&&(o&a.expiredLanes)===0||wl(a,o),v=m?WI(a,o):bg(a,o,!0),b=m;do{if(v===0){xo&&!m&&Ea(a,o,0,!1);break}else{if(u=a.current.alternate,b&&!XI(u)){v=bg(a,o,!1),b=!1;continue}if(v===2){if(b=o,a.errorRecoveryDisabledLanes&b)var w=0;else w=a.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){o=w;e:{var L=a;v=ic;var k=L.current.memoizedState.isDehydrated;if(k&&(Co(L,w).flags|=256),w=bg(L,w,!1),w!==2){if(fg&&!k){L.errorRecoveryDisabledLanes|=b,hs|=b,v=4;break e}b=Bn,Bn=v,b!==null&&(Bn===null?Bn=b:Bn.push.apply(Bn,b))}v=w}if(b=!1,v!==2)continue}}if(v===1){Co(a,0),Ea(a,o,0,!0);break}e:{switch(m=a,b=v,b){case 0:case 1:throw Error(i(345));case 4:if((o&4194048)!==o)break;case 6:Ea(m,o,ei,!ba);break e;case 2:Bn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((o&62914560)===o&&(v=Ed+300-Vn(),10<v)){if(Ea(m,o,ei,!ba),Iu(m,0,!0)!==0)break e;Dr=o,m.timeoutHandle=IE(aE.bind(null,m,u,Bn,Cd,pg,o,ei,hs,Eo,ba,b,"Throttled",-0,0),v);break e}aE(m,u,Bn,Cd,pg,o,ei,hs,Eo,ba,b,null,-0,0)}}break}while(!0);Xi(a)}function aE(a,o,u,m,v,b,w,L,k,V,Q,te,W,Z){if(a.timeoutHandle=-1,te=o.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:gr},Zx(o,b,te);var me=(b&62914560)===b?Ed-Vn():(b&4194048)===b?tE-Vn():0;if(me=Lk(te,me),me!==null){Dr=b,a.cancelPendingCommit=me(hE.bind(null,a,o,b,u,m,v,w,L,k,Q,te,null,W,Z)),Ea(a,b,w,!V);return}}hE(a,o,b,u,m,v,w,L,k)}function XI(a){for(var o=a;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var m=0;m<u.length;m++){var v=u[m],b=v.getSnapshot;v=v.value;try{if(!Kn(b(),v))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ea(a,o,u,m){o&=~hg,o&=~hs,a.suspendedLanes|=o,a.pingedLanes&=~o,m&&(a.warmLanes|=o),m=a.expirationTimes;for(var v=o;0<v;){var b=31-Xn(v),w=1<<b;m[b]=-1,v&=~w}u!==0&&m1(a,u,o)}function Od(){return($e&6)===0?(ac(0),!1):!0}function yg(){if(Ne!==null){if(Ze===0)var a=Ne.return;else a=Ne,Ar=rs=null,Rm(a),mo=null,Ul=0,a=Ne;for(;a!==null;)kx(a.alternate,a),a=a.return;Ne=null}}function Co(a,o){var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,pk(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),Dr=0,yg(),st=a,Ne=u=yr(a.current,null),ke=o,Ze=0,Jn=null,ba=!1,xo=wl(a,o),fg=!1,Eo=ei=hg=hs=Aa=wt=0,Bn=ic=null,pg=!1,(o&8)!==0&&(o|=o&32);var m=a.entangledLanes;if(m!==0)for(a=a.entanglements,m&=o;0<m;){var v=31-Xn(m),b=1<<v;o|=a[v],m&=~b}return Pr=o,Yu(),u}function sE(a,o){_e=null,B.H=Kl,o===po||o===td?(o=xS(),Ze=3):o===xm?(o=xS(),Ze=4):Ze=o===Wm?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Jn=o,Ne===null&&(wt=1,md(a,pi(o,a.current)))}function oE(){var a=Zn.current;return a===null?!0:(ke&4194048)===ke?yi===null:(ke&62914560)===ke||(ke&536870912)!==0?a===yi:!1}function lE(){var a=B.H;return B.H=Kl,a===null?Kl:a}function cE(){var a=B.A;return B.A=VI,a}function Td(){wt=4,ba||(ke&4194048)!==ke&&Zn.current!==null||(xo=!0),(Aa&134217727)===0&&(hs&134217727)===0||st===null||Ea(st,ke,ei,!1)}function bg(a,o,u){var m=$e;$e|=2;var v=lE(),b=cE();(st!==a||ke!==o)&&(Cd=null,Co(a,o)),o=!1;var w=wt;e:do try{if(Ze!==0&&Ne!==null){var L=Ne,k=Jn;switch(Ze){case 8:yg(),w=6;break e;case 3:case 2:case 9:case 6:Zn.current===null&&(o=!0);var V=Ze;if(Ze=0,Jn=null,Oo(a,L,k,V),u&&xo){w=0;break e}break;default:V=Ze,Ze=0,Jn=null,Oo(a,L,k,V)}}KI(),w=wt;break}catch(Q){sE(a,Q)}while(!0);return o&&a.shellSuspendCounter++,Ar=rs=null,$e=m,B.H=v,B.A=b,Ne===null&&(st=null,ke=0,Yu()),w}function KI(){for(;Ne!==null;)uE(Ne)}function WI(a,o){var u=$e;$e|=2;var m=lE(),v=cE();st!==a||ke!==o?(Cd=null,wd=Vn()+500,Co(a,o)):xo=wl(a,o);e:do try{if(Ze!==0&&Ne!==null){o=Ne;var b=Jn;t:switch(Ze){case 1:Ze=0,Jn=null,Oo(a,o,b,1);break;case 2:case 9:if(AS(b)){Ze=0,Jn=null,dE(o);break}o=function(){Ze!==2&&Ze!==9||st!==a||(Ze=7),Xi(a)},b.then(o,o);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:AS(b)?(Ze=0,Jn=null,dE(o)):(Ze=0,Jn=null,Oo(a,o,b,7));break;case 5:var w=null;switch(Ne.tag){case 26:w=Ne.memoizedState;case 5:case 27:var L=Ne;if(w?WE(w):L.stateNode.complete){Ze=0,Jn=null;var k=L.sibling;if(k!==null)Ne=k;else{var V=L.return;V!==null?(Ne=V,Md(V)):Ne=null}break t}}Ze=0,Jn=null,Oo(a,o,b,5);break;case 6:Ze=0,Jn=null,Oo(a,o,b,6);break;case 8:yg(),wt=6;break e;default:throw Error(i(462))}}ZI();break}catch(Q){sE(a,Q)}while(!0);return Ar=rs=null,B.H=m,B.A=v,$e=u,Ne!==null?0:(st=null,ke=0,Yu(),wt)}function ZI(){for(;Ne!==null&&!AR();)uE(Ne)}function uE(a){var o=Rx(a.alternate,a,Pr);a.memoizedProps=a.pendingProps,o===null?Md(a):Ne=o}function dE(a){var o=a,u=o.alternate;switch(o.tag){case 15:case 0:o=Mx(u,o,o.pendingProps,o.type,void 0,ke);break;case 11:o=Mx(u,o,o.pendingProps,o.type.render,o.ref,ke);break;case 5:Rm(o);default:kx(u,o),o=Ne=cS(o,Pr),o=Rx(u,o,Pr)}a.memoizedProps=a.pendingProps,o===null?Md(a):Ne=o}function Oo(a,o,u,m){Ar=rs=null,Rm(o),mo=null,Ul=0;var v=o.return;try{if(zI(a,v,o,u,ke)){wt=1,md(a,pi(u,a.current)),Ne=null;return}}catch(b){if(v!==null)throw Ne=v,b;wt=1,md(a,pi(u,a.current)),Ne=null;return}o.flags&32768?(Be||m===1?a=!0:xo||(ke&536870912)!==0?a=!1:(ba=a=!0,(m===2||m===9||m===3||m===6)&&(m=Zn.current,m!==null&&m.tag===13&&(m.flags|=16384))),fE(o,a)):Md(o)}function Md(a){var o=a;do{if((o.flags&32768)!==0){fE(o,ba);return}a=o.return;var u=HI(o.alternate,o,Pr);if(u!==null){Ne=u;return}if(o=o.sibling,o!==null){Ne=o;return}Ne=o=a}while(o!==null);wt===0&&(wt=5)}function fE(a,o){do{var u=$I(a.alternate,a);if(u!==null){u.flags&=32767,Ne=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(a=a.sibling,a!==null)){Ne=a;return}Ne=a=u}while(a!==null);wt=6,Ne=null}function hE(a,o,u,m,v,b,w,L,k){a.cancelPendingCommit=null;do _d();while(Ht!==0);if(($e&6)!==0)throw Error(i(327));if(o!==null){if(o===a.current)throw Error(i(177));if(b=o.lanes|o.childLanes,b|=om,PR(a,u,b,w,L,k),a===st&&(Ne=st=null,ke=0),wo=o,xa=a,Dr=u,mg=b,gg=v,nE=m,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,tk(Du,function(){return yE(),null})):(a.callbackNode=null,a.callbackPriority=0),m=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||m){m=B.T,B.T=null,v=H.p,H.p=2,w=$e,$e|=4;try{qI(a,o,u)}finally{$e=w,H.p=v,B.T=m}}Ht=1,pE(),mE(),gE()}}function pE(){if(Ht===1){Ht=0;var a=xa,o=wo,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=B.T,B.T=null;var m=H.p;H.p=2;var v=$e;$e|=4;try{Xx(o,a);var b=Dg,w=eS(a.containerInfo),L=b.focusedElem,k=b.selectionRange;if(w!==L&&L&&L.ownerDocument&&J1(L.ownerDocument.documentElement,L)){if(k!==null&&nm(L)){var V=k.start,Q=k.end;if(Q===void 0&&(Q=V),"selectionStart"in L)L.selectionStart=V,L.selectionEnd=Math.min(Q,L.value.length);else{var te=L.ownerDocument||document,W=te&&te.defaultView||window;if(W.getSelection){var Z=W.getSelection(),me=L.textContent.length,Ee=Math.min(k.start,me),it=k.end===void 0?Ee:Math.min(k.end,me);!Z.extend&&Ee>it&&(w=it,it=Ee,Ee=w);var U=Q1(L,Ee),z=Q1(L,it);if(U&&z&&(Z.rangeCount!==1||Z.anchorNode!==U.node||Z.anchorOffset!==U.offset||Z.focusNode!==z.node||Z.focusOffset!==z.offset)){var G=te.createRange();G.setStart(U.node,U.offset),Z.removeAllRanges(),Ee>it?(Z.addRange(G),Z.extend(z.node,z.offset)):(G.setEnd(z.node,z.offset),Z.addRange(G))}}}}for(te=[],Z=L;Z=Z.parentNode;)Z.nodeType===1&&te.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof L.focus=="function"&&L.focus(),L=0;L<te.length;L++){var ee=te[L];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}Ud=!!Pg,Dg=Pg=null}finally{$e=v,H.p=m,B.T=u}}a.current=o,Ht=2}}function mE(){if(Ht===2){Ht=0;var a=xa,o=wo,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=B.T,B.T=null;var m=H.p;H.p=2;var v=$e;$e|=4;try{$x(a,o.alternate,o)}finally{$e=v,H.p=m,B.T=u}}Ht=3}}function gE(){if(Ht===4||Ht===3){Ht=0,SR();var a=xa,o=wo,u=Dr,m=nE;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Ht=5:(Ht=0,wo=xa=null,vE(a,a.pendingLanes));var v=a.pendingLanes;if(v===0&&(Sa=null),jp(u),o=o.stateNode,Yn&&typeof Yn.onCommitFiberRoot=="function")try{Yn.onCommitFiberRoot(El,o,void 0,(o.current.flags&128)===128)}catch{}if(m!==null){o=B.T,v=H.p,H.p=2,B.T=null;try{for(var b=a.onRecoverableError,w=0;w<m.length;w++){var L=m[w];b(L.value,{componentStack:L.stack})}}finally{B.T=o,H.p=v}}(Dr&3)!==0&&_d(),Xi(a),v=a.pendingLanes,(u&261930)!==0&&(v&42)!==0?a===vg?rc++:(rc=0,vg=a):rc=0,ac(0)}}function vE(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,zl(o)))}function _d(){return pE(),mE(),gE(),yE()}function yE(){if(Ht!==5)return!1;var a=xa,o=mg;mg=0;var u=jp(Dr),m=B.T,v=H.p;try{H.p=32>u?32:u,B.T=null,u=gg,gg=null;var b=xa,w=Dr;if(Ht=0,wo=xa=null,Dr=0,($e&6)!==0)throw Error(i(331));var L=$e;if($e|=4,Jx(b.current),Wx(b,b.current,w,u),$e=L,ac(0,!1),Yn&&typeof Yn.onPostCommitFiberRoot=="function")try{Yn.onPostCommitFiberRoot(El,b)}catch{}return!0}finally{H.p=v,B.T=m,vE(a,o)}}function bE(a,o,u){o=pi(u,o),o=Km(a.stateNode,o,2),a=ma(a,o,2),a!==null&&(Cl(a,2),Xi(a))}function Qe(a,o,u){if(a.tag===3)bE(a,a,u);else for(;o!==null;){if(o.tag===3){bE(o,a,u);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Sa===null||!Sa.has(m))){a=pi(u,a),u=Ax(2),m=ma(o,u,2),m!==null&&(Sx(u,m,o,a),Cl(m,2),Xi(m));break}}o=o.return}}function Ag(a,o,u){var m=a.pingCache;if(m===null){m=a.pingCache=new YI;var v=new Set;m.set(o,v)}else v=m.get(o),v===void 0&&(v=new Set,m.set(o,v));v.has(u)||(fg=!0,v.add(u),a=QI.bind(null,a,o,u),o.then(a,a))}function QI(a,o,u){var m=a.pingCache;m!==null&&m.delete(o),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,st===a&&(ke&u)===u&&(wt===4||wt===3&&(ke&62914560)===ke&&300>Vn()-Ed?($e&2)===0&&Co(a,0):hg|=u,Eo===ke&&(Eo=0)),Xi(a)}function AE(a,o){o===0&&(o=p1()),a=ts(a,o),a!==null&&(Cl(a,o),Xi(a))}function JI(a){var o=a.memoizedState,u=0;o!==null&&(u=o.retryLane),AE(a,u)}function ek(a,o){var u=0;switch(a.tag){case 31:case 13:var m=a.stateNode,v=a.memoizedState;v!==null&&(u=v.retryLane);break;case 19:m=a.stateNode;break;case 22:m=a.stateNode._retryCache;break;default:throw Error(i(314))}m!==null&&m.delete(o),AE(a,u)}function tk(a,o){return Np(a,o)}var Pd=null,To=null,Sg=!1,Dd=!1,xg=!1,wa=0;function Xi(a){a!==To&&a.next===null&&(To===null?Pd=To=a:To=To.next=a),Dd=!0,Sg||(Sg=!0,ik())}function ac(a,o){if(!xg&&Dd){xg=!0;do for(var u=!1,m=Pd;m!==null;){if(a!==0){var v=m.pendingLanes;if(v===0)var b=0;else{var w=m.suspendedLanes,L=m.pingedLanes;b=(1<<31-Xn(42|a)+1)-1,b&=v&~(w&~L),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(u=!0,wE(m,b))}else b=ke,b=Iu(m,m===st?b:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(b&3)===0||wl(m,b)||(u=!0,wE(m,b));m=m.next}while(u);xg=!1}}function nk(){SE()}function SE(){Dd=Sg=!1;var a=0;wa!==0&&hk()&&(a=wa);for(var o=Vn(),u=null,m=Pd;m!==null;){var v=m.next,b=xE(m,o);b===0?(m.next=null,u===null?Pd=v:u.next=v,v===null&&(To=u)):(u=m,(a!==0||(b&3)!==0)&&(Dd=!0)),m=v}Ht!==0&&Ht!==5||ac(a),wa!==0&&(wa=0)}function xE(a,o){for(var u=a.suspendedLanes,m=a.pingedLanes,v=a.expirationTimes,b=a.pendingLanes&-62914561;0<b;){var w=31-Xn(b),L=1<<w,k=v[w];k===-1?((L&u)===0||(L&m)!==0)&&(v[w]=_R(L,o)):k<=o&&(a.expiredLanes|=L),b&=~L}if(o=st,u=ke,u=Iu(a,a===o?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m=a.callbackNode,u===0||a===o&&(Ze===2||Ze===9)||a.cancelPendingCommit!==null)return m!==null&&m!==null&&Rp(m),a.callbackNode=null,a.callbackPriority=0;if((u&3)===0||wl(a,u)){if(o=u&-u,o===a.callbackPriority)return o;switch(m!==null&&Rp(m),jp(u)){case 2:case 8:u=f1;break;case 32:u=Du;break;case 268435456:u=h1;break;default:u=Du}return m=EE.bind(null,a),u=Np(u,m),a.callbackPriority=o,a.callbackNode=u,o}return m!==null&&m!==null&&Rp(m),a.callbackPriority=2,a.callbackNode=null,2}function EE(a,o){if(Ht!==0&&Ht!==5)return a.callbackNode=null,a.callbackPriority=0,null;var u=a.callbackNode;if(_d()&&a.callbackNode!==u)return null;var m=ke;return m=Iu(a,a===st?m:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m===0?null:(rE(a,m,o),xE(a,Vn()),a.callbackNode!=null&&a.callbackNode===u?EE.bind(null,a):null)}function wE(a,o){if(_d())return null;rE(a,o,!0)}function ik(){mk(function(){($e&6)!==0?Np(d1,nk):SE()})}function Eg(){if(wa===0){var a=fo;a===0&&(a=Lu,Lu<<=1,(Lu&261888)===0&&(Lu=256)),wa=a}return wa}function CE(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:zu(""+a)}function OE(a,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,a.id&&u.setAttribute("form",a.id),o.parentNode.insertBefore(u,o),a=new FormData(a),u.parentNode.removeChild(u),a}function rk(a,o,u,m,v){if(o==="submit"&&u&&u.stateNode===v){var b=CE((v[Nn]||null).action),w=m.submitter;w&&(o=(o=w[Nn]||null)?CE(o.formAction):w.getAttribute("formAction"),o!==null&&(b=o,w=null));var L=new $u("action","action",null,m,v);a.push({event:L,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(wa!==0){var k=w?OE(v,w):new FormData(v);$m(u,{pending:!0,data:k,method:v.method,action:b},null,k)}}else typeof b=="function"&&(L.preventDefault(),k=w?OE(v,w):new FormData(v),$m(u,{pending:!0,data:k,method:v.method,action:b},b,k))},currentTarget:v}]})}}for(var wg=0;wg<sm.length;wg++){var Cg=sm[wg],ak=Cg.toLowerCase(),sk=Cg[0].toUpperCase()+Cg.slice(1);Ii(ak,"on"+sk)}Ii(iS,"onAnimationEnd"),Ii(rS,"onAnimationIteration"),Ii(aS,"onAnimationStart"),Ii("dblclick","onDoubleClick"),Ii("focusin","onFocus"),Ii("focusout","onBlur"),Ii(xI,"onTransitionRun"),Ii(EI,"onTransitionStart"),Ii(wI,"onTransitionCancel"),Ii(sS,"onTransitionEnd"),Zs("onMouseEnter",["mouseout","mouseover"]),Zs("onMouseLeave",["mouseout","mouseover"]),Zs("onPointerEnter",["pointerout","pointerover"]),Zs("onPointerLeave",["pointerout","pointerover"]),Za("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Za("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Za("onBeforeInput",["compositionend","keypress","textInput","paste"]),Za("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Za("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Za("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ok=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(sc));function TE(a,o){o=(o&4)!==0;for(var u=0;u<a.length;u++){var m=a[u],v=m.event;m=m.listeners;e:{var b=void 0;if(o)for(var w=m.length-1;0<=w;w--){var L=m[w],k=L.instance,V=L.currentTarget;if(L=L.listener,k!==b&&v.isPropagationStopped())break e;b=L,v.currentTarget=V;try{b(v)}catch(Q){Vu(Q)}v.currentTarget=null,b=k}else for(w=0;w<m.length;w++){if(L=m[w],k=L.instance,V=L.currentTarget,L=L.listener,k!==b&&v.isPropagationStopped())break e;b=L,v.currentTarget=V;try{b(v)}catch(Q){Vu(Q)}v.currentTarget=null,b=k}}}}function Re(a,o){var u=o[Bp];u===void 0&&(u=o[Bp]=new Set);var m=a+"__bubble";u.has(m)||(ME(o,a,2,!1),u.add(m))}function Og(a,o,u){var m=0;o&&(m|=4),ME(u,a,m,o)}var Ld="_reactListening"+Math.random().toString(36).slice(2);function Tg(a){if(!a[Ld]){a[Ld]=!0,S1.forEach(function(u){u!=="selectionchange"&&(ok.has(u)||Og(u,!1,a),Og(u,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[Ld]||(o[Ld]=!0,Og("selectionchange",!1,o))}}function ME(a,o,u,m){switch(iw(o)){case 2:var v=Ik;break;case 8:v=kk;break;default:v=Hg}u=v.bind(null,o,u,a),v=void 0,!Yp||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),m?v!==void 0?a.addEventListener(o,u,{capture:!0,passive:v}):a.addEventListener(o,u,!0):v!==void 0?a.addEventListener(o,u,{passive:v}):a.addEventListener(o,u,!1)}function Mg(a,o,u,m,v){var b=m;if((o&1)===0&&(o&2)===0&&m!==null)e:for(;;){if(m===null)return;var w=m.tag;if(w===3||w===4){var L=m.stateNode.containerInfo;if(L===v)break;if(w===4)for(w=m.return;w!==null;){var k=w.tag;if((k===3||k===4)&&w.stateNode.containerInfo===v)return;w=w.return}for(;L!==null;){if(w=Xs(L),w===null)return;if(k=w.tag,k===5||k===6||k===26||k===27){m=b=w;continue e}L=L.parentNode}}m=m.return}N1(function(){var V=b,Q=Gp(u),te=[];e:{var W=oS.get(a);if(W!==void 0){var Z=$u,me=a;switch(a){case"keypress":if(Uu(u)===0)break e;case"keydown":case"keyup":Z=eI;break;case"focusin":me="focus",Z=Zp;break;case"focusout":me="blur",Z=Zp;break;case"beforeblur":case"afterblur":Z=Zp;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=k1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=HR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=iI;break;case iS:case rS:case aS:Z=GR;break;case sS:Z=aI;break;case"scroll":case"scrollend":Z=FR;break;case"wheel":Z=oI;break;case"copy":case"cut":case"paste":Z=YR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=B1;break;case"toggle":case"beforetoggle":Z=cI}var Ee=(o&4)!==0,it=!Ee&&(a==="scroll"||a==="scrollend"),U=Ee?W!==null?W+"Capture":null:W;Ee=[];for(var z=V,G;z!==null;){var ee=z;if(G=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||G===null||U===null||(ee=Ml(z,U),ee!=null&&Ee.push(oc(z,ee,G))),it)break;z=z.return}0<Ee.length&&(W=new Z(W,me,null,u,Q),te.push({event:W,listeners:Ee}))}}if((o&7)===0){e:{if(W=a==="mouseover"||a==="pointerover",Z=a==="mouseout"||a==="pointerout",W&&u!==qp&&(me=u.relatedTarget||u.fromElement)&&(Xs(me)||me[Ys]))break e;if((Z||W)&&(W=Q.window===Q?Q:(W=Q.ownerDocument)?W.defaultView||W.parentWindow:window,Z?(me=u.relatedTarget||u.toElement,Z=V,me=me?Xs(me):null,me!==null&&(it=s(me),Ee=me.tag,me!==it||Ee!==5&&Ee!==27&&Ee!==6)&&(me=null)):(Z=null,me=V),Z!==me)){if(Ee=k1,ee="onMouseLeave",U="onMouseEnter",z="mouse",(a==="pointerout"||a==="pointerover")&&(Ee=B1,ee="onPointerLeave",U="onPointerEnter",z="pointer"),it=Z==null?W:Tl(Z),G=me==null?W:Tl(me),W=new Ee(ee,z+"leave",Z,u,Q),W.target=it,W.relatedTarget=G,ee=null,Xs(Q)===V&&(Ee=new Ee(U,z+"enter",me,u,Q),Ee.target=G,Ee.relatedTarget=it,ee=Ee),it=ee,Z&&me)t:{for(Ee=lk,U=Z,z=me,G=0,ee=U;ee;ee=Ee(ee))G++;ee=0;for(var Ae=z;Ae;Ae=Ee(Ae))ee++;for(;0<G-ee;)U=Ee(U),G--;for(;0<ee-G;)z=Ee(z),ee--;for(;G--;){if(U===z||z!==null&&U===z.alternate){Ee=U;break t}U=Ee(U),z=Ee(z)}Ee=null}else Ee=null;Z!==null&&_E(te,W,Z,Ee,!1),me!==null&&it!==null&&_E(te,it,me,Ee,!0)}}e:{if(W=V?Tl(V):window,Z=W.nodeName&&W.nodeName.toLowerCase(),Z==="select"||Z==="input"&&W.type==="file")var Fe=V1;else if(q1(W))if(Y1)Fe=bI;else{Fe=vI;var ge=gI}else Z=W.nodeName,!Z||Z.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?V&&$p(V.elementType)&&(Fe=V1):Fe=yI;if(Fe&&(Fe=Fe(a,V))){G1(te,Fe,u,Q);break e}ge&&ge(a,W,V),a==="focusout"&&V&&W.type==="number"&&V.memoizedProps.value!=null&&Hp(W,"number",W.value)}switch(ge=V?Tl(V):window,a){case"focusin":(q1(ge)||ge.contentEditable==="true")&&(io=ge,im=V,kl=null);break;case"focusout":kl=im=io=null;break;case"mousedown":rm=!0;break;case"contextmenu":case"mouseup":case"dragend":rm=!1,tS(te,u,Q);break;case"selectionchange":if(SI)break;case"keydown":case"keyup":tS(te,u,Q)}var De;if(Jp)e:{switch(a){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else no?H1(a,u)&&(je="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(je="onCompositionStart");je&&(z1&&u.locale!=="ko"&&(no||je!=="onCompositionStart"?je==="onCompositionEnd"&&no&&(De=R1()):(la=Q,Xp="value"in la?la.value:la.textContent,no=!0)),ge=Nd(V,je),0<ge.length&&(je=new j1(je,a,null,u,Q),te.push({event:je,listeners:ge}),De?je.data=De:(De=$1(u),De!==null&&(je.data=De)))),(De=dI?fI(a,u):hI(a,u))&&(je=Nd(V,"onBeforeInput"),0<je.length&&(ge=new j1("onBeforeInput","beforeinput",null,u,Q),te.push({event:ge,listeners:je}),ge.data=De)),rk(te,a,V,u,Q)}TE(te,o)})}function oc(a,o,u){return{instance:a,listener:o,currentTarget:u}}function Nd(a,o){for(var u=o+"Capture",m=[];a!==null;){var v=a,b=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||b===null||(v=Ml(a,u),v!=null&&m.unshift(oc(a,v,b)),v=Ml(a,o),v!=null&&m.push(oc(a,v,b))),a.tag===3)return m;a=a.return}return[]}function lk(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function _E(a,o,u,m,v){for(var b=o._reactName,w=[];u!==null&&u!==m;){var L=u,k=L.alternate,V=L.stateNode;if(L=L.tag,k!==null&&k===m)break;L!==5&&L!==26&&L!==27||V===null||(k=V,v?(V=Ml(u,b),V!=null&&w.unshift(oc(u,V,k))):v||(V=Ml(u,b),V!=null&&w.push(oc(u,V,k)))),u=u.return}w.length!==0&&a.push({event:o,listeners:w})}var ck=/\r\n?/g,uk=/\u0000|\uFFFD/g;function PE(a){return(typeof a=="string"?a:""+a).replace(ck,`
`).replace(uk,"")}function DE(a,o){return o=PE(o),PE(a)===o}function nt(a,o,u,m,v,b){switch(u){case"children":typeof m=="string"?o==="body"||o==="textarea"&&m===""||Js(a,m):(typeof m=="number"||typeof m=="bigint")&&o!=="body"&&Js(a,""+m);break;case"className":ju(a,"class",m);break;case"tabIndex":ju(a,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":ju(a,u,m);break;case"style":D1(a,m,b);break;case"data":if(o!=="object"){ju(a,"data",m);break}case"src":case"href":if(m===""&&(o!=="a"||u!=="href")){a.removeAttribute(u);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(u);break}m=zu(""+m),a.setAttribute(u,m);break;case"action":case"formAction":if(typeof m=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(u==="formAction"?(o!=="input"&&nt(a,o,"name",v.name,v,null),nt(a,o,"formEncType",v.formEncType,v,null),nt(a,o,"formMethod",v.formMethod,v,null),nt(a,o,"formTarget",v.formTarget,v,null)):(nt(a,o,"encType",v.encType,v,null),nt(a,o,"method",v.method,v,null),nt(a,o,"target",v.target,v,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(u);break}m=zu(""+m),a.setAttribute(u,m);break;case"onClick":m!=null&&(a.onclick=gr);break;case"onScroll":m!=null&&Re("scroll",a);break;case"onScrollEnd":m!=null&&Re("scrollend",a);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(i(61));if(u=m.__html,u!=null){if(v.children!=null)throw Error(i(60));a.innerHTML=u}}break;case"multiple":a.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":a.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){a.removeAttribute("xlink:href");break}u=zu(""+m),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(u,""+m):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":m===!0?a.setAttribute(u,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(u,m):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?a.setAttribute(u,m):a.removeAttribute(u);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?a.removeAttribute(u):a.setAttribute(u,m);break;case"popover":Re("beforetoggle",a),Re("toggle",a),ku(a,"popover",m);break;case"xlinkActuate":mr(a,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":mr(a,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":mr(a,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":mr(a,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":mr(a,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":mr(a,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":mr(a,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":mr(a,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":mr(a,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":ku(a,"is",m);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=BR.get(u)||u,ku(a,u,m))}}function _g(a,o,u,m,v,b){switch(u){case"style":D1(a,m,b);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(i(61));if(u=m.__html,u!=null){if(v.children!=null)throw Error(i(60));a.innerHTML=u}}break;case"children":typeof m=="string"?Js(a,m):(typeof m=="number"||typeof m=="bigint")&&Js(a,""+m);break;case"onScroll":m!=null&&Re("scroll",a);break;case"onScrollEnd":m!=null&&Re("scrollend",a);break;case"onClick":m!=null&&(a.onclick=gr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!x1.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(v=u.endsWith("Capture"),o=u.slice(2,v?u.length-7:void 0),b=a[Nn]||null,b=b!=null?b[u]:null,typeof b=="function"&&a.removeEventListener(o,b,v),typeof m=="function")){typeof b!="function"&&b!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(o,m,v);break e}u in a?a[u]=m:m===!0?a.setAttribute(u,""):ku(a,u,m)}}}function hn(a,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Re("error",a),Re("load",a);var m=!1,v=!1,b;for(b in u)if(u.hasOwnProperty(b)){var w=u[b];if(w!=null)switch(b){case"src":m=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:nt(a,o,b,w,u,null)}}v&&nt(a,o,"srcSet",u.srcSet,u,null),m&&nt(a,o,"src",u.src,u,null);return;case"input":Re("invalid",a);var L=b=w=v=null,k=null,V=null;for(m in u)if(u.hasOwnProperty(m)){var Q=u[m];if(Q!=null)switch(m){case"name":v=Q;break;case"type":w=Q;break;case"checked":k=Q;break;case"defaultChecked":V=Q;break;case"value":b=Q;break;case"defaultValue":L=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,o));break;default:nt(a,o,m,Q,u,null)}}T1(a,b,L,k,V,w,v,!1);return;case"select":Re("invalid",a),m=w=b=null;for(v in u)if(u.hasOwnProperty(v)&&(L=u[v],L!=null))switch(v){case"value":b=L;break;case"defaultValue":w=L;break;case"multiple":m=L;default:nt(a,o,v,L,u,null)}o=b,u=w,a.multiple=!!m,o!=null?Qs(a,!!m,o,!1):u!=null&&Qs(a,!!m,u,!0);return;case"textarea":Re("invalid",a),b=v=m=null;for(w in u)if(u.hasOwnProperty(w)&&(L=u[w],L!=null))switch(w){case"value":m=L;break;case"defaultValue":v=L;break;case"children":b=L;break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(i(91));break;default:nt(a,o,w,L,u,null)}_1(a,m,v,b);return;case"option":for(k in u)u.hasOwnProperty(k)&&(m=u[k],m!=null)&&(k==="selected"?a.selected=m&&typeof m!="function"&&typeof m!="symbol":nt(a,o,k,m,u,null));return;case"dialog":Re("beforetoggle",a),Re("toggle",a),Re("cancel",a),Re("close",a);break;case"iframe":case"object":Re("load",a);break;case"video":case"audio":for(m=0;m<sc.length;m++)Re(sc[m],a);break;case"image":Re("error",a),Re("load",a);break;case"details":Re("toggle",a);break;case"embed":case"source":case"link":Re("error",a),Re("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(V in u)if(u.hasOwnProperty(V)&&(m=u[V],m!=null))switch(V){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:nt(a,o,V,m,u,null)}return;default:if($p(o)){for(Q in u)u.hasOwnProperty(Q)&&(m=u[Q],m!==void 0&&_g(a,o,Q,m,u,void 0));return}}for(L in u)u.hasOwnProperty(L)&&(m=u[L],m!=null&&nt(a,o,L,m,u,null))}function dk(a,o,u,m){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,b=null,w=null,L=null,k=null,V=null,Q=null;for(Z in u){var te=u[Z];if(u.hasOwnProperty(Z)&&te!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":k=te;default:m.hasOwnProperty(Z)||nt(a,o,Z,null,m,te)}}for(var W in m){var Z=m[W];if(te=u[W],m.hasOwnProperty(W)&&(Z!=null||te!=null))switch(W){case"type":b=Z;break;case"name":v=Z;break;case"checked":V=Z;break;case"defaultChecked":Q=Z;break;case"value":w=Z;break;case"defaultValue":L=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,o));break;default:Z!==te&&nt(a,o,W,Z,m,te)}}Up(a,w,L,k,V,Q,b,v);return;case"select":Z=w=L=W=null;for(b in u)if(k=u[b],u.hasOwnProperty(b)&&k!=null)switch(b){case"value":break;case"multiple":Z=k;default:m.hasOwnProperty(b)||nt(a,o,b,null,m,k)}for(v in m)if(b=m[v],k=u[v],m.hasOwnProperty(v)&&(b!=null||k!=null))switch(v){case"value":W=b;break;case"defaultValue":L=b;break;case"multiple":w=b;default:b!==k&&nt(a,o,v,b,m,k)}o=L,u=w,m=Z,W!=null?Qs(a,!!u,W,!1):!!m!=!!u&&(o!=null?Qs(a,!!u,o,!0):Qs(a,!!u,u?[]:"",!1));return;case"textarea":Z=W=null;for(L in u)if(v=u[L],u.hasOwnProperty(L)&&v!=null&&!m.hasOwnProperty(L))switch(L){case"value":break;case"children":break;default:nt(a,o,L,null,m,v)}for(w in m)if(v=m[w],b=u[w],m.hasOwnProperty(w)&&(v!=null||b!=null))switch(w){case"value":W=v;break;case"defaultValue":Z=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(i(91));break;default:v!==b&&nt(a,o,w,v,m,b)}M1(a,W,Z);return;case"option":for(var me in u)W=u[me],u.hasOwnProperty(me)&&W!=null&&!m.hasOwnProperty(me)&&(me==="selected"?a.selected=!1:nt(a,o,me,null,m,W));for(k in m)W=m[k],Z=u[k],m.hasOwnProperty(k)&&W!==Z&&(W!=null||Z!=null)&&(k==="selected"?a.selected=W&&typeof W!="function"&&typeof W!="symbol":nt(a,o,k,W,m,Z));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in u)W=u[Ee],u.hasOwnProperty(Ee)&&W!=null&&!m.hasOwnProperty(Ee)&&nt(a,o,Ee,null,m,W);for(V in m)if(W=m[V],Z=u[V],m.hasOwnProperty(V)&&W!==Z&&(W!=null||Z!=null))switch(V){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,o));break;default:nt(a,o,V,W,m,Z)}return;default:if($p(o)){for(var it in u)W=u[it],u.hasOwnProperty(it)&&W!==void 0&&!m.hasOwnProperty(it)&&_g(a,o,it,void 0,m,W);for(Q in m)W=m[Q],Z=u[Q],!m.hasOwnProperty(Q)||W===Z||W===void 0&&Z===void 0||_g(a,o,Q,W,m,Z);return}}for(var U in u)W=u[U],u.hasOwnProperty(U)&&W!=null&&!m.hasOwnProperty(U)&&nt(a,o,U,null,m,W);for(te in m)W=m[te],Z=u[te],!m.hasOwnProperty(te)||W===Z||W==null&&Z==null||nt(a,o,te,W,m,Z)}function LE(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function fk(){if(typeof performance.getEntriesByType=="function"){for(var a=0,o=0,u=performance.getEntriesByType("resource"),m=0;m<u.length;m++){var v=u[m],b=v.transferSize,w=v.initiatorType,L=v.duration;if(b&&L&&LE(w)){for(w=0,L=v.responseEnd,m+=1;m<u.length;m++){var k=u[m],V=k.startTime;if(V>L)break;var Q=k.transferSize,te=k.initiatorType;Q&&LE(te)&&(k=k.responseEnd,w+=Q*(k<L?1:(L-V)/(k-V)))}if(--m,o+=8*(b+w)/(v.duration/1e3),a++,10<a)break}}if(0<a)return o/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var Pg=null,Dg=null;function Rd(a){return a.nodeType===9?a:a.ownerDocument}function NE(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function RE(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function Lg(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Ng=null;function hk(){var a=window.event;return a&&a.type==="popstate"?a===Ng?!1:(Ng=a,!0):(Ng=null,!1)}var IE=typeof setTimeout=="function"?setTimeout:void 0,pk=typeof clearTimeout=="function"?clearTimeout:void 0,kE=typeof Promise=="function"?Promise:void 0,mk=typeof queueMicrotask=="function"?queueMicrotask:typeof kE<"u"?function(a){return kE.resolve(null).then(a).catch(gk)}:IE;function gk(a){setTimeout(function(){throw a})}function Ca(a){return a==="head"}function jE(a,o){var u=o,m=0;do{var v=u.nextSibling;if(a.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"||u==="/&"){if(m===0){a.removeChild(v),Do(o);return}m--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")m++;else if(u==="html")lc(a.ownerDocument.documentElement);else if(u==="head"){u=a.ownerDocument.head,lc(u);for(var b=u.firstChild;b;){var w=b.nextSibling,L=b.nodeName;b[Ol]||L==="SCRIPT"||L==="STYLE"||L==="LINK"&&b.rel.toLowerCase()==="stylesheet"||u.removeChild(b),b=w}}else u==="body"&&lc(a.ownerDocument.body);u=v}while(u);Do(o)}function BE(a,o){var u=a;a=0;do{var m=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(a===0)break;a--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||a++;u=m}while(u)}function Rg(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Rg(u),zp(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function vk(a,o,u,m){for(;a.nodeType===1;){var v=u;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!m&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(m){if(!a[Ol])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(b=a.getAttribute("rel"),b==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(b!==v.rel||a.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||a.getAttribute("title")!==(v.title==null?null:v.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(b=a.getAttribute("src"),(b!==(v.src==null?null:v.src)||a.getAttribute("type")!==(v.type==null?null:v.type)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&b&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var b=v.name==null?null:""+v.name;if(v.type==="hidden"&&a.getAttribute("name")===b)return a}else return a;if(a=bi(a.nextSibling),a===null)break}return null}function yk(a,o,u){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=bi(a.nextSibling),a===null))return null;return a}function zE(a,o){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!o||(a=bi(a.nextSibling),a===null))return null;return a}function Ig(a){return a.data==="$?"||a.data==="$~"}function kg(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function bk(a,o){var u=a.ownerDocument;if(a.data==="$~")a._reactRetry=o;else if(a.data!=="$?"||u.readyState!=="loading")o();else{var m=function(){o(),u.removeEventListener("DOMContentLoaded",m)};u.addEventListener("DOMContentLoaded",m),a._reactRetry=m}}function bi(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return a}var jg=null;function FE(a){a=a.nextSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="/$"||u==="/&"){if(o===0)return bi(a.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}a=a.nextSibling}return null}function UE(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return a;o--}else u!=="/$"&&u!=="/&"||o++}a=a.previousSibling}return null}function HE(a,o,u){switch(o=Rd(u),a){case"html":if(a=o.documentElement,!a)throw Error(i(452));return a;case"head":if(a=o.head,!a)throw Error(i(453));return a;case"body":if(a=o.body,!a)throw Error(i(454));return a;default:throw Error(i(451))}}function lc(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);zp(a)}var Ai=new Map,$E=new Set;function Id(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Lr=H.d;H.d={f:Ak,r:Sk,D:xk,C:Ek,L:wk,m:Ck,X:Tk,S:Ok,M:Mk};function Ak(){var a=Lr.f(),o=Od();return a||o}function Sk(a){var o=Ks(a);o!==null&&o.tag===5&&o.type==="form"?sx(o):Lr.r(a)}var Mo=typeof document>"u"?null:document;function qE(a,o,u){var m=Mo;if(m&&typeof o=="string"&&o){var v=fi(o);v='link[rel="'+a+'"][href="'+v+'"]',typeof u=="string"&&(v+='[crossorigin="'+u+'"]'),$E.has(v)||($E.add(v),a={rel:a,crossOrigin:u,href:o},m.querySelector(v)===null&&(o=m.createElement("link"),hn(o,"link",a),Wt(o),m.head.appendChild(o)))}}function xk(a){Lr.D(a),qE("dns-prefetch",a,null)}function Ek(a,o){Lr.C(a,o),qE("preconnect",a,o)}function wk(a,o,u){Lr.L(a,o,u);var m=Mo;if(m&&a&&o){var v='link[rel="preload"][as="'+fi(o)+'"]';o==="image"&&u&&u.imageSrcSet?(v+='[imagesrcset="'+fi(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(v+='[imagesizes="'+fi(u.imageSizes)+'"]')):v+='[href="'+fi(a)+'"]';var b=v;switch(o){case"style":b=_o(a);break;case"script":b=Po(a)}Ai.has(b)||(a=p({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:a,as:o},u),Ai.set(b,a),m.querySelector(v)!==null||o==="style"&&m.querySelector(cc(b))||o==="script"&&m.querySelector(uc(b))||(o=m.createElement("link"),hn(o,"link",a),Wt(o),m.head.appendChild(o)))}}function Ck(a,o){Lr.m(a,o);var u=Mo;if(u&&a){var m=o&&typeof o.as=="string"?o.as:"script",v='link[rel="modulepreload"][as="'+fi(m)+'"][href="'+fi(a)+'"]',b=v;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Po(a)}if(!Ai.has(b)&&(a=p({rel:"modulepreload",href:a},o),Ai.set(b,a),u.querySelector(v)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(uc(b)))return}m=u.createElement("link"),hn(m,"link",a),Wt(m),u.head.appendChild(m)}}}function Ok(a,o,u){Lr.S(a,o,u);var m=Mo;if(m&&a){var v=Ws(m).hoistableStyles,b=_o(a);o=o||"default";var w=v.get(b);if(!w){var L={loading:0,preload:null};if(w=m.querySelector(cc(b)))L.loading=5;else{a=p({rel:"stylesheet",href:a,"data-precedence":o},u),(u=Ai.get(b))&&Bg(a,u);var k=w=m.createElement("link");Wt(k),hn(k,"link",a),k._p=new Promise(function(V,Q){k.onload=V,k.onerror=Q}),k.addEventListener("load",function(){L.loading|=1}),k.addEventListener("error",function(){L.loading|=2}),L.loading|=4,kd(w,o,m)}w={type:"stylesheet",instance:w,count:1,state:L},v.set(b,w)}}}function Tk(a,o){Lr.X(a,o);var u=Mo;if(u&&a){var m=Ws(u).hoistableScripts,v=Po(a),b=m.get(v);b||(b=u.querySelector(uc(v)),b||(a=p({src:a,async:!0},o),(o=Ai.get(v))&&zg(a,o),b=u.createElement("script"),Wt(b),hn(b,"link",a),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},m.set(v,b))}}function Mk(a,o){Lr.M(a,o);var u=Mo;if(u&&a){var m=Ws(u).hoistableScripts,v=Po(a),b=m.get(v);b||(b=u.querySelector(uc(v)),b||(a=p({src:a,async:!0,type:"module"},o),(o=Ai.get(v))&&zg(a,o),b=u.createElement("script"),Wt(b),hn(b,"link",a),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},m.set(v,b))}}function GE(a,o,u,m){var v=(v=xe.current)?Id(v):null;if(!v)throw Error(i(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=_o(u.href),u=Ws(v).hoistableStyles,m=u.get(o),m||(m={type:"style",instance:null,count:0,state:null},u.set(o,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=_o(u.href);var b=Ws(v).hoistableStyles,w=b.get(a);if(w||(v=v.ownerDocument||v,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(a,w),(b=v.querySelector(cc(a)))&&!b._p&&(w.instance=b,w.state.loading=5),Ai.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Ai.set(a,u),b||_k(v,a,u,w.state))),o&&m===null)throw Error(i(528,""));return w}if(o&&m!==null)throw Error(i(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Po(u),u=Ws(v).hoistableScripts,m=u.get(o),m||(m={type:"script",instance:null,count:0,state:null},u.set(o,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,a))}}function _o(a){return'href="'+fi(a)+'"'}function cc(a){return'link[rel="stylesheet"]['+a+"]"}function VE(a){return p({},a,{"data-precedence":a.precedence,precedence:null})}function _k(a,o,u,m){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?m.loading=1:(o=a.createElement("link"),m.preload=o,o.addEventListener("load",function(){return m.loading|=1}),o.addEventListener("error",function(){return m.loading|=2}),hn(o,"link",u),Wt(o),a.head.appendChild(o))}function Po(a){return'[src="'+fi(a)+'"]'}function uc(a){return"script[async]"+a}function YE(a,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var m=a.querySelector('style[data-href~="'+fi(u.href)+'"]');if(m)return o.instance=m,Wt(m),m;var v=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return m=(a.ownerDocument||a).createElement("style"),Wt(m),hn(m,"style",v),kd(m,u.precedence,a),o.instance=m;case"stylesheet":v=_o(u.href);var b=a.querySelector(cc(v));if(b)return o.state.loading|=4,o.instance=b,Wt(b),b;m=VE(u),(v=Ai.get(v))&&Bg(m,v),b=(a.ownerDocument||a).createElement("link"),Wt(b);var w=b;return w._p=new Promise(function(L,k){w.onload=L,w.onerror=k}),hn(b,"link",m),o.state.loading|=4,kd(b,u.precedence,a),o.instance=b;case"script":return b=Po(u.src),(v=a.querySelector(uc(b)))?(o.instance=v,Wt(v),v):(m=u,(v=Ai.get(b))&&(m=p({},u),zg(m,v)),a=a.ownerDocument||a,v=a.createElement("script"),Wt(v),hn(v,"link",m),a.head.appendChild(v),o.instance=v);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(m=o.instance,o.state.loading|=4,kd(m,u.precedence,a));return o.instance}function kd(a,o,u){for(var m=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=m.length?m[m.length-1]:null,b=v,w=0;w<m.length;w++){var L=m[w];if(L.dataset.precedence===o)b=L;else if(b!==v)break}b?b.parentNode.insertBefore(a,b.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(a,o.firstChild))}function Bg(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function zg(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var jd=null;function XE(a,o,u){if(jd===null){var m=new Map,v=jd=new Map;v.set(u,m)}else v=jd,m=v.get(u),m||(m=new Map,v.set(u,m));if(m.has(a))return m;for(m.set(a,null),u=u.getElementsByTagName(a),v=0;v<u.length;v++){var b=u[v];if(!(b[Ol]||b[cn]||a==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var w=b.getAttribute(o)||"";w=a+w;var L=m.get(w);L?L.push(b):m.set(w,[b])}}return m}function KE(a,o,u){a=a.ownerDocument||a,a.head.insertBefore(u,o==="title"?a.querySelector("head > title"):null)}function Pk(a,o,u){if(u===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;return o.rel==="stylesheet"?(a=o.disabled,typeof o.precedence=="string"&&a==null):!0;case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function WE(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function Dk(a,o,u,m){if(u.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var v=_o(m.href),b=o.querySelector(cc(v));if(b){o=b._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(a.count++,a=Bd.bind(a),o.then(a,a)),u.state.loading|=4,u.instance=b,Wt(b);return}b=o.ownerDocument||o,m=VE(m),(v=Ai.get(v))&&Bg(m,v),b=b.createElement("link"),Wt(b);var w=b;w._p=new Promise(function(L,k){w.onload=L,w.onerror=k}),hn(b,"link",m),u.instance=b}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(a.count++,u=Bd.bind(a),o.addEventListener("load",u),o.addEventListener("error",u))}}var Fg=0;function Lk(a,o){return a.stylesheets&&a.count===0&&Fd(a,a.stylesheets),0<a.count||0<a.imgCount?function(u){var m=setTimeout(function(){if(a.stylesheets&&Fd(a,a.stylesheets),a.unsuspend){var b=a.unsuspend;a.unsuspend=null,b()}},6e4+o);0<a.imgBytes&&Fg===0&&(Fg=62500*fk());var v=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Fd(a,a.stylesheets),a.unsuspend)){var b=a.unsuspend;a.unsuspend=null,b()}},(a.imgBytes>Fg?50:800)+o);return a.unsuspend=u,function(){a.unsuspend=null,clearTimeout(m),clearTimeout(v)}}:null}function Bd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Fd(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var zd=null;function Fd(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,zd=new Map,o.forEach(Nk,a),zd=null,Bd.call(a))}function Nk(a,o){if(!(o.state.loading&4)){var u=zd.get(a);if(u)var m=u.get(null);else{u=new Map,zd.set(a,u);for(var v=a.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<v.length;b++){var w=v[b];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(u.set(w.dataset.precedence,w),m=w)}m&&u.set(null,m)}v=o.instance,w=v.getAttribute("data-precedence"),b=u.get(w)||m,b===m&&u.set(null,v),u.set(w,v),this.count++,m=Bd.bind(this),v.addEventListener("load",m),v.addEventListener("error",m),b?b.parentNode.insertBefore(v,b.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(v,a.firstChild)),o.state.loading|=4}}var dc={$$typeof:T,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function Rk(a,o,u,m,v,b,w,L,k){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ip(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ip(0),this.hiddenUpdates=Ip(null),this.identifierPrefix=m,this.onUncaughtError=v,this.onCaughtError=b,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function ZE(a,o,u,m,v,b,w,L,k,V,Q,te){return a=new Rk(a,o,u,w,k,V,Q,te,L),o=1,b===!0&&(o|=24),b=Wn(3,null,null,o),a.current=b,b.stateNode=a,o=bm(),o.refCount++,a.pooledCache=o,o.refCount++,b.memoizedState={element:m,isDehydrated:u,cache:o},Em(b),a}function QE(a){return a?(a=so,a):so}function JE(a,o,u,m,v,b){v=QE(v),m.context===null?m.context=v:m.pendingContext=v,m=pa(o),m.payload={element:u},b=b===void 0?null:b,b!==null&&(m.callback=b),u=ma(a,m,o),u!==null&&(zn(u,a,o),$l(u,a,o))}function ew(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<o?u:o}}function Ug(a,o){ew(a,o),(a=a.alternate)&&ew(a,o)}function tw(a){if(a.tag===13||a.tag===31){var o=ts(a,67108864);o!==null&&zn(o,a,67108864),Ug(a,67108864)}}function nw(a){if(a.tag===13||a.tag===31){var o=ti();o=kp(o);var u=ts(a,o);u!==null&&zn(u,a,o),Ug(a,o)}}var Ud=!0;function Ik(a,o,u,m){var v=B.T;B.T=null;var b=H.p;try{H.p=2,Hg(a,o,u,m)}finally{H.p=b,B.T=v}}function kk(a,o,u,m){var v=B.T;B.T=null;var b=H.p;try{H.p=8,Hg(a,o,u,m)}finally{H.p=b,B.T=v}}function Hg(a,o,u,m){if(Ud){var v=$g(m);if(v===null)Mg(a,o,m,Hd,u),rw(a,m);else if(Bk(v,a,o,u,m))m.stopPropagation();else if(rw(a,m),o&4&&-1<jk.indexOf(a)){for(;v!==null;){var b=Ks(v);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var w=Wa(b.pendingLanes);if(w!==0){var L=b;for(L.pendingLanes|=2,L.entangledLanes|=2;w;){var k=1<<31-Xn(w);L.entanglements[1]|=k,w&=~k}Xi(b),($e&6)===0&&(wd=Vn()+500,ac(0))}}break;case 31:case 13:L=ts(b,2),L!==null&&zn(L,b,2),Od(),Ug(b,2)}if(b=$g(m),b===null&&Mg(a,o,m,Hd,u),b===v)break;v=b}v!==null&&m.stopPropagation()}else Mg(a,o,m,null,u)}}function $g(a){return a=Gp(a),qg(a)}var Hd=null;function qg(a){if(Hd=null,a=Xs(a),a!==null){var o=s(a);if(o===null)a=null;else{var u=o.tag;if(u===13){if(a=l(o),a!==null)return a;a=null}else if(u===31){if(a=c(o),a!==null)return a;a=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return Hd=a,null}function iw(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xR()){case d1:return 2;case f1:return 8;case Du:case ER:return 32;case h1:return 268435456;default:return 32}default:return 32}}var Gg=!1,Oa=null,Ta=null,Ma=null,fc=new Map,hc=new Map,_a=[],jk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function rw(a,o){switch(a){case"focusin":case"focusout":Oa=null;break;case"dragenter":case"dragleave":Ta=null;break;case"mouseover":case"mouseout":Ma=null;break;case"pointerover":case"pointerout":fc.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":hc.delete(o.pointerId)}}function pc(a,o,u,m,v,b){return a===null||a.nativeEvent!==b?(a={blockedOn:o,domEventName:u,eventSystemFlags:m,nativeEvent:b,targetContainers:[v]},o!==null&&(o=Ks(o),o!==null&&tw(o)),a):(a.eventSystemFlags|=m,o=a.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),a)}function Bk(a,o,u,m,v){switch(o){case"focusin":return Oa=pc(Oa,a,o,u,m,v),!0;case"dragenter":return Ta=pc(Ta,a,o,u,m,v),!0;case"mouseover":return Ma=pc(Ma,a,o,u,m,v),!0;case"pointerover":var b=v.pointerId;return fc.set(b,pc(fc.get(b)||null,a,o,u,m,v)),!0;case"gotpointercapture":return b=v.pointerId,hc.set(b,pc(hc.get(b)||null,a,o,u,m,v)),!0}return!1}function aw(a){var o=Xs(a.target);if(o!==null){var u=s(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){a.blockedOn=o,b1(a.priority,function(){nw(u)});return}}else if(o===31){if(o=c(u),o!==null){a.blockedOn=o,b1(a.priority,function(){nw(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function $d(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var u=$g(a.nativeEvent);if(u===null){u=a.nativeEvent;var m=new u.constructor(u.type,u);qp=m,u.target.dispatchEvent(m),qp=null}else return o=Ks(u),o!==null&&tw(o),a.blockedOn=u,!1;o.shift()}return!0}function sw(a,o,u){$d(a)&&u.delete(o)}function zk(){Gg=!1,Oa!==null&&$d(Oa)&&(Oa=null),Ta!==null&&$d(Ta)&&(Ta=null),Ma!==null&&$d(Ma)&&(Ma=null),fc.forEach(sw),hc.forEach(sw)}function qd(a,o){a.blockedOn===o&&(a.blockedOn=null,Gg||(Gg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,zk)))}var Gd=null;function ow(a){Gd!==a&&(Gd=a,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Gd===a&&(Gd=null);for(var o=0;o<a.length;o+=3){var u=a[o],m=a[o+1],v=a[o+2];if(typeof m!="function"){if(qg(m||u)===null)continue;break}var b=Ks(u);b!==null&&(a.splice(o,3),o-=3,$m(b,{pending:!0,data:v,method:u.method,action:m},m,v))}}))}function Do(a){function o(k){return qd(k,a)}Oa!==null&&qd(Oa,a),Ta!==null&&qd(Ta,a),Ma!==null&&qd(Ma,a),fc.forEach(o),hc.forEach(o);for(var u=0;u<_a.length;u++){var m=_a[u];m.blockedOn===a&&(m.blockedOn=null)}for(;0<_a.length&&(u=_a[0],u.blockedOn===null);)aw(u),u.blockedOn===null&&_a.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(m=0;m<u.length;m+=3){var v=u[m],b=u[m+1],w=v[Nn]||null;if(typeof b=="function")w||ow(u);else if(w){var L=null;if(b&&b.hasAttribute("formAction")){if(v=b,w=b[Nn]||null)L=w.formAction;else if(qg(v)!==null)continue}else L=w.action;typeof L=="function"?u[m+1]=L:(u.splice(m,3),m-=3),ow(u)}}}function lw(){function a(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(w){return v=w})},focusReset:"manual",scroll:"manual"})}function o(){v!==null&&(v(),v=null),m||setTimeout(u,20)}function u(){if(!m&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,v=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){m=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),v!==null&&(v(),v=null)}}}function Vg(a){this._internalRoot=a}Vd.prototype.render=Vg.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(i(409));var u=o.current,m=ti();JE(u,m,a,o,null,null)},Vd.prototype.unmount=Vg.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;JE(a.current,2,null,a,null,null),Od(),o[Ys]=null}};function Vd(a){this._internalRoot=a}Vd.prototype.unstable_scheduleHydration=function(a){if(a){var o=y1();a={blockedOn:null,target:a,priority:o};for(var u=0;u<_a.length&&o!==0&&o<_a[u].priority;u++);_a.splice(u,0,a),u===0&&aw(a)}};var cw=e.version;if(cw!=="19.2.4")throw Error(i(527,cw,"19.2.4"));H.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(i(188)):(a=Object.keys(a).join(","),Error(i(268,a)));return a=f(o),a=a!==null?h(a):null,a=a===null?null:a.stateNode,a};var Fk={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yd.isDisabled&&Yd.supportsFiber)try{El=Yd.inject(Fk),Yn=Yd}catch{}}return gc.createRoot=function(a,o){if(!r(a))throw Error(i(299));var u=!1,m="",v=gx,b=vx,w=yx;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(w=o.onRecoverableError)),o=ZE(a,1,!1,null,null,u,m,null,v,b,w,lw),a[Ys]=o.current,Tg(a),new Vg(o)},gc.hydrateRoot=function(a,o,u){if(!r(a))throw Error(i(299));var m=!1,v="",b=gx,w=vx,L=yx,k=null;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(b=u.onUncaughtError),u.onCaughtError!==void 0&&(w=u.onCaughtError),u.onRecoverableError!==void 0&&(L=u.onRecoverableError),u.formState!==void 0&&(k=u.formState)),o=ZE(a,1,!0,o,u??null,m,v,k,b,w,L,lw),o.context=QE(null),u=o.current,m=ti(),m=kp(m),v=pa(m),v.callback=null,ma(u,v,m),u=m,o.current.lanes=u,Cl(o,u),Xi(o),a[Ys]=o.current,Tg(a),new Vd(o)},gc.version="19.2.4",gc}var Sw;function Qk(){if(Sw)return Wg.exports;Sw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Wg.exports=Zk(),Wg.exports}var Jk=Qk();const Tn=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),Uy=[.001,0,0,.001,0,0],ev=1.35,ni={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},ka={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Fc="pdfjs_internal_editor_",Me={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},ze={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},ej={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Hy={TRIANGLES:1,LATTICE:2},$t={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Sf={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},zt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},zo={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Th={ERRORS:0,WARNINGS:1,INFOS:5},Uc={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},vc={moveTo:0,lineTo:1,curveTo:2,quadraticCurveTo:3,closePath:4},tj={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Mh=Th.WARNINGS;function nj(n){Number.isInteger(n)&&(Mh=n)}function ij(){return Mh}function _h(n){Mh>=Th.INFOS&&console.info(`Info: ${n}`)}function we(n){Mh>=Th.WARNINGS&&console.warn(`Warning: ${n}`)}function Xe(n){throw new Error(n)}function Ye(n,e){n||Xe(e)}function rj(n){switch(n?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function YM(n,e=null,t=null){if(!n)return null;if(t&&typeof n=="string"&&(t.addDefaultProtocol&&n.startsWith("www.")&&n.match(/\./g)?.length>=2&&(n=`http://${n}`),t.tryConvertEncoding))try{n=uj(n)}catch{}const i=e?URL.parse(n,e):URL.parse(n);return rj(i)?i:null}function XM(n,e,t=!1){const i=URL.parse(n);return i?(i.hash=e,i.href):t&&YM(n,"http://example.com")?n.split("#",1)[0]+`${e?`#${e}`:""}`:""}function Ce(n,e,t,i=!1){return Object.defineProperty(n,e,{value:t,enumerable:!i,configurable:!0,writable:!1}),t}const Us=(function(){function e(t,i){this.message=t,this.name=i}return e.prototype=new Error,e.constructor=e,e})();class xw extends Us{constructor(e,t){super(e,"PasswordException"),this.code=t}}class tv extends Us{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class $y extends Us{constructor(e){super(e,"InvalidPDFException")}}class Pf extends Us{constructor(e,t,i){super(e,"ResponseException"),this.status=t,this.missing=i}}class aj extends Us{constructor(e){super(e,"FormatError")}}class Ha extends Us{constructor(e){super(e,"AbortException")}}function sj(n){(typeof n!="object"||n?.length===void 0)&&Xe("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const i=[];for(let r=0;r<e;r+=t){const s=Math.min(r+t,e),l=n.subarray(r,s);i.push(String.fromCharCode.apply(null,l))}return i.join("")}function Ph(n){typeof n!="string"&&Xe("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let i=0;i<e;++i)t[i]=n.charCodeAt(i)&255;return t}function oj(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function lj(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function cj(){try{return new Function(""),!0}catch{return!1}}class Vt{static get isLittleEndian(){return Ce(this,"isLittleEndian",lj())}static get isEvalSupported(){return Ce(this,"isEvalSupported",cj())}static get isOffscreenCanvasSupported(){return Ce(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Ce(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get isFloat16ArraySupported(){return Ce(this,"isFloat16ArraySupported",typeof Float16Array<"u")}static get isSanitizerSupported(){return Ce(this,"isSanitizerSupported",typeof Sanitizer<"u")}static get platform(){const{platform:e,userAgent:t}=navigator;return Ce(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){return Ce(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const nv=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));class ue{static makeHexColor(e,t,i){return`#${nv[e]}${nv[t]}${nv[i]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,t){let i;e[0]?(e[0]<0&&(i=t[0],t[0]=t[2],t[2]=i),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(i=t[1],t[1]=t[3],t[3]=i),t[1]*=e[3],t[3]*=e[3]):(i=t[0],t[0]=t[1],t[1]=i,i=t[2],t[2]=t[3],t[3]=i,e[1]<0&&(i=t[1],t[1]=t[3],t[3]=i),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(i=t[0],t[0]=t[2],t[2]=i),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static multiplyByDOMMatrix(e,t){return[e[0]*t.a+e[2]*t.b,e[1]*t.a+e[3]*t.b,e[0]*t.c+e[2]*t.d,e[1]*t.c+e[3]*t.d,e[0]*t.e+e[2]*t.f+e[4],e[1]*t.e+e[3]*t.f+e[5]]}static applyTransform(e,t,i=0){const r=e[i],s=e[i+1];e[i]=r*t[0]+s*t[2]+t[4],e[i+1]=r*t[1]+s*t[3]+t[5]}static applyTransformToBezier(e,t,i=0){const r=t[0],s=t[1],l=t[2],c=t[3],d=t[4],f=t[5];for(let h=0;h<6;h+=2){const p=e[i+h],g=e[i+h+1];e[i+h]=p*r+g*l+d,e[i+h+1]=p*s+g*c+f}}static applyInverseTransform(e,t){const i=e[0],r=e[1],s=t[0]*t[3]-t[1]*t[2];e[0]=(i*t[3]-r*t[2]+t[2]*t[5]-t[4]*t[3])/s,e[1]=(-i*t[1]+r*t[0]+t[4]*t[1]-t[5]*t[0])/s}static axialAlignedBoundingBox(e,t,i){const r=t[0],s=t[1],l=t[2],c=t[3],d=t[4],f=t[5],h=e[0],p=e[1],g=e[2],y=e[3];let S=r*h+d,A=S,x=r*g+d,E=x,O=c*p+f,T=O,P=c*y+f,M=P;if(s!==0||l!==0){const _=s*h,N=s*g,j=l*p,F=l*y;S+=j,E+=j,x+=F,A+=F,O+=_,M+=_,P+=N,T+=N}i[0]=Math.min(i[0],S,x,A,E),i[1]=Math.min(i[1],O,P,T,M),i[2]=Math.max(i[2],S,x,A,E),i[3]=Math.max(i[3],O,P,T,M)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const i=e[0],r=e[1],s=e[2],l=e[3],c=i**2+r**2,d=i*s+r*l,f=s**2+l**2,h=(c+f)/2,p=Math.sqrt(h**2-(c*f-d**2));t[0]=Math.sqrt(h+p||1),t[1]=Math.sqrt(h-p||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const i=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),r=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(i>r)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),l=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>l?null:[i,s,r,l]}static pointBoundingBox(e,t,i){i[0]=Math.min(i[0],e),i[1]=Math.min(i[1],t),i[2]=Math.max(i[2],e),i[3]=Math.max(i[3],t)}static rectBoundingBox(e,t,i,r,s){s[0]=Math.min(s[0],e,i),s[1]=Math.min(s[1],t,r),s[2]=Math.max(s[2],e,i),s[3]=Math.max(s[3],t,r)}static#e(e,t,i,r,s,l,c,d,f,h){if(f<=0||f>=1)return;const p=1-f,g=f*f,y=g*f,S=p*(p*(p*e+3*f*t)+3*g*i)+y*r,A=p*(p*(p*s+3*f*l)+3*g*c)+y*d;h[0]=Math.min(h[0],S),h[1]=Math.min(h[1],A),h[2]=Math.max(h[2],S),h[3]=Math.max(h[3],A)}static#t(e,t,i,r,s,l,c,d,f,h,p,g){if(Math.abs(f)<1e-12){Math.abs(h)>=1e-12&&this.#e(e,t,i,r,s,l,c,d,-p/h,g);return}const y=h**2-4*p*f;if(y<0)return;const S=Math.sqrt(y),A=2*f;this.#e(e,t,i,r,s,l,c,d,(-h+S)/A,g),this.#e(e,t,i,r,s,l,c,d,(-h-S)/A,g)}static bezierBoundingBox(e,t,i,r,s,l,c,d,f){f[0]=Math.min(f[0],e,c),f[1]=Math.min(f[1],t,d),f[2]=Math.max(f[2],e,c),f[3]=Math.max(f[3],t,d),this.#t(e,i,s,c,t,r,l,d,3*(-e+3*(i-s)+c),6*(e-2*i+s),3*(i-e),f),this.#t(e,i,s,c,t,r,l,d,3*(-t+3*(r-l)+d),6*(t-2*r+l),3*(r-t),f)}}function uj(n){return decodeURIComponent(escape(n))}let iv=null,Ew=null;function dj(n){return iv||(iv=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Ew=new Map([["","t"]])),n.replaceAll(iv,(e,t,i)=>t?t.normalize("NFKC"):Ew.get(i))}function KM(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const n=new Uint8Array(32);return crypto.getRandomValues(n),sj(n)}const $o="pdfjs_internal_id_";function fj(n,e,t){if(!Array.isArray(t)||t.length<2)return!1;const[i,r,...s]=t;if(!n(i)&&!Number.isInteger(i)||!e(r))return!1;const l=s.length;let c=!0;switch(r.name){case"XYZ":if(l<2||l>3)return!1;break;case"Fit":case"FitB":return l===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(l>1)return!1;break;case"FitR":if(l!==4)return!1;c=!1;break;default:return!1}for(const d of s)if(!(typeof d=="number"||c&&d===null))return!1;return!0}function gn(n,e,t){return Math.min(Math.max(n,e),t)}typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(n){return n.reduce((e,t)=>e+t,0)});class Hc{static textContent(e){const t=[],i={items:t,styles:Object.create(null)};function r(s){if(!s)return;let l=null;const c=s.name;if(c==="#text")l=s.value;else if(Hc.shouldBuildText(c))s?.attributes?.textContent?l=s.attributes.textContent:s.value&&(l=s.value);else return;if(l!==null&&t.push({str:l}),!!s.children)for(const d of s.children)r(d)}return r(e),i}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}class WM{static setupStorage(e,t,i,r,s){const l=r.getValue(t,{value:null});switch(i.name){case"textarea":if(l.value!==null&&(e.textContent=l.value),s==="print")break;e.addEventListener("input",c=>{r.setValue(t,{value:c.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(l.value===i.attributes.xfaOn?e.setAttribute("checked",!0):l.value===i.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",c=>{r.setValue(t,{value:c.target.checked?c.target.getAttribute("xfaOn"):c.target.getAttribute("xfaOff")})})}else{if(l.value!==null&&e.setAttribute("value",l.value),s==="print")break;e.addEventListener("input",c=>{r.setValue(t,{value:c.target.value})})}break;case"select":if(l.value!==null){e.setAttribute("value",l.value);for(const c of i.children)c.attributes.value===l.value?c.attributes.selected=!0:c.attributes.hasOwnProperty("selected")&&delete c.attributes.selected}e.addEventListener("input",c=>{const d=c.target.options,f=d.selectedIndex===-1?"":d[d.selectedIndex].value;r.setValue(t,{value:f})});break}}static setAttributes({html:e,element:t,storage:i=null,intent:r,linkService:s}){const{attributes:l}=t,c=e instanceof HTMLAnchorElement;l.type==="radio"&&(l.name=`${l.name}-${r}`);for(const[d,f]of Object.entries(l))if(f!=null)switch(d){case"class":f.length&&e.setAttribute(d,f.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",f);break;case"style":Object.assign(e.style,f);break;case"textContent":e.textContent=f;break;default:(!c||d!=="href"&&d!=="newWindow")&&e.setAttribute(d,f)}c&&s.addLinkAttributes(e,l.href,l.newWindow),i&&l.dataId&&this.setupStorage(e,l.dataId,t,i)}static render(e){const t=e.annotationStorage,i=e.linkService,r=e.xfaHtml,s=e.intent||"display",l=document.createElement(r.name);r.attributes&&this.setAttributes({html:l,element:r,intent:s,linkService:i});const c=s!=="richText",d=e.div;if(d.append(l),e.viewport){const p=`matrix(${e.viewport.transform.join(",")})`;d.style.transform=p}c&&d.setAttribute("class","xfaLayer xfaFont");const f=[];if(r.children.length===0){if(r.value){const p=document.createTextNode(r.value);l.append(p),c&&Hc.shouldBuildText(r.name)&&f.push(p)}return{textDivs:f}}const h=[[r,-1,l]];for(;h.length>0;){const[p,g,y]=h.at(-1);if(g+1===p.children.length){h.pop();continue}const S=p.children[++h.at(-1)[1]];if(S===null)continue;const{name:A}=S;if(A==="#text"){const E=document.createTextNode(S.value);f.push(E),y.append(E);continue}const x=S?.attributes?.xmlns?document.createElementNS(S.attributes.xmlns,A):document.createElement(A);if(y.append(x),S.attributes&&this.setAttributes({html:x,element:S,storage:t,intent:s,linkService:i}),S.children?.length>0)h.push([S,-1,x]);else if(S.value){const E=document.createTextNode(S.value);c&&Hc.shouldBuildText(A)&&f.push(E),x.append(E)}}for(const p of d.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:f}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const kr="http://www.w3.org/2000/svg";class tl{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function ou(n,e="text"){if(Lc(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,i)=>{const r=new XMLHttpRequest;r.open("GET",n,!0),r.responseType=e,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(r.response);return}t(r.responseText);return}i(new Error(r.statusText))}},r.send(null)})}class lu{constructor({viewBox:e,userUnit:t,scale:i,rotation:r,offsetX:s=0,offsetY:l=0,dontFlip:c=!1}){this.viewBox=e,this.userUnit=t,this.scale=i,this.rotation=r,this.offsetX=s,this.offsetY=l,i*=t;const d=(e[2]+e[0])/2,f=(e[3]+e[1])/2;let h,p,g,y;switch(r%=360,r<0&&(r+=360),r){case 180:h=-1,p=0,g=0,y=1;break;case 90:h=0,p=1,g=1,y=0;break;case 270:h=0,p=-1,g=-1,y=0;break;case 0:h=1,p=0,g=0,y=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}c&&(g=-g,y=-y);let S,A,x,E;h===0?(S=Math.abs(f-e[1])*i+s,A=Math.abs(d-e[0])*i+l,x=(e[3]-e[1])*i,E=(e[2]-e[0])*i):(S=Math.abs(d-e[0])*i+s,A=Math.abs(f-e[1])*i+l,x=(e[2]-e[0])*i,E=(e[3]-e[1])*i),this.transform=[h*i,p*i,g*i,y*i,S-h*i*d-g*i*f,A-p*i*d-y*i*f],this.width=x,this.height=E}get rawDims(){const e=this.viewBox;return Ce(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:i=this.offsetX,offsetY:r=this.offsetY,dontFlip:s=!1}={}){return new lu({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:i,offsetY:r,dontFlip:s})}convertToViewportPoint(e,t){const i=[e,t];return ue.applyTransform(i,this.transform),i}convertToViewportRectangle(e){const t=[e[0],e[1]];ue.applyTransform(t,this.transform);const i=[e[2],e[3]];return ue.applyTransform(i,this.transform),[t[0],t[1],i[0],i[1]]}convertToPdfPoint(e,t){const i=[e,t];return ue.applyInverseTransform(i,this.transform),i}}class ib extends Us{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function Dh(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function rb(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function hj(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function pj(n,e="document.pdf"){if(typeof n!="string")return e;if(Dh(n))return we('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const i=(c=>{try{return new URL(c)}catch{try{return new URL(decodeURIComponent(c))}catch{try{return new URL(c,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(c),"https://foo.bar")}catch{return null}}}}})(n);if(!i)return e;const r=c=>{try{let d=decodeURIComponent(c);return d.includes("/")?(d=d.split("/").at(-1),d.test(/^\.pdf$/i)?d:c):d}catch{return c}},s=/\.pdf$/i,l=i.pathname.split("/").at(-1);if(s.test(l))return r(l);if(i.searchParams.size>0){const c=Array.from(i.searchParams.values()).reverse();for(const f of c)if(s.test(f))return r(f);const d=Array.from(i.searchParams.keys()).reverse();for(const f of d)if(s.test(f))return r(f)}if(i.hash){const d=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(i.hash);if(d)return r(d[0])}return e}class ww{started=Object.create(null);times=[];time(e){e in this.started&&we(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||we(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:i}of this.times)t=Math.max(i.length,t);for(const{name:i,start:r,end:s}of this.times)e.push(`${i.padEnd(t)} ${s-r}ms
`);return e.join("")}}function Lc(n,e){const t=e?URL.parse(n,e):URL.parse(n);return t?.protocol==="http:"||t?.protocol==="https:"}function Pi(n){n.preventDefault()}function Tt(n){n.preventDefault(),n.stopPropagation()}function mj(n){console.log("Deprecated API usage: "+n)}class qy{static#e;static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;this.#e||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const t=this.#e.exec(e);if(!t)return null;const i=parseInt(t[1],10);let r=parseInt(t[2],10);r=r>=1&&r<=12?r-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let l=parseInt(t[4],10);l=l>=0&&l<=23?l:0;let c=parseInt(t[5],10);c=c>=0&&c<=59?c:0;let d=parseInt(t[6],10);d=d>=0&&d<=59?d:0;const f=t[7]||"Z";let h=parseInt(t[8],10);h=h>=0&&h<=23?h:0;let p=parseInt(t[9],10)||0;return p=p>=0&&p<=59?p:0,f==="-"?(l+=h,c+=p):f==="+"&&(l-=h,c-=p),new Date(Date.UTC(i,r,s,l,c,d))}}function gj(n,{scale:e=1,rotation:t=0}){const{width:i,height:r}=n.attributes.style,s=[0,0,parseInt(i),parseInt(r)];return new lu({viewBox:s,userUnit:1,scale:e,rotation:t})}function cu(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(we(`Not a valid color format: "${n}"`),[0,0,0])}function vj(n){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const t of n.keys()){e.style.color=t;const i=window.getComputedStyle(e).color;n.set(t,cu(i))}e.remove()}function At(n){const{a:e,b:t,c:i,d:r,e:s,f:l}=n.getTransform();return[e,t,i,r,s,l]}function Zi(n){const{a:e,b:t,c:i,d:r,e:s,f:l}=n.getTransform().invertSelf();return[e,t,i,r,s,l]}function Ps(n,e,t=!1,i=!0){if(e instanceof lu){const{pageWidth:r,pageHeight:s}=e.rawDims,{style:l}=n,c=Vt.isCSSRoundSupported,d=`var(--total-scale-factor) * ${r}px`,f=`var(--total-scale-factor) * ${s}px`,h=c?`round(down, ${d}, var(--scale-round-x))`:`calc(${d})`,p=c?`round(down, ${f}, var(--scale-round-y))`:`calc(${f})`;!t||e.rotation%180===0?(l.width=h,l.height=p):(l.width=p,l.height=h)}i&&n.setAttribute("data-main-rotation",e.rotation)}class lr{constructor(){const{pixelRatio:e}=lr;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,i,r,s=-1){let l=1/0,c=1/0,d=1/0;i=lr.capPixels(i,s),i>0&&(l=Math.sqrt(i/(e*t))),r!==-1&&(c=r/e,d=r/t);const f=Math.min(l,c,d);return this.sx>f||this.sy>f?(this.sx=f,this.sy=f,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const i=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,i):i}return e}}const Gy=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class yj{static get isDarkMode(){return Ce(this,"isDarkMode",!!window?.matchMedia?.("(prefers-color-scheme: dark)").matches)}}class bj{static get commentForegroundColor(){const e=document.createElement("span");e.classList.add("comment","sidebar");const{style:t}=e;t.width=t.height="0",t.display="none",t.color="var(--comment-fg-color)",document.body.append(e);const{color:i}=window.getComputedStyle(e);return e.remove(),Ce(this,"commentForegroundColor",cu(i))}}function Aj(n,e,t,i){i=Math.min(Math.max(i??1,0),1);const r=255*(1-i);return n=Math.round(n*i+r),e=Math.round(e*i+r),t=Math.round(t*i+r),[n,e,t]}function Cw(n,e){const t=n[0]/255,i=n[1]/255,r=n[2]/255,s=Math.max(t,i,r),l=Math.min(t,i,r),c=(s+l)/2;if(s===l)e[0]=e[1]=0;else{const d=s-l;switch(e[1]=c<.5?d/(s+l):d/(2-s-l),s){case t:e[0]=((i-r)/d+(i<r?6:0))*60;break;case i:e[0]=((r-t)/d+2)*60;break;case r:e[0]=((t-i)/d+4)*60;break}}e[2]=c}function Vy(n,e){const t=n[0],i=n[1],r=n[2],s=(1-Math.abs(2*r-1))*i,l=s*(1-Math.abs(t/60%2-1)),c=r-s/2;switch(Math.floor(t/60)){case 0:e[0]=s+c,e[1]=l+c,e[2]=c;break;case 1:e[0]=l+c,e[1]=s+c,e[2]=c;break;case 2:e[0]=c,e[1]=s+c,e[2]=l+c;break;case 3:e[0]=c,e[1]=l+c,e[2]=s+c;break;case 4:e[0]=l+c,e[1]=c,e[2]=s+c;break;case 5:case 6:e[0]=s+c,e[1]=c,e[2]=l+c;break}}function Ow(n){return n<=.03928?n/12.92:((n+.055)/1.055)**2.4}function Tw(n,e,t){Vy(n,t),t.map(Ow);const i=.2126*t[0]+.7152*t[1]+.0722*t[2];Vy(e,t),t.map(Ow);const r=.2126*t[0]+.7152*t[1]+.0722*t[2];return i>r?(i+.05)/(r+.05):(r+.05)/(i+.05)}const Mw=new Map;function Sj(n,e){const t=n[0]+n[1]*256+n[2]*65536+e[0]*16777216+e[1]*4294967296+e[2]*1099511627776;let i=Mw.get(t);if(i)return i;const r=new Float32Array(9),s=r.subarray(0,3),l=r.subarray(3,6);Cw(n,l);const c=r.subarray(6,9);Cw(e,c);const d=c[2]<.5,f=d?12:4.5;if(l[2]=d?Math.sqrt(l[2]):1-Math.sqrt(1-l[2]),Tw(l,c,s)<f){let h,p;d?(h=l[2],p=1):(h=0,p=l[2]);const g=.005;for(;p-h>g;){const y=l[2]=(h+p)/2;d===Tw(l,c,s)<f?h=y:p=y}l[2]=d?p:h}return Vy(l,s),i=ue.makeHexColor(Math.round(s[0]*255),Math.round(s[1]*255),Math.round(s[2]*255)),Mw.set(t,i),i}function ZM({html:n,dir:e,className:t},i){const r=document.createDocumentFragment();if(typeof n=="string"){const s=document.createElement("p");s.dir=e||"auto";const l=n.split(/(?:\r\n?|\n)/);for(let c=0,d=l.length;c<d;++c){const f=l[c];s.append(document.createTextNode(f)),c<d-1&&s.append(document.createElement("br"))}r.append(s)}else WM.render({xfaHtml:n,div:r,intent:"richText"});r.firstElementChild.classList.add("richText",t),i.append(r)}function QM(n){const e=new Path2D;if(!n)return e;for(let t=0,i=n.length;t<i;)switch(n[t++]){case vc.moveTo:e.moveTo(n[t++],n[t++]);break;case vc.lineTo:e.lineTo(n[t++],n[t++]);break;case vc.curveTo:e.bezierCurveTo(n[t++],n[t++],n[t++],n[t++],n[t++],n[t++]);break;case vc.quadraticCurveTo:e.quadraticCurveTo(n[t++],n[t++],n[t++],n[t++]);break;case vc.closePath:e.closePath();break;default:we(`Unrecognized drawing path operator: ${n[t-1]}`);break}return e}class Ge{static#e=null;static#t=null;static#i=null;static#n=0;static#a=[];get pagesNumber(){return Ge.#n}set pagesNumber(e){Ge.#n!==e&&(Ge.#n=e,e===0&&(Ge.#t=null,Ge.#e=null))}addListener(e){Ge.#a.push(e)}removeListener(e){const t=Ge.#a.indexOf(e);t>=0&&Ge.#a.splice(t,1)}#s(){for(const e of Ge.#a)e()}#r(e){if(Ge.#t)return;const t=Ge.#n,i=new Uint32Array(3*t),r=Ge.#t=i.subarray(0,t),s=Ge.#e=i.subarray(t,2*t);if(e)for(let l=0;l<t;l++)r[l]=s[l]=l+1;Ge.#i=i.subarray(2*t)}movePages(e,t,i){this.#r(!0);const r=Ge.#t,s=Ge.#e;Ge.#i.set(s);const l=t.length,c=new Uint32Array(l);let d=0;for(let y=0;y<l;y++){const S=t[y]-1;c[y]=r[S],S<i&&(d+=1)}const f=Ge.#n;let h=i-d;const p=f-l;h=gn(h,0,p);for(let y=0,S=0;y<f;y++)e.has(y+1)||(r[S++]=r[y]);r.copyWithin(h+l,h,p),r.set(c,h);let g=!1;for(let y=0,S=f;y<S;y++){const A=r[y];g||=A!==y+1,s[A-1]=y+1}this.#s(),g||(this.pagesNumber=0)}hasBeenAltered(){return Ge.#t!==null}getPageMappingForSaving(){return{pageIndices:Ge.#e?Ge.#e.map(e=>e-1):null}}getPrevPageNumber(e){return Ge.#i[Ge.#t[e-1]-1]}getPageNumber(e){return Ge.#e?.[e-1]??e}getPageId(e){return Ge.#t?.[e-1]??e}static get instance(){return Ce(this,"instance",new Ge)}getMapping(){return Ge.#t.subarray(0,this.pagesNumber)}}class Bc{#e=null;#t=null;#i;#n=null;#a=null;#s=null;#r=null;#o=null;static#c=null;constructor(e){this.#i=e,Bc.#c||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const e=this.#e=document.createElement("div");e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=this.#i._uiManager._signal;t instanceof AbortSignal&&!t.aborted&&(e.addEventListener("contextmenu",Pi,{signal:t}),e.addEventListener("pointerdown",Bc.#l,{signal:t}));const i=this.#n=document.createElement("div");i.className="buttons",e.append(i);const r=this.#i.toolbarPosition;if(r){const{style:s}=e,l=this.#i._uiManager.direction==="ltr"?1-r[0]:r[0];s.insetInlineEnd=`${100*l}%`,s.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return this.#e}static#l(e){e.stopPropagation()}#f(e){this.#i._focusEventsAllowed=!1,Tt(e)}#d(e){this.#i._focusEventsAllowed=!0,Tt(e)}#h(e){const t=this.#i._uiManager._signal;return!(t instanceof AbortSignal)||t.aborted?!1:(e.addEventListener("focusin",this.#f.bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",this.#d.bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",Pi,{signal:t}),!0)}hide(){this.#e.classList.add("hidden"),this.#t?.hideDropdown()}show(){this.#e.classList.remove("hidden"),this.#a?.shown(),this.#s?.shown()}addDeleteButton(){const{editorType:e,_uiManager:t}=this.#i,i=document.createElement("button");i.classList.add("basic","deleteButton"),i.tabIndex=0,i.setAttribute("data-l10n-id",Bc.#c[e]),this.#h(i)&&i.addEventListener("click",r=>{t.delete()},{signal:t._signal}),this.#n.append(i)}get#g(){const e=document.createElement("div");return e.className="divider",e}async addAltText(e){const t=await e.render();this.#h(t),this.#n.append(t,this.#g),this.#a=e}addComment(e,t=null){if(this.#s)return;const i=e.renderForToolbar();if(!i)return;this.#h(i);const r=this.#r=this.#g;t?(this.#n.insertBefore(i,t),this.#n.insertBefore(r,t)):this.#n.append(i,r),this.#s=e,e.toolbar=this}addColorPicker(e){if(this.#t)return;this.#t=e;const t=e.renderButton();this.#h(t),this.#n.append(t,this.#g)}async addEditSignatureButton(e){const t=this.#o=await e.renderEditButton(this.#i);this.#h(t),this.#n.append(t,this.#g)}removeButton(e){e==="comment"&&(this.#s?.removeToolbarCommentButton(),this.#s=null,this.#r?.remove(),this.#r=null)}async addButton(e,t){switch(e){case"colorPicker":t&&this.addColorPicker(t);break;case"altText":t&&await this.addAltText(t);break;case"editSignature":t&&await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break;case"comment":t&&this.addComment(t);break}}async addButtonBefore(e,t,i){if(!t&&e==="comment")return;const r=this.#n.querySelector(i);r&&e==="comment"&&this.addComment(t,r)}updateEditSignatureButton(e){this.#o&&(this.#o.title=e)}remove(){this.#e.remove(),this.#t?.destroy(),this.#t=null}}class xj{#e=null;#t=null;#i;constructor(e){this.#i=e}#n(){const e=this.#t=document.createElement("div");e.className="editToolbar",e.setAttribute("role","toolbar");const t=this.#i._signal;t instanceof AbortSignal&&!t.aborted&&e.addEventListener("contextmenu",Pi,{signal:t});const i=this.#e=document.createElement("div");return i.className="buttons",e.append(i),this.#i.hasCommentManager()&&this.#s("commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{this.#i.commentSelection("floating_button")}),this.#s("highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{this.#i.highlightSelection("floating_button")}),e}#a(e,t){let i=0,r=0;for(const s of e){const l=s.y+s.height;if(l<i)continue;const c=s.x+(t?s.width:0);if(l>i){r=c,i=l;continue}t?c>r&&(r=c):c<r&&(r=c)}return[t?1-r:r,i]}show(e,t,i){const[r,s]=this.#a(t,i),{style:l}=this.#t||=this.#n();e.append(this.#t),l.insetInlineEnd=`${100*r}%`,l.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){this.#t.remove()}#s(e,t,i,r){const s=document.createElement("button");s.classList.add("basic",e),s.tabIndex=0,s.setAttribute("data-l10n-id",t);const l=document.createElement("span");s.append(l),l.className="visuallyHidden",l.setAttribute("data-l10n-id",i);const c=this.#i._signal;c instanceof AbortSignal&&!c.aborted&&(s.addEventListener("contextmenu",Pi,{signal:c}),s.addEventListener("click",r,{signal:c})),this.#e.append(s)}}function JM(n,e,t){for(const i of t)e.addEventListener(i,n[i].bind(n))}class Ve{static#e=NaN;static#t=null;static#i=NaN;static#n=null;static initializeAndAddPointerId(e){(Ve.#t||=new Set).add(e)}static setPointer(e,t){Ve.#e||=t,Ve.#n??=e}static setTimeStamp(e){Ve.#i=e}static isSamePointerId(e){return Ve.#e===e}static isSamePointerIdOrRemove(e){return Ve.#e===e?!0:(Ve.#t?.delete(e),!1)}static isSamePointerType(e){return Ve.#n===e}static isInitializedAndDifferentPointerType(e){return Ve.#n!==null&&!Ve.isSamePointerType(e)}static isSameTimeStamp(e){return Ve.#i===e}static isUsingMultiplePointers(){return Ve.#t?.size>=1}static clearPointerType(){Ve.#n=null}static clearPointerIds(){Ve.#e=NaN,Ve.#t=null}static clearTimeStamp(){Ve.#i=NaN}}class Ej{#e=0;get id(){return`${Fc}${this.#e++}`}}class ab{#e=KM();#t=0;#i=null;static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=e;const s=r.decode().then(()=>(i.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return Ce(this,"_isSVGFittingCanvas",s)}async#n(e,t){this.#i||=new Map;let i=this.#i.get(e);if(i===null)return null;if(i?.bitmap)return i.refCounter+=1,i;try{i||={bitmap:null,id:`image_${this.#e}_${this.#t++}`,refCounter:0,isSvg:!1};let r;if(typeof t=="string"?(i.url=t,r=await ou(t,"blob")):t instanceof File?r=i.file=t:t instanceof Blob&&(r=t),r.type==="image/svg+xml"){const s=ab._isSVGFittingCanvas,l=new FileReader,c=new Image,d=new Promise((f,h)=>{c.onload=()=>{i.bitmap=c,i.isSvg=!0,f()},l.onload=async()=>{const p=i.svgUrl=l.result;c.src=await s?`${p}#svgView(preserveAspectRatio(none))`:p},c.onerror=l.onerror=h});l.readAsDataURL(r),await d}else i.bitmap=await createImageBitmap(r);i.refCounter=1}catch(r){we(r),i=null}return this.#i.set(e,i),i&&this.#i.set(i.id,i),i}async getFromFile(e){const{lastModified:t,name:i,size:r,type:s}=e;return this.#n(`${t}_${i}_${r}_${s}`,e)}async getFromUrl(e){return this.#n(e,e)}async getFromBlob(e,t){const i=await t;return this.#n(e,i)}async getFromId(e){this.#i||=new Map;const t=this.#i.get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:i}=t;return delete t.blobPromise,this.getFromBlob(t.id,i)}return this.getFromUrl(t.url)}getFromCanvas(e,t){this.#i||=new Map;let i=this.#i.get(e);if(i?.bitmap)return i.refCounter+=1,i;const r=new OffscreenCanvas(t.width,t.height);return r.getContext("2d").drawImage(t,0,0),i={bitmap:r.transferToImageBitmap(),id:`image_${this.#e}_${this.#t++}`,refCounter:1,isSvg:!1},this.#i.set(e,i),this.#i.set(i.id,i),i}getSvgUrl(e){const t=this.#i.get(e);return t?.isSvg?t.svgUrl:null}deleteId(e){this.#i||=new Map;const t=this.#i.get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:i}=t;if(!t.url&&!t.file){const r=new OffscreenCanvas(i.width,i.height);r.getContext("bitmaprenderer").transferFromImageBitmap(i),t.blobPromise=r.convertToBlob()}i.close?.(),t.bitmap=null}isValidId(e){return e.startsWith(`image_${this.#e}_`)}}class wj{#e=[];#t=!1;#i;#n=-1;constructor(e=128){this.#i=e}add({cmd:e,undo:t,post:i,mustExec:r,type:s=NaN,overwriteIfSameType:l=!1,keepUndo:c=!1}){if(r&&e(),this.#t)return;const d={cmd:e,undo:t,post:i,type:s};if(this.#n===-1){this.#e.length>0&&(this.#e.length=0),this.#n=0,this.#e.push(d);return}if(l&&this.#e[this.#n].type===s){c&&(d.undo=this.#e[this.#n].undo),this.#e[this.#n]=d;return}const f=this.#n+1;f===this.#i?this.#e.splice(0,1):(this.#n=f,f<this.#e.length&&this.#e.splice(f)),this.#e.push(d)}undo(){if(this.#n===-1)return;this.#t=!0;const{undo:e,post:t}=this.#e[this.#n];e(),t?.(),this.#t=!1,this.#n-=1}redo(){if(this.#n<this.#e.length-1){this.#n+=1,this.#t=!0;const{cmd:e,post:t}=this.#e[this.#n];e(),t?.(),this.#t=!1}}hasSomethingToUndo(){return this.#n!==-1}hasSomethingToRedo(){return this.#n<this.#e.length-1}cleanType(e){if(this.#n!==-1){for(let t=this.#n;t>=0;t--)if(this.#e[t].type!==e){this.#e.splice(t+1,this.#n-t),this.#n=t;return}this.#e.length=0,this.#n=-1}}destroy(){this.#e=null}}class uu{constructor(e){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=Vt.platform;for(const[i,r,s={}]of e)for(const l of i){const c=l.startsWith("mac+");t&&c?(this.callbacks.set(l.slice(4),{callback:r,options:s}),this.allKeys.add(l.split("+").at(-1))):!t&&!c&&(this.callbacks.set(l,{callback:r,options:s}),this.allKeys.add(l.split("+").at(-1)))}}#e(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t}exec(e,t){if(!this.allKeys.has(t.key))return;const i=this.callbacks.get(this.#e(t));if(!i)return;const{callback:r,options:{bubbles:s=!1,args:l=[],checker:c=null}}=i;c&&!c(e,t)||(r.bind(e,...l,t)(),s||Tt(t))}}class sb{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return vj(e),Ce(this,"_colors",e)}convert(e){const t=cu(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[i,r]of this._colors)if(r.every((s,l)=>s===t[l]))return sb._colorsMapping.get(i);return t}getHexCode(e){const t=this._colors.get(e);return t?ue.makeHexColor(...t):e}}class $a{#e=new AbortController;#t=null;#i=null;#n=new Map;#a=new Map;#s=null;#r=null;#o=null;#c=new wj;#l=null;#f=null;#d=null;#h=0;#g=new Set;#m=null;#u=null;#p=new Set;_editorUndoBar=null;#v=!1;#b=!1;#y=!1;#C=null;#E=null;#S=null;#T=null;#A=!1;#w=null;#P=new Ej;#M=!1;#_=!1;#j=!1;#L=null;#R=null;#B=null;#I=null;#q=null;#O=Me.NONE;#x=new Set;#N=null;#z=null;#U=null;#Y=null;#V=null;#X={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#H=[0,0];#k=null;#G=null;#Q=null;#J=null;#F=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const e=$a.prototype,t=l=>l.#G.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&l.hasSomethingToControl(),i=(l,{target:c})=>{if(c instanceof HTMLInputElement){const{type:d}=c;return d!=="text"&&d!=="number"}return!0},r=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return Ce(this,"_keyboardManager",new uu([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],e.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:i}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(l,{target:c})=>!(c instanceof HTMLButtonElement)&&l.#G.contains(c)&&!l.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(l,{target:c})=>!(c instanceof HTMLButtonElement)&&l.#G.contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}constructor(e,t,i,r,s,l,c,d,f,h,p,g,y,S,A,x){const E=this._signal=this.#e.signal;this.#G=e,this.#Q=t,this.#J=i,this.#s=r,this.#l=s,this.#z=l,this.#V=d,this._eventBus=c,c._on("editingaction",this.onEditingAction.bind(this),{signal:E}),c._on("pagechanging",this.onPageChanging.bind(this),{signal:E}),c._on("scalechanging",this.onScaleChanging.bind(this),{signal:E}),c._on("rotationchanging",this.onRotationChanging.bind(this),{signal:E}),c._on("setpreference",this.onSetPreference.bind(this),{signal:E}),c._on("switchannotationeditorparams",O=>this.updateParams(O.type,O.value),{signal:E}),c._on("pagesedited",this.onPagesEdited.bind(this),{signal:E}),window.addEventListener("pointerdown",()=>{this.#_=!0},{capture:!0,signal:E}),window.addEventListener("pointerup",()=>{this.#_=!1},{capture:!0,signal:E}),this.#se(),this.#fe(),this.#te(),this.#r=d.annotationStorage,this.#C=d.filterFactory,this.#U=f,this.#T=h||null,this.#v=p,this.#b=g,this.#y=y,this.#q=S||null,this.viewParameters={realScale:tl.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=A||null,this._supportsPinchToZoom=x!==!1,s?.setSidebarUiManager(this)}destroy(){this.#F?.resolve(),this.#F=null,this.#e?.abort(),this.#e=null,this._signal=null;for(const e of this.#a.values())e.destroy();this.#a.clear(),this.#n.clear(),this.#p.clear(),this.#I?.clear(),this.#t=null,this.#x.clear(),this.#c.destroy(),this.#s?.destroy(),this.#l?.destroy(),this.#z?.destroy(),this.#w?.hide(),this.#w=null,this.#B?.destroy(),this.#B=null,this.#i=null,this.#E&&(clearTimeout(this.#E),this.#E=null),this.#k&&(clearTimeout(this.#k),this.#k=null),this._editorUndoBar?.destroy(),this.#V=null}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return this.#q}get useNewAltTextFlow(){return this.#b}get useNewAltTextWhenAddingImage(){return this.#y}get hcmFilter(){return Ce(this,"hcmFilter",this.#U?this.#C.addHCMFilter(this.#U.foreground,this.#U.background):"none")}get direction(){return Ce(this,"direction",getComputedStyle(this.#G).direction)}get _highlightColors(){return Ce(this,"_highlightColors",this.#T?new Map(this.#T.split(",").map(e=>(e=e.split("=").map(t=>t.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return Ce(this,"highlightColors",null);const t=new Map,i=!!this.#U;for(const[r,s]of e){const l=r.endsWith("_HCM");if(i&&l){t.set(r.replace("_HCM",""),s);continue}!i&&!l&&t.set(r,s)}return Ce(this,"highlightColors",t)}get highlightColorNames(){return Ce(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const t=this.highlightColorNames.get(e);return this._highlightColors.get(t)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#d=e}setMainHighlightColorPicker(e){this.#B=e}editAltText(e,t=!1){this.#s?.editAltText(this,e,t)}hasCommentManager(){return!!this.#l}editComment(e,t,i,r){this.#l?.showDialog(this,e,t,i,r)}selectComment(e,t){this.#a.get(e)?.getEditorByUID(t)?.toggleComment(!0,!0)}updateComment(e){this.#l?.updateComment(e.getData())}updatePopupColor(e){this.#l?.updatePopupColor(e)}removeComment(e){this.#l?.removeComments([e.uid])}deleteComment(e,t){const i=()=>{e.comment=t},r=()=>{this._editorUndoBar?.show(i,"comment"),this.toggleComment(null),e.comment=null};this.addCommands({cmd:r,undo:i,mustExec:!0})}toggleComment(e,t,i=void 0){this.#l?.toggleCommentPopup(e,t,i)}makeCommentColor(e,t){return e&&this.#l?.makeCommentColor(e,t)||null}getCommentDialogElement(){return this.#l?.dialogElement||null}async waitForEditorsRendered(e){if(this.#a.has(e-1))return;const{resolve:t,promise:i}=Promise.withResolvers(),r=s=>{s.pageNumber===e&&(this._eventBus._off("editorsrendered",r),t())};this._eventBus.on("editorsrendered",r),await i}getSignature(e){this.#z?.getSignature({uiManager:this,editor:e})}get signatureManager(){return this.#z}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){e==="enableNewAltTextWhenAddingImage"&&(this.#y=t)}onPagesEdited({pagesMapper:e}){for(const r of this.#n.values())r.updatePageIndex(e.getPrevPageNumber(r.pageIndex+1)-1);const t=this.#a,i=this.#a=new Map;for(const[r,s]of t){const l=e.getPrevPageNumber(r+1)-1;if(l===-1){s.destroy();continue}i.set(l,s),s.updatePageIndex(l)}}onPageChanging({pageNumber:e}){this.#h=e-1}focusMainContainer(){this.#G.focus()}findParent(e,t){for(const i of this.#a.values()){const{x:r,y:s,width:l,height:c}=i.div.getBoundingClientRect();if(e>=r&&e<=r+l&&t>=s&&t<=s+c)return i}return null}disableUserSelect(e=!1){this.#Q.classList.toggle("noUserSelect",e)}addShouldRescale(e){this.#p.add(e)}removeShouldRescale(e){this.#p.delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*tl.PDF_TO_CSS_UNITS;for(const t of this.#p)t.onScaleChanging();this.#d?.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}#Z({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e}#ee(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const i of this.#a.values())if(i.hasTextLayer(e))return i;return null}highlightSelection(e="",t=!1){const i=document.getSelection();if(!i||i.isCollapsed)return;const{anchorNode:r,anchorOffset:s,focusNode:l,focusOffset:c}=i,d=i.toString(),h=this.#Z(i).closest(".textLayer"),p=this.getSelectionBoxes(h);if(!p)return;i.empty();const g=this.#ee(h),y=this.#O===Me.NONE,S=()=>{const A=g?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:p,anchorNode:r,anchorOffset:s,focusNode:l,focusOffset:c,text:d});y&&this.showAllEditors("highlight",!0,!0),t&&A?.editComment()};if(y){this.switchToMode(Me.HIGHLIGHT,S);return}S()}commentSelection(e=""){this.highlightSelection(e,!0)}#re(){const e=document.getSelection();if(!e||e.isCollapsed)return;const i=this.#Z(e).closest(".textLayer"),r=this.getSelectionBoxes(i);r&&(this.#w||=new xj(this),this.#w.show(i,r,this.direction==="ltr"))}getAndRemoveDataFromAnnotationStorage(e){if(!this.#r)return null;const t=`${Fc}${e}`,i=this.#r.getRawValue(t);return i&&this.#r.remove(t),i}addToAnnotationStorage(e){!e.isEmpty()&&this.#r&&!this.#r.has(e.id)&&this.#r.setValue(e.id,e)}a11yAlert(e,t=null){const i=this.#J;i&&(i.setAttribute("data-l10n-id",e),t?i.setAttribute("data-l10n-args",JSON.stringify(t)):i.removeAttribute("data-l10n-args"))}#ae(){const e=document.getSelection();if(!e||e.isCollapsed){this.#N&&(this.#w?.hide(),this.#N=null,this.#D({hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===this.#N)return;const r=this.#Z(e).closest(".textLayer");if(!r){this.#N&&(this.#w?.hide(),this.#N=null,this.#D({hasSelectedText:!1}));return}if(this.#w?.hide(),this.#N=t,this.#D({hasSelectedText:!0}),!(this.#O!==Me.HIGHLIGHT&&this.#O!==Me.NONE)&&(this.#O===Me.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#A=this.isShiftKeyDown,!this.isShiftKeyDown)){const s=this.#O===Me.HIGHLIGHT?this.#ee(r):null;if(s?.toggleDrawing(),this.#_){const l=new AbortController,c=this.combinedSignal(l),d=f=>{f.type==="pointerup"&&f.button!==0||(l.abort(),s?.toggleDrawing(!0),f.type==="pointerup"&&this.#K("main_toolbar"))};window.addEventListener("pointerup",d,{signal:c}),window.addEventListener("blur",d,{signal:c})}else s?.toggleDrawing(!0),this.#K("main_toolbar")}}#K(e=""){this.#O===Me.HIGHLIGHT?this.highlightSelection(e):this.#v&&this.#re()}#se(){document.addEventListener("selectionchange",this.#ae.bind(this),{signal:this._signal})}#oe(){if(this.#S)return;this.#S=new AbortController;const e=this.combinedSignal(this.#S);window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})}#le(){this.#S?.abort(),this.#S=null}blur(){if(this.isShiftKeyDown=!1,this.#A&&(this.#A=!1,this.#K("main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of this.#x)if(t.div.contains(e)){this.#R=[t,e],t._focusEventsAllowed=!1;break}}focus(){if(!this.#R)return;const[e,t]=this.#R;this.#R=null,t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}#te(){if(this.#L)return;this.#L=new AbortController;const e=this.combinedSignal(this.#L);window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})}#ce(){this.#L?.abort(),this.#L=null}#ue(){if(this.#f)return;this.#f=new AbortController;const e=this.combinedSignal(this.#f);document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})}#de(){this.#f?.abort(),this.#f=null}#fe(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})}addEditListeners(){this.#te(),this.setEditingState(!0)}removeEditListeners(){this.#ce(),this.setEditingState(!1)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const i of this.#u)if(i.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const i of this.#u)if(i.isHandlingMimeForPasting(t.type)){i.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){if(e.preventDefault(),this.#t?.commitOrRemove(),!this.hasSelection)return;const t=[];for(const i of this.#x){const r=i.serialize(!0);r&&t.push(r)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const l of this.#u)if(l.isHandlingMimeForPasting(s.type)){l.paste(s,this.currentLayer);return}let i=t.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(s){we(`paste: "${s.message}".`);return}if(!Array.isArray(i))return;this.unselectAll();const r=this.currentLayer;try{const s=[];for(const d of i){const f=await r.deserialize(d);if(!f)return;s.push(f)}const l=()=>{for(const d of s)this.#ne(d);this.#ie(s)},c=()=>{for(const d of s)d.remove()};this.addCommands({cmd:l,undo:c,mustExec:!0})}catch(s){we(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),this.#O!==Me.NONE&&!this.isEditorHandlingKeyboard&&$a._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,this.#A&&(this.#A=!1,this.#K("main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}#D(e){Object.entries(e).some(([i,r])=>this.#X[i]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#X,e)}),this.#O===Me.HIGHLIGHT&&e.hasSelectedEditor===!1&&this.#$([[ze.HIGHLIGHT_FREE,!0]]))}#$(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})}setEditingState(e){e?(this.#oe(),this.#ue(),this.#D({isEditing:this.#O!==Me.NONE,isEmpty:this.#W(),hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:this.#c.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#le(),this.#de(),this.#D({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!this.#u){this.#u=e;for(const t of this.#u)this.#$(t.defaultPropertiesToUpdate)}}getId(){return this.#P.id}get currentLayer(){return this.#a.get(this.#h)}getLayer(e){return this.#a.get(e)}get currentPageIndex(){return this.#h}addLayer(e){this.#a.set(e.pageIndex,e),this.#M?e.enable():e.disable()}removeLayer(e){this.#a.delete(e.pageIndex)}async updateMode(e,t=null,i=!1,r=!1,s=!1,l=!1){if(this.#O!==e&&!(this.#F&&(await this.#F.promise,!this.#F))){if(this.#F=Promise.withResolvers(),this.#d?.commitOrRemove(),this.#O===Me.POPUP&&this.#l?.hideSidebar(),this.#l?.destroyPopup(),this.#O=e,e===Me.NONE){this.setEditingState(!1),this.#pe();for(const c of this.#n.values())c.hideStandaloneCommentButton();this._editorUndoBar?.hide(),this.toggleComment(null),this.#F.resolve();return}for(const c of this.#n.values())c.addStandaloneCommentButton();e===Me.SIGNATURE&&await this.#z?.loadSignatures(),i&&Ve.clearPointerType(),this.setEditingState(!0),await this.#he(),this.unselectAll();for(const c of this.#a.values())c.updateMode(e);if(e===Me.POPUP){this.#i||=await this.#V.getAnnotationsByType(new Set(this.#u.map(f=>f._editorType)));const c=new Set,d=[];for(const f of this.#n.values()){const{annotationElementId:h,hasComment:p,deleted:g}=f;h&&c.add(h),p&&!g&&d.push(f.getData())}for(const f of this.#i){const{id:h,popupRef:p,contentsObj:g}=f;p&&g?.str&&!c.has(h)&&!this.#g.has(h)&&d.push(f)}this.#l?.showSidebar(d)}if(!t){r&&this.addNewEditorFromKeyboard(),this.#F.resolve();return}for(const c of this.#n.values())c.uid===t?(this.setSelected(c),l?c.editComment():s?c.enterInEditMode():c.focus()):c.unselect();this.#F.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==this.#O&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,t){if(this.#u){switch(e){case ze.CREATE:this.currentLayer.addNewEditor(t);return;case ze.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#Y||=new Map).set(e,t),this.showAllEditors("highlight",t);break}if(this.hasSelection)for(const i of this.#x)i.updateParams(e,t);else for(const i of this.#u)i.updateDefaultParams(e,t)}}showAllEditors(e,t,i=!1){for(const s of this.#n.values())s.editorType===e&&s.show(t);(this.#Y?.get(ze.HIGHLIGHT_SHOW_ALL)??!0)!==t&&this.#$([[ze.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(this.#j!==e){this.#j=e;for(const t of this.#a.values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}async#he(){if(!this.#M){this.#M=!0;const e=[];for(const t of this.#a.values())e.push(t.enable());await Promise.all(e);for(const t of this.#n.values())t.enable()}}#pe(){if(this.unselectAll(),this.#M){this.#M=!1;for(const e of this.#a.values())e.disable();for(const e of this.#n.values())e.disable()}}*getEditors(e){for(const t of this.#n.values())t.pageIndex===e&&(yield t)}getEditor(e){return this.#n.get(e)}addEditor(e){this.#n.set(e.id,e)}removeEditor(e){e.div.contains(document.activeElement)&&(this.#E&&clearTimeout(this.#E),this.#E=setTimeout(()=>{this.focusMainContainer(),this.#E=null},0)),this.#n.delete(e.id),e.annotationElementId&&this.#I?.delete(e.annotationElementId),this.unselect(e),(!e.annotationElementId||!this.#g.has(e.annotationElementId))&&this.#r?.remove(e.id)}addDeletedAnnotationElement(e){this.#g.add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return this.#g.has(e)}removeDeletedAnnotationElement(e){this.#g.delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}#ne(e){const t=this.#a.get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))}setActiveEditor(e){this.#t!==e&&(this.#t=e,e&&this.#$(e.propertiesToUpdate))}get#me(){let e=null;for(e of this.#x);return e}updateUI(e){this.#me===e&&this.#$(e.propertiesToUpdate)}updateUIForDefaultProperties(e){this.#$(e.defaultPropertiesToUpdate)}toggleSelected(e){if(this.#x.has(e)){this.#x.delete(e),e.unselect(),this.#D({hasSelectedEditor:this.hasSelection});return}this.#x.add(e),e.select(),this.#$(e.propertiesToUpdate),this.#D({hasSelectedEditor:!0})}setSelected(e){this.updateToolbar({mode:e.mode,editId:e.uid}),this.#d?.commitOrRemove();for(const t of this.#x)t!==e&&t.unselect();this.#x.clear(),this.#x.add(e),e.select(),this.#$(e.propertiesToUpdate),this.#D({hasSelectedEditor:!0})}isSelected(e){return this.#x.has(e)}get firstSelectedEditor(){return this.#x.values().next().value}unselect(e){e.unselect(),this.#x.delete(e),this.#D({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#x.size!==0}get isEnterHandled(){return this.#x.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#c.undo(),this.#D({hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#W()}),this._editorUndoBar?.hide()}redo(){this.#c.redo(),this.#D({hasSomethingToUndo:!0,hasSomethingToRedo:this.#c.hasSomethingToRedo(),isEmpty:this.#W()})}addCommands(e){this.#c.add(e),this.#D({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#W()})}cleanUndoStack(e){this.#c.cleanType(e)}#W(){if(this.#n.size===0)return!0;if(this.#n.size===1)for(const e of this.#n.values())return e.isEmpty();return!1}delete(){this.commitOrRemove();const e=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...this.#x],i=()=>{this._editorUndoBar?.show(r,t.length===1?t[0].editorType:t.length);for(const s of t)s.remove()},r=()=>{for(const s of t)this.#ne(s)};this.addCommands({cmd:i,undo:r,mustExec:!0})}commitOrRemove(){this.#t?.commitOrRemove()}hasSomethingToControl(){return this.#t||this.hasSelection}#ie(e){for(const t of this.#x)t.unselect();this.#x.clear();for(const t of e)t.isEmpty()||(this.#x.add(t),t.select());this.#D({hasSelectedEditor:this.hasSelection})}selectAll(){for(const e of this.#x)e.commit();this.#ie(this.#n.values())}unselectAll(){if(!(this.#t&&(this.#t.commitOrRemove(),this.#O!==Me.NONE))&&!this.#d?.commitOrRemove()&&this.hasSelection){for(const e of this.#x)e.unselect();this.#x.clear(),this.#D({hasSelectedEditor:!1})}}translateSelectedEditors(e,t,i=!1){if(i||this.commitOrRemove(),!this.hasSelection)return;this.#H[0]+=e,this.#H[1]+=t;const[r,s]=this.#H,l=[...this.#x],c=1e3;this.#k&&clearTimeout(this.#k),this.#k=setTimeout(()=>{this.#k=null,this.#H[0]=this.#H[1]=0,this.addCommands({cmd:()=>{for(const d of l)this.#n.has(d.id)&&(d.translateInPage(r,s),d.translationDone())},undo:()=>{for(const d of l)this.#n.has(d.id)&&(d.translateInPage(-r,-s),d.translationDone())},mustExec:!1})},c);for(const d of l)d.translateInPage(e,t),d.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#m=new Map;for(const e of this.#x)this.#m.set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#m)return!1;this.disableUserSelect(!1);const e=this.#m;this.#m=null;let t=!1;for(const[{x:r,y:s,pageIndex:l},c]of e)c.newX=r,c.newY=s,c.newPageIndex=l,t||=r!==c.savedX||s!==c.savedY||l!==c.savedPageIndex;if(!t)return!1;const i=(r,s,l,c)=>{if(this.#n.has(r.id)){const d=this.#a.get(c);d?r._setParentAndPosition(d,s,l):(r.pageIndex=c,r.x=s,r.y=l)}};return this.addCommands({cmd:()=>{for(const[r,{newX:s,newY:l,newPageIndex:c}]of e)i(r,s,l,c)},undo:()=>{for(const[r,{savedX:s,savedY:l,savedPageIndex:c}]of e)i(r,s,l,c)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(this.#m)for(const i of this.#m.keys())i.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#x.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return this.#t===e}getActive(){return this.#t}getMode(){return this.#O}isEditingMode(){return this.#O!==Me.NONE}get imageManager(){return Ce(this,"imageManager",new ab)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let f=0,h=t.rangeCount;f<h;f++)if(!e.contains(t.getRangeAt(f).commonAncestorContainer))return null;const{x:i,y:r,width:s,height:l}=e.getBoundingClientRect();let c;switch(e.getAttribute("data-main-rotation")){case"90":c=(f,h,p,g)=>({x:(h-r)/l,y:1-(f+p-i)/s,width:g/l,height:p/s});break;case"180":c=(f,h,p,g)=>({x:1-(f+p-i)/s,y:1-(h+g-r)/l,width:p/s,height:g/l});break;case"270":c=(f,h,p,g)=>({x:1-(h+g-r)/l,y:(f-i)/s,width:g/l,height:p/s});break;default:c=(f,h,p,g)=>({x:(f-i)/s,y:(h-r)/l,width:p/s,height:g/l});break}const d=[];for(let f=0,h=t.rangeCount;f<h;f++){const p=t.getRangeAt(f);if(!p.collapsed)for(const{x:g,y,width:S,height:A}of p.getClientRects())S===0||A===0||d.push(c(g,y,S,A))}return d.length===0?null:d}addChangedExistingAnnotation({annotationElementId:e,id:t}){(this.#o||=new Map).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){this.#o?.delete(e)}renderAnnotationElement(e){const t=this.#o?.get(e.data.id);if(!t)return;const i=this.#r.getRawValue(t);i&&(this.#O===Me.NONE&&!i.hasBeenModified||i.renderAnnotationElement(e))}setMissingCanvas(e,t,i){const r=this.#I?.get(e);r&&(r.setCanvas(t,i),this.#I.delete(e))}addMissingCanvas(e,t){(this.#I||=new Map).set(e,t)}}class ir{#e=null;#t=!1;#i=null;#n=null;#a=null;#s=null;#r=!1;#o=null;#c=null;#l=null;#f=null;#d=!1;static#h=null;static _l10n=null;constructor(e){this.#c=e,this.#d=e._uiManager.useNewAltTextFlow,ir.#h||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(e){ir._l10n??=e}async render(){const e=this.#i=document.createElement("button");e.className="altText",e.tabIndex="0";const t=this.#n=document.createElement("span");e.append(t),this.#d?(e.classList.add("new"),e.setAttribute("data-l10n-id",ir.#h.missing),t.setAttribute("data-l10n-id",ir.#h["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const i=this.#c._uiManager._signal;e.addEventListener("contextmenu",Pi,{signal:i}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:i});const r=s=>{s.preventDefault(),this.#c._uiManager.editAltText(this.#c),this.#d&&this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#g}})};return e.addEventListener("click",r,{capture:!0,signal:i}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(this.#r=!0,r(s))},{signal:i}),await this.#m(),e}get#g(){return this.#e&&"added"||this.#e===null&&this.guessedText&&"review"||"missing"}finish(){this.#i&&(this.#i.focus({focusVisible:this.#r}),this.#r=!1)}isEmpty(){return this.#d?this.#e===null:!this.#e&&!this.#t}hasData(){return this.#d?this.#e!==null||!!this.#l:this.isEmpty()}get guessedText(){return this.#l}async setGuessedText(e){this.#e===null&&(this.#l=e,this.#f=await ir._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e}),this.#m())}toggleAltTextBadge(e=!1){if(!this.#d||this.#e){this.#o?.remove(),this.#o=null;return}if(!this.#o){const t=this.#o=document.createElement("div");t.className="noAltTextBadge",this.#c.div.append(t)}this.#o.classList.toggle("hidden",!e)}serialize(e){let t=this.#e;return!e&&this.#l===t&&(t=this.#f),{altText:t,decorative:this.#t,guessedText:this.#l,textWithDisclaimer:this.#f}}get data(){return{altText:this.#e,decorative:this.#t}}set data({altText:e,decorative:t,guessedText:i,textWithDisclaimer:r,cancel:s=!1}){i&&(this.#l=i,this.#f=r),!(this.#e===e&&this.#t===t)&&(s||(this.#e=e,this.#t=t),this.#m())}toggle(e=!1){this.#i&&(!e&&this.#s&&(clearTimeout(this.#s),this.#s=null),this.#i.disabled=!e)}shown(){this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#g}})}destroy(){this.#i?.remove(),this.#i=null,this.#n=null,this.#a=null,this.#o?.remove(),this.#o=null}async#m(){const e=this.#i;if(!e)return;if(this.#d){if(e.classList.toggle("done",!!this.#e),e.setAttribute("data-l10n-id",ir.#h[this.#g]),this.#n?.setAttribute("data-l10n-id",ir.#h[`${this.#g}-label`]),!this.#e){this.#a?.remove();return}}else{if(!this.#e&&!this.#t){e.classList.remove("done"),this.#a?.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=this.#a;if(!t){this.#a=t=document.createElement("span"),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${this.#c.id}`;const r=100,s=this.#c._uiManager._signal;s.addEventListener("abort",()=>{clearTimeout(this.#s),this.#s=null},{once:!0}),e.addEventListener("mouseenter",()=>{this.#s=setTimeout(()=>{this.#s=null,this.#a.classList.add("show"),this.#c._reportTelemetry({action:"alt_text_tooltip"})},r)},{signal:s}),e.addEventListener("mouseleave",()=>{this.#s&&(clearTimeout(this.#s),this.#s=null),this.#a?.classList.remove("show")},{signal:s})}this.#t?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=this.#e),t.parentNode||e.append(t),this.#c.getElementForAltText()?.setAttribute("aria-describedby",t.id)}}class Xd{#e=null;#t=null;#i=!1;#n=null;#a=null;#s=null;#r=null;#o=null;#c=!1;#l=null;constructor(e){this.#n=e}renderForToolbar(){const e=this.#t=document.createElement("button");return e.className="comment",this.#f(e,!1)}renderForStandalone(){const e=this.#e=document.createElement("button");e.className="annotationCommentButton";const t=this.#n.commentButtonPosition;if(t){const{style:i}=e;i.insetInlineEnd=`calc(${100*(this.#n._uiManager.direction==="ltr"?1-t[0]:t[0])}% - var(--comment-button-dim))`,i.top=`calc(${100*t[1]}% - var(--comment-button-dim))`;const r=this.#n.commentButtonColor;r&&(i.backgroundColor=r)}return this.#f(e,!0)}focusButton(){setTimeout(()=>{(this.#e??this.#t)?.focus()},0)}onUpdatedColor(){if(!this.#e)return;const e=this.#n.commentButtonColor;e&&(this.#e.style.backgroundColor=e),this.#n._uiManager.updatePopupColor(this.#n)}get commentButtonWidth(){return(this.#e?.getBoundingClientRect().width??0)/this.#n.parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(this.#l)return this.#l;if(!this.#e)return null;const{x:e,y:t,height:i}=this.#e.getBoundingClientRect(),{x:r,y:s,width:l,height:c}=this.#n.parent.boundingClientRect;return[(e-r)/l,(t+i-s)/c]}set commentPopupPositionInLayer(e){this.#l=e}hasDefaultPopupPosition(){return this.#l===null}removeStandaloneCommentButton(){this.#e?.remove(),this.#e=null}removeToolbarCommentButton(){this.#t?.remove(),this.#t=null}setCommentButtonStates({selected:e,hasPopup:t}){this.#e&&(this.#e.classList.toggle("selected",e),this.#e.ariaExpanded=t)}#f(e,t){if(!this.#n._uiManager.hasCommentManager())return null;e.tabIndex="0",e.ariaHasPopup="dialog",t?(e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(e.ariaControlsElements=[this.#n._uiManager.getCommentDialogElement()],e.setAttribute("data-l10n-id","pdfjs-editor-add-comment-button"));const i=this.#n._uiManager._signal;if(!(i instanceof AbortSignal)||i.aborted)return e;e.addEventListener("contextmenu",Pi,{signal:i}),t&&(e.addEventListener("focusin",s=>{this.#n._focusEventsAllowed=!1,Tt(s)},{capture:!0,signal:i}),e.addEventListener("focusout",s=>{this.#n._focusEventsAllowed=!0,Tt(s)},{capture:!0,signal:i})),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:i});const r=s=>{s.preventDefault(),e===this.#t?this.edit():this.#n.toggleComment(!0)};return e.addEventListener("click",r,{capture:!0,signal:i}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(this.#i=!0,r(s))},{signal:i}),e.addEventListener("pointerenter",()=>{this.#n.toggleComment(!1,!0)},{signal:i}),e.addEventListener("pointerleave",()=>{this.#n.toggleComment(!1,!1)},{signal:i}),e}edit(e){const t=this.commentPopupPositionInLayer;let i,r;if(t)[i,r]=t;else{[i,r]=this.#n.commentButtonPosition;const{width:h,height:p,x:g,y}=this.#n;i=g+i*h,r=y+r*p}const s=this.#n.parent.boundingClientRect,{x:l,y:c,width:d,height:f}=s;this.#n._uiManager.editComment(this.#n,l+i*d,c+r*f,{...e,parentDimensions:s})}finish(){this.#t&&(this.#t.focus({focusVisible:this.#i}),this.#i=!1)}isDeleted(){return this.#c||this.#r===""}isEmpty(){return this.#r===null}hasBeenEdited(){return this.isDeleted()||this.#r!==this.#a}serialize(){return this.data}get data(){return{text:this.#r,richText:this.#s,date:this.#o,deleted:this.isDeleted()}}set data(e){if(e!==this.#r&&(this.#s=null),e===null){this.#r="",this.#c=!0;return}this.#r=e,this.#o=new Date,this.#c=!1}restoreData({text:e,richText:t,date:i}){this.#r=e,this.#s=t,this.#o=i,this.#c=!1}setInitialText(e,t=null){this.#a=e,this.data=e,this.#o=null,this.#s=t}shown(){}destroy(){this.#t?.remove(),this.#t=null,this.#e?.remove(),this.#e=null,this.#r="",this.#s=null,this.#o=null,this.#n=null,this.#i=!1,this.#c=!1}}class Lh{#e;#t=!1;#i=null;#n;#a;#s;#r;#o=null;#c;#l=null;#f;#d=null;constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:i=null,onPinchStart:r=null,onPinching:s=null,onPinchEnd:l=null,signal:c}){this.#e=e,this.#i=i,this.#n=t,this.#a=r,this.#s=s,this.#r=l,this.#f=new AbortController,this.#c=AbortSignal.any([c,this.#f.signal]),e.addEventListener("touchstart",this.#h.bind(this),{passive:!1,signal:this.#c})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/lr.pixelRatio}#h(e){if(this.#n?.())return;if(e.touches.length===1){if(this.#o)return;const r=this.#o=new AbortController,s=AbortSignal.any([this.#c,r.signal]),l=this.#e,c={capture:!0,signal:s,passive:!1},d=f=>{f.pointerType==="touch"&&(this.#o?.abort(),this.#o=null)};l.addEventListener("pointerdown",f=>{f.pointerType==="touch"&&(Tt(f),d(f))},c),l.addEventListener("pointerup",d,c),l.addEventListener("pointercancel",d,c);return}if(!this.#d){this.#d=new AbortController;const r=AbortSignal.any([this.#c,this.#d.signal]),s=this.#e,l={signal:r,capture:!1,passive:!1};s.addEventListener("touchmove",this.#g.bind(this),l);const c=this.#m.bind(this);s.addEventListener("touchend",c,l),s.addEventListener("touchcancel",c,l),l.capture=!0,s.addEventListener("pointerdown",Tt,l),s.addEventListener("pointermove",Tt,l),s.addEventListener("pointercancel",Tt,l),s.addEventListener("pointerup",Tt,l),this.#a?.()}if(Tt(e),e.touches.length!==2||this.#i?.()){this.#l=null;return}let[t,i]=e.touches;t.identifier>i.identifier&&([t,i]=[i,t]),this.#l={touch0X:t.screenX,touch0Y:t.screenY,touch1X:i.screenX,touch1Y:i.screenY}}#g(e){if(!this.#l||e.touches.length!==2)return;Tt(e);let[t,i]=e.touches;t.identifier>i.identifier&&([t,i]=[i,t]);const{screenX:r,screenY:s}=t,{screenX:l,screenY:c}=i,d=this.#l,{touch0X:f,touch0Y:h,touch1X:p,touch1Y:g}=d,y=p-f,S=g-h,A=l-r,x=c-s,E=Math.hypot(A,x)||1,O=Math.hypot(y,S)||1;if(!this.#t&&Math.abs(O-E)<=Lh.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(d.touch0X=r,d.touch0Y=s,d.touch1X=l,d.touch1Y=c,!this.#t){this.#t=!0;return}const T=[(r+l)/2,(s+c)/2];this.#s?.(T,O,E)}#m(e){e.touches.length>=2||(this.#d&&(this.#d.abort(),this.#d=null,this.#r?.()),this.#l&&(Tt(e),this.#l=null,this.#t=!1))}destroy(){this.#f?.abort(),this.#f=null,this.#o?.abort(),this.#o=null}}class Se{#e=null;#t=null;#i=null;#n=null;#a=null;#s=!1;#r=null;#o="";#c=null;#l=null;#f=null;#d=null;#h=null;#g="";#m=!1;#u=null;#p=!1;#v=!1;#b=!1;#y=null;#C=0;#E=0;#S=null;#T=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#A=!1;#w=Se._zIndex++;static _borderLineWidth=-1;static _colorManager=new sb;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const e=Se.prototype._resizeWithKeyboard,t=$a.TRANSLATE_SMALL,i=$a.TRANSLATE_BIG;return Ce(this,"_resizerKeyboardManager",new uu([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,i]}],[["Escape","mac+Escape"],Se.prototype._stopResizingWithKeyboard]]))}constructor(e){this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null,this.creationDate=e.creationDate||new Date,this.modificationDate=e.modificationDate||null,this.canAddComment=!0;const{rotation:t,rawDims:{pageWidth:i,pageHeight:r,pageX:s,pageY:l}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,r],this.pageTranslation=[s,l];const[c,d]=this.parentDimensions;this.x=e.x/c,this.y=e.y/d,this.isAttachedToDOM=!1,this.deleted=!1}updatePageIndex(e){this.pageIndex=e}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return Ce(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new Cj({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(Se._l10n??=e,Se._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),Se._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);Se._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){Xe("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#A}set _isDraggable(e){this.#A=e,this.div?.classList.toggle("draggable",e)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#w}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):(this.#k(),this.#d?.remove(),this.#d=null),this.parent=e}focusin(e){this._focusEventsAllowed&&(this.#m?this.#m=!1:this.parent.setSelected(this))}focusout(e){!this._focusEventsAllowed||!this.isAttachedToDOM||e.relatedTarget?.closest(`#${this.id}`)||(e.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,i,r){const[s,l]=this.parentDimensions;[i,r]=this.screenToPageTranslation(i,r),this.x=(e+i)/s,this.y=(t+r)/l,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[i,r]=this.parentDimensions;this.setAt(e*i,t*r,this.width*i,this.height*r),this._onTranslated()}#P([e,t],i,r){[i,r]=this.screenToPageTranslation(i,r),this.x+=i/e,this.y+=r/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(e,t){this.#P(this.parentDimensions,e,t)}translateInPage(e,t){this.#u||=[this.x,this.y,this.width,this.height],this.#P(this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){this.#u||=[this.x,this.y,this.width,this.height];const{div:i,parentDimensions:[r,s]}=this;if(this.x+=e/r,this.y+=t/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:p,y:g}=this.div.getBoundingClientRect();this.parent.findNewParent(this,p,g)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:l,y:c}=this;const[d,f]=this.getBaseTranslation();l+=d,c+=f;const{style:h}=i;h.left=`${(100*l).toFixed(2)}%`,h.top=`${(100*c).toFixed(2)}%`,this._onTranslating(l,c),i.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!this.#u&&(this.#u[0]!==this.x||this.#u[1]!==this.y)}get _hasBeenResized(){return!!this.#u&&(this.#u[2]!==this.width||this.#u[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:i}=Se,r=i/e,s=i/t;switch(this.rotation){case 90:return[-r,s];case 180:return[r,s];case 270:return[r,-s];default:return[-r,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[i,r]}=this;let{x:s,y:l,width:c,height:d}=this;if(c*=i,d*=r,s*=i,l*=r,this._mustFixPosition)switch(e){case 0:s=gn(s,0,i-c),l=gn(l,0,r-d);break;case 90:s=gn(s,0,i-d),l=gn(l,c,r);break;case 180:s=gn(s,c,i),l=gn(l,d,r);break;case 270:s=gn(s,d,i),l=gn(l,0,r-c);break}this.x=s/=i,this.y=l/=r;const[f,h]=this.getBaseTranslation();s+=f,l+=h,t.left=`${(100*s).toFixed(2)}%`,t.top=`${(100*l).toFixed(2)}%`,this.moveInDOM()}static#M(e,t,i){switch(i){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}}screenToPageTranslation(e,t){return Se.#M(e,t,this.parentRotation)}pageTranslationToScreen(e,t){return Se.#M(e,t,360-this.parentRotation)}#_(e){switch(e){case 90:{const[t,i]=this.pageDimensions;return[0,-t/i,i/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,i]=this.pageDimensions;return[0,t/i,-i/t,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,i]}=this;return[t*e,i*e]}setDims(){const{div:{style:e},width:t,height:i}=this;e.width=`${(100*t).toFixed(2)}%`,e.height=`${(100*i).toFixed(2)}%`}getInitialTranslation(){return[0,0]}#j(){if(this.#c)return;this.#c=document.createElement("div"),this.#c.classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const i of e){const r=document.createElement("div");this.#c.append(r),r.classList.add("resizer",i),r.setAttribute("data-resizer-name",i),r.addEventListener("pointerdown",this.#L.bind(this,i),{signal:t}),r.addEventListener("contextmenu",Pi,{signal:t}),r.tabIndex=-1}this.div.prepend(this.#c)}#L(e,t){t.preventDefault();const{isMac:i}=Vt.platform;if(t.button!==0||t.ctrlKey&&i)return;this.#i?.toggle(!1);const r=this._isDraggable;this._isDraggable=!1,this.#l=[t.screenX,t.screenY];const s=new AbortController,l=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#I.bind(this,e),{passive:!0,capture:!0,signal:l}),window.addEventListener("touchmove",Tt,{passive:!1,signal:l}),window.addEventListener("contextmenu",Pi,{signal:l}),this.#f={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const c=this.parent.div.style.cursor,d=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const f=()=>{s.abort(),this.parent.togglePointerEvents(!0),this.#i?.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=c,this.div.style.cursor=d,this.#B()};window.addEventListener("pointerup",f,{signal:l}),window.addEventListener("blur",f,{signal:l})}#R(e,t,i,r){this.width=i,this.height=r,this.x=e,this.y=t,this.setDims(),this.fixAndSetPosition(),this._onResized()}_onResized(){}#B(){if(!this.#f)return;const{savedX:e,savedY:t,savedWidth:i,savedHeight:r}=this.#f;this.#f=null;const s=this.x,l=this.y,c=this.width,d=this.height;s===e&&l===t&&c===i&&d===r||this.addCommands({cmd:this.#R.bind(this,s,l,c,d),undo:this.#R.bind(this,e,t,i,r),mustExec:!0})}static _round(e){return Math.round(e*1e4)/1e4}#I(e,t){const[i,r]=this.parentDimensions,s=this.x,l=this.y,c=this.width,d=this.height,f=Se.MIN_SIZE/i,h=Se.MIN_SIZE/r,p=this.#_(this.rotation),g=(B,H)=>[p[0]*B+p[2]*H,p[1]*B+p[3]*H],y=this.#_(360-this.rotation),S=(B,H)=>[y[0]*B+y[2]*H,y[1]*B+y[3]*H];let A,x,E=!1,O=!1;switch(e){case"topLeft":E=!0,A=(B,H)=>[0,0],x=(B,H)=>[B,H];break;case"topMiddle":A=(B,H)=>[B/2,0],x=(B,H)=>[B/2,H];break;case"topRight":E=!0,A=(B,H)=>[B,0],x=(B,H)=>[0,H];break;case"middleRight":O=!0,A=(B,H)=>[B,H/2],x=(B,H)=>[0,H/2];break;case"bottomRight":E=!0,A=(B,H)=>[B,H],x=(B,H)=>[0,0];break;case"bottomMiddle":A=(B,H)=>[B/2,H],x=(B,H)=>[B/2,0];break;case"bottomLeft":E=!0,A=(B,H)=>[0,H],x=(B,H)=>[B,0];break;case"middleLeft":O=!0,A=(B,H)=>[0,H/2],x=(B,H)=>[B,H/2];break}const T=A(c,d),P=x(c,d);let M=g(...P);const _=Se._round(s+M[0]),N=Se._round(l+M[1]);let j=1,F=1,X,$;if(t.fromKeyboard)({deltaX:X,deltaY:$}=t);else{const{screenX:B,screenY:H}=t,[ie,le]=this.#l;[X,$]=this.screenToPageTranslation(B-ie,H-le),this.#l[0]=B,this.#l[1]=H}if([X,$]=S(X/i,$/r),E){const B=Math.hypot(c,d);j=F=Math.max(Math.min(Math.hypot(P[0]-T[0]-X,P[1]-T[1]-$)/B,1/c,1/d),f/c,h/d)}else O?j=gn(Math.abs(P[0]-T[0]-X),f,1)/c:F=gn(Math.abs(P[1]-T[1]-$),h,1)/d;const q=Se._round(c*j),se=Se._round(d*F);M=g(...x(q,se));const re=_-M[0],ce=N-M[1];this.#u||=[this.x,this.y,this.width,this.height],this.width=q,this.height=se,this.x=re,this.y=ce,this.setDims(),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#i?.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||this.#v)return this._editToolbar;this._editToolbar=new Bc(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[t,i]of e)await this._editToolbar.addButton(t,i);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){this._editToolbar?.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){this._editToolbar?.removeButton("comment")}removeEditToolbar(){this._editToolbar?.remove(),this._editToolbar=null,this.#i?.destroy()}addContainer(e){const t=this._editToolbar?.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return this.#i||(ir.initialize(Se._l10n),this.#i=new ir(this),this.#e&&(this.#i.data=this.#e,this.#e=null)),this.#i}get altTextData(){return this.#i?.data}set altTextData(e){this.#i&&(this.#i.data=e)}get guessedAltText(){return this.#i?.guessedText}async setGuessedAltText(e){await this.#i?.setGuessedText(e)}serializeAltText(e){return this.#i?.serialize(e)}hasAltText(){return!!this.#i&&!this.#i.isEmpty()}hasAltTextData(){return this.#i?.hasData()??!1}focusCommentButton(){this.#n?.focusButton()}addCommentButton(){return this.canAddComment?this.#n||=new Xd(this):null}addStandaloneCommentButton(){if(this._uiManager.hasCommentManager()){if(this.#a){this._uiManager.isEditingMode()&&this.#a.classList.remove("hidden");return}this.hasComment&&(this.#a=this.#n.renderForStandalone(),this.div.append(this.#a))}}removeStandaloneCommentButton(){this.#n.removeStandaloneCommentButton(),this.#a=null}hideStandaloneCommentButton(){this.#a?.classList.add("hidden")}get comment(){if(!this.#n)return null;const{data:{richText:e,text:t,date:i,deleted:r}}=this.#n;return{text:t,richText:e,date:i,deleted:r,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(e){this.#n||=new Xd(this),typeof e=="object"&&e!==null?this.#n.restoreData(e):this.#n.data=e,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:e,popupRef:t,richText:i}){if(!t||(this.#n||=new Xd(this),this.#n.setInitialText(e,i),!this.annotationElementId))return;const r=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);r&&this.updateFromAnnotationLayer(r)}get hasEditedComment(){return this.#n?.hasBeenEdited()}get hasDeletedComment(){return this.#n?.isDeleted()}get hasComment(){return!!this.#n&&!this.#n.isEmpty()&&!this.#n.isDeleted()}async editComment(e){this.#n||=new Xd(this),this.#n.edit(e)}toggleComment(e,t=void 0){this.hasComment&&this._uiManager.toggleComment(this,e,t)}setSelectedCommentButton(e){this.#n.setSelectedButton(e)}addComment(e){if(this.hasEditedComment){const[,,,r]=e.rect,[s]=this.pageDimensions,[l]=this.pageTranslation,c=l+s+1,d=r-100,f=c+180;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[c,d,f,r]}}}updateFromAnnotationLayer({popup:{contents:e,deleted:t}}){this.#n.data=t?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=this.#s?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),this.#U();const[t,i]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*i/t).toFixed(2)}%`,e.style.maxHeight=`${(100*t/i).toFixed(2)}%`);const[r,s]=this.getInitialTranslation();return this.translate(r,s),JM(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#T||=new Lh({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#q.bind(this),onPinching:this.#O.bind(this),onPinchEnd:this.#x.bind(this),signal:this._uiManager._signal})),this.addStandaloneCommentButton(),this._uiManager._editorUndoBar?.hide(),e}#q(){this.#f={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#i?.toggle(!1),this.parent.togglePointerEvents(!1)}#O(e,t,i){let s=.7*(i/t)+1-.7;if(s===1)return;const l=this.#_(this.rotation),c=(_,N)=>[l[0]*_+l[2]*N,l[1]*_+l[3]*N],[d,f]=this.parentDimensions,h=this.x,p=this.y,g=this.width,y=this.height,S=Se.MIN_SIZE/d,A=Se.MIN_SIZE/f;s=Math.max(Math.min(s,1/g,1/y),S/g,A/y);const x=Se._round(g*s),E=Se._round(y*s);if(x===g&&E===y)return;this.#u||=[h,p,g,y];const O=c(g/2,y/2),T=Se._round(h+O[0]),P=Se._round(p+O[1]),M=c(x/2,E/2);this.x=T-M[0],this.y=P-M[1],this.width=x,this.height=E,this.setDims(),this.fixAndSetPosition(),this._onResizing()}#x(){this.#i?.toggle(!0),this.parent.togglePointerEvents(!0),this.#B()}pointerdown(e){const{isMac:t}=Vt.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(this.#m=!0,this._isDraggable){this.#z(e);return}this.#N(e)}#N(e){const{isMac:t}=Vt.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)}#z(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let i=!1;const r=new AbortController,s=this._uiManager.combinedSignal(r),l={capture:!0,passive:!1,signal:s},c=f=>{r.abort(),this.#r=null,this.#m=!1,this._uiManager.endDragSession()||this.#N(f),i&&this._onStopDragging()};t&&(this.#C=e.clientX,this.#E=e.clientY,this.#r=e.pointerId,this.#o=e.pointerType,window.addEventListener("pointermove",f=>{i||(i=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:h,clientY:p,pointerId:g}=f;if(g!==this.#r){Tt(f);return}const[y,S]=this.screenToPageTranslation(h-this.#C,p-this.#E);this.#C=h,this.#E=p,this._uiManager.dragSelectedEditors(y,S)},l),window.addEventListener("touchmove",Tt,l),window.addEventListener("pointerdown",f=>{f.pointerType===this.#o&&(this.#T||f.isPrimary)&&c(f),Tt(f)},l));const d=f=>{if(!this.#r||this.#r===f.pointerId){c(f);return}Tt(f)};window.addEventListener("pointerup",d,{signal:s}),window.addEventListener("blur",d,{signal:s})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#y&&clearTimeout(this.#y),this.#y=setTimeout(()=>{this.#y=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(e,t,i){e.changeParent(this),this.x=t,this.y=i,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,i=this.rotation){const r=this.parentScale,[s,l]=this.pageDimensions,[c,d]=this.pageTranslation,f=e/r,h=t/r,p=this.x*s,g=this.y*l,y=this.width*s,S=this.height*l;switch(i){case 0:return[p+f+c,l-g-h-S+d,p+f+y+c,l-g-h+d];case 90:return[p+h+c,l-g+f+d,p+h+S+c,l-g+f+y+d];case 180:return[p-f-y+c,l-g+h+d,p-f+c,l-g+h+S+d];case 270:return[p-h-S+c,l-g-f-y+d,p-h+c,l-g-f+d];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[i,r,s,l]=e,c=s-i,d=l-r;switch(this.rotation){case 0:return[i,t-l,c,d];case 90:return[i,t-r,d,c];case 180:return[s,t-r,c,d];case 270:return[s,t-l,d,c];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&Se._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){this.#n?.onUpdatedColor()}getData(){const{comment:{text:e,color:t,date:i,opacity:r,deleted:s,richText:l},uid:c,pageIndex:d,creationDate:f,modificationDate:h}=this;return{id:c,pageIndex:d,rect:this.getPDFRect(),richText:l,contentsObj:{str:e},creationDate:f,modificationDate:i||h,popupRef:!s,color:t,opacity:r}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),this.#v=!0,!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),this.#v=!1,!0):!1}isInEditMode(){return this.#v}shouldGetKeyboardEvents(){return this.#b}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:i,right:r}=this.getClientDimensions(),{innerHeight:s,innerWidth:l}=window;return t<l&&r>0&&e<s&&i>0}#U(){if(this.#h||!this.div)return;this.#h=new AbortController;const e=this._uiManager.combinedSignal(this.#h);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})}rebuild(){this.#U()}rotate(e){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(e=!1,t=null){return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:this._initialData?.popupRef||""}}static async deserialize(e,t,i){const r=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:i,annotationElementId:e.annotationElementId,creationDate:e.creationDate,modificationDate:e.modificationDate});r.rotation=e.rotation,r.#e=e.accessibilityData,r._isCopy=e.isCopy||!1;const[s,l]=r.pageDimensions,[c,d,f,h]=r.getRectInCurrentCoords(e.rect,l);return r.x=c/s,r.y=d/l,r.width=f/s,r.height=h/l,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#h?.abort(),this.#h=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.hideCommentPopup(),this.#y&&(clearTimeout(this.#y),this.#y=null),this.#k(),this.removeEditToolbar(),this.#S){for(const e of this.#S.values())clearTimeout(e);this.#S=null}this.parent=null,this.#T?.destroy(),this.#T=null,this.#d?.remove(),this.#d=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#j(),this.#c.classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[e,t]}=this,[i,r,s,l]=this.getPDFRect();return[Se._round(i+(s-i)*e),Se._round(r+(l-r)*(1-t))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return this.#n.commentPopupPositionInLayer}set commentPopupPosition(e){this.#n.commentPopupPositionInLayer=e}hasDefaultPopupPosition(){return this.#n.hasDefaultPopupPosition()}get commentButtonWidth(){return this.#n.commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(e){this.#n?.setCommentButtonStates(e)}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),this.#f={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const t=this.#c.children;if(!this.#t){this.#t=Array.from(t);const l=this.#Y.bind(this),c=this.#V.bind(this),d=this._uiManager._signal;for(const f of this.#t){const h=f.getAttribute("data-resizer-name");f.setAttribute("role","spinbutton"),f.addEventListener("keydown",l,{signal:d}),f.addEventListener("blur",c,{signal:d}),f.addEventListener("focus",this.#X.bind(this,h),{signal:d}),f.setAttribute("data-l10n-id",Se._l10nResizer[h])}}const i=this.#t[0];let r=0;for(const l of t){if(l===i)break;r++}const s=(360-this.rotation+this.parentRotation)%360/90*(this.#t.length/4);if(s!==r){if(s<r)for(let c=0;c<r-s;c++)this.#c.append(this.#c.firstElementChild);else if(s>r)for(let c=0;c<s-r;c++)this.#c.firstElementChild.before(this.#c.lastElementChild);let l=0;for(const c of t){const f=this.#t[l++].getAttribute("data-resizer-name");c.setAttribute("data-l10n-id",Se._l10nResizer[f])}}this.#H(0),this.#b=!0,this.#c.firstElementChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}#Y(e){Se._resizerKeyboardManager.exec(this,e)}#V(e){this.#b&&e.relatedTarget?.parentNode!==this.#c&&this.#k()}#X(e){this.#g=this.#b?e:""}#H(e){if(this.#t)for(const t of this.#t)t.tabIndex=e}_resizeWithKeyboard(e,t){this.#b&&this.#I(this.#g,{deltaX:e,deltaY:t,fromKeyboard:!0})}#k(){this.#b=!1,this.#H(-1),this.#B()}_stopResizingWithKeyboard(){this.#k(),this.div.focus()}select(){if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#i?.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>this.div?.focus({preventScroll:!0}),0)}unselect(){this.isSelected&&(this.isSelected=!1,this.#c?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#i?.toggleAltTextBadge(!0),this.hideCommentPopup())}hideCommentPopup(){this.hasComment&&this._uiManager.toggleComment(null)}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){e.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.uid}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#p}set isEditing(e){this.#p=e,this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){this.#S||=new Map;const{action:i}=e;let r=this.#S.get(i);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(e),this.#S.delete(i),this.#S.size===0&&(this.#S=null)},Se._telemetryTimeout),this.#S.set(i,r);return}e.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),this.#s=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#s=!0}updateFakeAnnotationElement(e){if(!this.#d&&!this.deleted){this.#d=e.addFakeAnnotation(this);return}if(this.deleted){this.#d.remove(),this.#d=null;return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&this.#d.updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const i=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),i.before(t)}return t}resetAnnotationElement(e){const{firstElementChild:t}=e.container;t?.nodeName==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}}class Cj extends Se{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const _w=3285377520,Si=4294901760,Qi=65535;class e_{constructor(e){this.h1=e?e&4294967295:_w,this.h2=e?e&4294967295:_w}update(e){let t,i;if(typeof e=="string"){t=new Uint8Array(e.length*2),i=0;for(let A=0,x=e.length;A<x;A++){const E=e.charCodeAt(A);E<=255?t[i++]=E:(t[i++]=E>>>8,t[i++]=E&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),i=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=i>>2,s=i-r*4,l=new Uint32Array(t.buffer,0,r);let c=0,d=0,f=this.h1,h=this.h2;const p=3432918353,g=461845907,y=p&Qi,S=g&Qi;for(let A=0;A<r;A++)A&1?(c=l[A],c=c*p&Si|c*y&Qi,c=c<<15|c>>>17,c=c*g&Si|c*S&Qi,f^=c,f=f<<13|f>>>19,f=f*5+3864292196):(d=l[A],d=d*p&Si|d*y&Qi,d=d<<15|d>>>17,d=d*g&Si|d*S&Qi,h^=d,h=h<<13|h>>>19,h=h*5+3864292196);switch(c=0,s){case 3:c^=t[r*4+2]<<16;case 2:c^=t[r*4+1]<<8;case 1:c^=t[r*4],c=c*p&Si|c*y&Qi,c=c<<15|c>>>17,c=c*g&Si|c*S&Qi,r&1?f^=c:h^=c}this.h1=f,this.h2=h}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&Si|e*36045&Qi,t=t*4283543511&Si|((t<<16|e>>>16)*2950163797&Si)>>>16,e^=t>>>1,e=e*444984403&Si|e*60499&Qi,t=t*3301882366&Si|((t<<16|e>>>16)*3120437893&Si)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const Yy=Object.freeze({map:null,hash:"",transfer:void 0});class ob{#e=!1;#t=null;#i=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const i=this.#n.get(e);return i===void 0?t:Object.assign(t,i)}getRawValue(e){return this.#n.get(e)}remove(e){const t=this.#n.get(e);if(t!==void 0&&(t instanceof Se&&this.#i.delete(t.annotationElementId),this.#n.delete(e),this.#n.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const i of this.#n.values())if(i instanceof Se)return;this.onAnnotationEditor(null)}}setValue(e,t){const i=this.#n.get(e);let r=!1;if(i!==void 0)for(const[s,l]of Object.entries(t))i[s]!==l&&(r=!0,i[s]=l);else r=!0,this.#n.set(e,t);r&&this.#a(),t instanceof Se&&((this.#i||=new Map).set(t.annotationElementId,t),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type))}has(e){return this.#n.has(e)}get size(){return this.#n.size}#a(){this.#e||(this.#e=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new t_(this)}get serializable(){if(this.#n.size===0)return Yy;const e=new Map,t=new e_,i=[],r=Object.create(null);let s=!1;for(const[l,c]of this.#n){const d=c instanceof Se?c.serialize(!1,r):c;c.page&&(c.pageIndex=c.page._pageIndex,delete c.page),d&&(e.set(l,d),t.update(`${l}:${JSON.stringify(d)}`),s||=!!d.bitmap)}if(s)for(const l of e.values())l.bitmap&&i.push(l.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:i}:Yy}get editorStats(){let e=null;const t=new Map;let i=0,r=0;for(const s of this.#n.values()){if(!(s instanceof Se)){s.popup&&(s.popup.deleted?r+=1:i+=1);continue}s.isCommentDeleted?r+=1:s.hasEditedComment&&(i+=1);const l=s.telemetryFinalData;if(!l)continue;const{type:c}=l;t.has(c)||t.set(c,Object.getPrototypeOf(s).constructor),e||=Object.create(null);const d=e[c]||=new Map;for(const[f,h]of Object.entries(l)){if(f==="type")continue;let p=d.get(f);p||(p=new Map,d.set(f,p));const g=p.get(h)??0;p.set(h,g+1)}}if((r>0||i>0)&&(e||=Object.create(null),e.comments={deleted:r,edited:i}),!e)return null;for(const[s,l]of t)e[s]=l.computeTelemetryFinalData(e[s]);return e}resetModifiedIds(){this.#t=null}updateEditor(e,t){const i=this.#i?.get(e);return i?(i.updateFromAnnotationLayer(t),!0):!1}getEditor(e){return this.#i?.get(e)||null}get modifiedIds(){if(this.#t)return this.#t;const e=[];if(this.#i)for(const t of this.#i.values())t.serialize()&&e.push(t.annotationElementId);return this.#t={ids:new Set(e),hash:e.join(",")}}[Symbol.iterator](){return this.#n.entries()}}class t_ extends ob{#e;constructor(e){super();const{map:t,hash:i,transfer:r}=e.serializable,s=structuredClone(t,r?{transfer:r}:null);this.#e={map:s,hash:i,transfer:r}}get print(){Xe("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}get modifiedIds(){return Ce(this,"modifiedIds",{ids:new Set,hash:""})}}class Oj{#e=new Set;constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:t,_inspectFont:i}){if(!(!e||this.#e.has(e.loadedName))){if(Ye(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:s,style:l}=e,c=new FontFace(r,s,l);this.addNativeFontFace(c);try{await c.load(),this.#e.add(r),i?.(e)}catch{we(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(c)}return}Xe("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const i=e.createNativeFontFace();if(i){this.addNativeFontFace(i);try{await i.loaded}catch(r){throw we(`Failed to load font '${i.family}': '${r}'.`),e.disableFontFace=!0,r}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(i=>{const r=this._queueLoadingCallback(i);this._prepareFontLoadEvent(e,r)})}}get isFontLoadingAPISupported(){const e=!!this._document?.fonts;return Ce(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return Ce(this,"isSyncFontLoadingSupported",Tn||Vt.platform.isFirefox)}_queueLoadingCallback(e){function t(){for(Ye(!r.done,"completeRequest() cannot be called twice."),r.done=!0;i.length>0&&i[0].done;){const s=i.shift();setTimeout(s.callback,0)}}const{loadingRequests:i}=this,r={done:!1,complete:t,callback:e};return i.push(r),r}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Ce(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function i(P,M){return P.charCodeAt(M)<<24|P.charCodeAt(M+1)<<16|P.charCodeAt(M+2)<<8|P.charCodeAt(M+3)&255}function r(P,M,_,N){const j=P.substring(0,M),F=P.substring(M+_);return j+N+F}let s,l;const c=this._document.createElement("canvas");c.width=1,c.height=1;const d=c.getContext("2d");let f=0;function h(P,M){if(++f>30){we("Load test font never loaded."),M();return}if(d.font="30px "+P,d.fillText(".",0,20),d.getImageData(0,0,1,1).data[3]>0){M();return}setTimeout(h.bind(null,P,M))}const p=`lt${Date.now()}${this.loadTestFontId++}`;let g=this._loadTestFont;g=r(g,976,p.length,p);const S=16,A=1482184792;let x=i(g,S);for(s=0,l=p.length-3;s<l;s+=4)x=x-A+i(p,s)|0;s<p.length&&(x=x-A+i(p+"XXX",s)|0),g=r(g,S,4,oj(x));const E=`url(data:font/opentype;base64,${btoa(g)});`,O=`@font-face {font-family:"${p}";src:${E}}`;this.insertRule(O);const T=this._document.createElement("div");T.style.visibility="hidden",T.style.width=T.style.height="10px",T.style.position="absolute",T.style.top=T.style.left="0px";for(const P of[e.loadedName,p]){const M=this._document.createElement("span");M.textContent="Hi",M.style.fontFamily=P,T.append(M)}this._document.body.append(T),h(p,()=>{T.remove(),t.complete()})}}class Tj{#e;constructor(e,t=null,i,r){this.compiledGlyphs=Object.create(null),this.#e=e,this._inspectFont=t,i&&Object.assign(this,i),r&&(this.charProcOperatorList=r)}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const t={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(t.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,t)}return this._inspectFont?.(this),e}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${this.data.toBase64()});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${e}}`}return this._inspectFont?.(this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const i=this.loadedName+"_path_"+t;let r;try{r=e.get(i)}catch(l){we(`getPathGenerator - ignoring character: "${l}".`)}const s=QM(r?.path);return this.fontExtraProperties||e.delete(i),this.compiledGlyphs[t]=s}get black(){return this.#e.black}get bold(){return this.#e.bold}get disableFontFace(){return this.#e.disableFontFace??!1}set disableFontFace(e){Ce(this,"disableFontFace",!!e)}get fontExtraProperties(){return this.#e.fontExtraProperties??!1}get isInvalidPDFjsFont(){return this.#e.isInvalidPDFjsFont}get isType3Font(){return this.#e.isType3Font}get italic(){return this.#e.italic}get missingFile(){return this.#e.missingFile}get remeasure(){return this.#e.remeasure}get vertical(){return this.#e.vertical}get ascent(){return this.#e.ascent}get defaultWidth(){return this.#e.defaultWidth}get descent(){return this.#e.descent}get bbox(){return this.#e.bbox}set bbox(e){Ce(this,"bbox",e)}get fontMatrix(){return this.#e.fontMatrix}get fallbackName(){return this.#e.fallbackName}get loadedName(){return this.#e.loadedName}get mimetype(){return this.#e.mimetype}get name(){return this.#e.name}get data(){return this.#e.data}clearData(){this.#e.clearData()}get cssFontInfo(){return this.#e.cssFontInfo}get systemFontInfo(){return this.#e.systemFontInfo}get defaultVMetrics(){return this.#e.defaultVMetrics}}class Xo{#e;#t;#i;static strings=["fontFamily","fontWeight","italicAngle"];static write(e){const t=new TextEncoder,i={};let r=0;for(const f of Xo.strings){const h=t.encode(e[f]);i[f]=h,r+=4+h.length}const s=new ArrayBuffer(r),l=new Uint8Array(s),c=new DataView(s);let d=0;for(const f of Xo.strings){const h=i[f],p=h.length;c.setUint32(d,p),l.set(h,d+4),d+=4+p}return Ye(d===s.byteLength,"CssFontInfo.write: Buffer overflow"),s}constructor(e){this.#e=e,this.#t=new DataView(this.#e),this.#i=new TextDecoder}#n(e){Ye(e<Xo.strings.length,"Invalid string index");let t=0;for(let r=0;r<e;r++)t+=this.#t.getUint32(t)+4;const i=this.#t.getUint32(t);return this.#i.decode(new Uint8Array(this.#e,t+4,i))}get fontFamily(){return this.#n(0)}get fontWeight(){return this.#n(1)}get italicAngle(){return this.#n(2)}}class Ko{#e;#t;#i;static strings=["css","loadedName","baseFontName","src"];static write(e){const t=new TextEncoder,i={};let r=0;for(const g of Ko.strings){const y=t.encode(e[g]);i[g]=y,r+=4+y.length}r+=4;let s,l,c=1+r;e.style&&(s=t.encode(e.style.style),l=t.encode(e.style.weight),c+=4+s.length+4+l.length);const d=new ArrayBuffer(c),f=new Uint8Array(d),h=new DataView(d);let p=0;h.setUint8(p++,e.guessFallback?1:0),h.setUint32(p,0),p+=4,r=0;for(const g of Ko.strings){const y=i[g],S=y.length;r+=4+S,h.setUint32(p,S),f.set(y,p+4),p+=4+S}return h.setUint32(p-r-4,r),e.style&&(h.setUint32(p,s.length),f.set(s,p+4),p+=4+s.length,h.setUint32(p,l.length),f.set(l,p+4),p+=4+l.length),Ye(p<=d.byteLength,"SubstitionInfo.write: Buffer overflow"),d.transferToFixedLength(p)}constructor(e){this.#e=e,this.#t=new DataView(this.#e),this.#i=new TextDecoder}get guessFallback(){return this.#t.getUint8(0)!==0}#n(e){Ye(e<Ko.strings.length,"Invalid string index");let t=5;for(let r=0;r<e;r++)t+=this.#t.getUint32(t)+4;const i=this.#t.getUint32(t);return this.#i.decode(new Uint8Array(this.#e,t+4,i))}get css(){return this.#n(0)}get loadedName(){return this.#n(1)}get baseFontName(){return this.#n(2)}get src(){return this.#n(3)}get style(){let e=1;e+=4+this.#t.getUint32(e);const t=this.#t.getUint32(e),i=this.#i.decode(new Uint8Array(this.#e,e+4,t));e+=4+t;const r=this.#t.getUint32(e),s=this.#i.decode(new Uint8Array(this.#e,e+4,r));return{style:i,weight:s}}}class at{static bools=["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"];static numbers=["ascent","defaultWidth","descent"];static strings=["fallbackName","loadedName","mimetype","name"];static#e=Math.ceil(this.bools.length*2/8);static#t=this.#e+this.numbers.length*8;static#i=this.#t+1+8;static#n=this.#i+1+48;static#a=this.#n+1+6;#s;#r;#o;constructor({data:e,extra:t}){this.#s=e,this.#r=new TextDecoder,this.#o=new DataView(this.#s),t&&Object.assign(this,t)}#c(e){Ye(e<at.bools.length,"Invalid boolean index");const t=Math.floor(e/4),i=e*2%8,r=this.#o.getUint8(t)>>i&3;return r===0?void 0:r===2}get black(){return this.#c(0)}get bold(){return this.#c(1)}get disableFontFace(){return this.#c(2)}get fontExtraProperties(){return this.#c(3)}get isInvalidPDFjsFont(){return this.#c(4)}get isType3Font(){return this.#c(5)}get italic(){return this.#c(6)}get missingFile(){return this.#c(7)}get remeasure(){return this.#c(8)}get vertical(){return this.#c(9)}#l(e){return Ye(e<at.numbers.length,"Invalid number index"),this.#o.getFloat64(at.#e+e*8)}get ascent(){return this.#l(0)}get defaultWidth(){return this.#l(1)}get descent(){return this.#l(2)}get bbox(){let e=at.#t;if(this.#o.getUint8(e)===0)return;e+=1;const i=[];for(let r=0;r<4;r++)i.push(this.#o.getInt16(e,!0)),e+=2;return i}get fontMatrix(){let e=at.#i;if(this.#o.getUint8(e)===0)return;e+=1;const i=[];for(let r=0;r<6;r++)i.push(this.#o.getFloat64(e,!0)),e+=8;return i}get defaultVMetrics(){let e=at.#n;if(this.#o.getUint8(e)===0)return;e+=1;const i=[];for(let r=0;r<3;r++)i.push(this.#o.getInt16(e,!0)),e+=2;return i}#f(e){Ye(e<at.strings.length,"Invalid string index");let t=at.#a+4;for(let s=0;s<e;s++)t+=this.#o.getUint32(t)+4;const i=this.#o.getUint32(t),r=new Uint8Array(i);return r.set(new Uint8Array(this.#s,t+4,i)),this.#r.decode(r)}get fallbackName(){return this.#f(0)}get loadedName(){return this.#f(1)}get mimetype(){return this.#f(2)}get name(){return this.#f(3)}get data(){let e=at.#a;const t=this.#o.getUint32(e);e+=4+t;const i=this.#o.getUint32(e);e+=4+i;const r=this.#o.getUint32(e);e+=4+r;const s=this.#o.getUint32(e);if(s!==0)return new Uint8Array(this.#s,e+4,s)}clearData(){let e=at.#a;const t=this.#o.getUint32(e);e+=4+t;const i=this.#o.getUint32(e);e+=4+i;const r=this.#o.getUint32(e);e+=4+r;const s=this.#o.getUint32(e);new Uint8Array(this.#s,e+4,s).fill(0),this.#o.setUint32(e,0)}get cssFontInfo(){let e=at.#a;const t=this.#o.getUint32(e);e+=4+t;const i=this.#o.getUint32(e);e+=4+i;const r=this.#o.getUint32(e);if(r===0)return null;const s=new Uint8Array(r);return s.set(new Uint8Array(this.#s,e+4,r)),new Xo(s.buffer)}get systemFontInfo(){let e=at.#a;const t=this.#o.getUint32(e);e+=4+t;const i=this.#o.getUint32(e);if(i===0)return null;const r=new Uint8Array(i);return r.set(new Uint8Array(this.#s,e+4,i)),new Ko(r.buffer)}static write(e){const t=e.systemFontInfo?Ko.write(e.systemFontInfo):null,i=e.cssFontInfo?Xo.write(e.cssFontInfo):null,r=new TextEncoder,s={};let l=0;for(const A of at.strings)s[A]=r.encode(e[A]),l+=4+s[A].length;const c=at.#a+4+l+4+(t?t.byteLength:0)+4+(i?i.byteLength:0)+4+(e.data?e.data.length:0),d=new ArrayBuffer(c),f=new Uint8Array(d),h=new DataView(d);let p=0;const g=at.bools.length;let y=0,S=0;for(let A=0;A<g;A++){const x=e[at.bools[A]];y|=(x===void 0?0:x?2:1)<<S,S+=2,(S===8||A===g-1)&&(h.setUint8(p++,y),y=0,S=0)}Ye(p===at.#e,"FontInfo.write: Boolean properties offset mismatch");for(const A of at.numbers)h.setFloat64(p,e[A]),p+=8;if(Ye(p===at.#t,"FontInfo.write: Number properties offset mismatch"),e.bbox){h.setUint8(p++,4);for(const A of e.bbox)h.setInt16(p,A,!0),p+=2}else h.setUint8(p++,0),p+=8;if(Ye(p===at.#i,"FontInfo.write: BBox properties offset mismatch"),e.fontMatrix){h.setUint8(p++,6);for(const A of e.fontMatrix)h.setFloat64(p,A,!0),p+=8}else h.setUint8(p++,0),p+=48;if(Ye(p===at.#n,"FontInfo.write: FontMatrix properties offset mismatch"),e.defaultVMetrics){h.setUint8(p++,1);for(const A of e.defaultVMetrics)h.setInt16(p,A,!0),p+=2}else h.setUint8(p++,0),p+=6;Ye(p===at.#a,"FontInfo.write: DefaultVMetrics properties offset mismatch"),h.setUint32(at.#a,0),p+=4;for(const A of at.strings){const x=s[A],E=x.length;h.setUint32(p,E),f.set(x,p+4),p+=4+E}if(h.setUint32(at.#a,p-at.#a-4),!t)h.setUint32(p,0),p+=4;else{const A=t.byteLength;h.setUint32(p,A),Ye(p+4+A<=d.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),f.set(new Uint8Array(t),p+4),p+=4+A}if(!i)h.setUint32(p,0),p+=4;else{const A=i.byteLength;h.setUint32(p,A),Ye(p+4+A<=d.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),f.set(new Uint8Array(i),p+4),p+=4+A}return e.data===void 0?(h.setUint32(p,0),p+=4):(h.setUint32(p,e.data.length),f.set(e.data,p+4),p+=4+e.data.length),Ye(p<=d.byteLength,"FontInfo.write: Buffer overflow"),d.transferToFixedLength(p)}}class Qt{static#e=0;static#t=1;static#i=2;static#n=3;static#a=4;static#s=8;static#r=12;static#o=16;constructor(e){this.buffer=e,this.view=new DataView(e),this.data=new Uint8Array(e)}static write(e){let t,i=null,r=[],s=[],l=[],c=[],d=null,f=null;switch(e[0]){case"RadialAxial":t=e[1]==="axial"?1:2,i=e[2],l=e[3],t===1?r.push(...e[4],...e[5]):r.push(e[4][0],e[4][1],e[6],e[5][0],e[5][1],e[7]);break;case"Mesh":t=3,d=e[1],r=e[2],s=e[3],c=e[4]||[],i=e[6],f=e[7];break;default:throw new Error(`Unsupported pattern type: ${e[0]}`)}const h=Math.floor(r.length/2),p=Math.floor(s.length/3),g=l.length,y=c.length;let S=0;for(const M of c)S+=1,S=Math.ceil(S/4)*4,S+=4+M.coords.length*4,S+=4+M.colors.length*4,M.verticesPerRow!==void 0&&(S+=4);const A=20+h*8+p*3+g*8+(i?16:0)+(f?3:0)+S,x=new ArrayBuffer(A),E=new DataView(x),O=new Uint8Array(x);E.setUint8(Qt.#e,t),E.setUint8(Qt.#t,i?1:0),E.setUint8(Qt.#i,f?1:0),E.setUint8(Qt.#n,d),E.setUint32(Qt.#a,h,!0),E.setUint32(Qt.#s,p,!0),E.setUint32(Qt.#r,g,!0),E.setUint32(Qt.#o,y,!0);let T=20;new Float32Array(x,T,h*2).set(r),T+=h*8,O.set(s,T),T+=p*3;for(const[M,_]of l)E.setFloat32(T,M,!0),T+=4,E.setUint32(T,parseInt(_.slice(1),16),!0),T+=4;if(i)for(const M of i)E.setFloat32(T,M,!0),T+=4;f&&(O.set(f,T),T+=3);for(let M=0;M<c.length;M++){const _=c[M];E.setUint8(T,_.type),T+=1,T=Math.ceil(T/4)*4,E.setUint32(T,_.coords.length,!0),T+=4,new Int32Array(x,T,_.coords.length).set(_.coords),T+=_.coords.length*4,E.setUint32(T,_.colors.length,!0),T+=4,new Int32Array(x,T,_.colors.length).set(_.colors),T+=_.colors.length*4,_.verticesPerRow!==void 0&&(E.setUint32(T,_.verticesPerRow,!0),T+=4)}return x}getIR(){const e=this.view,t=this.data[Qt.#e],i=!!this.data[Qt.#t],r=!!this.data[Qt.#i],s=e.getUint32(Qt.#a,!0),l=e.getUint32(Qt.#s,!0),c=e.getUint32(Qt.#r,!0),d=e.getUint32(Qt.#o,!0);let f=20;const h=new Float32Array(this.buffer,f,s*2);f+=s*8;const p=new Uint8Array(this.buffer,f,l*3);f+=l*3;const g=[];for(let x=0;x<c;++x){const E=e.getFloat32(f,!0);f+=4;const O=e.getUint32(f,!0);f+=4,g.push([E,`#${O.toString(16).padStart(6,"0")}`])}let y=null;if(i){y=[];for(let x=0;x<4;++x)y.push(e.getFloat32(f,!0)),f+=4}let S=null;r&&(S=new Uint8Array(this.buffer,f,3),f+=3);const A=[];for(let x=0;x<d;++x){const E=e.getUint8(f);f+=1,f=Math.ceil(f/4)*4;const O=e.getUint32(f,!0);f+=4;const T=new Int32Array(this.buffer,f,O);f+=O*4;const P=e.getUint32(f,!0);f+=4;const M=new Int32Array(this.buffer,f,P);f+=P*4;const _={type:E,coords:T,colors:M};E===Hy.LATTICE&&(_.verticesPerRow=e.getUint32(f,!0),f+=4),A.push(_)}if(t===1)return["RadialAxial","axial",y,g,Array.from(h.slice(0,2)),Array.from(h.slice(2,4)),null,null];if(t===2)return["RadialAxial","radial",y,g,[h[0],h[1]],[h[3],h[4]],h[2],h[5]];if(t===3){const x=this.data[Qt.#n];let E=null;if(h.length>0){let O=h[0],T=h[0],P=h[1],M=h[1];for(let _=0;_<h.length;_+=2){const N=h[_],j=h[_+1];O=O>N?N:O,P=P>j?j:P,T=T<N?N:T,M=M<j?j:M}E=[O,P,T,M]}return["Mesh",x,h,p,A,E,y,S]}throw new Error(`Unsupported pattern kind: ${t}`)}}class Mj{static write(e){let t,i;return Vt.isFloat16ArraySupported?(i=new ArrayBuffer(e.length*2),t=new Float16Array(i)):(i=new ArrayBuffer(e.length*4),t=new Float32Array(i)),t.set(e),i}#e;constructor(e){this.#e=e}get path(){return Vt.isFloat16ArraySupported?new Float16Array(this.#e):new Float32Array(this.#e)}}function _j(n){if(n instanceof URL)return n.href;if(typeof n=="string"){if(Tn)return n;const e=URL.parse(n,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function Pj(n){if(Tn&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return Ph(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n?.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Kd(n){if(typeof n!="string")return null;if(n.endsWith("/"))return n;throw new Error(`Invalid factory url: "${n}" must include trailing slash.`)}const Xy=n=>typeof n=="object"&&Number.isInteger(n?.num)&&n.num>=0&&Number.isInteger(n?.gen)&&n.gen>=0,Dj=n=>typeof n=="object"&&typeof n?.name=="string",Lj=fj.bind(null,Xy,Dj);class Nj{#e=new Map;#t=Promise.resolve();postMessage(e,t){const i={data:structuredClone(e,t?{transfer:t}:null)};this.#t.then(()=>{for(const[r]of this.#e)r.call(this,i)})}addEventListener(e,t,i=null){let r=null;if(i?.signal instanceof AbortSignal){const{signal:s}=i;if(s.aborted){we("LoopbackPort - cannot use an `aborted` signal.");return}const l=()=>this.removeEventListener(e,t);r=()=>s.removeEventListener("abort",l),s.addEventListener("abort",l)}this.#e.set(t,r)}removeEventListener(e,t){this.#e.get(t)?.(),this.#e.delete(t)}terminate(){for(const[,e]of this.#e)e?.();this.#e.clear()}}const Wd={DATA:1,ERROR:2},Bt={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Pw(){}function Hn(n){if(n instanceof Ha||n instanceof $y||n instanceof xw||n instanceof Pf||n instanceof tv)return n;switch(n instanceof Error||typeof n=="object"&&n!==null||Xe('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new Ha(n.message);case"InvalidPDFException":return new $y(n.message);case"PasswordException":return new xw(n.message,n.code);case"ResponseException":return new Pf(n.message,n.status,n.missing);case"UnknownErrorException":return new tv(n.message,n.details)}return new tv(n.message,n.toString())}class Nc{#e=new AbortController;constructor(e,t,i){this.sourceName=e,this.targetName=t,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),i.addEventListener("message",this.#t.bind(this),{signal:this.#e.signal})}#t({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){this.#n(e);return}if(e.callback){const i=e.callbackId,r=this.callbackCapabilities[i];if(!r)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],e.callback===Wd.DATA)r.resolve(e.data);else if(e.callback===Wd.ERROR)r.reject(Hn(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const i=this.sourceName,r=e.sourceName,s=this.comObj;Promise.try(t,e.data).then(function(l){s.postMessage({sourceName:i,targetName:r,callback:Wd.DATA,callbackId:e.callbackId,data:l})},function(l){s.postMessage({sourceName:i,targetName:r,callback:Wd.ERROR,callbackId:e.callbackId,reason:Hn(l)})});return}if(e.streamId){this.#i(e);return}t(e.data)}on(e,t){const i=this.actionHandler;if(i[e])throw new Error(`There is already an actionName called "${e}"`);i[e]=t}send(e,t,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},i)}sendWithPromise(e,t,i){const r=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[r]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:r,data:t},i)}catch(l){s.reject(l)}return s.promise}sendWithStream(e,t,i,r){const s=this.streamId++,l=this.sourceName,c=this.targetName,d=this.comObj;return new ReadableStream({start:f=>{const h=Promise.withResolvers();return this.streamControllers[s]={controller:f,startCall:h,pullCall:null,cancelCall:null,isClosed:!1},d.postMessage({sourceName:l,targetName:c,action:e,streamId:s,data:t,desiredSize:f.desiredSize},r),h.promise},pull:f=>{const h=Promise.withResolvers();return this.streamControllers[s].pullCall=h,d.postMessage({sourceName:l,targetName:c,stream:Bt.PULL,streamId:s,desiredSize:f.desiredSize}),h.promise},cancel:f=>{Ye(f instanceof Error,"cancel must have a valid reason");const h=Promise.withResolvers();return this.streamControllers[s].cancelCall=h,this.streamControllers[s].isClosed=!0,d.postMessage({sourceName:l,targetName:c,stream:Bt.CANCEL,streamId:s,reason:Hn(f)}),h.promise}},i)}#i(e){const t=e.streamId,i=this.sourceName,r=e.sourceName,s=this.comObj,l=this,c=this.actionHandler[e.action],d={enqueue(f,h=1,p){if(this.isCancelled)return;const g=this.desiredSize;this.desiredSize-=h,g>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:i,targetName:r,stream:Bt.ENQUEUE,streamId:t,chunk:f},p)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:r,stream:Bt.CLOSE,streamId:t}),delete l.streamSinks[t])},error(f){Ye(f instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:r,stream:Bt.ERROR,streamId:t,reason:Hn(f)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};d.sinkCapability.resolve(),d.ready=d.sinkCapability.promise,this.streamSinks[t]=d,Promise.try(c,e.data,d).then(function(){s.postMessage({sourceName:i,targetName:r,stream:Bt.START_COMPLETE,streamId:t,success:!0})},function(f){s.postMessage({sourceName:i,targetName:r,stream:Bt.START_COMPLETE,streamId:t,reason:Hn(f)})})}#n(e){const t=e.streamId,i=this.sourceName,r=e.sourceName,s=this.comObj,l=this.streamControllers[t],c=this.streamSinks[t];switch(e.stream){case Bt.START_COMPLETE:e.success?l.startCall.resolve():l.startCall.reject(Hn(e.reason));break;case Bt.PULL_COMPLETE:e.success?l.pullCall.resolve():l.pullCall.reject(Hn(e.reason));break;case Bt.PULL:if(!c){s.postMessage({sourceName:i,targetName:r,stream:Bt.PULL_COMPLETE,streamId:t,success:!0});break}c.desiredSize<=0&&e.desiredSize>0&&c.sinkCapability.resolve(),c.desiredSize=e.desiredSize,Promise.try(c.onPull||Pw).then(function(){s.postMessage({sourceName:i,targetName:r,stream:Bt.PULL_COMPLETE,streamId:t,success:!0})},function(f){s.postMessage({sourceName:i,targetName:r,stream:Bt.PULL_COMPLETE,streamId:t,reason:Hn(f)})});break;case Bt.ENQUEUE:if(Ye(l,"enqueue should have stream controller"),l.isClosed)break;l.controller.enqueue(e.chunk);break;case Bt.CLOSE:if(Ye(l,"close should have stream controller"),l.isClosed)break;l.isClosed=!0,l.controller.close(),this.#a(l,t);break;case Bt.ERROR:Ye(l,"error should have stream controller"),l.controller.error(Hn(e.reason)),this.#a(l,t);break;case Bt.CANCEL_COMPLETE:e.success?l.cancelCall.resolve():l.cancelCall.reject(Hn(e.reason)),this.#a(l,t);break;case Bt.CANCEL:if(!c)break;const d=Hn(e.reason);Promise.try(c.onCancel||Pw,d).then(function(){s.postMessage({sourceName:i,targetName:r,stream:Bt.CANCEL_COMPLETE,streamId:t,success:!0})},function(f){s.postMessage({sourceName:i,targetName:r,stream:Bt.CANCEL_COMPLETE,streamId:t,reason:Hn(f)})}),c.sinkCapability.reject(d),c.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}async#a(e,t){await Promise.allSettled([e.startCall?.promise,e.pullCall?.promise,e.cancelCall?.promise]),delete this.streamControllers[t]}destroy(){this.#e?.abort(),this.#e=null}}class n_{#e=!1;constructor({enableHWA:e=!1}){this.#e=e}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(e,t);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!this.#e})}}reset(e,t,i){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||i<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=i}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){Xe("Abstract method `_createCanvas` called.")}}class Rj extends n_{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const i=this._document.createElement("canvas");return i.width=e,i.height=t,i}}class i_{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(i=>({cMapData:i,isCompressed:this.isCompressed})).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){Xe("Abstract method `_fetch` called.")}}class Dw extends i_{async _fetch(e){const t=await ou(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):Ph(t)}}class r_{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,i,r,s){return"none"}destroy(e=!1){}}class Ij extends r_{#e;#t;#i;#n;#a;#s;#r=0;constructor({docId:e,ownerDocument:t=globalThis.document}){super(),this.#n=e,this.#a=t}get#o(){return this.#t||=new Map}get#c(){return this.#s||=new Map}get#l(){if(!this.#i){const e=this.#a.createElement("div"),{style:t}=e;t.visibility="hidden",t.contain="strict",t.width=t.height=0,t.position="absolute",t.top=t.left=0,t.zIndex=-1;const i=this.#a.createElementNS(kr,"svg");i.setAttribute("width",0),i.setAttribute("height",0),this.#i=this.#a.createElementNS(kr,"defs"),e.append(i),i.append(this.#i),this.#a.body.append(e)}return this.#i}#f(e){if(e.length===1){const d=e[0],f=new Array(256);for(let p=0;p<256;p++)f[p]=d[p]/255;const h=f.join(",");return[h,h,h]}const[t,i,r]=e,s=new Array(256),l=new Array(256),c=new Array(256);for(let d=0;d<256;d++)s[d]=t[d]/255,l[d]=i[d]/255,c[d]=r[d]/255;return[s.join(","),l.join(","),c.join(",")]}#d(e){if(this.#e===void 0){this.#e="";const t=this.#a.URL;t!==this.#a.baseURI&&(Dh(t)?we('#createUrl: ignore "data:"-URL for performance reasons.'):this.#e=XM(t,""))}return`url(${this.#e}#${e})`}addFilter(e){if(!e)return"none";let t=this.#o.get(e);if(t)return t;const[i,r,s]=this.#f(e),l=e.length===1?i:`${i}${r}${s}`;if(t=this.#o.get(l),t)return this.#o.set(e,t),t;const c=`g_${this.#n}_transfer_map_${this.#r++}`,d=this.#d(c);this.#o.set(e,d),this.#o.set(l,d);const f=this.#m(c);return this.#p(i,r,s,f),d}addHCMFilter(e,t){const i=`${e}-${t}`,r="base";let s=this.#c.get(r);if(s?.key===i||(s?(s.filter?.remove(),s.key=i,s.url="none",s.filter=null):(s={key:i,url:"none",filter:null},this.#c.set(r,s)),!e||!t))return s.url;const l=this.#b(e);e=ue.makeHexColor(...l);const c=this.#b(t);if(t=ue.makeHexColor(...c),this.#l.style.color="",e==="#000000"&&t==="#ffffff"||e===t)return s.url;const d=new Array(256);for(let y=0;y<=255;y++){const S=y/255;d[y]=S<=.03928?S/12.92:((S+.055)/1.055)**2.4}const f=d.join(","),h=`g_${this.#n}_hcm_filter`,p=s.filter=this.#m(h);this.#p(f,f,f,p),this.#g(p);const g=(y,S)=>{const A=l[y]/255,x=c[y]/255,E=new Array(S+1);for(let O=0;O<=S;O++)E[O]=A+O/S*(x-A);return E.join(",")};return this.#p(g(0,5),g(1,5),g(2,5),p),s.url=this.#d(h),s.url}addAlphaFilter(e){let t=this.#o.get(e);if(t)return t;const[i]=this.#f([e]),r=`alpha_${i}`;if(t=this.#o.get(r),t)return this.#o.set(e,t),t;const s=`g_${this.#n}_alpha_map_${this.#r++}`,l=this.#d(s);this.#o.set(e,l),this.#o.set(r,l);const c=this.#m(s);return this.#v(i,c),l}addLuminosityFilter(e){let t=this.#o.get(e||"luminosity");if(t)return t;let i,r;if(e?([i]=this.#f([e]),r=`luminosity_${i}`):r="luminosity",t=this.#o.get(r),t)return this.#o.set(e,t),t;const s=`g_${this.#n}_luminosity_map_${this.#r++}`,l=this.#d(s);this.#o.set(e,l),this.#o.set(r,l);const c=this.#m(s);return this.#h(c),e&&this.#v(i,c),l}addHighlightHCMFilter(e,t,i,r,s){const l=`${t}-${i}-${r}-${s}`;let c=this.#c.get(e);if(c?.key===l||(c?(c.filter?.remove(),c.key=l,c.url="none",c.filter=null):(c={key:l,url:"none",filter:null},this.#c.set(e,c)),!t||!i))return c.url;const[d,f]=[t,i].map(this.#b.bind(this));let h=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),p=Math.round(.2126*f[0]+.7152*f[1]+.0722*f[2]),[g,y]=[r,s].map(this.#b.bind(this));p<h&&([h,p,g,y]=[p,h,y,g]),this.#l.style.color="";const S=(E,O,T)=>{const P=new Array(256),M=(p-h)/T,_=E/255,N=(O-E)/(255*T);let j=0;for(let F=0;F<=T;F++){const X=Math.round(h+F*M),$=_+F*N;for(let q=j;q<=X;q++)P[q]=$;j=X+1}for(let F=j;F<256;F++)P[F]=P[j-1];return P.join(",")},A=`g_${this.#n}_hcm_${e}_filter`,x=c.filter=this.#m(A);return this.#g(x),this.#p(S(g[0],y[0],5),S(g[1],y[1],5),S(g[2],y[2],5),x),c.url=this.#d(A),c.url}destroy(e=!1){e&&this.#s?.size||(this.#i?.parentNode.parentNode.remove(),this.#i=null,this.#t?.clear(),this.#t=null,this.#s?.clear(),this.#s=null,this.#r=0)}#h(e){const t=this.#a.createElementNS(kr,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(t)}#g(e){const t=this.#a.createElementNS(kr,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(t)}#m(e){const t=this.#a.createElementNS(kr,"filter");return t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("id",e),this.#l.append(t),t}#u(e,t,i){const r=this.#a.createElementNS(kr,t);r.setAttribute("type","discrete"),r.setAttribute("tableValues",i),e.append(r)}#p(e,t,i,r){const s=this.#a.createElementNS(kr,"feComponentTransfer");r.append(s),this.#u(s,"feFuncR",e),this.#u(s,"feFuncG",t),this.#u(s,"feFuncB",i)}#v(e,t){const i=this.#a.createElementNS(kr,"feComponentTransfer");t.append(i),this.#u(i,"feFuncA",e)}#b(e){return this.#l.style.color=e,cu(getComputedStyle(this.#l).getPropertyValue("color"))}}class a_{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(i=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){Xe("Abstract method `_fetch` called.")}}class Lw extends a_{async _fetch(e){const t=await ou(e,"arraybuffer");return new Uint8Array(t)}}class s_{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(i=>{throw new Error(`Unable to load wasm data at: ${t}`)})}async _fetch(e){Xe("Abstract method `_fetch` called.")}}class Nw extends s_{async _fetch(e){const t=await ou(e,"arraybuffer");return new Uint8Array(t)}}Tn&&we("Please use the `legacy` build in Node.js environments.");async function lb(n){const t=await process.getBuiltinModule("fs").promises.readFile(n);return new Uint8Array(t)}class kj extends r_{}class jj extends n_{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class Bj extends i_{async _fetch(e){return lb(e)}}class zj extends a_{async _fetch(e){return lb(e)}}class Fj extends s_{async _fetch(e){return lb(e)}}const Lo="__forcedDependency",{floor:Rw,ceil:Iw}=Math;function Zd(n,e,t,i,r,s){n[e*4+0]=Math.min(n[e*4+0],t),n[e*4+1]=Math.min(n[e*4+1],i),n[e*4+2]=Math.max(n[e*4+2],r),n[e*4+3]=Math.max(n[e*4+3],s)}const Ky=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];class Uj{#e;#t;constructor(e,t){this.#e=e,this.#t=t}get length(){return this.#e.length}isEmpty(e){return this.#e[e]===Ky}minX(e){return this.#t[e*4+0]/256}minY(e){return this.#t[e*4+1]/256}maxX(e){return(this.#t[e*4+2]+1)/256}maxY(e){return(this.#t[e*4+3]+1)/256}}const Qd=(n,e)=>{if(!n)return;let t=n.get(e);return t||(t={dependencies:new Set,isRenderingOperation:!1},n.set(e,t)),t};class Hj{#e={__proto__:null};#t={__proto__:null,transform:[],moveText:[],sameLineText:[],[Lo]:[]};#i=new Map;#n=[];#a=[];#s=[[1,0,0,1,0,0]];#r=[-1/0,-1/0,1/0,1/0];#o=new Float64Array([1/0,1/0,-1/0,-1/0]);#c=-1;#l=new Set;#f=new Map;#d=new Map;#h;#g;#m;#u;#p;constructor(e,t,i=!1){this.#h=e.width,this.#g=e.height,this.#v(t),i&&(this.#p=new Map)}growOperationsCount(e){e>=this.#u.length&&this.#v(e,this.#u)}#v(e,t){const i=new ArrayBuffer(e*4);this.#m=new Uint8ClampedArray(i),this.#u=new Uint32Array(i),t&&t.length>0?(this.#u.set(t),this.#u.fill(Ky,t.length)):this.#u.fill(Ky)}save(e){return this.#e={__proto__:this.#e},this.#t={__proto__:this.#t,transform:{__proto__:this.#t.transform},moveText:{__proto__:this.#t.moveText},sameLineText:{__proto__:this.#t.sameLineText},[Lo]:{__proto__:this.#t[Lo]}},this.#r={__proto__:this.#r},this.#n.push(e),this}restore(e){const t=Object.getPrototypeOf(this.#e);if(t===null)return this;this.#e=t,this.#t=Object.getPrototypeOf(this.#t),this.#r=Object.getPrototypeOf(this.#r);const i=this.#n.pop();return i!==void 0&&(Qd(this.#p,e)?.dependencies.add(i),this.#u[e]=this.#u[i]),this}recordOpenMarker(e){return this.#n.push(e),this}getOpenMarker(){return this.#n.length===0?null:this.#n.at(-1)}recordCloseMarker(e){const t=this.#n.pop();return t!==void 0&&(Qd(this.#p,e)?.dependencies.add(t),this.#u[e]=this.#u[t]),this}beginMarkedContent(e){return this.#a.push(e),this}endMarkedContent(e){const t=this.#a.pop();return t!==void 0&&(Qd(this.#p,e)?.dependencies.add(t),this.#u[e]=this.#u[t]),this}pushBaseTransform(e){return this.#s.push(ue.multiplyByDOMMatrix(this.#s.at(-1),e.getTransform())),this}popBaseTransform(){return this.#s.length>1&&this.#s.pop(),this}recordSimpleData(e,t){return this.#e[e]=t,this}recordIncrementalData(e,t){return this.#t[e].push(t),this}resetIncrementalData(e,t){return this.#t[e].length=0,this}recordNamedData(e,t){return this.#i.set(e,t),this}recordSimpleDataFromNamed(e,t,i){this.#e[e]=this.#i.get(t)??i}recordFutureForcedDependency(e,t){return this.recordIncrementalData(Lo,t),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const t of e)t in this.#e&&this.recordFutureForcedDependency(t,this.#e[t]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of this.#l)this.recordFutureForcedDependency(Lo,e);return this}resetBBox(e){return this.#c!==e&&(this.#c=e,this.#o[0]=1/0,this.#o[1]=1/0,this.#o[2]=-1/0,this.#o[3]=-1/0),this}recordClipBox(e,t,i,r,s,l){const c=ue.multiplyByDOMMatrix(this.#s.at(-1),t.getTransform()),d=[1/0,1/0,-1/0,-1/0];ue.axialAlignedBoundingBox([i,s,r,l],c,d);const f=ue.intersect(this.#r,d);return f?(this.#r[0]=f[0],this.#r[1]=f[1],this.#r[2]=f[2],this.#r[3]=f[3]):(this.#r[0]=this.#r[1]=1/0,this.#r[2]=this.#r[3]=-1/0),this}recordBBox(e,t,i,r,s,l){const c=this.#r;if(c[0]===1/0)return this;const d=ue.multiplyByDOMMatrix(this.#s.at(-1),t.getTransform());if(c[0]===-1/0)return ue.axialAlignedBoundingBox([i,s,r,l],d,this.#o),this;const f=[1/0,1/0,-1/0,-1/0];return ue.axialAlignedBoundingBox([i,s,r,l],d,f),this.#o[0]=Math.min(this.#o[0],Math.max(f[0],c[0])),this.#o[1]=Math.min(this.#o[1],Math.max(f[1],c[1])),this.#o[2]=Math.max(this.#o[2],Math.min(f[2],c[2])),this.#o[3]=Math.max(this.#o[3],Math.min(f[3],c[3])),this}recordCharacterBBox(e,t,i,r=1,s=0,l=0,c){const d=i.bbox;let f,h;if(d&&(f=d[2]!==d[0]&&d[3]!==d[1]&&this.#d.get(i),f!==!1&&(h=[0,0,0,0],ue.axialAlignedBoundingBox(d,i.fontMatrix,h),(r!==1||s!==0||l!==0)&&ue.scaleMinMax([r,0,0,-r,s,l],h),f)))return this.recordBBox(e,t,h[0],h[2],h[1],h[3]);if(!c)return this.recordFullPageBBox(e);const p=c();return d&&h&&f===void 0&&(f=h[0]<=s-p.actualBoundingBoxLeft&&h[2]>=s+p.actualBoundingBoxRight&&h[1]<=l-p.actualBoundingBoxAscent&&h[3]>=l+p.actualBoundingBoxDescent,this.#d.set(i,f),f)?this.recordBBox(e,t,h[0],h[2],h[1],h[3]):this.recordBBox(e,t,s-p.actualBoundingBoxLeft,s+p.actualBoundingBoxRight,l-p.actualBoundingBoxAscent,l+p.actualBoundingBoxDescent)}recordFullPageBBox(e){return this.#o[0]=Math.max(0,this.#r[0]),this.#o[1]=Math.max(0,this.#r[1]),this.#o[2]=Math.min(this.#h,this.#r[2]),this.#o[3]=Math.min(this.#g,this.#r[3]),this}getSimpleIndex(e){return this.#e[e]}recordDependencies(e,t){const i=this.#l,r=this.#e,s=this.#t;for(const l of t)l in this.#e?i.add(r[l]):l in s&&s[l].forEach(i.add,i);return this}recordNamedDependency(e,t){return this.#i.has(t)&&this.#l.add(this.#i.get(t)),this}recordOperation(e,t=!1){if(this.recordDependencies(e,[Lo]),this.#p){const i=Qd(this.#p,e),{dependencies:r}=i;this.#l.forEach(r.add,r),this.#n.forEach(r.add,r),this.#a.forEach(r.add,r),r.delete(e),i.isRenderingOperation=!0}if(this.#c===e){const i=Rw(this.#o[0]*256/this.#h),r=Rw(this.#o[1]*256/this.#g),s=Iw(this.#o[2]*256/this.#h),l=Iw(this.#o[3]*256/this.#g);Zd(this.#m,e,i,r,s,l);for(const c of this.#l)c!==e&&Zd(this.#m,c,i,r,s,l);for(const c of this.#n)c!==e&&Zd(this.#m,c,i,r,s,l);for(const c of this.#a)c!==e&&Zd(this.#m,c,i,r,s,l);t||(this.#l.clear(),this.#c=-1)}return this}recordShowTextOperation(e,t=!1){const i=Array.from(this.#l);this.recordOperation(e,t),this.recordIncrementalData("sameLineText",e);for(const r of i)this.recordIncrementalData("sameLineText",r);return this}bboxToClipBoxDropOperation(e,t=!1){return this.#c===e&&(this.#c=-1,this.#r[0]=Math.max(this.#r[0],this.#o[0]),this.#r[1]=Math.max(this.#r[1],this.#o[1]),this.#r[2]=Math.min(this.#r[2],this.#o[2]),this.#r[3]=Math.min(this.#r[3],this.#o[3]),t||this.#l.clear()),this}_takePendingDependencies(){const e=this.#l;return this.#l=new Set,e}_extractOperation(e){const t=this.#f.get(e);return this.#f.delete(e),t}_pushPendingDependencies(e){for(const t of e)this.#l.add(t)}take(){return this.#d.clear(),new Uj(this.#u,this.#m)}takeDebugMetadata(){return this.#p}}class Df{#e;#t;#i;#n=0;#a=0;constructor(e,t,i){if(e instanceof Df&&e.#i===!!i)return e;this.#e=e,this.#t=t,this.#i=!!i}growOperationsCount(){throw new Error("Unreachable")}save(e){return this.#a++,this.#e.save(this.#t),this}restore(e){return this.#a>0&&(this.#e.restore(this.#t),this.#a--),this}recordOpenMarker(e){return this.#n++,this}getOpenMarker(){return this.#n>0?this.#t:this.#e.getOpenMarker()}recordCloseMarker(e){return this.#n--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return this.#e.pushBaseTransform(e),this}popBaseTransform(){return this.#e.popBaseTransform(),this}recordSimpleData(e,t){return this.#e.recordSimpleData(e,this.#t),this}recordIncrementalData(e,t){return this.#e.recordIncrementalData(e,this.#t),this}resetIncrementalData(e,t){return this.#e.resetIncrementalData(e,this.#t),this}recordNamedData(e,t){return this}recordSimpleDataFromNamed(e,t,i){return this.#e.recordSimpleDataFromNamed(e,t,this.#t),this}recordFutureForcedDependency(e,t){return this.#e.recordFutureForcedDependency(e,this.#t),this}inheritSimpleDataAsFutureForcedDependencies(e){return this.#e.inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return this.#e.inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return this.#i||this.#e.resetBBox(this.#t),this}recordClipBox(e,t,i,r,s,l){return this.#i||this.#e.recordClipBox(this.#t,t,i,r,s,l),this}recordBBox(e,t,i,r,s,l){return this.#i||this.#e.recordBBox(this.#t,t,i,r,s,l),this}recordCharacterBBox(e,t,i,r,s,l,c){return this.#i||this.#e.recordCharacterBBox(this.#t,t,i,r,s,l,c),this}recordFullPageBBox(e){return this.#i||this.#e.recordFullPageBBox(this.#t),this}getSimpleIndex(e){return this.#e.getSimpleIndex(e)}recordDependencies(e,t){return this.#e.recordDependencies(this.#t,t),this}recordNamedDependency(e,t){return this.#e.recordNamedDependency(this.#t,t),this}recordOperation(e){return this.#e.recordOperation(this.#t,!0),this}recordShowTextOperation(e){return this.#e.recordShowTextOperation(this.#t,!0),this}bboxToClipBoxDropOperation(e){return this.#i||this.#e.bboxToClipBoxDropOperation(this.#t,!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}}const xi={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},yn={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Wy(n,e){if(!e)return;const t=e[2]-e[0],i=e[3]-e[1],r=new Path2D;r.rect(e[0],e[1],t,i),n.clip(r)}class cb{isModifyingCurrentTransform(){return!1}getPattern(){Xe("Abstract method `getPattern` called.")}}class $j extends cb{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}isOriginBased(){return this._p0[0]===0&&this._p0[1]===0&&(!this.isRadial()||this._p1[0]===0&&this._p1[1]===0)}isRadial(){return this._type==="radial"}_createGradient(e,t=null){let i,r=this._p0,s=this._p1;if(t&&(r=r.slice(),s=s.slice(),ue.applyTransform(r,t),ue.applyTransform(s,t)),this._type==="axial")i=e.createLinearGradient(r[0],r[1],s[0],s[1]);else if(this._type==="radial"){let l=this._r0,c=this._r1;if(t){const d=new Float32Array(2);ue.singularValueDecompose2dScale(t,d),l*=d[0],c*=d[0]}i=e.createRadialGradient(r[0],r[1],l,s[0],s[1],c)}for(const l of this._colorStops)i.addColorStop(l[0],l[1]);return i}getPattern(e,t,i,r){let s;if(r===yn.STROKE||r===yn.FILL){if(this.isOriginBased()){let g=ue.transform(i,t.baseTransform);this.matrix&&(g=ue.transform(g,this.matrix));const y=.001,S=Math.hypot(g[0],g[1]),A=Math.hypot(g[2],g[3]),x=(g[0]*g[2]+g[1]*g[3])/(S*A);if(Math.abs(x)<y)if(this.isRadial()){if(Math.abs(S-A)<y)return this._createGradient(e,g)}else return this._createGradient(e,g)}const l=t.current.getClippedPathBoundingBox(r,At(e))||[0,0,0,0],c=Math.ceil(l[2]-l[0])||1,d=Math.ceil(l[3]-l[1])||1,f=t.cachedCanvases.getCanvas("pattern",c,d),h=f.context;h.clearRect(0,0,h.canvas.width,h.canvas.height),h.beginPath(),h.rect(0,0,h.canvas.width,h.canvas.height),h.translate(-l[0],-l[1]),i=ue.transform(i,[1,0,0,1,l[0],l[1]]),h.transform(...t.baseTransform),this.matrix&&h.transform(...this.matrix),Wy(h,this._bbox),h.fillStyle=this._createGradient(h),h.fill(),s=e.createPattern(f.canvas,"no-repeat");const p=new DOMMatrix(i);s.setTransform(p)}else Wy(e,this._bbox),s=this._createGradient(e);return s}}function rv(n,e,t,i,r,s,l,c){const d=e.coords,f=e.colors,h=n.data,p=n.width*4;let g;d[t+1]>d[i+1]&&(g=t,t=i,i=g,g=s,s=l,l=g),d[i+1]>d[r+1]&&(g=i,i=r,r=g,g=l,l=c,c=g),d[t+1]>d[i+1]&&(g=t,t=i,i=g,g=s,s=l,l=g);const y=(d[t]+e.offsetX)*e.scaleX,S=(d[t+1]+e.offsetY)*e.scaleY,A=(d[i]+e.offsetX)*e.scaleX,x=(d[i+1]+e.offsetY)*e.scaleY,E=(d[r]+e.offsetX)*e.scaleX,O=(d[r+1]+e.offsetY)*e.scaleY;if(S>=O)return;const T=f[s],P=f[s+1],M=f[s+2],_=f[l],N=f[l+1],j=f[l+2],F=f[c],X=f[c+1],$=f[c+2],q=Math.round(S),se=Math.round(O);let re,ce,B,H,ie,le,pe,I;for(let K=q;K<=se;K++){if(K<x){const de=K<S?0:(S-K)/(S-x);re=y-(y-A)*de,ce=T-(T-_)*de,B=P-(P-N)*de,H=M-(M-j)*de}else{let de;K>O?de=1:x===O?de=0:de=(x-K)/(x-O),re=A-(A-E)*de,ce=_-(_-F)*de,B=N-(N-X)*de,H=j-(j-$)*de}let ne;K<S?ne=0:K>O?ne=1:ne=(S-K)/(S-O),ie=y-(y-E)*ne,le=T-(T-F)*ne,pe=P-(P-X)*ne,I=M-(M-$)*ne;const oe=Math.round(Math.min(re,ie)),ve=Math.round(Math.max(re,ie));let xe=p*K+oe*4;for(let de=oe;de<=ve;de++)ne=(re-de)/(re-ie),ne<0?ne=0:ne>1&&(ne=1),h[xe++]=ce-(ce-le)*ne|0,h[xe++]=B-(B-pe)*ne|0,h[xe++]=H-(H-I)*ne|0,h[xe++]=255}}function qj(n,e,t){const i=e.coords,r=e.colors;let s,l;switch(e.type){case Hy.LATTICE:const c=e.verticesPerRow,d=Math.floor(i.length/c)-1,f=c-1;for(s=0;s<d;s++){let h=s*c;for(let p=0;p<f;p++,h++)rv(n,t,i[h],i[h+1],i[h+c],r[h],r[h+1],r[h+c]),rv(n,t,i[h+c+1],i[h+1],i[h+c],r[h+c+1],r[h+1],r[h+c])}break;case Hy.TRIANGLES:for(s=0,l=i.length;s<l;s+=3)rv(n,t,i[s],i[s+1],i[s+2],r[s],r[s+1],r[s+2]);break;default:throw new Error("illegal figure")}}class Gj extends cb{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,i){const c=Math.floor(this._bounds[0]),d=Math.floor(this._bounds[1]),f=Math.ceil(this._bounds[2])-c,h=Math.ceil(this._bounds[3])-d,p=Math.min(Math.ceil(Math.abs(f*e[0]*1.1)),3e3),g=Math.min(Math.ceil(Math.abs(h*e[1]*1.1)),3e3),y=f/p,S=h/g,A={coords:this._coords,colors:this._colors,offsetX:-c,offsetY:-d,scaleX:1/y,scaleY:1/S},x=p+4,E=g+4,O=i.getCanvas("mesh",x,E),T=O.context,P=T.createImageData(p,g);if(t){const _=P.data;for(let N=0,j=_.length;N<j;N+=4)_[N]=t[0],_[N+1]=t[1],_[N+2]=t[2],_[N+3]=255}for(const _ of this._figures)qj(P,_,A);return T.putImageData(P,2,2),{canvas:O.canvas,offsetX:c-2*y,offsetY:d-2*S,scaleX:y,scaleY:S}}isModifyingCurrentTransform(){return!0}getPattern(e,t,i,r){Wy(e,this._bbox);const s=new Float32Array(2);if(r===yn.SHADING)ue.singularValueDecompose2dScale(At(e),s);else if(this.matrix){ue.singularValueDecompose2dScale(this.matrix,s);const[c,d]=s;ue.singularValueDecompose2dScale(t.baseTransform,s),s[0]*=c,s[1]*=d}else ue.singularValueDecompose2dScale(t.baseTransform,s);const l=this._createMeshCanvas(s,r===yn.SHADING?null:this._background,t.cachedCanvases);return r!==yn.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(l.offsetX,l.offsetY),e.scale(l.scaleX,l.scaleY),e.createPattern(l.canvas,"no-repeat")}}class Vj extends cb{getPattern(){return"hotpink"}}function Yj(n){switch(n[0]){case"RadialAxial":return new $j(n);case"Mesh":return new Gj(n);case"Dummy":return new Vj}throw new Error(`Unknown IR type: ${n[0]}`)}const kw={COLORED:1,UNCOLORED:2};class ub{static MAX_PATTERN_SIZE=3e3;constructor(e,t,i,r){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=i,this.baseTransform=r}createPatternCanvas(e,t){const{bbox:i,operatorList:r,paintType:s,tilingType:l,color:c,canvasGraphicsFactory:d}=this;let{xstep:f,ystep:h}=this;f=Math.abs(f),h=Math.abs(h),_h("TilingType: "+l);const p=i[0],g=i[1],y=i[2],S=i[3],A=y-p,x=S-g,E=new Float32Array(2);ue.singularValueDecompose2dScale(this.matrix,E);const[O,T]=E;ue.singularValueDecompose2dScale(this.baseTransform,E);const P=O*E[0],M=T*E[1];let _=A,N=x,j=!1,F=!1;const X=Math.ceil(f*P),$=Math.ceil(h*M),q=Math.ceil(A*P),se=Math.ceil(x*M);X>=q?_=f:j=!0,$>=se?N=h:F=!0;const re=this.getSizeAndScale(_,this.ctx.canvas.width,P),ce=this.getSizeAndScale(N,this.ctx.canvas.height,M),B=e.cachedCanvases.getCanvas("pattern",re.size,ce.size),H=B.context,ie=d.createCanvasGraphics(H,t);if(ie.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(ie,s,c),H.translate(-re.scale*p,-ce.scale*g),ie.transform(0,re.scale,0,0,ce.scale,0,0),H.save(),ie.dependencyTracker?.save(),this.clipBbox(ie,p,g,y,S),ie.baseTransform=At(ie.ctx),ie.executeOperatorList(r),ie.endDrawing(),ie.dependencyTracker?.restore(),H.restore(),j||F){const le=B.canvas;j&&(_=f),F&&(N=h);const pe=this.getSizeAndScale(_,this.ctx.canvas.width,P),I=this.getSizeAndScale(N,this.ctx.canvas.height,M),K=pe.size,ne=I.size,oe=e.cachedCanvases.getCanvas("pattern-workaround",K,ne),ve=oe.context,xe=j?Math.floor(A/f):0,de=F?Math.floor(x/h):0;for(let ut=0;ut<=xe;ut++)for(let J=0;J<=de;J++)ve.drawImage(le,K*ut,ne*J,K,ne,0,0,K,ne);return{canvas:oe.canvas,scaleX:pe.scale,scaleY:I.scale,offsetX:p,offsetY:g}}return{canvas:B.canvas,scaleX:re.scale,scaleY:ce.scale,offsetX:p,offsetY:g}}getSizeAndScale(e,t,i){const r=Math.max(ub.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*i);return s>=r?s=r:i=s/e,{scale:i,size:s}}clipBbox(e,t,i,r,s){const l=r-t,c=s-i;e.ctx.rect(t,i,l,c),ue.axialAlignedBoundingBox([t,i,r,s],At(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,i){const r=e.ctx,s=e.current;switch(t){case kw.COLORED:const{fillStyle:l,strokeStyle:c}=this.ctx;r.fillStyle=s.fillColor=l,r.strokeStyle=s.strokeColor=c;break;case kw.UNCOLORED:r.fillStyle=r.strokeStyle=i,s.fillColor=s.strokeColor=i;break;default:throw new aj(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,i,r,s){let l=i;r!==yn.SHADING&&(l=ue.transform(l,t.baseTransform),this.matrix&&(l=ue.transform(l,this.matrix)));const c=this.createPatternCanvas(t,s);let d=new DOMMatrix(l);d=d.translate(c.offsetX,c.offsetY),d=d.scale(1/c.scaleX,1/c.scaleY);const f=e.createPattern(c.canvas,"repeat");return f.setTransform(d),f}}function Xj({src:n,srcPos:e=0,dest:t,width:i,height:r,nonBlackColor:s=4294967295,inverseDecode:l=!1}){const c=Vt.isLittleEndian?4278190080:255,[d,f]=l?[s,c]:[c,s],h=i>>3,p=i&7,g=n.length;t=new Uint32Array(t.buffer);let y=0;for(let S=0;S<r;S++){for(const x=e+h;e<x;e++){const E=e<g?n[e]:255;t[y++]=E&128?f:d,t[y++]=E&64?f:d,t[y++]=E&32?f:d,t[y++]=E&16?f:d,t[y++]=E&8?f:d,t[y++]=E&4?f:d,t[y++]=E&2?f:d,t[y++]=E&1?f:d}if(p===0)continue;const A=e<g?n[e++]:255;for(let x=0;x<p;x++)t[y++]=A&1<<7-x?f:d}return{srcPos:e,destPos:y}}const jw=16,Bw=100,Kj=15,zw=10,$n=16,av=new DOMMatrix,ai=new Float32Array(2),qo=new Float32Array([1/0,1/0,-1/0,-1/0]);function Wj(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(t,i){e.translate(t,i),this.__originalTranslate(t,i)},n.scale=function(t,i){e.scale(t,i),this.__originalScale(t,i)},n.transform=function(t,i,r,s,l,c){e.transform(t,i,r,s,l,c),this.__originalTransform(t,i,r,s,l,c)},n.setTransform=function(t,i,r,s,l,c){e.setTransform(t,i,r,s,l,c),this.__originalSetTransform(t,i,r,s,l,c)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(t){e.rotate(t),this.__originalRotate(t)},n.clip=function(t){e.clip(t),this.__originalClip(t)},n.moveTo=function(t,i){e.moveTo(t,i),this.__originalMoveTo(t,i)},n.lineTo=function(t,i){e.lineTo(t,i),this.__originalLineTo(t,i)},n.bezierCurveTo=function(t,i,r,s,l,c){e.bezierCurveTo(t,i,r,s,l,c),this.__originalBezierCurveTo(t,i,r,s,l,c)},n.rect=function(t,i,r,s){e.rect(t,i,r,s),this.__originalRect(t,i,r,s)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class Zj{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,i){let r;return this.cache[e]!==void 0?(r=this.cache[e],this.canvasFactory.reset(r,t,i)):(r=this.canvasFactory.create(t,i),this.cache[e]=r),r}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function Jd(n,e,t,i,r,s,l,c,d,f){const[h,p,g,y,S,A]=At(n);if(p===0&&g===0){const O=l*h+S,T=Math.round(O),P=c*y+A,M=Math.round(P),_=(l+d)*h+S,N=Math.abs(Math.round(_)-T)||1,j=(c+f)*y+A,F=Math.abs(Math.round(j)-M)||1;return n.setTransform(Math.sign(h),0,0,Math.sign(y),T,M),n.drawImage(e,t,i,r,s,0,0,N,F),n.setTransform(h,p,g,y,S,A),[N,F]}if(h===0&&y===0){const O=c*g+S,T=Math.round(O),P=l*p+A,M=Math.round(P),_=(c+f)*g+S,N=Math.abs(Math.round(_)-T)||1,j=(l+d)*p+A,F=Math.abs(Math.round(j)-M)||1;return n.setTransform(0,Math.sign(p),Math.sign(g),0,T,M),n.drawImage(e,t,i,r,s,0,0,F,N),n.setTransform(h,p,g,y,S,A),[F,N]}n.drawImage(e,t,i,r,s,l,c,d,f);const x=Math.hypot(h,p),E=Math.hypot(g,y);return[x*d,E*f]}class Fw{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=Uy;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=$t.FILL;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(e,t,i){i?.(this),this.clipBox=new Float32Array([0,0,e,t]),this.minMax=qo.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=yn.FILL,t=null){const i=this.minMax.slice();if(e===yn.STROKE){t||Xe("Stroke bounding box must include transform."),ue.singularValueDecompose2dScale(t,ai);const r=ai[0]*this.lineWidth/2,s=ai[1]*this.lineWidth/2;i[0]-=r,i[1]-=s,i[2]+=r,i[3]+=s}return i}updateClipFromPath(){const e=ue.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(qo,0)}getClippedPathBoundingBox(e=yn.FILL,t=null){return ue.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function Uw(n,e){if(e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,i=e.width,r=t%$n,s=(t-r)/$n,l=r===0?s:s+1,c=n.createImageData(i,$n);let d=0,f;const h=e.data,p=c.data;let g,y,S,A;if(e.kind===Sf.GRAYSCALE_1BPP){const x=h.byteLength,E=new Uint32Array(p.buffer,0,p.byteLength>>2),O=E.length,T=i+7>>3,P=4294967295,M=Vt.isLittleEndian?4278190080:255;for(g=0;g<l;g++){for(S=g<s?$n:r,f=0,y=0;y<S;y++){const _=x-d;let N=0;const j=_>T?i:_*8-7,F=j&-8;let X=0,$=0;for(;N<F;N+=8)$=h[d++],E[f++]=$&128?P:M,E[f++]=$&64?P:M,E[f++]=$&32?P:M,E[f++]=$&16?P:M,E[f++]=$&8?P:M,E[f++]=$&4?P:M,E[f++]=$&2?P:M,E[f++]=$&1?P:M;for(;N<j;N++)X===0&&($=h[d++],X=128),E[f++]=$&X?P:M,X>>=1}for(;f<O;)E[f++]=0;n.putImageData(c,0,g*$n)}}else if(e.kind===Sf.RGBA_32BPP){for(y=0,A=i*$n*4,g=0;g<s;g++)p.set(h.subarray(d,d+A)),d+=A,n.putImageData(c,0,y),y+=$n;g<l&&(A=i*r*4,p.set(h.subarray(d,d+A)),n.putImageData(c,0,y))}else if(e.kind===Sf.RGB_24BPP)for(S=$n,A=i*S,g=0;g<l;g++){for(g>=s&&(S=r,A=i*S),f=0,y=A;y--;)p[f++]=h[d++],p[f++]=h[d++],p[f++]=h[d++],p[f++]=255;n.putImageData(c,0,g*$n)}else throw new Error(`bad image kind: ${e.kind}`)}function Hw(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,i=e.width,r=t%$n,s=(t-r)/$n,l=r===0?s:s+1,c=n.createImageData(i,$n);let d=0;const f=e.data,h=c.data;for(let p=0;p<l;p++){const g=p<s?$n:r;({srcPos:d}=Xj({src:f,srcPos:d,dest:h,width:i,height:g,nonBlackColor:0})),n.putImageData(c,0,p*$n)}}function yc(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of t)n[i]!==void 0&&(e[i]=n[i]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function ef(n){n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0);const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}function $w(n,e){if(e)return!0;ue.singularValueDecompose2dScale(n,ai);const t=Math.fround(lr.pixelRatio*tl.PDF_TO_CSS_UNITS);return ai[0]<=t&&ai[1]<=t}const Qj=["butt","round","square"],Jj=["miter","round","bevel"],eB={},qw={};class Wo{constructor(e,t,i,r,s,{optionalContentConfig:l,markedContentStack:c=null},d,f,h){this.ctx=e,this.current=new Fw(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=i,this.canvasFactory=r,this.filterFactory=s,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=c||[],this.optionalContentConfig=l,this.cachedCanvases=new Zj(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=d,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=f,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=h??null}getObject(e,t,i=null){return typeof t=="string"?(this.dependencyTracker?.recordNamedDependency(e,t),t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t)):i}beginDrawing({transform:e,viewport:t,transparency:i=!1,background:r=null}){const s=this.ctx.canvas.width,l=this.ctx.canvas.height,c=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,s,l),this.ctx.fillStyle=c,i){const d=this.cachedCanvases.getCanvas("transparent",s,l);this.compositeCtx=this.ctx,this.transparentCanvas=d.canvas,this.ctx=d.context,this.ctx.save(),this.ctx.transform(...At(this.compositeCtx))}this.ctx.save(),ef(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=At(this.ctx)}executeOperatorList(e,t,i,r,s){const l=e.argsArray,c=e.fnArray;let d=t||0;const f=l.length;if(f===d)return d;const h=f-d>zw&&typeof i=="function",p=h?Date.now()+Kj:0;let g=0;const y=this.commonObjs,S=this.objs;let A,x;for(;;){if(r!==void 0&&d===r.nextBreakPoint)return r.breakIt(d,i),d;if(!s||s(d))if(A=c[d],x=l[d]??null,A!==Uc.dependency)x===null?this[A](d):this[A](d,...x);else for(const E of x){this.dependencyTracker?.recordNamedData(E,d);const O=E.startsWith("g_")?y:S;if(!O.has(E))return O.get(E,i),d}if(d++,d===f)return d;if(h&&++g>zw){if(Date.now()>p)return i(),d;g=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}}_scaleImage(e,t){const i=e.width??e.displayWidth,r=e.height??e.displayHeight;let s=Math.max(Math.hypot(t[0],t[1]),1),l=Math.max(Math.hypot(t[2],t[3]),1),c=i,d=r,f="prescale1",h,p;for(;s>2&&c>1||l>2&&d>1;){let g=c,y=d;s>2&&c>1&&(g=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c/2),s/=c/g),l>2&&d>1&&(y=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d)/2,l/=d/y),h=this.cachedCanvases.getCanvas(f,g,y),p=h.context,p.clearRect(0,0,g,y),p.drawImage(e,0,0,c,d,0,0,g,y),e=h.canvas,c=g,d=y,f=f==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:c,paintHeight:d}}_createMaskCanvas(e,t){const i=this.ctx,{width:r,height:s}=t,l=this.current.fillColor,c=this.current.patternFill,d=At(i);let f,h,p,g;if((t.bitmap||t.data)&&t.count>1){const X=t.bitmap||t.data.buffer;h=JSON.stringify(c?d:[d.slice(0,4),l]),f=this._cachedBitmapsMap.get(X),f||(f=new Map,this._cachedBitmapsMap.set(X,f));const $=f.get(h);if($&&!c){const q=Math.round(Math.min(d[0],d[2])+d[4]),se=Math.round(Math.min(d[1],d[3])+d[5]);return this.dependencyTracker?.recordDependencies(e,xi.transformAndFill),{canvas:$,offsetX:q,offsetY:se}}p=$}p||(g=this.cachedCanvases.getCanvas("maskCanvas",r,s),Hw(g.context,t));let y=ue.transform(d,[1/r,0,0,-1/s,0,0]);y=ue.transform(y,[1,0,0,1,0,-s]);const S=qo.slice();ue.axialAlignedBoundingBox([0,0,r,s],y,S);const[A,x,E,O]=S,T=Math.round(E-A)||1,P=Math.round(O-x)||1,M=this.cachedCanvases.getCanvas("fillCanvas",T,P),_=M.context,N=A,j=x;_.translate(-N,-j),_.transform(...y),p||(p=this._scaleImage(g.canvas,Zi(_)),p=p.img,f&&c&&f.set(h,p)),_.imageSmoothingEnabled=$w(At(_),t.interpolate),Jd(_,p,0,0,p.width,p.height,0,0,r,s),_.globalCompositeOperation="source-in";const F=ue.transform(Zi(_),[1,0,0,1,-N,-j]);return _.fillStyle=c?l.getPattern(i,this,F,yn.FILL,e):l,_.fillRect(0,0,r,s),f&&!c&&(this.cachedCanvases.delete("fillCanvas"),f.set(h,M.canvas)),this.dependencyTracker?.recordDependencies(e,xi.transformAndFill),{canvas:M.canvas,offsetX:Math.round(N),offsetY:Math.round(j)}}setLineWidth(e,t){this.dependencyTracker?.recordSimpleData("lineWidth",e),t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(e,t){this.dependencyTracker?.recordSimpleData("lineCap",e),this.ctx.lineCap=Qj[t]}setLineJoin(e,t){this.dependencyTracker?.recordSimpleData("lineJoin",e),this.ctx.lineJoin=Jj[t]}setMiterLimit(e,t){this.dependencyTracker?.recordSimpleData("miterLimit",e),this.ctx.miterLimit=t}setDash(e,t,i){this.dependencyTracker?.recordSimpleData("dash",e);const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(t),r.lineDashOffset=i)}setRenderingIntent(e,t){}setFlatness(e,t){}setGState(e,t){for(const[i,r]of t)switch(i){case"LW":this.setLineWidth(e,r);break;case"LC":this.setLineCap(e,r);break;case"LJ":this.setLineJoin(e,r);break;case"ML":this.setMiterLimit(e,r);break;case"D":this.setDash(e,r[0],r[1]);break;case"RI":this.setRenderingIntent(e,r);break;case"FL":this.setFlatness(e,r);break;case"Font":this.setFont(e,r[0],r[1]);break;case"CA":this.dependencyTracker?.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=r;break;case"ca":this.dependencyTracker?.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=r;break;case"BM":this.dependencyTracker?.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=r;break;case"SMask":this.dependencyTracker?.recordSimpleData("SMask",e),this.current.activeSMask=r?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.dependencyTracker?.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(r);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,i=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(r,t,i);this.suspendedCtx=this.ctx;const l=this.ctx=s.context;l.setTransform(this.suspendedCtx.getTransform()),yc(this.suspendedCtx,l),Wj(l,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),yc(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,i,r){const s=r[0],l=r[1],c=r[2]-s,d=r[3]-l;c===0||d===0||(this.genericComposeSMask(t.context,i,c,d,t.subtype,t.backdrop,t.transferMap,s,l,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(i.canvas,0,0),e.restore())}genericComposeSMask(e,t,i,r,s,l,c,d,f,h,p){let g=e.canvas,y=d-h,S=f-p;if(l)if(y<0||S<0||y+i>g.width||S+r>g.height){const x=this.cachedCanvases.getCanvas("maskExtension",i,r),E=x.context;E.drawImage(g,-y,-S),E.globalCompositeOperation="destination-atop",E.fillStyle=l,E.fillRect(0,0,i,r),E.globalCompositeOperation="source-over",g=x.canvas,y=S=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const x=new Path2D;x.rect(y,S,i,r),e.clip(x),e.globalCompositeOperation="destination-atop",e.fillStyle=l,e.fillRect(y,S,i,r),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),s==="Alpha"&&c?t.filter=this.filterFactory.addAlphaFilter(c):s==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(c));const A=new Path2D;A.rect(d,f,i,r),t.clip(A),t.globalCompositeOperation="destination-in",t.drawImage(g,y,S,i,r,d,f,i,r),t.restore()}save(e){this.inSMaskMode&&yc(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone(),this.dependencyTracker?.save(e)}restore(e){if(this.dependencyTracker?.restore(e),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&yc(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,t,i,r,s,l,c){this.dependencyTracker?.recordIncrementalData("transform",e),this.ctx.transform(t,i,r,s,l,c),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,i,r){let[s]=i;if(!r){s||=i[0]=new Path2D,this[t](e,s);return}if(this.dependencyTracker!==null){const l=t===Uc.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,r[0]-l,r[2]+l,r[1]-l,r[3]+l).recordDependencies(e,["transform"])}s instanceof Path2D||(s=i[0]=QM(s)),ue.axialAlignedBoundingBox(r,At(this.ctx),this.current.minMax),this[t](e,s),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,t,i=!0){const r=this.ctx,s=this.current.strokeColor;if(r.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof s=="object"&&s?.getPattern){const l=s.isModifyingCurrentTransform()?r.getTransform():null;if(r.save(),r.strokeStyle=s.getPattern(r,this,Zi(r),yn.STROKE,e),l){const c=new Path2D;c.addPath(t,r.getTransform().invertSelf().multiplySelf(l)),t=c}this.rescaleAndStroke(t,!1),r.restore()}else this.rescaleAndStroke(t,!0);this.dependencyTracker?.recordDependencies(e,xi.stroke),i&&this.consumePath(e,t,this.current.getClippedPathBoundingBox(yn.STROKE,At(this.ctx))),r.globalAlpha=this.current.fillAlpha}closeStroke(e,t){this.stroke(e,t)}fill(e,t,i=!0){const r=this.ctx,s=this.current.fillColor,l=this.current.patternFill;let c=!1;if(l){const f=s.isModifyingCurrentTransform()?r.getTransform():null;if(this.dependencyTracker?.save(e),r.save(),r.fillStyle=s.getPattern(r,this,Zi(r),yn.FILL,e),f){const h=new Path2D;h.addPath(t,r.getTransform().invertSelf().multiplySelf(f)),t=h}c=!0}const d=this.current.getClippedPathBoundingBox();this.contentVisible&&d!==null&&(this.pendingEOFill?(r.fill(t,"evenodd"),this.pendingEOFill=!1):r.fill(t)),this.dependencyTracker?.recordDependencies(e,xi.fill),c&&(r.restore(),this.dependencyTracker?.restore(e)),i&&this.consumePath(e,t,d)}eoFill(e,t){this.pendingEOFill=!0,this.fill(e,t)}fillStroke(e,t){this.fill(e,t,!1),this.stroke(e,t,!1),this.consumePath(e,t)}eoFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}closeFillStroke(e,t){this.fillStroke(e,t)}closeEOFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}endPath(e,t){this.consumePath(e,t)}rawFillPath(e,t){this.ctx.fill(t),this.dependencyTracker?.recordDependencies(e,xi.rawFillPath).recordOperation(e)}clip(e){this.dependencyTracker?.recordFutureForcedDependency("clipMode",e),this.pendingClip=eB}eoClip(e){this.dependencyTracker?.recordFutureForcedDependency("clipMode",e),this.pendingClip=qw}beginText(e){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,this.dependencyTracker?.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const t=this.pendingTextPaths,i=this.ctx;if(this.dependencyTracker){const{dependencyTracker:r}=this;t!==void 0&&r.recordFutureForcedDependency("textClip",r.getOpenMarker()).recordFutureForcedDependency("textClip",e),r.recordCloseMarker(e)}if(t!==void 0){const r=new Path2D,s=i.getTransform().invertSelf();for(const{transform:l,x:c,y:d,fontSize:f,path:h}of t)h&&r.addPath(h,new DOMMatrix(l).preMultiplySelf(s).translate(c,d).scale(f,-f));i.clip(r)}delete this.pendingTextPaths}setCharSpacing(e,t){this.dependencyTracker?.recordSimpleData("charSpacing",e),this.current.charSpacing=t}setWordSpacing(e,t){this.dependencyTracker?.recordSimpleData("wordSpacing",e),this.current.wordSpacing=t}setHScale(e,t){this.dependencyTracker?.recordSimpleData("hScale",e),this.current.textHScale=t/100}setLeading(e,t){this.dependencyTracker?.recordSimpleData("leading",e),this.current.leading=-t}setFont(e,t,i){this.dependencyTracker?.recordSimpleData("font",e).recordSimpleDataFromNamed("fontObj",t,e);const r=this.commonObjs.get(t),s=this.current;if(!r)throw new Error(`Can't find font for ${t}`);if(s.fontMatrix=r.fontMatrix||Uy,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&we("Invalid font matrix for font "+t),i<0?(i=-i,s.fontDirection=-1):s.fontDirection=1,this.current.font=r,this.current.fontSize=i,r.isType3Font)return;const l=r.loadedName||"sans-serif",c=r.systemFontInfo?.css||`"${l}", ${r.fallbackName}`;let d="normal";r.black?d="900":r.bold&&(d="bold");const f=r.italic?"italic":"normal";let h=i;i<jw?h=jw:i>Bw&&(h=Bw),this.current.fontSizeScale=i/h,this.ctx.font=`${f} ${d} ${h}px ${c}`}setTextRenderingMode(e,t){this.dependencyTracker?.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=t}setTextRise(e,t){this.dependencyTracker?.recordSimpleData("textRise",e),this.current.textRise=t}moveText(e,t,i){this.dependencyTracker?.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=i}setLeadingMoveText(e,t,i){this.setLeading(e,-i),this.moveText(e,t,i)}setTextMatrix(e,t){this.dependencyTracker?.resetIncrementalData("sameLineText").recordSimpleData("textMatrix",e);const{current:i}=this;i.textMatrix=t,i.textMatrixScale=Math.hypot(t[0],t[1]),i.x=i.lineX=0,i.y=i.lineY=0}nextLine(e){this.moveText(e,0,this.current.leading),this.dependencyTracker?.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}#i(e,t,i){const r=new Path2D;return r.addPath(e,new DOMMatrix(i).invertSelf().multiplySelf(t)),r}paintChar(e,t,i,r,s,l){const c=this.ctx,d=this.current,f=d.font,h=d.textRenderingMode,p=d.fontSize/d.fontSizeScale,g=h&$t.FILL_STROKE_MASK,y=!!(h&$t.ADD_TO_PATH_FLAG),S=d.patternFill&&!f.missingFile,A=d.patternStroke&&!f.missingFile;let x;if((f.disableFontFace||y||S||A)&&!f.missingFile&&(x=f.getPathGenerator(this.commonObjs,t)),x&&(f.disableFontFace||S||A)){c.save(),c.translate(i,r),c.scale(p,-p),this.dependencyTracker?.recordCharacterBBox(e,c,f);let E;if(g===$t.FILL||g===$t.FILL_STROKE)if(s){E=c.getTransform(),c.setTransform(...s);const O=this.#i(x,E,s);c.fill(O)}else c.fill(x);if(g===$t.STROKE||g===$t.FILL_STROKE)if(l){E||=c.getTransform(),c.setTransform(...l);const{a:O,b:T,c:P,d:M}=E,_=ue.inverseTransform(l),N=ue.transform([O,T,P,M,0,0],_);ue.singularValueDecompose2dScale(N,ai),c.lineWidth*=Math.max(ai[0],ai[1])/p,c.stroke(this.#i(x,E,l))}else c.lineWidth/=p,c.stroke(x);c.restore()}else(g===$t.FILL||g===$t.FILL_STROKE)&&(c.fillText(t,i,r),this.dependencyTracker?.recordCharacterBBox(e,c,f,p,i,r,()=>c.measureText(t))),(g===$t.STROKE||g===$t.FILL_STROKE)&&(this.dependencyTracker&&this.dependencyTracker?.recordCharacterBBox(e,c,f,p,i,r,()=>c.measureText(t)).recordDependencies(e,xi.stroke),c.strokeText(t,i,r));y&&((this.pendingTextPaths||=[]).push({transform:At(c),x:i,y:r,fontSize:p,path:x}),this.dependencyTracker?.recordCharacterBBox(e,c,f,p,i,r))}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let i=!1;for(let r=3;r<t.length;r+=4)if(t[r]>0&&t[r]<255){i=!0;break}return Ce(this,"isFontSubpixelAAEnabled",i)}showText(e,t){this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,xi.showText).resetBBox(e),this.current.textRenderingMode&$t.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const i=this.current,r=i.font;if(r.isType3Font){this.showType3Text(e,t),this.dependencyTracker?.recordShowTextOperation(e);return}const s=i.fontSize;if(s===0){this.dependencyTracker?.recordOperation(e);return}const l=this.ctx,c=i.fontSizeScale,d=i.charSpacing,f=i.wordSpacing,h=i.fontDirection,p=i.textHScale*h,g=t.length,y=r.vertical,S=y?1:-1,A=r.defaultVMetrics,x=s*i.fontMatrix[0],E=i.textRenderingMode===$t.FILL&&!r.disableFontFace&&!i.patternFill;l.save(),i.textMatrix&&l.transform(...i.textMatrix),l.translate(i.x,i.y+i.textRise),h>0?l.scale(p,-1):l.scale(p,1);let O,T;const P=i.textRenderingMode&$t.FILL_STROKE_MASK,M=P===$t.FILL||P===$t.FILL_STROKE,_=P===$t.STROKE||P===$t.FILL_STROKE;if(M&&i.patternFill){l.save();const $=i.fillColor.getPattern(l,this,Zi(l),yn.FILL,e);O=At(l),l.restore(),l.fillStyle=$}if(_&&i.patternStroke){l.save();const $=i.strokeColor.getPattern(l,this,Zi(l),yn.STROKE,e);T=At(l),l.restore(),l.strokeStyle=$}let N=i.lineWidth;const j=i.textMatrixScale;if(j===0||N===0?_&&(N=this.getSinglePixelWidth()):N/=j,c!==1&&(l.scale(c,c),N/=c),l.lineWidth=N,r.isInvalidPDFjsFont){const $=[];let q=0;for(const re of t)$.push(re.unicode),q+=re.width;const se=$.join("");if(l.fillText(se,0,0),this.dependencyTracker!==null){const re=l.measureText(se);this.dependencyTracker.recordBBox(e,this.ctx,-re.actualBoundingBoxLeft,re.actualBoundingBoxRight,-re.actualBoundingBoxAscent,re.actualBoundingBoxDescent).recordShowTextOperation(e)}i.x+=q*x*p,l.restore(),this.compose();return}let F=0,X;for(X=0;X<g;++X){const $=t[X];if(typeof $=="number"){F+=S*$*s/1e3;continue}let q=!1;const se=($.isSpace?f:0)+d,re=$.fontChar,ce=$.accent;let B,H,ie=$.width;if(y){const I=$.vmetric||A,K=-($.vmetric?I[1]:ie*.5)*x,ne=I[2]*x;ie=I?-I[0]:ie,B=K/c,H=(F+ne)/c}else B=F/c,H=0;let le;if(r.remeasure&&ie>0){le=l.measureText(re);const I=le.width*1e3/s*c;if(ie<I&&this.isFontSubpixelAAEnabled){const K=ie/I;q=!0,l.save(),l.scale(K,1),B/=K}else ie!==I&&(B+=(ie-I)/2e3*s/c)}if(this.contentVisible&&($.isInFont||r.missingFile)){if(E&&!ce)l.fillText(re,B,H),this.dependencyTracker?.recordCharacterBBox(e,l,le?{bbox:null}:r,s/c,B,H,()=>le??l.measureText(re));else if(this.paintChar(e,re,B,H,O,T),ce){const I=B+s*ce.offset.x/c,K=H-s*ce.offset.y/c;this.paintChar(e,ce.fontChar,I,K,O,T)}}const pe=y?ie*x-se*h:ie*x+se*h;F+=pe,q&&l.restore()}y?i.y-=F:i.x+=F*p,l.restore(),this.compose(),this.dependencyTracker?.recordShowTextOperation(e)}showType3Text(e,t){const i=this.ctx,r=this.current,s=r.font,l=r.fontSize,c=r.fontDirection,d=s.vertical?1:-1,f=r.charSpacing,h=r.wordSpacing,p=r.textHScale*c,g=r.fontMatrix||Uy,y=t.length,S=r.textRenderingMode===$t.INVISIBLE;let A,x,E,O;if(S||l===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,i.save(),r.textMatrix&&i.transform(...r.textMatrix),i.translate(r.x,r.y+r.textRise),i.scale(p,c);const T=this.dependencyTracker;for(this.dependencyTracker=T?new Df(T,e):null,A=0;A<y;++A){if(x=t[A],typeof x=="number"){O=d*x*l/1e3,this.ctx.translate(O,0),r.x+=O*p;continue}const P=(x.isSpace?h:0)+f,M=s.charProcOperatorList[x.operatorListId];M?this.contentVisible&&(this.save(),i.scale(l,l),i.transform(...g),this.executeOperatorList(M),this.restore()):we(`Type3 character "${x.operatorListId}" is not available.`);const _=[x.width,0];ue.applyTransform(_,g),E=_[0]*l+P,i.translate(E,0),r.x+=E*p}i.restore(),T&&(this.dependencyTracker=T)}setCharWidth(e,t,i){}setCharWidthAndBounds(e,t,i,r,s,l,c){const d=new Path2D;d.rect(r,s,l-r,c-s),this.ctx.clip(d),this.dependencyTracker?.recordBBox(e,this.ctx,r,l,s,c).recordClipBox(e,this.ctx,r,l,s,c),this.endPath(e)}getColorN_Pattern(e,t){let i;if(t[0]==="TilingPattern"){const r=this.baseTransform||At(this.ctx),s={createCanvasGraphics:(l,c)=>new Wo(l,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new Df(this.dependencyTracker,c,!0):null)};i=new ub(t,this.ctx,s,r)}else i=this._getPattern(e,t[1],t[2]);return i}setStrokeColorN(e,...t){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,t),this.current.patternStroke=!0}setFillColorN(e,...t){this.dependencyTracker?.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,t),this.current.patternFill=!0}setStrokeRGBColor(e,t){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(e){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,t){this.dependencyTracker?.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(e){this.dependencyTracker?.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t,i=null){let r;return this.cachedPatterns.has(t)?r=this.cachedPatterns.get(t):(r=Yj(this.getObject(e,t)),this.cachedPatterns.set(t,r)),i&&(r.matrix=i),r}shadingFill(e,t){if(!this.contentVisible)return;const i=this.ctx;this.save(e);const r=this._getPattern(e,t);i.fillStyle=r.getPattern(i,this,Zi(i),yn.SHADING,e);const s=Zi(i);if(s){const{width:l,height:c}=i.canvas,d=qo.slice();ue.axialAlignedBoundingBox([0,0,l,c],s,d);const[f,h,p,g]=d;this.ctx.fillRect(f,h,p-f,g-h)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.dependencyTracker?.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,xi.transform).recordDependencies(e,xi.fill).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){Xe("Should not call beginInlineImage")}beginImageData(){Xe("Should not call beginImageData")}paintFormXObjectBegin(e,t,i){if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),t&&this.transform(e,...t),this.baseTransform=At(this.ctx),i)){ue.axialAlignedBoundingBox(i,this.baseTransform,this.current.minMax);const[r,s,l,c]=i,d=new Path2D;d.rect(r,s,l-r,c-s),this.ctx.clip(d),this.dependencyTracker?.recordClipBox(e,this.ctx,r,l,s,c),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,t){if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const i=this.ctx;t.isolated||_h("TODO: Support non-isolated groups."),t.knockout&&we("Knockout groups not supported.");const r=At(i);if(t.matrix&&i.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let s=qo.slice();ue.axialAlignedBoundingBox(t.bbox,At(i),s);const l=[0,0,i.canvas.width,i.canvas.height];s=ue.intersect(s,l)||[0,0,0,0];const c=Math.floor(s[0]),d=Math.floor(s[1]),f=Math.max(Math.ceil(s[2])-c,1),h=Math.max(Math.ceil(s[3])-d,1);this.current.startNewPathAndClipBox([0,0,f,h]);let p="groupAt"+this.groupLevel;t.smask&&(p+="_smask_"+this.smaskCounter++%2);const g=this.cachedCanvases.getCanvas(p,f,h),y=g.context;y.translate(-c,-d),y.transform(...r);let S=new Path2D;const[A,x,E,O]=t.bbox;if(S.rect(A,x,E-A,O-x),t.matrix){const T=new Path2D;T.addPath(S,new DOMMatrix(t.matrix)),S=T}y.clip(S),t.smask&&this.smaskStack.push({canvas:g.canvas,context:y,offsetX:c,offsetY:d,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}),(!t.smask||this.dependencyTracker)&&(i.setTransform(1,0,0,1,0,0),i.translate(c,d),i.save()),yc(i,y),this.ctx=y,this.dependencyTracker?.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(i),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(i),this.groupLevel++}endGroup(e,t){if(!this.contentVisible)return;this.groupLevel--;const i=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,this.dependencyTracker?.popBaseTransform(),t.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const s=At(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...s);const l=qo.slice();ue.axialAlignedBoundingBox([0,0,i.canvas.width,i.canvas.height],s,l),this.ctx.drawImage(i.canvas,0,0),this.ctx.restore(),this.compose(l)}}beginAnnotation(e,t,i,r,s,l){if(this.#e(),ef(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),i){const c=i[2]-i[0],d=i[3]-i[1];if(l&&this.annotationCanvasMap){r=r.slice(),r[4]-=i[0],r[5]-=i[1],i=i.slice(),i[0]=i[1]=0,i[2]=c,i[3]=d,ue.singularValueDecompose2dScale(At(this.ctx),ai);const{viewportScale:f}=this,h=Math.ceil(c*this.outputScaleX*f),p=Math.ceil(d*this.outputScaleY*f);this.annotationCanvas=this.canvasFactory.create(h,p);const{canvas:g,context:y}=this.annotationCanvas;this.annotationCanvasMap.set(t,g),this.annotationCanvas.savedCtx=this.ctx,this.ctx=y,this.ctx.save(),this.ctx.setTransform(ai[0],0,0,-ai[1],0,d*ai[1]),ef(this.ctx)}else{ef(this.ctx),this.endPath(e);const f=new Path2D;f.rect(i[0],i[1],c,d),this.ctx.clip(f)}}this.current=new Fw(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...r),this.transform(e,...s)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,t){if(!this.contentVisible)return;const i=t.count;t=this.getObject(e,t.data,t),t.count=i;const r=this.ctx,s=this._createMaskCanvas(e,t),l=s.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(l,s.offsetX,s.offsetY),this.dependencyTracker?.resetBBox(e).recordBBox(e,this.ctx,s.offsetX,s.offsetX+l.width,s.offsetY,s.offsetY+l.height).recordOperation(e),r.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,i,r=0,s=0,l,c){if(!this.contentVisible)return;t=this.getObject(e,t.data,t);const d=this.ctx;d.save();const f=At(d);d.transform(i,r,s,l,0,0);const h=this._createMaskCanvas(e,t);d.setTransform(1,0,0,1,h.offsetX-f[4],h.offsetY-f[5]),this.dependencyTracker?.resetBBox(e);for(let p=0,g=c.length;p<g;p+=2){const y=ue.transform(f,[i,r,s,l,c[p],c[p+1]]);d.drawImage(h.canvas,y[4],y[5]),this.dependencyTracker?.recordBBox(e,this.ctx,y[4],y[4]+h.canvas.width,y[5],y[5]+h.canvas.height)}d.restore(),this.compose(),this.dependencyTracker?.recordOperation(e)}paintImageMaskXObjectGroup(e,t){if(!this.contentVisible)return;const i=this.ctx,r=this.current.fillColor,s=this.current.patternFill;this.dependencyTracker?.resetBBox(e).recordDependencies(e,xi.transformAndFill);for(const l of t){const{data:c,width:d,height:f,transform:h}=l,p=this.cachedCanvases.getCanvas("maskCanvas",d,f),g=p.context;g.save();const y=this.getObject(e,c,l);Hw(g,y),g.globalCompositeOperation="source-in",g.fillStyle=s?r.getPattern(g,this,Zi(i),yn.FILL,e):r,g.fillRect(0,0,d,f),g.restore(),i.save(),i.transform(...h),i.scale(1,-1),Jd(i,p.canvas,0,0,d,f,0,-1,1,1),this.dependencyTracker?.recordBBox(e,i,0,d,0,f),i.restore()}this.compose(),this.dependencyTracker?.recordOperation(e)}paintImageXObject(e,t){if(!this.contentVisible)return;const i=this.getObject(e,t);if(!i){we("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e,i)}paintImageXObjectRepeat(e,t,i,r,s){if(!this.contentVisible)return;const l=this.getObject(e,t);if(!l){we("Dependent image isn't ready yet");return}const c=l.width,d=l.height,f=[];for(let h=0,p=s.length;h<p;h+=2)f.push({transform:[i,0,0,r,s[h],s[h+1]],x:0,y:0,w:c,h:d});this.paintInlineImageXObjectGroup(e,l,f)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:i,height:r}=e,s=this.cachedCanvases.getCanvas("inlineImage",i,r),l=s.context;return l.filter=this.current.transferMaps,l.drawImage(t,0,0),l.filter="none",s.canvas}paintInlineImageXObject(e,t){if(!this.contentVisible)return;const i=t.width,r=t.height,s=this.ctx;this.save(e);const{filter:l}=s;l!=="none"&&l!==""&&(s.filter="none"),s.scale(1/i,-1/r);let c;if(t.bitmap)c=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)c=t;else{const h=this.cachedCanvases.getCanvas("inlineImage",i,r).context;Uw(h,t),c=this.applyTransferMapsToCanvas(h)}const d=this._scaleImage(c,Zi(s));s.imageSmoothingEnabled=$w(At(s),t.interpolate),this.dependencyTracker?.resetBBox(e).recordBBox(e,s,0,i,-r,0).recordDependencies(e,xi.imageXObject).recordOperation(e),Jd(s,d.img,0,0,d.paintWidth,d.paintHeight,0,-r,i,r),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,t,i){if(!this.contentVisible)return;const r=this.ctx;let s;if(t.bitmap)s=t.bitmap;else{const l=t.width,c=t.height,f=this.cachedCanvases.getCanvas("inlineImage",l,c).context;Uw(f,t),s=this.applyTransferMapsToCanvas(f)}this.dependencyTracker?.resetBBox(e);for(const l of i)r.save(),r.transform(...l.transform),r.scale(1,-1),Jd(r,s,l.x,l.y,l.w,l.h,0,-1,1,1),this.dependencyTracker?.recordBBox(e,r,0,1,-1,0),r.restore();this.dependencyTracker?.recordOperation(e),this.compose()}paintSolidColorImageMask(e){this.contentVisible&&(this.dependencyTracker?.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,xi.fill).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,t){}markPointProps(e,t,i){}beginMarkedContent(e,t){this.dependencyTracker?.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t,i){this.dependencyTracker?.beginMarkedContent(e),t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(i)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){this.dependencyTracker?.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,t,i){const r=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(i);const s=this.ctx;this.pendingClip?(r||(this.pendingClip===qw?s.clip(t,"evenodd"):s.clip(t)),this.pendingClip=null,this.dependencyTracker?.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):this.dependencyTracker?.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=At(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),i=Math.hypot(e[0],e[2]),r=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(i,r)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:i,c:r,d:s}=this.ctx.getTransform();let l,c;if(i===0&&r===0){const d=Math.abs(t),f=Math.abs(s);if(d===f)if(e===0)l=c=1/d;else{const h=d*e;l=c=h<1?1/h:1}else if(e===0)l=1/d,c=1/f;else{const h=d*e,p=f*e;l=h<1?1/h:1,c=p<1?1/p:1}}else{const d=Math.abs(t*s-i*r),f=Math.hypot(t,i),h=Math.hypot(r,s);if(e===0)l=h/d,c=f/d;else{const p=e*d;l=h>p?h/p:1,c=f>p?f/p:1}}this._cachedScaleForStroking[0]=l,this._cachedScaleForStroking[1]=c}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:i,current:{lineWidth:r}}=this,[s,l]=this.getScaleForStroking();if(s===l){i.lineWidth=(r||1)*s,i.stroke(e);return}const c=i.getLineDash();t&&i.save(),i.scale(s,l),av.a=1/s,av.d=1/l;const d=new Path2D;if(d.addPath(e,av),c.length>0){const f=Math.max(s,l);i.setLineDash(c.map(h=>h/f)),i.lineDashOffset/=f}i.lineWidth=r||1,i.stroke(d),t&&i.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}for(const n in Uc)Wo.prototype[n]!==void 0&&(Wo.prototype[Uc[n]]=Wo.prototype[n]);class Zo{static#e=null;static#t="";static get workerPort(){return this.#e}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");this.#e=e}static get workerSrc(){return this.#t}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");this.#t=e}}class tB{#e;#t;constructor({parsedData:e,rawData:t}){this.#e=e,this.#t=t}getRaw(){return this.#t}get(e){return this.#e.get(e)??null}[Symbol.iterator](){return this.#e.entries()}}const Fo=Symbol("INTERNAL");class nB{#e=!1;#t=!1;#i=!1;#n=!0;constructor(e,{name:t,intent:i,usage:r,rbGroups:s}){this.#e=!!(e&ni.DISPLAY),this.#t=!!(e&ni.PRINT),this.name=t,this.intent=i,this.usage=r,this.rbGroups=s}get visible(){if(this.#i)return this.#n;if(!this.#n)return!1;const{print:e,view:t}=this.usage;return this.#e?t?.viewState!=="OFF":this.#t?e?.printState!=="OFF":!0}_setVisible(e,t,i=!1){e!==Fo&&Xe("Internal method `_setVisible` called."),this.#i=i,this.#n=t}}class iB{#e=null;#t=new Map;#i=null;#n=null;constructor(e,t=ni.DISPLAY){if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,this.#n=e.order;for(const i of e.groups)this.#t.set(i.id,new nB(t,i));if(e.baseState==="OFF")for(const i of this.#t.values())i._setVisible(Fo,!1);for(const i of e.on)this.#t.get(i)._setVisible(Fo,!0);for(const i of e.off)this.#t.get(i)._setVisible(Fo,!1);this.#i=this.getHash()}}#a(e){const t=e.length;if(t<2)return!0;const i=e[0];for(let r=1;r<t;r++){const s=e[r];let l;if(Array.isArray(s))l=this.#a(s);else if(this.#t.has(s))l=this.#t.get(s).visible;else return we(`Optional content group not found: ${s}`),!0;switch(i){case"And":if(!l)return!1;break;case"Or":if(l)return!0;break;case"Not":return!l;default:return!0}}return i==="And"}isVisible(e){if(this.#t.size===0)return!0;if(!e)return _h("Optional content group not defined."),!0;if(e.type==="OCG")return this.#t.has(e.id)?this.#t.get(e.id).visible:(we(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return this.#a(e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!this.#t.has(t))return we(`Optional content group not found: ${t}`),!0;if(this.#t.get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!this.#t.has(t))return we(`Optional content group not found: ${t}`),!0;if(!this.#t.get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!this.#t.has(t))return we(`Optional content group not found: ${t}`),!0;if(!this.#t.get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!this.#t.has(t))return we(`Optional content group not found: ${t}`),!0;if(this.#t.get(t).visible)return!1}return!0}return we(`Unknown optional content policy ${e.policy}.`),!0}return we(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,i=!0){const r=this.#t.get(e);if(!r){we(`Optional content group not found: ${e}`);return}if(i&&t&&r.rbGroups.length)for(const s of r.rbGroups)for(const l of s)l!==e&&this.#t.get(l)?._setVisible(Fo,!1,!0);r._setVisible(Fo,!!t,!0),this.#e=null}setOCGState({state:e,preserveRB:t}){let i;for(const r of e){switch(r){case"ON":case"OFF":case"Toggle":i=r;continue}const s=this.#t.get(r);if(s)switch(i){case"ON":this.setVisibility(r,!0,t);break;case"OFF":this.setVisibility(r,!1,t);break;case"Toggle":this.setVisibility(r,!s.visible,t);break}}this.#e=null}get hasInitialVisibility(){return this.#i===null||this.getHash()===this.#i}getOrder(){return this.#t.size?this.#n?this.#n.slice():[...this.#t.keys()]:null}getGroup(e){return this.#t.get(e)||null}getHash(){if(this.#e!==null)return this.#e;const e=new e_;for(const[t,i]of this.#t)e.update(`${t}:${i.visible}`);return this.#e=e.hexdigest()}[Symbol.iterator](){return this.#t.entries()}}class Nh{#e=null;#t=null;_fullReader=null;_rangeReaders=new Set;_source=null;constructor(e,t,i){this._source=e,this.#e=t,this.#t=i}get _progressiveDataLength(){return this._fullReader?._loaded??0}getFullReader(){return Ye(!this._fullReader,"BasePDFStream.getFullReader can only be called once."),this._fullReader=new this.#e(this)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new this.#t(this,e,t);return this._rangeReaders.add(i),i}cancelAllRequests(e){this._fullReader?.cancel(e);for(const t of new Set(this._rangeReaders))t.cancel(e)}}class Rh{onProgress=null;_contentLength=0;_filename=null;_headersCapability=Promise.withResolvers();_isRangeSupported=!1;_isStreamingSupported=!1;_loaded=0;_stream=null;constructor(e){this._stream=e}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){Xe("Abstract method `read` called")}cancel(e){Xe("Abstract method `cancel` called")}}class Ih{_stream=null;constructor(e,t,i){this._stream=e}async read(){Xe("Abstract method `read` called")}cancel(e){Xe("Abstract method `cancel` called")}}function Gw(n){return n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer}class rB extends Nh{_progressiveDone=!1;_queuedChunks=[];constructor(e){super(e,aB,sB);const{pdfDataRangeTransport:t}=e,{initialData:i,progressiveDone:r}=t;if(i?.length>0){const s=Gw(i);this._queuedChunks.push(s)}this._progressiveDone=r,t.addRangeListener((s,l)=>{this.#e(s,l)}),t.addProgressListener((s,l)=>{l!==void 0&&this._fullReader?.onProgress?.({loaded:s,total:l})}),t.addProgressiveReadListener(s=>{this.#e(void 0,s)}),t.addProgressiveDoneListener(()=>{this._fullReader?.progressiveDone(),this._progressiveDone=!0}),t.transportReady()}#e(e,t){const i=Gw(t);if(e===void 0)this._fullReader?this._fullReader._enqueue(i):this._queuedChunks.push(i);else{const r=this._rangeReaders.keys().find(s=>s._begin===e);Ye(r,"#onReceiveData - no `PDFDataTransportStreamRangeReader` instance found."),r._enqueue(i)}}getFullReader(){const e=super.getFullReader();return this._queuedChunks=null,e}getRangeReader(e,t){const i=super.getRangeReader(e,t);return i&&(i.onDone=()=>this._rangeReaders.delete(i),this._source.pdfDataRangeTransport.requestDataRange(e,t)),i}cancelAllRequests(e){super.cancelAllRequests(e),this._source.pdfDataRangeTransport.abort()}}class aB extends Rh{_done=!1;_queuedChunks=null;_requests=[];constructor(e){super(e);const{pdfDataRangeTransport:t,disableRange:i,disableStream:r}=e._source,{length:s,contentDispositionFilename:l}=t;this._queuedChunks=e._queuedChunks||[];for(const c of this._queuedChunks)this._loaded+=c.byteLength;this._done=e._progressiveDone,this._contentLength=s,this._isStreamingSupported=!r,this._isRangeSupported=!i,rb(l)&&(this._filename=l),this._headersCapability.resolve()}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||=!0}}class sB extends Ih{onDone=null;_begin=-1;_done=!1;_queuedChunk=null;_requests=[];constructor(e,t,i){super(e,t,i),this._begin=t}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this.onDone?.()}}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this.onDone?.()}}function oB(n){let e=!0,t=i("filename\\*","i").exec(n);if(t){t=t[1];let h=c(t);return h=unescape(h),h=d(h),h=f(h),s(h)}if(t=l(n),t){const h=f(t);return s(h)}if(t=i("filename","i").exec(n),t){t=t[1];let h=c(t);return h=f(h),s(h)}function i(h,p){return new RegExp("(?:^|;)\\s*"+h+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',p)}function r(h,p){if(h){if(!/^[\x00-\xFF]+$/.test(p))return p;try{const g=new TextDecoder(h,{fatal:!0}),y=Ph(p);p=g.decode(y),e=!1}catch{}}return p}function s(h){return e&&/[\x80-\xff]/.test(h)&&(h=r("utf-8",h),e&&(h=r("iso-8859-1",h))),h}function l(h){const p=[];let g;const y=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(g=y.exec(h))!==null;){let[,A,x,E]=g;if(A=parseInt(A,10),A in p){if(A===0)break;continue}p[A]=[x,E]}const S=[];for(let A=0;A<p.length&&A in p;++A){let[x,E]=p[A];E=c(E),x&&(E=unescape(E),A===0&&(E=d(E))),S.push(E)}return S.join("")}function c(h){if(h.startsWith('"')){const p=h.slice(1).split('\\"');for(let g=0;g<p.length;++g){const y=p[g].indexOf('"');y!==-1&&(p[g]=p[g].slice(0,y),p.length=g+1),p[g]=p[g].replaceAll(/\\(.)/g,"$1")}h=p.join('"')}return h}function d(h){const p=h.indexOf("'");if(p===-1)return h;const g=h.slice(0,p),S=h.slice(p+1).replace(/^[^']*'/,"");return r(g,S)}function f(h){return!h.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(h)?h:h.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(p,g,y,S){if(y==="q"||y==="Q")return S=S.replaceAll("_"," "),S=S.replaceAll(/=([0-9a-fA-F]{2})/g,function(A,x){return String.fromCharCode(parseInt(x,16))}),r(g,S);try{S=atob(S)}catch{}return r(g,S)})}return""}function o_(n,e){const t=new Headers;if(!n||!e||typeof e!="object")return t;for(const i in e){const r=e[i];r!==void 0&&t.append(i,r)}return t}function kh(n){return URL.parse(n)?.origin??null}function l_({responseHeaders:n,isHttp:e,rangeChunkSize:t,disableRange:i}){const r={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(n.get("Content-Length"),10);return!Number.isInteger(s)||(r.suggestedLength=s,s<=2*t)||i||!e||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function c_(n){const e=n.get("Content-Disposition");if(e){let t=oB(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(rb(t))return t}return null}function jh(n,e){return new Pf(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n,n===404||n===0&&e.startsWith("file:"))}function u_(n,e){if(n!==e)throw new Error(`Expected range response-origin "${n}" to match "${e}".`)}function d_(n,e,t,i){return fetch(n,{method:"GET",headers:e,signal:i.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"})}function f_(n,e){if(n!==200&&n!==206)throw jh(n,e)}function h_(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(we(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class lB extends Nh{_responseOrigin=null;constructor(e){super(e,cB,uB),this.isHttp=/^https?:/i.test(e.url),this.headers=o_(this.isHttp,e.httpHeaders)}}class cB extends Rh{_abortController=new AbortController;_reader=null;constructor(e){super(e);const{disableRange:t,disableStream:i,length:r,rangeChunkSize:s,url:l,withCredentials:c}=e._source;this._contentLength=r,this._isStreamingSupported=!i,this._isRangeSupported=!t;const d=new Headers(e.headers);d_(l,d,c,this._abortController).then(f=>{e._responseOrigin=kh(f.url),f_(f.status,l),this._reader=f.body.getReader();const h=f.headers,{allowRangeRequests:p,suggestedLength:g}=l_({responseHeaders:h,isHttp:e.isHttp,rangeChunkSize:s,disableRange:t});this._isRangeSupported=p,this._contentLength=g||this._contentLength,this._filename=c_(h),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Ha("Streaming is disabled.")),this._headersCapability.resolve()}).catch(this._headersCapability.reject)}async read(){await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:h_(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}class uB extends Ih{_abortController=new AbortController;_readCapability=Promise.withResolvers();_reader=null;constructor(e,t,i){super(e,t,i);const{url:r,withCredentials:s}=e._source,l=new Headers(e.headers);l.append("Range",`bytes=${t}-${i-1}`),d_(r,l,s,this._abortController).then(c=>{const d=kh(c.url);u_(d,e._responseOrigin),f_(c.status,r),this._reader=c.body.getReader(),this._readCapability.resolve()}).catch(this._readCapability.reject)}async read(){await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:{value:h_(e),done:!1}}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}const sv=200,Vw=206;function dB(n){return typeof n!="string"?n:Ph(n).buffer}class fB extends Nh{#e=new WeakMap;_responseOrigin=null;constructor(e){super(e,hB,pB),this.url=e.url,this.isHttp=/^https?:/i.test(this.url),this.headers=o_(this.isHttp,e.httpHeaders)}_request(e){const t=new XMLHttpRequest,i={validateStatus:null,onHeadersReceived:e.onHeadersReceived,onDone:e.onDone,onError:e.onError,onProgress:e.onProgress};this.#e.set(t,i),t.open("GET",this.url),t.withCredentials=this._source.withCredentials;for(const[r,s]of this.headers)t.setRequestHeader(r,s);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.validateStatus=r=>r===Vw||r===sv):i.validateStatus=r=>r===sv,t.responseType="arraybuffer",Ye(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>e.onError(t.status),t.onreadystatechange=this.#i.bind(this,t),t.onprogress=this.#t.bind(this,t),t.send(null),t}#t(e,t){this.#e.get(e)?.onProgress?.(t)}#i(e,t){const i=this.#e.get(e);if(!i||(e.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),e.readyState!==4)||!this.#e.has(e))return;if(this.#e.delete(e),e.status===0&&this.isHttp){i.onError(e.status);return}const r=e.status||sv;if(!i.validateStatus(r)){i.onError(e.status);return}const s=dB(e.response);if(r===Vw){const l=e.getResponseHeader("Content-Range");/bytes (\d+)-(\d+)\/(\d+)/.test(l)?i.onDone(s):(we('Missing or invalid "Content-Range" header.'),i.onError(0))}else s?i.onDone(s):i.onError(e.status)}_abortRequest(e){this.#e.has(e)&&(this.#e.delete(e),e.abort())}getRangeReader(e,t){const i=super.getRangeReader(e,t);return i&&(i.onClosed=()=>this._rangeReaders.delete(i)),i}}class hB extends Rh{_cachedChunks=[];_done=!1;_requests=[];_storedError=null;constructor(e){super(e);const{length:t}=e._source;this._contentLength=t,this._fullRequestXhr=e._request({onHeadersReceived:this.#e.bind(this),onDone:this.#t.bind(this),onError:this.#i.bind(this),onProgress:this.#n.bind(this)})}#e(){const e=this._stream,{disableRange:t,rangeChunkSize:i}=e._source,r=this._fullRequestXhr;e._responseOrigin=kh(r.responseURL);const s=r.getAllResponseHeaders(),l=new Headers(s?s.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(f=>{const[h,...p]=f.split(": ");return[h,p.join(": ")]}):[]),{allowRangeRequests:c,suggestedLength:d}=l_({responseHeaders:l,isHttp:e.isHttp,rangeChunkSize:i,disableRange:t});c&&(this._isRangeSupported=!0),this._contentLength=d||this._contentLength,this._filename=c_(l),this._isRangeSupported&&e._abortRequest(r),this._headersCapability.resolve()}#t(e){if(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._cachedChunks.push(e),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}#i(e){this._storedError=jh(e,this._stream.url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}#n(e){this.onProgress?.({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._abortRequest(this._fullRequestXhr),this._fullRequestXhr=null}}class pB extends Ih{onClosed=null;_done=!1;_queuedChunk=null;_requests=[];_storedError=null;constructor(e,t,i){super(e,t,i),this._requestXhr=e._request({begin:t,end:i,onHeadersReceived:this.#e.bind(this),onDone:this.#t.bind(this),onError:this.#i.bind(this),onProgress:null})}#e(){const e=kh(this._requestXhr?.responseURL);try{u_(e,this._stream._responseOrigin)}catch(t){this._storedError=t,this.#i(0)}}#t(e){this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this.onClosed?.()}#i(e){this._storedError??=jh(e,this._stream.url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._abortRequest(this._requestXhr),this.onClosed?.()}}const mB=/^[a-z][a-z0-9\-+.]+:/i;function gB(n){if(mB.test(n))return new URL(n);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(n))}function p_(n){const{Readable:e}=process.getBuiltinModule("stream");return typeof e.toWeb=="function"?e.toWeb(n):process.getBuiltinModule("module").createRequire(import.meta.url)("node-readable-to-web-readable-stream").makeDefaultReadableStreamFromNodeReadable(n)}function m_(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(we(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class vB extends Nh{constructor(e){super(e,yB,bB),this.url=gB(e.url),Ye(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs.")}}class yB extends Rh{_reader=null;constructor(e){super(e);const{disableRange:t,disableStream:i,length:r,rangeChunkSize:s}=e._source;this._contentLength=r,this._isStreamingSupported=!i,this._isRangeSupported=!t;const l=e.url,c=process.getBuiltinModule("fs");c.promises.lstat(l).then(d=>{const f=c.createReadStream(l),h=p_(f);this._reader=h.getReader();const{size:p}=d;p<=2*s&&(this._isRangeSupported=!1),this._contentLength=p,!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Ha("Streaming is disabled.")),this._headersCapability.resolve()}).catch(d=>{d.code==="ENOENT"&&(d=jh(0,l.href)),this._headersCapability.reject(d)})}async read(){await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:m_(e),done:!1})}cancel(e){this._reader?.cancel(e)}}class bB extends Ih{_readCapability=Promise.withResolvers();_reader=null;constructor(e,t,i){super(e,t,i);const r=e.url,s=process.getBuiltinModule("fs");try{const l=s.createReadStream(r,{start:t,end:i-1}),c=p_(l);this._reader=c.getReader(),this._readCapability.resolve()}catch(l){this._readCapability.reject(l)}}async read(){await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:{value:m_(e),done:!1}}cancel(e){this._reader?.cancel(e)}}const bc=Symbol("INITIAL_DATA");class g_{#e=Object.create(null);#t(e){return this.#e[e]||={...Promise.withResolvers(),data:bc}}get(e,t=null){if(t){const r=this.#t(e);return r.promise.then(()=>t(r.data)),null}const i=this.#e[e];if(!i||i.data===bc)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return i.data}has(e){const t=this.#e[e];return!!t&&t.data!==bc}delete(e){const t=this.#e[e];return!t||t.data===bc?!1:(delete this.#e[e],!0)}resolve(e,t=null){const i=this.#t(e);i.data=t,i.resolve()}clear(){for(const e in this.#e){const{data:t}=this.#e[e];t?.bitmap?.close()}this.#e=Object.create(null)}*[Symbol.iterator](){for(const e in this.#e){const{data:t}=this.#e[e];t!==bc&&(yield[e,t])}}}const AB=1e5,Yw=30;class ii{#e=Promise.withResolvers();#t=null;#i=!1;#n=!!globalThis.FontInspector?.enabled;#a=null;#s=null;#r=0;#o=0;#c=null;#l=null;#f=0;#d=0;#h=Object.create(null);#g=[];#m=null;#u=[];#p=new WeakMap;#v=null;static#b=new Map;static#y=new Map;static#C=new WeakMap;static#E=null;static#S=new Set;constructor({textContentSource:e,container:t,viewport:i}){if(e instanceof ReadableStream)this.#m=e;else if(typeof e=="object")this.#m=new ReadableStream({start(d){d.enqueue(e),d.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#t=this.#l=t,this.#d=i.scale*lr.pixelRatio,this.#f=i.rotation,this.#s={div:null,properties:null,ctx:null};const{pageWidth:r,pageHeight:s,pageX:l,pageY:c}=i.rawDims;this.#v=[1,0,0,-1,-l,c+s],this.#o=r,this.#r=s,ii.#_(),t.style.setProperty("--min-font-size",ii.#E),Ps(t,i),this.#e.promise.finally(()=>{ii.#S.delete(this),this.#s=null,this.#h=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=Vt.platform;return Ce(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{this.#c.read().then(({value:t,done:i})=>{if(i){this.#e.resolve();return}this.#a??=t.lang,Object.assign(this.#h,t.styles),this.#T(t.items),e()},this.#e.reject)};return this.#c=this.#m.getReader(),ii.#S.add(this),e(),this.#e.promise}update({viewport:e,onBefore:t=null}){const i=e.scale*lr.pixelRatio,r=e.rotation;if(r!==this.#f&&(t?.(),this.#f=r,Ps(this.#l,{rotation:r})),i!==this.#d){t?.(),this.#d=i;const s={div:null,properties:null,ctx:ii.#P(this.#a)};for(const l of this.#u)s.properties=this.#p.get(l),s.div=l,this.#w(s)}}cancel(){const e=new Ha("TextLayer task cancelled.");this.#c?.cancel(e).catch(()=>{}),this.#c=null,this.#e.reject(e)}get textDivs(){return this.#u}get textContentItemsStr(){return this.#g}#T(e){if(this.#i)return;this.#s.ctx??=ii.#P(this.#a);const t=this.#u,i=this.#g;for(const r of e){if(t.length>AB){we("Ignoring additional textDivs for performance reasons."),this.#i=!0;return}if(r.str===void 0){if(r.type==="beginMarkedContentProps"||r.type==="beginMarkedContent"){const s=this.#t;this.#t=document.createElement("span"),this.#t.classList.add("markedContent"),r.id&&this.#t.setAttribute("id",`${r.id}`),r.tag==="Artifact"&&(this.#t.ariaHidden=!0),s.append(this.#t)}else r.type==="endMarkedContent"&&(this.#t=this.#t.parentNode);continue}i.push(r.str),this.#A(r)}}#A(e){const t=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};this.#u.push(t);const r=ue.transform(this.#v,e.transform);let s=Math.atan2(r[1],r[0]);const l=this.#h[e.fontName];l.vertical&&(s+=Math.PI/2);let c=this.#n&&l.fontSubstitution||l.fontFamily;c=ii.fontFamilyMap.get(c)||c;const d=Math.hypot(r[2],r[3]),f=d*ii.#j(c,l,this.#a);let h,p;s===0?(h=r[4],p=r[5]-f):(h=r[4]+f*Math.sin(s),p=r[5]-f*Math.cos(s));const g=t.style;g.left=`${(100*h/this.#o).toFixed(2)}%`,g.top=`${(100*p/this.#r).toFixed(2)}%`,g.setProperty("--font-height",`${d.toFixed(2)}px`),g.fontFamily=c,i.fontSize=d,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,this.#n&&(t.dataset.fontName=l.fontSubstitutionLoadedName||e.fontName),s!==0&&(i.angle=s*(180/Math.PI));let y=!1;if(e.str.length>1)y=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const S=Math.abs(e.transform[0]),A=Math.abs(e.transform[3]);S!==A&&Math.max(S,A)/Math.min(S,A)>1.5&&(y=!0)}if(y&&(i.canvasWidth=l.vertical?e.height:e.width),this.#p.set(t,i),this.#s.div=t,this.#s.properties=i,this.#w(this.#s),i.hasText&&this.#t.append(t),i.hasEOL){const S=document.createElement("br");S.setAttribute("role","presentation"),this.#t.append(S)}}#w(e){const{div:t,properties:i,ctx:r}=e,{style:s}=t;if(i.canvasWidth!==0&&i.hasText){const{fontFamily:l}=s,{canvasWidth:c,fontSize:d}=i;ii.#M(r,d*this.#d,l);const{width:f}=r.measureText(t.textContent);f>0&&s.setProperty("--scale-x",c*this.#d/f)}i.angle!==0&&s.setProperty("--rotate",`${i.angle}deg`)}static cleanup(){if(!(this.#S.size>0)){this.#b.clear();for(const{canvas:e}of this.#y.values())e.remove();this.#y.clear()}}static#P(e=null){let t=this.#y.get(e||="");if(!t){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=e,document.body.append(i),t=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#y.set(e,t),this.#C.set(t,{size:0,family:""})}return t}static#M(e,t,i){const r=this.#C.get(e);t===r.size&&i===r.family||(e.font=`${t}px ${i}`,r.size=t,r.family=i)}static#_(){if(this.#E!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),this.#E=e.getBoundingClientRect().height,e.remove()}static#j(e,t,i){const r=this.#b.get(e);if(r)return r;const s=this.#P(i);s.canvas.width=s.canvas.height=Yw,this.#M(s,Yw,e);const l=s.measureText(""),c=l.fontBoundingBoxAscent,d=Math.abs(l.fontBoundingBoxDescent);s.canvas.width=s.canvas.height=0;let f=.8;return c?f=c/(c+d):(Vt.platform.isFirefox&&we("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?f=t.ascent:t.descent&&(f=1+t.descent)),this.#b.set(e,f),f}}const SB=100;function v_(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const e=new db,{docId:t}=e,i=n.url?_j(n.url):null,r=n.data?Pj(n.data):null,s=n.httpHeaders||null,l=n.withCredentials===!0,c=n.password??null,d=n.range instanceof y_?n.range:null,f=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:2**16;let h=n.worker instanceof $c?n.worker:null;const p=n.verbosity,g=typeof n.docBaseUrl=="string"&&!Dh(n.docBaseUrl)?n.docBaseUrl:null,y=Kd(n.cMapUrl),S=n.cMapPacked!==!1,A=n.CMapReaderFactory||(Tn?Bj:Dw),x=Kd(n.iccUrl),E=Kd(n.standardFontDataUrl),O=n.StandardFontDataFactory||(Tn?zj:Lw),T=Kd(n.wasmUrl),P=n.WasmFactory||(Tn?Fj:Nw),M=n.stopAtErrors!==!0,_=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,N=n.isEvalSupported!==!1,j=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!Tn,F=typeof n.isImageDecoderSupported=="boolean"?n.isImageDecoderSupported:!Tn&&(Vt.platform.isFirefox||!globalThis.chrome),X=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,$=typeof n.disableFontFace=="boolean"?n.disableFontFace:Tn,q=n.fontExtraProperties===!0,se=n.enableXfa===!0,re=n.ownerDocument||globalThis.document,ce=n.disableRange===!0,B=n.disableStream===!0,H=n.disableAutoFetch===!0,ie=n.pdfBug===!0,le=n.CanvasFactory||(Tn?jj:Rj),pe=n.FilterFactory||(Tn?kj:Ij),I=n.enableHWA===!0,K=n.useWasm!==!1,ne=d?d.length:n.length??NaN,oe=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!Tn&&!$,ve=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:!!(A===Dw&&O===Lw&&P===Nw&&y&&E&&T&&Lc(y,document.baseURI)&&Lc(E,document.baseURI)&&Lc(T,document.baseURI)),xe=null;nj(p);const de={canvasFactory:new le({ownerDocument:re,enableHWA:I}),filterFactory:new pe({docId:t,ownerDocument:re}),cMapReaderFactory:ve?null:new A({baseUrl:y,isCompressed:S}),standardFontDataFactory:ve?null:new O({baseUrl:E}),wasmFactory:ve?null:new P({baseUrl:T})};h||(h=$c.create({verbosity:p,port:Zo.workerPort}),e._worker=h);const ut={docId:t,apiVersion:"5.4.624",data:r,password:c,disableAutoFetch:H,rangeChunkSize:f,length:ne,docBaseUrl:g,enableXfa:se,evaluatorOptions:{maxImageSize:_,disableFontFace:$,ignoreErrors:M,isEvalSupported:N,isOffscreenCanvasSupported:j,isImageDecoderSupported:F,canvasMaxAreaInBytes:X,fontExtraProperties:q,useSystemFonts:oe,useWasm:K,useWorkerFetch:ve,cMapUrl:y,iccUrl:x,standardFontDataUrl:E,wasmUrl:T}},J={ownerDocument:re,pdfBug:ie,styleElement:xe,enableHWA:I,loadingParams:{disableAutoFetch:H,enableXfa:se}};return h.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const Oe=h.messageHandler.sendWithPromise("GetDocRequest",ut,r?[r.buffer]:null);let Pe;if(d)Pe=new rB({pdfDataRangeTransport:d,disableRange:ce,disableStream:B});else if(!r){if(!i)throw new Error("getDocument - no `url` parameter provided.");const ae=Lc(i)?lB:Tn?vB:fB;Pe=new ae({url:i,length:ne,httpHeaders:s,withCredentials:l,rangeChunkSize:f,disableRange:ce,disableStream:B})}return Oe.then(ae=>{if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const Nt=new Nc(t,ae,h.port),Ie=new wB(Nt,e,Pe,J,de);e._transport=Ie,Nt.send("Ready",null)})}).catch(e._capability.reject),e}class db{static#e=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId=`d${db.#e++}`;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(e){throw this._worker?.port&&delete this._worker._pendingDestroy,e}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}}class y_{#e=Promise.withResolvers();#t=[];#i=[];#n=[];#a=[];constructor(e,t,i=!1,r=null){this.length=e,this.initialData=t,this.progressiveDone=i,this.contentDispositionFilename=r}addRangeListener(e){this.#a.push(e)}addProgressListener(e){this.#n.push(e)}addProgressiveReadListener(e){this.#i.push(e)}addProgressiveDoneListener(e){this.#t.push(e)}onDataRange(e,t){for(const i of this.#a)i(e,t)}onDataProgress(e,t){this.#e.promise.then(()=>{for(const i of this.#n)i(e,t)})}onDataProgressiveRead(e){this.#e.promise.then(()=>{for(const t of this.#i)t(e)})}onDataProgressiveDone(){this.#e.promise.then(()=>{for(const e of this.#t)e()})}transportReady(){this.#e.resolve()}requestDataRange(e,t){Xe("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class xB{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Ce(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,t){return this._transport.getAnnotationsByType(e,t)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}extractPages(e){return this._transport.extractPages(e)}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class EB{#e=!1;#t=Ge.instance;constructor(e,t,i,r=!1){this._pageIndex=e,this._pageInfo=t,this._transport=i,this._stats=r?new ww:null,this._pdfBug=r,this.commonObjs=i.commonObjs,this.objs=new g_,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}set pageNumber(e){this._pageIndex=e-1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:i=0,offsetY:r=0,dontFlip:s=!1}={}){return new lu({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:i,offsetY:r,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Ce(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:e,canvas:t=e.canvas,viewport:i,intent:r="display",annotationMode:s=ka.ENABLE,transform:l=null,background:c=null,optionalContentConfigPromise:d=null,annotationCanvasMap:f=null,pageColors:h=null,printAnnotationStorage:p=null,isEditing:g=!1,recordOperations:y=!1,operationsFilter:S=null}){this._stats?.time("Overall");const A=this._transport.getRenderingIntent(r,s,p,g),{renderingIntent:x,cacheKey:E}=A;this.#e=!1,d||=this._transport.getOptionalContentConfig(x);let O=this._intentStates.get(E);O||(O=Object.create(null),this._intentStates.set(E,O)),O.streamReaderCancelTimeout&&(clearTimeout(O.streamReaderCancelTimeout),O.streamReaderCancelTimeout=null);const T=!!(x&ni.PRINT);O.displayReadyCapability||(O.displayReadyCapability=Promise.withResolvers(),O.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(A));const P=!!(this._pdfBug&&globalThis.StepperManager?.enabled),M=!this.recordedBBoxes&&(y||P),_=F=>{if(O.renderTasks.delete(N),M){const X=N.gfx?.dependencyTracker.take();X&&(N.stepper&&N.stepper.setOperatorBBoxes(X,N.gfx.dependencyTracker.takeDebugMetadata()),y&&(this.recordedBBoxes=X))}T&&(this.#e=!0),this.#i(),F?(N.capability.reject(F),this._abortOperatorList({intentState:O,reason:F instanceof Error?F:new Error(F)})):N.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},N=new Go({callback:_,params:{canvas:t,canvasContext:e,dependencyTracker:M?new Hj(t,O.operatorList.length,P):null,viewport:i,transform:l,background:c},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:f,operatorList:O.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!T,pdfBug:this._pdfBug,pageColors:h,enableHWA:this._transport.enableHWA,operationsFilter:S});(O.renderTasks||=new Set).add(N);const j=N.task;return Promise.all([O.displayReadyCapability.promise,d]).then(([F,X])=>{if(this.destroyed){_();return}if(this._stats?.time("Rendering"),!(X.renderingIntent&x))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");N.initializeGraphics({transparency:F,optionalContentConfig:X}),N.operatorListChanged()}).catch(_),j}getOperatorList({intent:e="display",annotationMode:t=ka.ENABLE,printAnnotationStorage:i=null,isEditing:r=!1}={}){function s(){c.operatorList.lastChunk&&(c.opListReadCapability.resolve(c.operatorList),c.renderTasks.delete(d))}const l=this._transport.getRenderingIntent(e,t,i,r,!0);let c=this._intentStates.get(l.cacheKey);c||(c=Object.create(null),this._intentStates.set(l.cacheKey,c));let d;return c.opListReadCapability||(d=Object.create(null),d.operatorListChanged=s,c.opListReadCapability=Promise.withResolvers(),(c.renderTasks||=new Set).add(d),c.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(l)),c.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageId:this.#t.getPageId(this._pageIndex+1)-1,pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>Hc.textContent(i));const t=this.streamTextContent(e);return new Promise(function(i,r){function s(){l.read().then(function({value:d,done:f}){if(f){i(c);return}c.lang??=d.lang,Object.assign(c.styles,d.styles),c.items.push(...d.items),s()},r)}const l=t.getReader(),c={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const i of t.renderTasks)e.push(i.completed),i.cancel();return this.objs.clear(),this.#e=!1,Promise.all(e)}cleanup(e=!1){this.#e=!0;const t=this.#i();return e&&t&&(this._stats&&=new ww),t}#i(){if(!this.#e||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#e=!1,!0}_startRenderPage(e,t){const i=this._intentStates.get(t);i&&(this._stats?.timeEnd("Page Request"),i.displayReadyCapability?.resolve(e))}_renderPageChunk(e,t){for(let i=0,r=e.length;i<r;i++)t.operatorList.fnArray.push(e.fnArray[i]),t.operatorList.argsArray.push(e.argsArray[i]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const i of t.renderTasks)i.operatorListChanged();e.lastChunk&&this.#i()}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:i,modifiedIds:r}){const{map:s,transfer:l}=i,d=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageId:this.#t.getPageId(this._pageIndex+1)-1,pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:s,modifiedIds:r},l).getReader(),f=this._intentStates.get(t);f.streamReader=d;const h=()=>{d.read().then(({value:p,done:g})=>{if(g){f.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(p,f),h())},p=>{if(f.streamReader=null,!this._transport.destroyed){if(f.operatorList){f.operatorList.lastChunk=!0;for(const g of f.renderTasks)g.operatorListChanged();this.#i()}if(f.displayReadyCapability)f.displayReadyCapability.reject(p);else if(f.opListReadCapability)f.opListReadCapability.reject(p);else throw p}})};h()}_abortOperatorList({intentState:e,reason:t,force:i=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!i){if(e.renderTasks.size>0)return;if(t instanceof ib){let r=SB;t.extraDelay>0&&t.extraDelay<1e3&&(r+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},r);return}}if(e.streamReader.cancel(new Ha(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[r,s]of this._intentStates)if(s===e){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}var Ba,Bi,Fr,Es,Oh,ws,Cs,Pn,xf,b_,A_,Rc,el,Ef;const vt=class vt{constructor({name:e=null,port:t=null,verbosity:i=ij()}={}){Ki(this,Pn);Ki(this,Ba,Promise.withResolvers());Ki(this,Bi,null);Ki(this,Fr,null);Ki(this,Es,null);if(this.name=e,this.destroyed=!1,this.verbosity=i,t){if(gt(vt,Cs).has(t))throw new Error("Cannot use more than one PDFWorker per port.");gt(vt,Cs).set(t,this),Wi(this,Pn,b_).call(this,t)}else Wi(this,Pn,A_).call(this)}get promise(){return gt(this,Ba).promise}get port(){return gt(this,Fr)}get messageHandler(){return gt(this,Bi)}destroy(){this.destroyed=!0,gt(this,Es)?.terminate(),Fn(this,Es,null),gt(vt,Cs).delete(gt(this,Fr)),Fn(this,Fr,null),gt(this,Bi)?.destroy(),Fn(this,Bi,null)}static create(e){const t=gt(this,Cs).get(e?.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new vt(e)}static get workerSrc(){if(Zo.workerSrc)return Zo.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Ce(this,"_setupFakeWorkerGlobal",(async()=>gt(this,el,Ef)?gt(this,el,Ef):(await import(this.workerSrc)).WorkerMessageHandler)())}};Ba=new WeakMap,Bi=new WeakMap,Fr=new WeakMap,Es=new WeakMap,Oh=new WeakMap,ws=new WeakMap,Cs=new WeakMap,Pn=new WeakSet,xf=function(){gt(this,Ba).resolve(),gt(this,Bi).send("configure",{verbosity:this.verbosity})},b_=function(e){Fn(this,Fr,e),Fn(this,Bi,new Nc("main","worker",e)),gt(this,Bi).on("ready",()=>{}),Wi(this,Pn,xf).call(this)},A_=function(){if(gt(vt,ws)||gt(vt,el,Ef)){Wi(this,Pn,Rc).call(this);return}let{workerSrc:e}=vt;try{vt._isSameOrigin(window.location,e)||(e=vt._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),i=new Nc("main","worker",t),r=()=>{s.abort(),i.destroy(),t.terminate(),this.destroyed?gt(this,Ba).reject(new Error("Worker was destroyed")):Wi(this,Pn,Rc).call(this)},s=new AbortController;t.addEventListener("error",()=>{gt(this,Es)||r()},{signal:s.signal}),i.on("test",c=>{if(s.abort(),this.destroyed||!c){r();return}Fn(this,Bi,i),Fn(this,Fr,t),Fn(this,Es,t),Wi(this,Pn,xf).call(this)}),i.on("ready",c=>{if(s.abort(),this.destroyed){r();return}try{l()}catch{Wi(this,Pn,Rc).call(this)}});const l=()=>{const c=new Uint8Array;i.send("test",c,[c.buffer])};l();return}catch{_h("The worker has been disabled.")}Wi(this,Pn,Rc).call(this)},Rc=function(){gt(vt,ws)||(we("Setting up fake worker."),Fn(vt,ws,!0)),vt._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){gt(this,Ba).reject(new Error("Worker was destroyed"));return}const t=new Nj;Fn(this,Fr,t);const i=`fake${dw(vt,Oh)._++}`,r=new Nc(i+"_worker",i,t);e.setup(r,t),Fn(this,Bi,new Nc(i,i+"_worker",t)),Wi(this,Pn,xf).call(this)}).catch(e=>{gt(this,Ba).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},el=new WeakSet,Ef=function(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}},Ki(vt,el),Ki(vt,Oh,0),Ki(vt,ws,!1),Ki(vt,Cs,new WeakMap),Tn&&(Fn(vt,ws,!0),Zo.workerSrc||="./pdf.worker.mjs"),vt._isSameOrigin=(e,t)=>{const i=URL.parse(e);if(!i?.origin||i.origin==="null")return!1;const r=new URL(t,i);return i.origin===r.origin},vt._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},vt.fromPort=e=>{if(mj("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!e?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return vt.create(e)};let $c=vt;class wB{downloadInfoCapability=Promise.withResolvers();#e=null;#t=new Map;#i=null;#n=new Map;#a=new Map;#s=new Map;#r=null;#o=Ge.instance;constructor(e,t,i,r,s){this.messageHandler=e,this.loadingTask=t,this.#i=i,this.commonObjs=new g_,this.fontLoader=new Oj({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.enableHWA=r.enableHWA,this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.wasmFactory=s.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this.setupMessageHandler(),this.#o.addListener(this.#c.bind(this))}#c(){const e=new Map,t=new Map;for(let i=0,r=this.#o.pagesNumber;i<r;i++){const s=this.#o.getPrevPageNumber(i+1)-1,l=this.#n.get(s);l&&e.set(i,l);const c=this.#a.get(s);c&&t.set(i,c)}this.#n=e,this.#a=t}#l(e,t=null){const i=this.#t.get(e);if(i)return i;const r=this.messageHandler.sendWithPromise(e,t);return this.#t.set(e,r),r}#f({loaded:e,total:t}){this.loadingTask.onProgress?.({loaded:e,total:t,percent:gn(Math.round(e/t*100),0,100)})}get annotationStorage(){return Ce(this,"annotationStorage",new ob)}getRenderingIntent(e,t=ka.ENABLE,i=null,r=!1,s=!1){let l=ni.DISPLAY,c=Yy;switch(e){case"any":l=ni.ANY;break;case"display":break;case"print":l=ni.PRINT;break;default:we(`getRenderingIntent - invalid intent: ${e}`)}const d=l&ni.PRINT&&i instanceof t_?i:this.annotationStorage;switch(t){case ka.DISABLE:l+=ni.ANNOTATIONS_DISABLE;break;case ka.ENABLE:break;case ka.ENABLE_FORMS:l+=ni.ANNOTATIONS_FORMS;break;case ka.ENABLE_STORAGE:l+=ni.ANNOTATIONS_STORAGE,c=d.serializable;break;default:we(`getRenderingIntent - invalid annotationMode: ${t}`)}r&&(l+=ni.IS_EDITING),s&&(l+=ni.OPLIST);const{ids:f,hash:h}=d.modifiedIds,p=[l,c.hash,h];return{renderingIntent:l,cacheKey:p.join("_"),annotationStorageSerializable:c,modifiedIds:f}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#r?.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of this.#n.values())e.push(i._destroy());this.#n.clear(),this.#a.clear(),this.#s.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(),ii.cleanup(),this.#i?.cancelAllRequests(new Ha("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(i,r)=>{Ye(this.#i,"GetReader - no `BasePDFStream` instance available."),this.#e=this.#i.getFullReader(),this.#e.onProgress=s=>this.#f(s),r.onPull=()=>{this.#e.read().then(function({value:s,done:l}){if(l){r.close();return}Ye(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{r.error(s)})},r.onCancel=s=>{this.#e.cancel(s),r.ready.catch(l=>{if(!this.destroyed)throw l})}}),e.on("ReaderHeadersReady",async i=>{await this.#e.headersReady;const{isStreamingSupported:r,isRangeSupported:s,contentLength:l}=this.#e;return r&&s&&(this.#e.onProgress=null),{isStreamingSupported:r,isRangeSupported:s,contentLength:l}}),e.on("GetRangeReader",(i,r)=>{Ye(this.#i,"GetRangeReader - no `BasePDFStream` instance available.");const s=this.#i.getRangeReader(i.begin,i.end);if(!s){r.close();return}r.onPull=()=>{s.read().then(function({value:l,done:c}){if(c){r.close();return}Ye(l instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(l),1,[l])}).catch(l=>{r.error(l)})},r.onCancel=l=>{s.cancel(l),r.ready.catch(c=>{if(!this.destroyed)throw c})}}),e.on("GetDoc",({pdfInfo:i})=>{this.#o.pagesNumber=i.numPages,this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,t._capability.resolve(new xB(i,this))}),e.on("DocException",i=>{t._capability.reject(Hn(i))}),e.on("PasswordRequest",i=>{this.#r=Promise.withResolvers();try{if(!t.onPassword)throw Hn(i);const r=s=>{s instanceof Error?this.#r.reject(s):this.#r.resolve({password:s})};t.onPassword(r,i.code)}catch(r){this.#r.reject(r)}return this.#r.promise}),e.on("DataLoaded",i=>{this.#f({loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),e.on("StartRenderPage",i=>{if(this.destroyed)return;this.#n.get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),e.on("commonobj",([i,r,s])=>{if(this.destroyed||this.commonObjs.has(i))return null;switch(r){case"Font":if("error"in s){const p=s.error;we(`Error during font loading: ${p}`),this.commonObjs.resolve(i,p);break}const l=new at(s),c=this._params.pdfBug&&globalThis.FontInspector?.enabled?(p,g)=>globalThis.FontInspector.fontAdded(p,g):null,d=new Tj(l,c,s.extra,s.charProcOperatorList);this.fontLoader.bind(d).catch(()=>e.sendWithPromise("FontFallback",{id:i})).finally(()=>{!d.fontExtraProperties&&d.data&&d.clearData(),this.commonObjs.resolve(i,d)});break;case"CopyLocalImage":const{imageRef:f}=s;Ye(f,"The imageRef must be defined.");for(const p of this.#n.values())for(const[,g]of p.objs)if(g?.ref===f)return g.dataLen?(this.commonObjs.resolve(i,structuredClone(g)),g.dataLen):null;break;case"FontPath":this.commonObjs.resolve(i,new Mj(s));break;case"Image":this.commonObjs.resolve(i,s);break;case"Pattern":const h=new Qt(s);this.commonObjs.resolve(i,h.getIR());break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),e.on("obj",([i,r,s,l])=>{if(this.destroyed)return;const c=this.#n.get(r);if(!c.objs.has(i)){if(c._intentStates.size===0){l?.bitmap?.close();return}switch(s){case"Image":case"Pattern":c.objs.resolve(i,l);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",i=>{this.destroyed||this.#f(i)}),e.on("FetchBinaryData",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");const r=this[i.type];if(!r)throw new Error(`${i.type} not initialized, see the \`useWorkerFetch\` parameter.`);return r.fetch(i)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&we("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:this.#e?.filename??null},t).finally(()=>{this.annotationStorage.resetModified()})}extractPages(e){return this.messageHandler.sendWithPromise("ExtractPages",{pageInfos:e})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this.#o.pagesNumber)return Promise.reject(new Error("Invalid page request."));const t=e-1,i=this.#o.getPageId(e)-1,r=this.#a.get(t);if(r)return r;const s=this.messageHandler.sendWithPromise("GetPage",{pageIndex:i}).then(l=>{if(this.destroyed)throw new Error("Transport destroyed");l.refStr&&this.#s.set(l.refStr,i);const c=new EB(t,l,this,this._params.pdfBug);return this.#n.set(t,c),c});return this.#a.set(t,s),s}async getPageIndex(e){if(!Xy(e))throw new Error("Invalid pageIndex request.");const t=await this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen});return this.#o.getPageNumber(t+1)-1}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:this.#o.getPageId(e+1)-1,intent:t})}getFieldObjects(){return this.#l("GetFieldObjects")}hasJSActions(){return this.#l("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,t){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:t})}getDocJSActions(){return this.#l("GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:this.#o.getPageId(e+1)-1})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:this.#o.getPageId(e+1)-1})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return this.#l("GetOptionalContentConfig").then(t=>new iB(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=this.#t.get(e);if(t)return t;const i=this.messageHandler.sendWithPromise(e,null).then(r=>({info:r[0],metadata:r[1]?new tB(r[1]):null,contentDispositionFilename:this.#e?.filename??null,contentLength:this.#e?.contentLength??null,hasStructTree:r[2]}));return this.#t.set(e,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of this.#n.values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(!0),ii.cleanup()}}cachedPageNumber(e){if(!Xy(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`,i=this.#s.get(t);return i>=0?this.#o.getPageNumber(i+1):null}}class CB{_internalRenderTask=null;onContinue=null;onError=null;constructor(e){this._internalRenderTask=e}get promise(){return this._internalRenderTask.capability.promise}cancel(e=0){this._internalRenderTask.cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=this._internalRenderTask.operatorList;if(!e)return!1;const{annotationCanvasMap:t}=this._internalRenderTask;return e.form||e.canvas&&t?.size>0}}class Go{#e=null;static#t=new WeakSet;constructor({callback:e,params:t,objs:i,commonObjs:r,annotationCanvasMap:s,operatorList:l,pageIndex:c,canvasFactory:d,filterFactory:f,useRequestAnimationFrame:h=!1,pdfBug:p=!1,pageColors:g=null,enableHWA:y=!1,operationsFilter:S=null}){this.callback=e,this.params=t,this.objs=i,this.commonObjs=r,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=l,this._pageIndex=c,this.canvasFactory=d,this.filterFactory=f,this._pdfBug=p,this.pageColors=g,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=h===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new CB(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvas,this._canvasContext=t.canvas?null:t.canvasContext,this._enableHWA=y,this._dependencyTracker=t.dependencyTracker,this._operationsFilter=S}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){if(this.cancelled)return;if(this._canvas){if(Go.#t.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Go.#t.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:i,transform:r,background:s,dependencyTracker:l}=this.params,c=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new Wo(c,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors,l),this.gfx.beginDrawing({transform:r,viewport:i,transparency:e,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(e=null,t=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#e&&(window.cancelAnimationFrame(this.#e),this.#e=null),Go.#t.delete(this._canvas),e||=new ib(`Rendering cancelled, page ${this._pageIndex+1}`,t),this.callback(e),this.task.onError?.(e)}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.gfx.dependencyTracker?.growOperationsCount(this.operatorList.fnArray.length),this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#e=window.requestAnimationFrame(()=>{this.#e=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),Go.#t.delete(this._canvas),this.callback())))}}const OB="5.4.624",TB="384c6208b";class Mi{#e=null;#t=null;#i;#n=null;#a=!1;#s=!1;#r=null;#o;#c=null;#l=null;static#f=null;static get _keyboardManager(){return Ce(this,"_keyboardManager",new uu([[["Escape","mac+Escape"],Mi.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Mi.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Mi.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Mi.prototype._moveToPrevious],[["Home","mac+Home"],Mi.prototype._moveToBeginning],[["End","mac+End"],Mi.prototype._moveToEnd]]))}constructor({editor:e=null,uiManager:t=null}){e?(this.#s=!1,this.#r=e):this.#s=!0,this.#l=e?._uiManager||t,this.#o=this.#l._eventBus,this.#i=e?.color?.toUpperCase()||this.#l?.highlightColors.values().next().value||"#FFFF98",Mi.#f||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const e=this.#e=document.createElement("button");e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",this.#r&&(e.ariaControls=`${this.#r.id}_colorpicker_dropdown`);const t=this.#l._signal;e.addEventListener("click",this.#m.bind(this),{signal:t}),e.addEventListener("keydown",this.#g.bind(this),{signal:t});const i=this.#t=document.createElement("span");return i.className="swatch",i.ariaHidden="true",i.style.backgroundColor=this.#i,e.append(i),e}renderMainDropdown(){const e=this.#n=this.#d();return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}#d(){const e=document.createElement("div"),t=this.#l._signal;e.addEventListener("contextmenu",Pi,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),this.#r&&(e.id=`${this.#r.id}_colorpicker_dropdown`);for(const[i,r]of this.#l.highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",r),s.title=i,s.setAttribute("data-l10n-id",Mi.#f[i]);const l=document.createElement("span");s.append(l),l.className="swatch",l.style.backgroundColor=r,s.ariaSelected=r===this.#i,s.addEventListener("click",this.#h.bind(this,r),{signal:t}),e.append(s)}return e.addEventListener("keydown",this.#g.bind(this),{signal:t}),e}#h(e,t){t.stopPropagation(),this.#o.dispatch("switchannotationeditorparams",{source:this,type:ze.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)}_colorSelectFromKeyboard(e){if(e.target===this.#e){this.#m(e);return}const t=e.target.getAttribute("data-color");t&&this.#h(t,e)}_moveToNext(e){if(!this.#p){this.#m(e);return}if(e.target===this.#e){this.#n.firstElementChild?.focus();return}e.target.nextSibling?.focus()}_moveToPrevious(e){if(e.target===this.#n?.firstElementChild||e.target===this.#e){this.#p&&this._hideDropdownFromKeyboard();return}this.#p||this.#m(e),e.target.previousSibling?.focus()}_moveToBeginning(e){if(!this.#p){this.#m(e);return}this.#n.firstElementChild?.focus()}_moveToEnd(e){if(!this.#p){this.#m(e);return}this.#n.lastElementChild?.focus()}#g(e){Mi._keyboardManager.exec(this,e)}#m(e){if(this.#p){this.hideDropdown();return}if(this.#a=e.detail===0,this.#c||(this.#c=new AbortController,window.addEventListener("pointerdown",this.#u.bind(this),{signal:this.#l.combinedSignal(this.#c)})),this.#e.ariaExpanded="true",this.#n){this.#n.classList.remove("hidden");return}const t=this.#n=this.#d();this.#e.append(t)}#u(e){this.#n?.contains(e.target)||this.hideDropdown()}hideDropdown(){this.#n?.classList.add("hidden"),this.#e.ariaExpanded="false",this.#c?.abort(),this.#c=null}get#p(){return this.#n&&!this.#n.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#s){if(!this.#p){this.#r?.unselect();return}this.hideDropdown(),this.#e.focus({preventScroll:!0,focusVisible:this.#a})}}updateColor(e){if(this.#t&&(this.#t.style.backgroundColor=e),!this.#n)return;const t=this.#l.highlightColors.values();for(const i of this.#n.children)i.ariaSelected=t.next().value===e.toUpperCase()}destroy(){this.#e?.remove(),this.#e=null,this.#t=null,this.#n?.remove(),this.#n=null}}class qc{#e=null;#t=null;#i=null;static#n=null;constructor(e){this.#t=e,this.#i=e._uiManager,qc.#n||=Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"})}renderButton(){if(this.#e)return this.#e;const{editorType:e,colorType:t,color:i}=this.#t,r=this.#e=document.createElement("input");return r.type="color",r.value=i||"#000000",r.className="basicColorPicker",r.tabIndex=0,r.setAttribute("data-l10n-id",qc.#n[e]),r.addEventListener("input",()=>{this.#i.updateParams(t,r.value)},{signal:this.#i._signal}),r}update(e){this.#e&&(this.#e.value=e)}destroy(){this.#e?.remove(),this.#e=null}hideDropdown(){}}function Xw(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function Ac(n){return Math.max(0,Math.min(255,255*n))}class Kw{static CMYK_G([e,t,i,r]){return["G",1-Math.min(1,.3*e+.59*i+.11*t+r)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Ac(e),[e,e,e]}static G_HTML([e]){const t=Xw(e);return`#${t}${t}${t}`}static RGB_G([e,t,i]){return["G",.3*e+.59*t+.11*i]}static RGB_rgb(e){return e.map(Ac)}static RGB_HTML(e){return`#${e.map(Xw).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,i,r]){return["RGB",1-Math.min(1,e+r),1-Math.min(1,i+r),1-Math.min(1,t+r)]}static CMYK_rgb([e,t,i,r]){return[Ac(1-Math.min(1,e+r)),Ac(1-Math.min(1,i+r)),Ac(1-Math.min(1,t+r))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,i]){const r=1-e,s=1-t,l=1-i,c=Math.min(r,s,l);return["CMYK",r,s,l,c]}}class MB{create(e,t,i=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),i||(r.setAttribute("width",`${e}px`),r.setAttribute("height",`${t}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${e} ${t}`),r}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Xe("Abstract method `_createSVG` called.")}}class Lf extends MB{_createSVG(e){return document.createElementNS(kr,e)}}const _B=9,Ds=new WeakSet,PB=new Date().getTimezoneOffset()*60*1e3;class ov{static create(e){switch(e.data.annotationType){case zt.LINK:return new fb(e);case zt.TEXT:return new LB(e);case zt.WIDGET:switch(e.data.fieldType){case"Tx":return new NB(e);case"Btn":return e.data.radioButton?new S_(e):e.data.checkBox?new IB(e):new kB(e);case"Ch":return new jB(e);case"Sig":return new RB(e)}return new Hs(e);case zt.POPUP:return new Zy(e);case zt.FREETEXT:return new x_(e);case zt.LINE:return new zB(e);case zt.SQUARE:return new FB(e);case zt.CIRCLE:return new UB(e);case zt.POLYLINE:return new E_(e);case zt.CARET:return new $B(e);case zt.INK:return new hb(e);case zt.POLYGON:return new HB(e);case zt.HIGHLIGHT:return new w_(e);case zt.UNDERLINE:return new qB(e);case zt.SQUIGGLY:return new GB(e);case zt.STRIKEOUT:return new VB(e);case zt.STAMP:return new C_(e);case zt.FILEATTACHMENT:return new YB(e);default:return new St(e)}}}class St{#e=null;#t=!1;#i=null;constructor(e,{isRenderable:t=!1,ignoreBorder:i=!1,createQuadrilaterals:r=!1}={}){this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,this.hasOwnCommentButton=!1,t&&(this.contentElement=this.container=this._createContainer(i)),r&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:t}){return!!(e?.str||t?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return St._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){const{data:e}=this,t=this.annotationStorage?.getEditor(e.id);return t?t.getData():e}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){const e=this.annotationStorage?.getEditor(this.data.id);if(e)return e.commentButtonPositionInPage;const{quadPoints:t,inkLists:i,rect:r}=this.data;let s=-1/0,l=-1/0;if(t?.length>=8){for(let c=0;c<t.length;c+=8)t[c+1]>l?(l=t[c+1],s=t[c+2]):t[c+1]===l&&(s=Math.max(s,t[c+2]));return[s,l]}if(i?.length>=1){for(const c of i)for(let d=0,f=c.length;d<f;d+=2)c[d+1]>l?(l=c[d+1],s=c[d]):c[d+1]===l&&(s=Math.max(s,c[d]));if(s!==1/0)return[s,l]}return r?[r[2],r[3]]:null}_normalizePoint(e){const{page:{view:t},viewport:{rawDims:{pageWidth:i,pageHeight:r,pageX:s,pageY:l}}}=this.parent;return e[1]=t[3]-e[1]+t[1],e[0]=100*(e[0]-s)/i,e[1]=100*(e[1]-l)/r,e}get commentText(){const{data:e}=this;return this.annotationStorage.getRawValue(`${Fc}${e.id}`)?.popup?.contents||e.contentsObj?.str||""}set commentText(e){const{data:t}=this,i={deleted:!e,contents:e||""};this.annotationStorage.updateEditor(t.id,{popup:i})||this.annotationStorage.setValue(`${Fc}${t.id}`,{id:t.id,annotationType:t.annotationType,page:this.parent.page,popup:i,popupRef:t.popupRef,modificationDate:new Date}),e||this.removePopup()}removePopup(){(this.#i?.popup||this.popup)?.remove(),this.#i=this.popup=null}updateEdited(e){if(!this.container)return;e.rect&&(this.#e||={rect:this.data.rect.slice(0)});const{rect:t,popup:i}=e;t&&this.#n(t);let r=this.#i?.popup||this.popup;!r&&i?.text&&(this._createPopup(i),r=this.#i.popup),r&&(r.updateEdited(e),i?.deleted&&(r.remove(),this.#i=null,this.popup=null))}resetEdited(){this.#e&&(this.#n(this.#e.rect),this.#i?.popup.resetEdited(),this.#e=null)}#n(e){const{container:{style:t},data:{rect:i,rotation:r},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:l,pageX:c,pageY:d}}}}=this;i?.splice(0,4,...e),t.left=`${100*(e[0]-c)/s}%`,t.top=`${100*(l-e[3]+d)/l}%`,r===0?(t.width=`${100*(e[2]-e[0])/s}%`,t.height=`${100*(e[3]-e[1])/l}%`):this.setRotation(r)}_createContainer(e){const{data:t,parent:{page:i,viewport:r}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),!(this instanceof Hs)&&!(this instanceof fb)&&(s.tabIndex=0);const{style:l}=s;if(l.zIndex=this.parent.zIndex,this.parent.zIndex+=2,t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof Zy){const{rotation:A}=t;return!t.hasOwnCanvas&&A!==0&&this.setRotation(A,s),s}const{width:c,height:d}=this;if(!e&&t.borderStyle.width>0){l.borderWidth=`${t.borderStyle.width}px`;const A=t.borderStyle.horizontalCornerRadius,x=t.borderStyle.verticalCornerRadius;if(A>0||x>0){const O=`calc(${A}px * var(--total-scale-factor)) / calc(${x}px * var(--total-scale-factor))`;l.borderRadius=O}else if(this instanceof S_){const O=`calc(${c}px * var(--total-scale-factor)) / calc(${d}px * var(--total-scale-factor))`;l.borderRadius=O}switch(t.borderStyle.style){case zo.SOLID:l.borderStyle="solid";break;case zo.DASHED:l.borderStyle="dashed";break;case zo.BEVELED:we("Unimplemented border style: beveled");break;case zo.INSET:we("Unimplemented border style: inset");break;case zo.UNDERLINE:l.borderBottomStyle="solid";break}const E=t.borderColor||null;E?(this.#t=!0,l.borderColor=ue.makeHexColor(E[0]|0,E[1]|0,E[2]|0)):l.borderWidth=0}const f=ue.normalizeRect([t.rect[0],i.view[3]-t.rect[1]+i.view[1],t.rect[2],i.view[3]-t.rect[3]+i.view[1]]),{pageWidth:h,pageHeight:p,pageX:g,pageY:y}=r.rawDims;l.left=`${100*(f[0]-g)/h}%`,l.top=`${100*(f[1]-y)/p}%`;const{rotation:S}=t;return t.hasOwnCanvas||S===0?(l.width=`${100*c/h}%`,l.height=`${100*d/p}%`):this.setRotation(S,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:r}=this.parent.viewport.rawDims;let{width:s,height:l}=this;e%180!==0&&([s,l]=[l,s]),t.style.width=`${100*s/i}%`,t.style.height=`${100*l/r}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,i,r)=>{const s=r.detail[t],l=s[0],c=s.slice(1);r.target.style[i]=Kw[`${l}_HTML`](c),this.annotationStorage.setValue(this.data.id,{[i]:Kw[`${l}_rgb`](c)})};return Ce(this,"_commonActions",{display:t=>{const{display:i}=t.detail,r=i%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:i===1||i===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:i}=t.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const i=t.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(e,t){const i=this._commonActions;for(const r of Object.keys(t.detail))(e[r]||i[r])?.(t)}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const i=this._commonActions;for(const[r,s]of Object.entries(t)){const l=i[r];if(l){const c={detail:{[r]:s},target:e};l(c),delete t[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,i,r,s]=this.data.rect.map(A=>Math.fround(A));if(e.length===8){const[A,x,E,O]=e.subarray(2,6);if(r===A&&s===x&&t===E&&i===O)return}const{style:l}=this.container;let c;if(this.#t){const{borderColor:A,borderWidth:x}=l;l.borderWidth=0,c=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${A}" stroke-width="${x}">`],this.container.classList.add("hasBorder")}const d=r-t,f=s-i,{svgFactory:h}=this,p=h.createElement("svg");p.classList.add("quadrilateralsContainer"),p.setAttribute("width",0),p.setAttribute("height",0),p.role="none";const g=h.createElement("defs");p.append(g);const y=h.createElement("clipPath"),S=`clippath_${this.data.id}`;y.setAttribute("id",S),y.setAttribute("clipPathUnits","objectBoundingBox"),g.append(y);for(let A=2,x=e.length;A<x;A+=8){const E=e[A],O=e[A+1],T=e[A+2],P=e[A+3],M=h.createElement("rect"),_=(T-t)/d,N=(s-O)/f,j=(E-T)/d,F=(O-P)/f;M.setAttribute("x",_),M.setAttribute("y",N),M.setAttribute("width",j),M.setAttribute("height",F),y.append(M),c?.push(`<rect vector-effect="non-scaling-stroke" x="${_}" y="${N}" width="${j}" height="${F}"/>`)}this.#t&&(c.push("</g></svg>')"),l.backgroundImage=c.join("")),this.container.append(p),this.container.style.clipPath=`url(#${S})`}_createPopup(e=null){const{data:t}=this;let i,r;e?(i={str:e.text},r=e.date):(i=t.contentsObj,r=t.modificationDate),this.#i=new Zy({data:{color:t.color,titleObj:t.titleObj,modificationDate:r,contentsObj:i,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]})}get hasPopupElement(){return!!(this.#i||this.popup||this.data.popupRef)}get extraPopupElement(){return this.#i}render(){Xe("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const i=[];if(this._fieldObjects){const r=this._fieldObjects[e];if(r)for(const{page:s,id:l,exportValues:c}of r){if(s===-1||l===t)continue;const d=typeof c=="string"?c:null,f=document.querySelector(`[data-element-id="${l}"]`);if(f&&!Ds.has(f)){we(`_getElementsByName - element not allowed: ${l}`);continue}i.push({id:l,exportValue:d,domElement:f})}return i}for(const r of document.getElementsByName(e)){const{exportValue:s}=r,l=r.getAttribute("data-element-id");l!==t&&Ds.has(r)&&i.push({id:l,exportValue:s,domElement:r})}return i}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class DB extends St{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.editor=e.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:e}=this;e.hasComment&&this._createPopup(e.comment)}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(e){this.editor.comment=e,e||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.parent.removeAnnotation(this.data.id),this.container.remove(),this.container=null,this.removePopup()}}class fb extends St{constructor(e,t=null){super(e,{isRenderable:!0,ignoreBorder:!!t?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:t}=this,i=document.createElement("a");i.setAttribute("data-element-id",e.id);let r=!1;return e.url?(t.addLinkAttributes(i,e.url,e.newWindow),r=!0):e.action?(this._bindNamedAction(i,e.action,e.overlaidText),r=!0):e.attachment?(this.#t(i,e.attachment,e.overlaidText,e.attachmentDest),r=!0):e.setOCGState?(this.#i(i,e.setOCGState,e.overlaidText),r=!0):e.dest?(this._bindLink(i,e.dest,e.overlaidText),r=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,e),r=!0),e.resetForm?(this._bindResetFormAction(i,e.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(i,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&(this.contentElement=i,this.container.append(i)),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(e,t,i=""){e.href=this.linkService.getDestinationHash(t),e.onclick=()=>(t&&this.linkService.goToDestination(t),!1),(t||t==="")&&this.#e(),i&&(e.title=i)}_bindNamedAction(e,t,i=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(t),!1),i&&(e.title=i),this.#e()}#t(e,t,i="",r=null){e.href=this.linkService.getAnchorUrl(""),t.description?e.title=t.description:i&&(e.title=i),e.onclick=()=>(this.downloadManager?.openOrDownloadData(t.content,t.filename,r),!1),this.#e()}#i(e,t,i=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(t),!1),i&&(e.title=i),this.#e()}_bindJSAction(e,t){e.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(t.actions)){const s=i.get(r);s&&(e[s]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t.id,name:r}}),!1))}t.overlaidText&&(e.title=t.overlaidText),e.onclick||(e.onclick=()=>!1),this.#e()}_bindResetFormAction(e,t){const i=e.onclick;if(i||(e.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects){we('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(e.onclick=()=>!1);return}e.onclick=()=>{i?.();const{fields:r,refs:s,include:l}=t,c=[];if(r.length!==0||s.length!==0){const h=new Set(s);for(const p of r){const g=this._fieldObjects[p]||[];for(const{id:y}of g)h.add(y)}for(const p of Object.values(this._fieldObjects))for(const g of p)h.has(g.id)===l&&c.push(g)}else for(const h of Object.values(this._fieldObjects))c.push(...h);const d=this.annotationStorage,f=[];for(const h of c){const{id:p}=h;switch(f.push(p),h.type){case"text":{const y=h.defaultValue||"";d.setValue(p,{value:y});break}case"checkbox":case"radiobutton":{const y=h.defaultValue===h.exportValues;d.setValue(p,{value:y});break}case"combobox":case"listbox":{const y=h.defaultValue||"";d.setValue(p,{value:y});break}default:continue}const g=document.querySelector(`[data-element-id="${p}"]`);if(g){if(!Ds.has(g)){we(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;g.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:f,name:"ResetForm"}}),!1}}}class LB extends St{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(e),this.container}}class Hs extends St{render(){return this.container}showElementAndHideCanvas(e){this.data.hasOwnCanvas&&(e.previousSibling?.nodeName==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Vt.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,i,r,s){i.includes("mouse")?e.addEventListener(i,l=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(l),shift:l.shiftKey,modifier:this._getKeyModifier(l)}})}):e.addEventListener(i,l=>{if(i==="blur"){if(!t.focused||!l.relatedTarget)return;t.focused=!1}else if(i==="focus"){if(t.focused)return;t.focused=!0}s&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(l)}})})}_setEventListeners(e,t,i,r){for(const[s,l]of i)(l==="Action"||this.data.actions?.[l])&&((l==="Focus"||l==="Blur")&&(t||={focused:!1}),this._setEventListener(e,t,s,l,r),l==="Focus"&&!this.data.actions?.Blur?this._setEventListener(e,t,"blur","Blur",null):l==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":ue.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||_B,s=e.style;let l;const c=2,d=f=>Math.round(10*f)/10;if(this.data.multiLine){const f=Math.abs(this.data.rect[3]-this.data.rect[1]-c),h=Math.round(f/(ev*r))||1,p=f/h;l=Math.min(r,d(p/ev))}else{const f=Math.abs(this.data.rect[3]-this.data.rect[1]-c);l=Math.min(r,d(f/ev))}s.fontSize=`calc(${l}px * var(--total-scale-factor))`,s.color=ue.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class NB extends Hs{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,i,r){const s=this.annotationStorage;for(const l of this._getElementsByName(e.name,e.id))l.domElement&&(l.domElement[t]=i),s.setValue(l.id,{[r]:i})}render(){const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const r=e.getValue(t,{value:this.data.fieldValue});let s=r.value||"";const l=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;l&&s.length>l&&(s=s.slice(0,l));let c=r.formattedValue||this.data.textContent?.join(`
`)||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const d={userValue:s,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=c??s,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type=this.data.password?"password":"text",i.setAttribute("value",c??s),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),Ds.add(i),this.contentElement=i,i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=0;const{datetimeFormat:f,datetimeType:h,timeStep:p}=this.data,g=!!h&&this.enableScripting;f&&(i.title=f),this._setRequired(i,this.data.required),l&&(i.maxLength=l),i.addEventListener("input",S=>{e.setValue(t,{value:S.target.value}),this.setPropertyOnSiblings(i,"value",S.target.value,"value"),d.formattedValue=null}),i.addEventListener("resetform",S=>{const A=this.data.defaultFieldValue??"";i.value=d.userValue=A,d.formattedValue=null});let y=S=>{const{formattedValue:A}=d;A!=null&&(S.target.value=A),S.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",A=>{if(d.focused)return;const{target:x}=A;if(g&&(x.type=h,p&&(x.step=p)),d.userValue){const E=d.userValue;if(g)if(h==="time"){const O=new Date(E),T=[O.getHours(),O.getMinutes(),O.getSeconds()];x.value=T.map(P=>P.toString().padStart(2,"0")).join(":")}else x.value=new Date(E-PB).toISOString().split(h==="date"?"T":".",1)[0];else x.value=E}d.lastCommittedValue=x.value,d.commitKey=1,this.data.actions?.Focus||(d.focused=!0)}),i.addEventListener("updatefromsandbox",A=>{this.showElementAndHideCanvas(A.target);const x={value(E){d.userValue=E.detail.value??"",g||e.setValue(t,{value:d.userValue.toString()}),E.target.value=d.userValue},formattedValue(E){const{formattedValue:O}=E.detail;d.formattedValue=O,O!=null&&E.target!==document.activeElement&&(E.target.value=O);const T={formattedValue:O};g&&(T.value=O),e.setValue(t,T)},selRange(E){E.target.setSelectionRange(...E.detail.selRange)},charLimit:E=>{const{charLimit:O}=E.detail,{target:T}=E;if(O===0){T.removeAttribute("maxLength");return}T.setAttribute("maxLength",O);let P=d.userValue;!P||P.length<=O||(P=P.slice(0,O),T.value=d.userValue=P,e.setValue(t,{value:P}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:P,willCommit:!0,commitKey:1,selStart:T.selectionStart,selEnd:T.selectionEnd}}))}};this._dispatchEventFromSandbox(x,A)}),i.addEventListener("keydown",A=>{d.commitKey=1;let x=-1;if(A.key==="Escape"?x=0:A.key==="Enter"&&!this.data.multiLine?x=2:A.key==="Tab"&&(d.commitKey=3),x===-1)return;const{value:E}=A.target;d.lastCommittedValue!==E&&(d.lastCommittedValue=E,d.userValue=E,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:E,willCommit:!0,commitKey:x,selStart:A.target.selectionStart,selEnd:A.target.selectionEnd}}))});const S=y;y=null,i.addEventListener("blur",A=>{if(!d.focused||!A.relatedTarget)return;this.data.actions?.Blur||(d.focused=!1);const{target:x}=A;let{value:E}=x;if(g){if(E&&h==="time"){const O=E.split(":").map(T=>parseInt(T,10));E=new Date(2e3,0,1,O[0],O[1],O[2]||0).valueOf(),x.step=""}else E.includes("T")||(E=`${E}T00:00`),E=new Date(E).valueOf();x.type="text"}d.userValue=E,d.lastCommittedValue!==E&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:E,willCommit:!0,commitKey:d.commitKey,selStart:A.target.selectionStart,selEnd:A.target.selectionEnd}}),S(A)}),this.data.actions?.Keystroke&&i.addEventListener("beforeinput",A=>{d.lastCommittedValue=null;const{data:x,target:E}=A,{value:O,selectionStart:T,selectionEnd:P}=E;let M=T,_=P;switch(A.inputType){case"deleteWordBackward":{const N=O.substring(0,T).match(/\w*[^\w]*$/);N&&(M-=N[0].length);break}case"deleteWordForward":{const N=O.substring(T).match(/^[^\w]*\w*/);N&&(_+=N[0].length);break}case"deleteContentBackward":T===P&&(M-=1);break;case"deleteContentForward":T===P&&(_+=1);break}A.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:O,change:x||"",willCommit:!1,selStart:M,selEnd:_}})}),this._setEventListeners(i,d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],A=>A.target.value)}if(y&&i.addEventListener("blur",y),this.data.comb){const A=(this.data.rect[2]-this.data.rect[0])/l;i.classList.add("comb"),i.style.letterSpacing=`calc(${A}px * var(--total-scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class RB extends Hs{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class IB extends Hs{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,i=t.id;let r=e.getValue(i,{value:t.exportValue===t.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",e.setValue(i,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return Ds.add(s),s.setAttribute("data-element-id",i),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,r&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=0,s.addEventListener("change",l=>{const{name:c,checked:d}=l.target;for(const f of this._getElementsByName(c,i)){const h=d&&f.exportValue===t.exportValue;f.domElement&&(f.domElement.checked=h),e.setValue(f.id,{value:h})}e.setValue(i,{value:d})}),s.addEventListener("resetform",l=>{const c=t.defaultFieldValue||"Off";l.target.checked=c===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",l=>{const c={value(d){d.target.checked=d.detail.value!=="Off",e.setValue(i,{value:d.target.checked})}};this._dispatchEventFromSandbox(c,l)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class S_ extends Hs{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,i=t.id;let r=e.getValue(i,{value:t.fieldValue===t.buttonValue}).value;if(typeof r=="string"&&(r=r!==t.buttonValue,e.setValue(i,{value:r})),r)for(const l of this._getElementsByName(t.fieldName,i))e.setValue(l.id,{value:!1});const s=document.createElement("input");if(Ds.add(s),s.setAttribute("data-element-id",i),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,r&&s.setAttribute("checked",!0),s.tabIndex=0,s.addEventListener("change",l=>{const{name:c,checked:d}=l.target;for(const f of this._getElementsByName(c,i))e.setValue(f.id,{value:!1});e.setValue(i,{value:d})}),s.addEventListener("resetform",l=>{const c=t.defaultFieldValue;l.target.checked=c!=null&&c===t.buttonValue}),this.enableScripting&&this.hasJSActions){const l=t.buttonValue;s.addEventListener("updatefromsandbox",c=>{const d={value:f=>{const h=l===f.detail.value;for(const p of this._getElementsByName(f.target.name)){const g=h&&p.id===i;p.domElement&&(p.domElement.checked=g),e.setValue(p.id,{value:g})}}};this._dispatchEventFromSandbox(d,c)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class kB extends fb{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),e}}class jB extends Hs{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,i=e.getValue(t,{value:this.data.fieldValue}),r=document.createElement("select");Ds.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=0;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",h=>{const p=this.data.defaultFieldValue;for(const g of r.options)g.selected=g.value===p});for(const h of this.data.options){const p=document.createElement("option");p.textContent=h.displayValue,p.value=h.exportValue,i.value.includes(h.exportValue)&&(p.setAttribute("selected",!0),s=!1),r.append(p)}let l=null;if(s){const h=document.createElement("option");h.value=" ",h.setAttribute("hidden",!0),h.setAttribute("selected",!0),r.prepend(h),l=()=>{h.remove(),r.removeEventListener("input",l),l=null},r.addEventListener("input",l)}const c=h=>{const p=h?"value":"textContent",{options:g,multiple:y}=r;return y?Array.prototype.filter.call(g,S=>S.selected).map(S=>S[p]):g.selectedIndex===-1?null:g[g.selectedIndex][p]};let d=c(!1);const f=h=>{const p=h.target.options;return Array.prototype.map.call(p,g=>({displayValue:g.textContent,exportValue:g.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",h=>{const p={value(g){l?.();const y=g.detail.value,S=new Set(Array.isArray(y)?y:[y]);for(const A of r.options)A.selected=S.has(A.value);e.setValue(t,{value:c(!0)}),d=c(!1)},multipleSelection(g){r.multiple=!0},remove(g){const y=r.options,S=g.detail.remove;y[S].selected=!1,r.remove(S),y.length>0&&Array.prototype.findIndex.call(y,x=>x.selected)===-1&&(y[0].selected=!0),e.setValue(t,{value:c(!0),items:f(g)}),d=c(!1)},clear(g){for(;r.length!==0;)r.remove(0);e.setValue(t,{value:null,items:[]}),d=c(!1)},insert(g){const{index:y,displayValue:S,exportValue:A}=g.detail.insert,x=r.children[y],E=document.createElement("option");E.textContent=S,E.value=A,x?x.before(E):r.append(E),e.setValue(t,{value:c(!0),items:f(g)}),d=c(!1)},items(g){const{items:y}=g.detail;for(;r.length!==0;)r.remove(0);for(const S of y){const{displayValue:A,exportValue:x}=S,E=document.createElement("option");E.textContent=A,E.value=x,r.append(E)}r.options.length>0&&(r.options[0].selected=!0),e.setValue(t,{value:c(!0),items:f(g)}),d=c(!1)},indices(g){const y=new Set(g.detail.indices);for(const S of g.target.options)S.selected=y.has(S.index);e.setValue(t,{value:c(!0)}),d=c(!1)},editable(g){g.target.disabled=!g.detail.editable}};this._dispatchEventFromSandbox(p,h)}),r.addEventListener("input",h=>{const p=c(!0),g=c(!1);e.setValue(t,{value:p}),h.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:d,change:g,changeEx:p,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],h=>h.target.value)):r.addEventListener("input",function(h){e.setValue(t,{value:c(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class Zy extends St{constructor(e){const{data:t,elements:i,parent:r}=e,s=!!r._commentManager;if(super(e,{isRenderable:!s&&St._hasPopupData(t)}),this.elements=i,s&&St._hasPopupData(t)){const l=this.popup=this.#e();for(const c of i)c.popup=l}else this.popup=null}#e(){return new BB({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})}render(){const{container:e}=this;e.classList.add("popupAnnotation"),e.role="comment";const t=this.popup=this.#e(),i=[];for(const r of this.elements)r.popup=t,r.container.ariaHasPopup="dialog",i.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",i.map(r=>`${$o}${r}`).join(",")),this.container}}class BB{#e=null;#t=this.#q.bind(this);#i=this.#z.bind(this);#n=this.#N.bind(this);#a=this.#x.bind(this);#s=null;#r=null;#o=null;#c=null;#l=null;#f=null;#d=null;#h=!1;#g=null;#m=null;#u=null;#p=null;#v=null;#b=null;#y=null;#C=null;#E=null;#S=null;#T=!1;#A=null;#w=null;constructor({container:e,color:t,elements:i,titleObj:r,modificationDate:s,contentsObj:l,richText:c,parent:d,rect:f,parentRect:h,open:p,commentManager:g=null}){this.#r=e,this.#E=r,this.#o=l,this.#C=c,this.#f=d,this.#s=t,this.#y=f,this.#d=h,this.#l=i,this.#e=g,this.#A=i[0],this.#c=qy.toDateObject(s),this.trigger=i.flatMap(y=>y.getElementsToTriggerPopup()),g||(this.#P(),this.#r.hidden=!0,p&&this.#x())}#P(){if(this.#m)return;this.#m=new AbortController;const{signal:e}=this.#m;for(const t of this.trigger)t.addEventListener("click",this.#a,{signal:e}),t.addEventListener("pointerenter",this.#n,{signal:e}),t.addEventListener("pointerleave",this.#i,{signal:e}),t.classList.add("popupTriggerArea");for(const t of this.#l)t.container?.addEventListener("keydown",this.#t,{signal:e})}#M(){const e=this.#l.find(t=>t.hasCommentButton);e&&(this.#v=e._normalizePoint(e.commentButtonPosition))}renderCommentButton(){if(this.#p){this.#p.parentNode||this.#A.container.after(this.#p);return}if(this.#v||this.#M(),!this.#v)return;const{signal:e}=this.#m=new AbortController,t=this.#A.hasOwnCommentButton,i=()=>{this.#e.toggleCommentPopup(this,!0,void 0,!t)},r=()=>{this.#e.toggleCommentPopup(this,!1,!0,!t)},s=()=>{this.#e.toggleCommentPopup(this,!1,!1)};if(t){this.#p=this.#A.container;for(const l of this.trigger)l.ariaHasPopup="dialog",l.ariaControls="commentPopup",l.addEventListener("keydown",this.#t,{signal:e}),l.addEventListener("click",i,{signal:e}),l.addEventListener("pointerenter",r,{signal:e}),l.addEventListener("pointerleave",s,{signal:e}),l.classList.add("popupTriggerArea")}else{const l=this.#p=document.createElement("button");l.className="annotationCommentButton";const c=this.#A.container;l.style.zIndex=c.style.zIndex+1,l.tabIndex=0,l.ariaHasPopup="dialog",l.ariaControls="commentPopup",l.setAttribute("data-l10n-id","pdfjs-show-comment-button"),this.#j(),this.#_(),l.addEventListener("keydown",this.#t,{signal:e}),l.addEventListener("click",i,{signal:e}),l.addEventListener("pointerenter",r,{signal:e}),l.addEventListener("pointerleave",s,{signal:e}),c.after(l)}}#_(){if(this.#A.extraPopupElement&&!this.#A.editor)return;this.#p||this.renderCommentButton();const[e,t]=this.#v,{style:i}=this.#p;i.left=`calc(${e}%)`,i.top=`calc(${t}% - var(--comment-button-dim))`}#j(){this.#A.extraPopupElement||(this.#p||this.renderCommentButton(),this.#p.style.backgroundColor=this.commentButtonColor||"")}get commentButtonColor(){const{color:e,opacity:t}=this.#A.commentData;return e?this.#f._commentManager.makeCommentColor(e,t):null}focusCommentButton(){setTimeout(()=>{this.#p?.focus()},0)}getData(){const{richText:e,color:t,opacity:i,creationDate:r,modificationDate:s}=this.#A.commentData;return{contentsObj:{str:this.comment},richText:e,color:t,opacity:i,creationDate:r,modificationDate:s}}get elementBeforePopup(){return this.#p}get comment(){return this.#w||=this.#A.commentText,this.#w}set comment(e){e!==this.comment&&(this.#A.commentText=this.#w=e)}focus(){this.#A.container?.focus()}get parentBoundingClientRect(){return this.#A.layer.getBoundingClientRect()}setCommentButtonStates({selected:e,hasPopup:t}){this.#p&&(this.#p.classList.toggle("selected",e),this.#p.ariaExpanded=t)}setSelectedCommentButton(e){this.#p.classList.toggle("selected",e)}get commentPopupPosition(){if(this.#b)return this.#b;const{x:e,y:t,height:i}=this.#p.getBoundingClientRect(),{x:r,y:s,width:l,height:c}=this.#A.layer.getBoundingClientRect();return[(e-r)/l,(t+i-s)/c]}set commentPopupPosition(e){this.#b=e}hasDefaultPopupPosition(){return this.#b===null}get commentButtonPosition(){return this.#v}get commentButtonWidth(){return this.#p.getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(e){const[t,i]=this.#b||this.commentButtonPosition.map(f=>f/100),r=this.parentBoundingClientRect,{x:s,y:l,width:c,height:d}=r;this.#e.showDialog(null,this,s+t*c,l+i*d,{...e,parentDimensions:r})}render(){if(this.#g)return;const e=this.#g=document.createElement("div");if(e.className="popup",this.#s){const i=e.style.outlineColor=ue.makeHexColor(...this.#s);e.style.backgroundColor=`color-mix(in srgb, ${i} 30%, white)`}const t=document.createElement("span");if(t.className="header",this.#E?.str){const i=document.createElement("span");i.className="title",t.append(i),{dir:i.dir,str:i.textContent}=this.#E}if(e.append(t),this.#c){const i=document.createElement("time");i.className="popupDate",i.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),i.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#c.valueOf()})),i.dateTime=this.#c.toISOString(),t.append(i)}ZM({html:this.#L||this.#o.str,dir:this.#o?.dir,className:"popupContent"},e),this.#r.append(e)}get#L(){const e=this.#C,t=this.#o;return e?.str&&(!t?.str||t.str===e.str)&&this.#C.html||null}get#R(){return this.#L?.attributes?.style?.fontSize||0}get#B(){return this.#L?.attributes?.style?.color||null}#I(e){const t=[],i={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},r={style:{color:this.#B,fontSize:this.#R?`calc(${this.#R}px * var(--total-scale-factor))`:""}};for(const s of e.split(`
`))t.push({name:"span",value:s,attributes:r});return i}#q(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&this.#h)&&this.#x()}updateEdited({rect:e,popup:t,deleted:i}){if(this.#e){i?(this.remove(),this.#w=null):t&&(t.deleted?this.remove():(this.#j(),this.#w=t.text)),e&&(this.#v=null,this.#M(),this.#_());return}if(i||t?.deleted){this.remove();return}this.#P(),this.#S||={contentsObj:this.#o,richText:this.#C},e&&(this.#u=null),t&&t.text&&(this.#C=this.#I(t.text),this.#c=qy.toDateObject(t.date),this.#o=null),this.#g?.remove(),this.#g=null}resetEdited(){this.#S&&({contentsObj:this.#o,richText:this.#C}=this.#S,this.#S=null,this.#g?.remove(),this.#g=null,this.#u=null)}remove(){if(this.#m?.abort(),this.#m=null,this.#g?.remove(),this.#g=null,this.#T=!1,this.#h=!1,this.#p?.remove(),this.#p=null,this.trigger)for(const e of this.trigger)e.classList.remove("popupTriggerArea")}#O(){if(this.#u!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:i,pageX:r,pageY:s}}}=this.#f;let l=!!this.#d,c=l?this.#d:this.#y;for(const S of this.#l)if(!c||ue.intersect(S.data.rect,c)!==null){c=S.data.rect,l=!0;break}const d=ue.normalizeRect([c[0],e[3]-c[1]+e[1],c[2],e[3]-c[3]+e[1]]),h=l?c[2]-c[0]+5:0,p=d[0]+h,g=d[1];this.#u=[100*(p-r)/t,100*(g-s)/i];const{style:y}=this.#r;y.left=`${this.#u[0]}%`,y.top=`${this.#u[1]}%`}#x(){if(this.#e){this.#e.toggleCommentPopup(this,!1);return}this.#h=!this.#h,this.#h?(this.#N(),this.#r.addEventListener("click",this.#a),this.#r.addEventListener("keydown",this.#t)):(this.#z(),this.#r.removeEventListener("click",this.#a),this.#r.removeEventListener("keydown",this.#t))}#N(){this.#g||this.render(),this.isVisible?this.#h&&this.#r.classList.add("focused"):(this.#O(),this.#r.hidden=!1,this.#r.style.zIndex=parseInt(this.#r.style.zIndex)+1e3)}#z(){this.#r.classList.remove("focused"),!(this.#h||!this.isVisible)&&(this.#r.hidden=!0,this.#r.style.zIndex=parseInt(this.#r.style.zIndex)-1e3)}forceHide(){this.#T=this.isVisible,this.#T&&(this.#r.hidden=!0)}maybeShow(){this.#e||(this.#P(),this.#T&&(this.#g||this.#N(),this.#T=!1,this.#r.hidden=!1))}get isVisible(){return this.#e?!1:this.#r.hidden===!1}}class x_ extends St{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Me.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=this.contentElement=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const i=document.createElement("span");i.textContent=t,e.append(i)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}class zB extends St{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:e,width:t,height:i}=this,r=this.svgFactory.create(t,i,!0),s=this.#e=this.svgFactory.createElement("svg:line");return s.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),s.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),s.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),s.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),s.setAttribute("stroke-width",e.borderStyle.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),r.append(s),this.container.append(r),!e.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class FB extends St{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:e,width:t,height:i}=this,r=this.svgFactory.create(t,i,!0),s=e.borderStyle.width,l=this.#e=this.svgFactory.createElement("svg:rect");return l.setAttribute("x",s/2),l.setAttribute("y",s/2),l.setAttribute("width",t-s),l.setAttribute("height",i-s),l.setAttribute("stroke-width",s||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),r.append(l),this.container.append(r),!e.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class UB extends St{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:e,width:t,height:i}=this,r=this.svgFactory.create(t,i,!0),s=e.borderStyle.width,l=this.#e=this.svgFactory.createElement("svg:ellipse");return l.setAttribute("cx",t/2),l.setAttribute("cy",i/2),l.setAttribute("rx",t/2-s/2),l.setAttribute("ry",i/2-s/2),l.setAttribute("stroke-width",s||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),r.append(l),this.container.append(r),!e.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class E_ extends St{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:t,borderStyle:i,popupRef:r},width:s,height:l}=this;if(!t)return this.container;const c=this.svgFactory.create(s,l,!0);let d=[];for(let h=0,p=t.length;h<p;h+=2){const g=t[h]-e[0],y=e[3]-t[h+1];d.push(`${g},${y}`)}d=d.join(" ");const f=this.#e=this.svgFactory.createElement(this.svgElementName);return f.setAttribute("points",d),f.setAttribute("stroke-width",i.width||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),c.append(f),this.container.append(c),!r&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class HB extends E_{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class $B extends St{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}}class hb extends St{#e=null;#t=[];constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Me.HIGHLIGHT:Me.INK}#i(e,t){switch(e){case 90:return{transform:`rotate(90) translate(${-t[0]},${t[1]}) scale(1,-1)`,width:t[3]-t[1],height:t[2]-t[0]};case 180:return{transform:`rotate(180) translate(${-t[2]},${t[1]}) scale(1,-1)`,width:t[2]-t[0],height:t[3]-t[1]};case 270:return{transform:`rotate(270) translate(${-t[2]},${t[3]}) scale(1,-1)`,width:t[3]-t[1],height:t[2]-t[0]};default:return{transform:`translate(${-t[0]},${t[3]}) scale(1,-1)`,width:t[2]-t[0],height:t[3]-t[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,rotation:t,inkLists:i,borderStyle:r,popupRef:s}}=this,{transform:l,width:c,height:d}=this.#i(t,e),f=this.svgFactory.create(c,d,!0),h=this.#e=this.svgFactory.createElement("svg:g");f.append(h),h.setAttribute("stroke-width",r.width||1),h.setAttribute("stroke-linecap","round"),h.setAttribute("stroke-linejoin","round"),h.setAttribute("stroke-miterlimit",10),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),h.setAttribute("transform",l);for(let p=0,g=i.length;p<g;p++){const y=this.svgFactory.createElement(this.svgElementName);this.#t.push(y),y.setAttribute("points",i[p].join(",")),h.append(y)}return!s&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(f),this._editOnDoubleClick(),this.container}updateEdited(e){super.updateEdited(e);const{thickness:t,points:i,rect:r}=e,s=this.#e;if(t>=0&&s.setAttribute("stroke-width",t||1),i)for(let l=0,c=this.#t.length;l<c;l++)this.#t[l].setAttribute("points",i[l].join(","));if(r){const{transform:l,width:c,height:d}=this.#i(this.data.rotation,r);s.parentElement.setAttribute("viewBox",`0 0 ${c} ${d}`),s.setAttribute("transform",l)}}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class w_ extends St{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Me.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const i=document.createElement("mark");i.classList.add("overlaidText"),i.textContent=e,this.container.append(i)}return this.container}}class qB extends St{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("underlineAnnotation"),e){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=e,this.container.append(i)}return this.container}}class GB extends St{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("squigglyAnnotation"),e){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=e,this.container.append(i)}return this.container}}class VB extends St{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("strikeoutAnnotation"),e){const i=document.createElement("s");i.classList.add("overlaidText"),i.textContent=e,this.container.append(i)}return this.container}}class C_ extends St{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Me.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}class YB extends St{#e=null;constructor(e){super(e,{isRenderable:!0});const{file:t}=this.data;this.filename=t.filename,this.content=t.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...t})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:t}=this;let i;t.hasAppearance||t.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(t.name)?"paperclip":"pushpin"}.svg`,t.fillAlpha&&t.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(t.fillAlpha*100)}%);`)),i.addEventListener("dblclick",this.#t.bind(this)),this.#e=i;const{isMac:r}=Vt.platform;return e.addEventListener("keydown",s=>{s.key==="Enter"&&(r?s.metaKey:s.ctrlKey)&&this.#t()}),!t.popupRef&&this.hasPopupData?(this.hasOwnCommentButton=!0,this._createPopup()):i.classList.add("popupTriggerArea"),e.append(i),e}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}class pb{#e=null;#t=null;#i=null;#n=new Map;#a=null;#s=null;#r=[];#o=!1;constructor({div:e,accessibilityManager:t,annotationCanvasMap:i,annotationEditorUIManager:r,page:s,viewport:l,structTreeLayer:c,commentManager:d,linkService:f,annotationStorage:h}){this.div=e,this.#e=t,this.#t=i,this.#a=c||null,this.#s=f||null,this.#i=h||new ob,this.page=s,this.viewport=l,this.zIndex=0,this._annotationEditorUIManager=r,this._commentManager=d||null}hasEditableAnnotations(){return this.#n.size>0}async render(e){const{annotations:t}=e,i=this.div;Ps(i,this.viewport);const r=new Map,s=[],l={data:null,layer:i,linkService:this.#s,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new Lf,annotationStorage:this.#i,enableComment:e.enableComment===!0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const c of t){if(c.noHTML)continue;const d=c.annotationType===zt.POPUP;if(d){const p=r.get(c.id);if(!p)continue;if(!this._commentManager){s.push(c);continue}l.elements=p}else if(c.rect[2]===c.rect[0]||c.rect[3]===c.rect[1])continue;l.data=c;const f=ov.create(l);if(!f.isRenderable)continue;if(!d&&(this.#r.push(f),c.popupRef)){const p=r.get(c.popupRef);p?p.push(f):r.set(c.popupRef,[f])}const h=f.render();c.hidden&&(h.style.visibility="hidden"),f._isEditable&&(this.#n.set(f.data.id,f),this._annotationEditorUIManager?.renderAnnotationElement(f))}await this.#c();for(const c of s){const d=l.elements=r.get(c.id);l.data=c;const f=ov.create(l);if(!f.isRenderable)continue;const h=f.render();f.contentElement.id=`${$o}${c.id}`,c.hidden&&(h.style.visibility="hidden"),d.at(-1).container.after(h)}this.#l()}async#c(){if(this.#r.length===0)return;this.div.replaceChildren();const e=[];if(!this.#o){this.#o=!0;for(const{contentElement:i,data:{id:r}}of this.#r){const s=i.id=`${$o}${r}`;e.push(this.#a?.getAriaAttributes(s).then(l=>{if(l)for(const[c,d]of l)i.setAttribute(c,d)}))}}this.#r.sort(({data:{rect:[i,r,s,l]}},{data:{rect:[c,d,f,h]}})=>{if(i===s&&r===l)return 1;if(c===f&&d===h)return-1;const p=l,g=r,y=(r+l)/2,S=h,A=d,x=(d+h)/2;if(y>=S&&x<=g)return-1;if(x>=p&&y<=A)return 1;const E=(i+s)/2,O=(c+f)/2;return E-O});const t=document.createDocumentFragment();for(const i of this.#r)t.append(i.container),this._commentManager?(i.extraPopupElement?.popup||i.popup)?.renderCommentButton():i.extraPopupElement&&t.append(i.extraPopupElement.render());if(this.div.append(t),await Promise.all(e),this.#e)for(const i of this.#r)this.#e.addPointerInTextLayer(i.contentElement,!1)}async addLinkAnnotations(e){const t={data:null,layer:this.div,linkService:this.#s,svgFactory:new Lf,parent:this};for(const i of e){i.borderStyle||=pb._defaultBorderStyle,t.data=i;const r=ov.create(t);r.isRenderable&&(r.render(),r.contentElement.id=`${$o}${i.id}`,this.#r.push(r))}await this.#c()}update({viewport:e}){const t=this.div;this.viewport=e,Ps(t,{rotation:e.rotation}),this.#l(),t.hidden=!1}#l(){if(!this.#t)return;const e=this.div;for(const[t,i]of this.#t){const r=e.querySelector(`[data-annotation-id="${t}"]`);if(!r)continue;i.className="annotationContent";const{firstChild:s}=r;s?s.nodeName==="CANVAS"?s.replaceWith(i):s.classList.contains("annotationContent")?s.after(i):s.before(i):r.append(i);const l=this.#n.get(t);l&&(l._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(t,r.id,i),l._hasNoCanvas=!1):l.canvas=i)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(e){return this.#n.get(e)}addFakeAnnotation(e){const{div:t}=this,{id:i,rotation:r}=e,s=new DB({data:{id:i,rect:e.getPDFRect(),rotation:r},editor:e,layer:t,parent:this,enableComment:!!this._commentManager,linkService:this.#s,annotationStorage:this.#i});return s.render(),s.contentElement.id=`${$o}${i}`,s.createOrUpdatePopup(),this.#r.push(s),s}removeAnnotation(e){const t=this.#r.findIndex(r=>r.data.id===e);if(t<0)return;const[i]=this.#r.splice(t,1);this.#e?.removePointerInTextLayer(i.contentElement)}updateFakeAnnotations(e){if(e.length!==0){for(const t of e)t.updateFakeAnnotationElement(this);this.#c()}}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}static get _defaultBorderStyle(){return Ce(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:zo.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}}const tf=/\r\n?|\n/g;class Jt extends Se{#e="";#t=`${this.id}-editor`;#i=null;#n;_colorPicker=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const e=Jt.prototype,t=s=>s.isEmpty(),i=$a.TRANSLATE_SMALL,r=$a.TRANSLATE_BIG;return Ce(this,"_keyboardManager",new uu([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[r,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:t}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,r],checker:t}]]))}static _type="freetext";static _editorType=Me.FREETEXT;constructor(e){super({...e,name:"freeTextEditor"}),this.color=e.color||Jt._defaultColor||Se._defaultLineColor,this.#n=e.fontSize||Jt._defaultFontSize,this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert"),this.canAddComment=!1}static initialize(e,t){Se.initialize(e,t);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,t){switch(e){case ze.FREETEXT_SIZE:Jt._defaultFontSize=t;break;case ze.FREETEXT_COLOR:Jt._defaultColor=t;break}}updateParams(e,t){switch(e){case ze.FREETEXT_SIZE:this.#a(t);break;case ze.FREETEXT_COLOR:this.#s(t);break}}static get defaultPropertiesToUpdate(){return[[ze.FREETEXT_SIZE,Jt._defaultFontSize],[ze.FREETEXT_COLOR,Jt._defaultColor||Se._defaultLineColor]]}get propertiesToUpdate(){return[[ze.FREETEXT_SIZE,this.#n],[ze.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||=new qc(this),[["colorPicker",this._colorPicker]]}get colorType(){return ze.FREETEXT_COLOR}#a(e){const t=r=>{this.editorDiv.style.fontSize=`calc(${r}px * var(--total-scale-factor))`,this.translate(0,-(r-this.#n)*this.parentScale),this.#n=r,this.#o()},i=this.#n;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ze.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}onUpdatedColor(){this.editorDiv.style.color=this.color,this._colorPicker?.update(this.color),super.onUpdatedColor()}#s(e){const t=r=>{this.color=r,this.onUpdatedColor()},i=this.color;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ze.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(e,t){this._uiManager.translateSelectedEditors(e,t,!0)}getInitialTranslation(){const e=this.parentScale;return[-Jt._internalPadding*e,-(Jt._internalPadding+this.#n)*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#i=new AbortController;const e=this._uiManager.combinedSignal(this.#i);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e}),!0}disableEditMode(){return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#t),this._isDraggable=!0,this.#i?.abort(),this.#i=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(e){this.width||(this.enableEditMode(),e&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#r(){const e=[];this.editorDiv.normalize();let t=null;for(const i of this.editorDiv.childNodes)t?.nodeType===Node.TEXT_NODE&&i.nodeName==="BR"||(e.push(Jt.#c(i)),t=i);return e.join(`
`)}#o(){const[e,t]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:r,div:s}=this,l=s.style.display,c=s.classList.contains("hidden");s.classList.remove("hidden"),s.style.display="hidden",r.div.append(this.div),i=s.getBoundingClientRect(),s.remove(),s.style.display=l,s.classList.toggle("hidden",c)}this.rotation%180===this.parentRotation%180?(this.width=i.width/e,this.height=i.height/t):(this.width=i.height/e,this.height=i.width/t),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=this.#e,t=this.#e=this.#r().trimEnd();if(e===t)return;const i=r=>{if(this.#e=r,!r){this.remove();return}this.#l(),this._uiManager.rebuild(this),this.#o()};this.addCommands({cmd:()=>{i(t)},undo:()=>{i(e)},mustExec:!1}),this.#o()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){Jt._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let e,t;(this._isCopy||this.annotationElementId)&&(e=this.x,t=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#t),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,i.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[r,s]=this.parentDimensions;if(this.annotationElementId){const{position:l}=this._initialData;let[c,d]=this.getInitialTranslation();[c,d]=this.pageTranslationToScreen(c,d);const[f,h]=this.pageDimensions,[p,g]=this.pageTranslation;let y,S;switch(this.rotation){case 0:y=e+(l[0]-p)/f,S=t+this.height-(l[1]-g)/h;break;case 90:y=e+(l[0]-p)/f,S=t-(l[1]-g)/h,[c,d]=[d,-c];break;case 180:y=e-this.width+(l[0]-p)/f,S=t-(l[1]-g)/h,[c,d]=[-c,-d];break;case 270:y=e+(l[0]-p-this.height*h)/f,S=t+(l[1]-g-this.width*f)/h,[c,d]=[-d,c];break}this.setAt(y*r,S*s,c,d)}else this._moveAfterPaste(e,t);this.#l(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#c(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(tf,"")}editorDivPaste(e){const t=e.clipboardData||window.clipboardData,{types:i}=t;if(i.length===1&&i[0]==="text/plain")return;e.preventDefault();const r=Jt.#d(t.getData("text")||"").replaceAll(tf,`
`);if(!r)return;const s=window.getSelection();if(!s.rangeCount)return;this.editorDiv.normalize(),s.deleteFromDocument();const l=s.getRangeAt(0);if(!r.includes(`
`)){l.insertNode(document.createTextNode(r)),this.editorDiv.normalize(),s.collapseToStart();return}const{startContainer:c,startOffset:d}=l,f=[],h=[];if(c.nodeType===Node.TEXT_NODE){const y=c.parentElement;if(h.push(c.nodeValue.slice(d).replaceAll(tf,"")),y!==this.editorDiv){let S=f;for(const A of this.editorDiv.childNodes){if(A===y){S=h;continue}S.push(Jt.#c(A))}}f.push(c.nodeValue.slice(0,d).replaceAll(tf,""))}else if(c===this.editorDiv){let y=f,S=0;for(const A of this.editorDiv.childNodes)S++===d&&(y=h),y.push(Jt.#c(A))}this.#e=`${f.join(`
`)}${r}${h.join(`
`)}`,this.#l();const p=new Range;let g=Math.sumPrecise(f.map(y=>y.length));for(const{firstChild:y}of this.editorDiv.childNodes)if(y.nodeType===Node.TEXT_NODE){const S=y.nodeValue.length;if(g<=S){p.setStart(y,g),p.setEnd(y,g);break}g-=S}s.removeAllRanges(),s.addRange(p)}#l(){if(this.editorDiv.replaceChildren(),!!this.#e)for(const e of this.#e.split(`
`)){const t=document.createElement("div");t.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(t)}}#f(){return this.#e.replaceAll(""," ")}static#d(e){return e.replaceAll(" ","")}get contentDiv(){return this.editorDiv}getPDFRect(){const e=Jt._internalPadding*this.parentScale;return this.getRect(e,e)}static async deserialize(e,t,i){let r=null;if(e instanceof x_){const{data:{defaultAppearanceData:{fontSize:l,fontColor:c},rect:d,rotation:f,id:h,popupRef:p,richText:g,contentsObj:y,creationDate:S,modificationDate:A},textContent:x,textPosition:E,parent:{page:{pageNumber:O}}}=e;if(!x||x.length===0)return null;r=e={annotationType:Me.FREETEXT,color:Array.from(c),fontSize:l,value:x.join(`
`),position:E,pageIndex:O-1,rect:d.slice(0),rotation:f,annotationElementId:h,id:h,deleted:!1,popupRef:p,comment:y?.str||null,richText:g,creationDate:S,modificationDate:A}}const s=await super.deserialize(e,t,i);return s.#n=e.fontSize,s.color=ue.makeHexColor(...e.color),s.#e=Jt.#d(e.value),s._initialData=r,e.comment&&s.setCommentData(e),s}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const t=Se._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),i=Object.assign(super.serialize(e),{color:t,fontSize:this.#n,value:this.#f()});return this.addComment(i),e?(i.isCopy=!0,i):this.annotationElementId&&!this.#h(i)?null:(i.id=this.annotationElementId,i)}#h(e){const{value:t,fontSize:i,color:r,pageIndex:s}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||e.value!==t||e.fontSize!==i||e.color.some((l,c)=>l!==r[c])||e.pageIndex!==s}renderAnnotationElement(e){const t=super.renderAnnotationElement(e);if(!t)return null;const{style:i}=t;i.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,i.color=this.color,t.replaceChildren();for(const r of this.#e.split(`
`)){const s=document.createElement("div");s.append(r?document.createTextNode(r):document.createElement("br")),t.append(s)}return e.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:this.#e}}),t}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}}class fe{static PRECISION=1e-4;toSVGPath(){Xe("Abstract method `toSVGPath` must be implemented.")}get box(){Xe("Abstract getter `box` must be implemented.")}serialize(e,t){Xe("Abstract method `serialize` must be implemented.")}static _rescale(e,t,i,r,s,l){l||=new Float32Array(e.length);for(let c=0,d=e.length;c<d;c+=2)l[c]=t+e[c]*r,l[c+1]=i+e[c+1]*s;return l}static _rescaleAndSwap(e,t,i,r,s,l){l||=new Float32Array(e.length);for(let c=0,d=e.length;c<d;c+=2)l[c]=t+e[c+1]*r,l[c+1]=i+e[c]*s;return l}static _translate(e,t,i,r){r||=new Float32Array(e.length);for(let s=0,l=e.length;s<l;s+=2)r[s]=t+e[s],r[s+1]=i+e[s+1];return r}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,i,r,s){switch(s){case 90:return[1-t/i,e/r];case 180:return[1-e/i,1-t/r];case 270:return[t/i,1-e/r];default:return[e/i,t/r]}}static _normalizePagePoint(e,t,i){switch(i){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,i,r,s,l){return[(e+5*i)/6,(t+5*r)/6,(5*i+s)/6,(5*r+l)/6,(i+s)/2,(r+l)/2]}}class bs{#e;#t=[];#i;#n;#a=[];#s=new Float32Array(18);#r;#o;#c;#l;#f;#d;#h=[];static#g=8;static#m=2;static#u=bs.#g+bs.#m;constructor({x:e,y:t},i,r,s,l,c=0){this.#e=i,this.#d=s*r,this.#n=l,this.#s.set([NaN,NaN,NaN,NaN,e,t],6),this.#i=c,this.#l=bs.#g*r,this.#c=bs.#u*r,this.#f=r,this.#h.push(e,t)}isEmpty(){return isNaN(this.#s[8])}#p(){const e=this.#s.subarray(4,6),t=this.#s.subarray(16,18),[i,r,s,l]=this.#e;return[(this.#r+(e[0]-t[0])/2-i)/s,(this.#o+(e[1]-t[1])/2-r)/l,(this.#r+(t[0]-e[0])/2-i)/s,(this.#o+(t[1]-e[1])/2-r)/l]}add({x:e,y:t}){this.#r=e,this.#o=t;const[i,r,s,l]=this.#e;let[c,d,f,h]=this.#s.subarray(8,12);const p=e-f,g=t-h,y=Math.hypot(p,g);if(y<this.#c)return!1;const S=y-this.#l,A=S/y,x=A*p,E=A*g;let O=c,T=d;c=f,d=h,f+=x,h+=E,this.#h?.push(e,t);const P=-E/S,M=x/S,_=P*this.#d,N=M*this.#d;return this.#s.set(this.#s.subarray(2,8),0),this.#s.set([f+_,h+N],4),this.#s.set(this.#s.subarray(14,18),12),this.#s.set([f-_,h-N],16),isNaN(this.#s[6])?(this.#a.length===0&&(this.#s.set([c+_,d+N],2),this.#a.push(NaN,NaN,NaN,NaN,(c+_-i)/s,(d+N-r)/l),this.#s.set([c-_,d-N],14),this.#t.push(NaN,NaN,NaN,NaN,(c-_-i)/s,(d-N-r)/l)),this.#s.set([O,T,c,d,f,h],6),!this.isEmpty()):(this.#s.set([O,T,c,d,f,h],6),Math.abs(Math.atan2(T-d,O-c)-Math.atan2(E,x))<Math.PI/2?([c,d,f,h]=this.#s.subarray(2,6),this.#a.push(NaN,NaN,NaN,NaN,((c+f)/2-i)/s,((d+h)/2-r)/l),[c,d,O,T]=this.#s.subarray(14,18),this.#t.push(NaN,NaN,NaN,NaN,((O+c)/2-i)/s,((T+d)/2-r)/l),!0):([O,T,c,d,f,h]=this.#s.subarray(0,6),this.#a.push(((O+5*c)/6-i)/s,((T+5*d)/6-r)/l,((5*c+f)/6-i)/s,((5*d+h)/6-r)/l,((c+f)/2-i)/s,((d+h)/2-r)/l),[f,h,c,d,O,T]=this.#s.subarray(12,18),this.#t.push(((O+5*c)/6-i)/s,((T+5*d)/6-r)/l,((5*c+f)/6-i)/s,((5*d+h)/6-r)/l,((c+f)/2-i)/s,((d+h)/2-r)/l),!0))}toSVGPath(){if(this.isEmpty())return"";const e=this.#a,t=this.#t;if(isNaN(this.#s[6])&&!this.isEmpty())return this.#v();const i=[];i.push(`M${e[4]} ${e[5]}`);for(let r=6;r<e.length;r+=6)isNaN(e[r])?i.push(`L${e[r+4]} ${e[r+5]}`):i.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);this.#y(i);for(let r=t.length-6;r>=6;r-=6)isNaN(t[r])?i.push(`L${t[r+4]} ${t[r+5]}`):i.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);return this.#b(i),i.join(" ")}#v(){const[e,t,i,r]=this.#e,[s,l,c,d]=this.#p();return`M${(this.#s[2]-e)/i} ${(this.#s[3]-t)/r} L${(this.#s[4]-e)/i} ${(this.#s[5]-t)/r} L${s} ${l} L${c} ${d} L${(this.#s[16]-e)/i} ${(this.#s[17]-t)/r} L${(this.#s[14]-e)/i} ${(this.#s[15]-t)/r} Z`}#b(e){const t=this.#t;e.push(`L${t[4]} ${t[5]} Z`)}#y(e){const[t,i,r,s]=this.#e,l=this.#s.subarray(4,6),c=this.#s.subarray(16,18),[d,f,h,p]=this.#p();e.push(`L${(l[0]-t)/r} ${(l[1]-i)/s} L${d} ${f} L${h} ${p} L${(c[0]-t)/r} ${(c[1]-i)/s}`)}newFreeDrawOutline(e,t,i,r,s,l){return new O_(e,t,i,r,s,l)}getOutlines(){const e=this.#a,t=this.#t,i=this.#s,[r,s,l,c]=this.#e,d=new Float32Array((this.#h?.length??0)+2);for(let p=0,g=d.length-2;p<g;p+=2)d[p]=(this.#h[p]-r)/l,d[p+1]=(this.#h[p+1]-s)/c;if(d[d.length-2]=(this.#r-r)/l,d[d.length-1]=(this.#o-s)/c,isNaN(i[6])&&!this.isEmpty())return this.#C(d);const f=new Float32Array(this.#a.length+24+this.#t.length);let h=e.length;for(let p=0;p<h;p+=2){if(isNaN(e[p])){f[p]=f[p+1]=NaN;continue}f[p]=e[p],f[p+1]=e[p+1]}h=this.#S(f,h);for(let p=t.length-6;p>=6;p-=6)for(let g=0;g<6;g+=2){if(isNaN(t[p+g])){f[h]=f[h+1]=NaN,h+=2;continue}f[h]=t[p+g],f[h+1]=t[p+g+1],h+=2}return this.#E(f,h),this.newFreeDrawOutline(f,d,this.#e,this.#f,this.#i,this.#n)}#C(e){const t=this.#s,[i,r,s,l]=this.#e,[c,d,f,h]=this.#p(),p=new Float32Array(36);return p.set([NaN,NaN,NaN,NaN,(t[2]-i)/s,(t[3]-r)/l,NaN,NaN,NaN,NaN,(t[4]-i)/s,(t[5]-r)/l,NaN,NaN,NaN,NaN,c,d,NaN,NaN,NaN,NaN,f,h,NaN,NaN,NaN,NaN,(t[16]-i)/s,(t[17]-r)/l,NaN,NaN,NaN,NaN,(t[14]-i)/s,(t[15]-r)/l],0),this.newFreeDrawOutline(p,e,this.#e,this.#f,this.#i,this.#n)}#E(e,t){const i=this.#t;return e.set([NaN,NaN,NaN,NaN,i[4],i[5]],t),t+=6}#S(e,t){const i=this.#s.subarray(4,6),r=this.#s.subarray(16,18),[s,l,c,d]=this.#e,[f,h,p,g]=this.#p();return e.set([NaN,NaN,NaN,NaN,(i[0]-s)/c,(i[1]-l)/d,NaN,NaN,NaN,NaN,f,h,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,(r[0]-s)/c,(r[1]-l)/d],t),t+=24}}class O_ extends fe{#e;#t=new Float32Array(4);#i;#n;#a;#s;#r;constructor(e,t,i,r,s,l){super(),this.#r=e,this.#a=t,this.#e=i,this.#s=r,this.#i=s,this.#n=l,this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],this.#o(l);const[c,d,f,h]=this.#t;for(let p=0,g=e.length;p<g;p+=2)e[p]=(e[p]-c)/f,e[p+1]=(e[p+1]-d)/h;for(let p=0,g=t.length;p<g;p+=2)t[p]=(t[p]-c)/f,t[p+1]=(t[p+1]-d)/h}toSVGPath(){const e=[`M${this.#r[4]} ${this.#r[5]}`];for(let t=6,i=this.#r.length;t<i;t+=6){if(isNaN(this.#r[t])){e.push(`L${this.#r[t+4]} ${this.#r[t+5]}`);continue}e.push(`C${this.#r[t]} ${this.#r[t+1]} ${this.#r[t+2]} ${this.#r[t+3]} ${this.#r[t+4]} ${this.#r[t+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,t,i,r],s){const l=i-e,c=r-t;let d,f;switch(s){case 0:d=fe._rescale(this.#r,e,r,l,-c),f=fe._rescale(this.#a,e,r,l,-c);break;case 90:d=fe._rescaleAndSwap(this.#r,e,t,l,c),f=fe._rescaleAndSwap(this.#a,e,t,l,c);break;case 180:d=fe._rescale(this.#r,i,t,-l,c),f=fe._rescale(this.#a,i,t,-l,c);break;case 270:d=fe._rescaleAndSwap(this.#r,i,r,-l,-c),f=fe._rescaleAndSwap(this.#a,i,r,-l,-c);break}return{outline:Array.from(d),points:[Array.from(f)]}}#o(e){const t=this.#r;let i=t[4],r=t[5];const s=[i,r,i,r];let l=i,c=r,d=i,f=r;const h=e?Math.max:Math.min,p=new Float32Array(4);for(let y=6,S=t.length;y<S;y+=6){const A=t[y+4],x=t[y+5];isNaN(t[y])?(ue.pointBoundingBox(A,x,s),c>x?(l=A,c=x):c===x&&(l=h(l,A)),f<x?(d=A,f=x):f===x&&(d=h(d,A))):(p[0]=p[1]=1/0,p[2]=p[3]=-1/0,ue.bezierBoundingBox(i,r,...t.slice(y,y+6),p),ue.rectBoundingBox(p[0],p[1],p[2],p[3],s),c>p[1]?(l=p[0],c=p[1]):c===p[1]&&(l=h(l,p[0])),f<p[3]?(d=p[2],f=p[3]):f===p[3]&&(d=h(d,p[2]))),i=A,r=x}const g=this.#t;g[0]=s[0]-this.#i,g[1]=s[1]-this.#i,g[2]=s[2]-s[0]+2*this.#i,g[3]=s[3]-s[1]+2*this.#i,this.firstPoint=[l,c],this.lastPoint=[d,f]}get box(){return this.#t}newOutliner(e,t,i,r,s,l=0){return new bs(e,t,i,r,s,l)}getNewOutline(e,t){const[i,r,s,l]=this.#t,[c,d,f,h]=this.#e,p=s*f,g=l*h,y=i*f+c,S=r*h+d,A=this.newOutliner({x:this.#a[0]*p+y,y:this.#a[1]*g+S},this.#e,this.#s,e,this.#n,t??this.#i);for(let x=2;x<this.#a.length;x+=2)A.add({x:this.#a[x]*p+y,y:this.#a[x+1]*g+S});return A.getOutlines()}}class Qy{#e;#t;#i;#n=[];#a=[];constructor(e,t=0,i=0,r=!0){const s=[1/0,1/0,-1/0,-1/0],l=10**-4;for(const{x:A,y:x,width:E,height:O}of e){const T=Math.floor((A-t)/l)*l,P=Math.ceil((A+E+t)/l)*l,M=Math.floor((x-t)/l)*l,_=Math.ceil((x+O+t)/l)*l,N=[T,M,_,!0],j=[P,M,_,!1];this.#n.push(N,j),ue.rectBoundingBox(T,M,P,_,s)}const c=s[2]-s[0]+2*i,d=s[3]-s[1]+2*i,f=s[0]-i,h=s[1]-i;let p=r?-1/0:1/0,g=1/0;const y=this.#n.at(r?-1:-2),S=[y[0],y[2]];for(const A of this.#n){const[x,E,O,T]=A;!T&&r?E<g?(g=E,p=x):E===g&&(p=Math.max(p,x)):T&&!r&&(E<g?(g=E,p=x):E===g&&(p=Math.min(p,x))),A[0]=(x-f)/c,A[1]=(E-h)/d,A[2]=(O-h)/d}this.#e=new Float32Array([f,h,c,d]),this.#t=[p,g],this.#i=S}getOutlines(){this.#n.sort((t,i)=>t[0]-i[0]||t[1]-i[1]||t[2]-i[2]);const e=[];for(const t of this.#n)t[3]?(e.push(...this.#l(t)),this.#o(t)):(this.#c(t),e.push(...this.#l(t)));return this.#s(e)}#s(e){const t=[],i=new Set;for(const l of e){const[c,d,f]=l;t.push([c,d,l],[c,f,l])}t.sort((l,c)=>l[1]-c[1]||l[0]-c[0]);for(let l=0,c=t.length;l<c;l+=2){const d=t[l][2],f=t[l+1][2];d.push(f),f.push(d),i.add(d),i.add(f)}const r=[];let s;for(;i.size>0;){const l=i.values().next().value;let[c,d,f,h,p]=l;i.delete(l);let g=c,y=d;for(s=[c,f],r.push(s);;){let S;if(i.has(h))S=h;else if(i.has(p))S=p;else break;i.delete(S),[c,d,f,h,p]=S,g!==c&&(s.push(g,y,c,y===d?d:f),g=c),y=y===d?f:d}s.push(g,y)}return new XB(r,this.#e,this.#t,this.#i)}#r(e){const t=this.#a;let i=0,r=t.length-1;for(;i<=r;){const s=i+r>>1,l=t[s][0];if(l===e)return s;l<e?i=s+1:r=s-1}return r+1}#o([,e,t]){const i=this.#r(e);this.#a.splice(i,0,[e,t])}#c([,e,t]){const i=this.#r(e);for(let r=i;r<this.#a.length;r++){const[s,l]=this.#a[r];if(s!==e)break;if(s===e&&l===t){this.#a.splice(r,1);return}}for(let r=i-1;r>=0;r--){const[s,l]=this.#a[r];if(s!==e)break;if(s===e&&l===t){this.#a.splice(r,1);return}}}#l(e){const[t,i,r]=e,s=[[t,i,r]],l=this.#r(r);for(let c=0;c<l;c++){const[d,f]=this.#a[c];for(let h=0,p=s.length;h<p;h++){const[,g,y]=s[h];if(!(f<=g||y<=d)){if(g>=d){if(y>f)s[h][1]=f;else{if(p===1)return[];s.splice(h,1),h--,p--}continue}s[h][2]=d,y>f&&s.push([t,f,y])}}}return s}}class XB extends fe{#e;#t;constructor(e,t,i,r){super(),this.#t=e,this.#e=t,this.firstPoint=i,this.lastPoint=r}toSVGPath(){const e=[];for(const t of this.#t){let[i,r]=t;e.push(`M${i} ${r}`);for(let s=2;s<t.length;s+=2){const l=t[s],c=t[s+1];l===i?(e.push(`V${c}`),r=c):c===r&&(e.push(`H${l}`),i=l)}e.push("Z")}return e.join(" ")}serialize([e,t,i,r],s){const l=[],c=i-e,d=r-t;for(const f of this.#t){const h=new Array(f.length);for(let p=0;p<f.length;p+=2)h[p]=e+f[p]*c,h[p+1]=r-f[p+1]*d;l.push(h)}return l}get box(){return this.#e}get classNamesForOutlining(){return["highlightOutline"]}}class Jy extends bs{newFreeDrawOutline(e,t,i,r,s,l){return new KB(e,t,i,r,s,l)}}class KB extends O_{newOutliner(e,t,i,r,s,l=0){return new Jy(e,t,i,r,s,l)}}class Lt extends Se{#e=null;#t=0;#i;#n=null;#a=null;#s=null;#r=null;#o=0;#c=null;#l=null;#f=null;#d=!1;#h=null;#g=null;#m=null;#u="";#p;#v="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=Me.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const e=Lt.prototype;return Ce(this,"_keyboardManager",new uu([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}constructor(e){super({...e,name:"highlightEditor"}),this.color=e.color||Lt._defaultColor,this.#p=e.thickness||Lt._defaultThickness,this.opacity=e.opacity||Lt._defaultOpacity,this.#i=e.boxes||null,this.#v=e.methodOfCreation||"",this.#u=e.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",e.highlightId>-1?(this.#d=!0,this.#y(e),this.#A()):this.#i&&(this.#e=e.anchorNode,this.#t=e.anchorOffset,this.#r=e.focusNode,this.#o=e.focusOffset,this.#b(),this.#A(),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:this.#d?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:this.#p,methodOfCreation:this.#v}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}#b(){const e=new Qy(this.#i,.001);this.#l=e.getOutlines(),[this.x,this.y,this.width,this.height]=this.#l.box;const t=new Qy(this.#i,.0025,.001,this._uiManager.direction==="ltr");this.#s=t.getOutlines();const{firstPoint:i}=this.#l;this.#h=[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height];const{lastPoint:r}=this.#s;this.#g=[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height]}#y({highlightOutlines:e,highlightId:t,clipPathId:i}){this.#l=e;const r=1.5;if(this.#s=e.getNewOutline(this.#p/2+r,.0025),t>=0)this.#f=t,this.#n=i,this.parent.drawLayer.finalizeDraw(t,{bbox:e.box,path:{d:e.toSVGPath()}}),this.#m=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#s.box,path:{d:this.#s.toSVGPath()}},!0);else if(this.parent){const p=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#f,{bbox:Lt.#w(this.#l.box,(p-this.rotation+360)%360),path:{d:e.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#m,{bbox:Lt.#w(this.#s.box,p),path:{d:this.#s.toSVGPath()}})}const[s,l,c,d]=e.box;switch(this.rotation){case 0:this.x=s,this.y=l,this.width=c,this.height=d;break;case 90:{const[p,g]=this.parentDimensions;this.x=l,this.y=1-s,this.width=c*g/p,this.height=d*p/g;break}case 180:this.x=1-s,this.y=1-l,this.width=c,this.height=d;break;case 270:{const[p,g]=this.parentDimensions;this.x=1-l,this.y=s,this.width=c*g/p,this.height=d*p/g;break}}const{firstPoint:f}=e;this.#h=[(f[0]-s)/c,(f[1]-l)/d];const{lastPoint:h}=this.#s;this.#g=[(h[0]-s)/c,(h[1]-l)/d]}static initialize(e,t){Se.initialize(e,t),Lt._defaultColor||=t.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(e,t){switch(e){case ze.HIGHLIGHT_COLOR:Lt._defaultColor=t;break;case ze.HIGHLIGHT_THICKNESS:Lt._defaultThickness=t;break}}translateInPage(e,t){}get toolbarPosition(){return this.#g}get commentButtonPosition(){return this.#h}updateParams(e,t){switch(e){case ze.HIGHLIGHT_COLOR:this.#C(t);break;case ze.HIGHLIGHT_THICKNESS:this.#E(t);break}}static get defaultPropertiesToUpdate(){return[[ze.HIGHLIGHT_COLOR,Lt._defaultColor],[ze.HIGHLIGHT_THICKNESS,Lt._defaultThickness]]}get propertiesToUpdate(){return[[ze.HIGHLIGHT_COLOR,this.color||Lt._defaultColor],[ze.HIGHLIGHT_THICKNESS,this.#p||Lt._defaultThickness],[ze.HIGHLIGHT_FREE,this.#d]]}onUpdatedColor(){this.parent?.drawLayer.updateProperties(this.#f,{root:{fill:this.color,"fill-opacity":this.opacity}}),this.#a?.updateColor(this.color),super.onUpdatedColor()}#C(e){const t=(s,l)=>{this.color=s,this.opacity=l,this.onUpdatedColor()},i=this.color,r=this.opacity;this.addCommands({cmd:t.bind(this,e,Lt._defaultOpacity),undo:t.bind(this,i,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ze.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(e)},!0)}#E(e){const t=this.#p,i=r=>{this.#p=r,this.#S(r)};this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,t),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ze.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",this.#a=new Mi({editor:this})]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#_())}getBaseTranslation(){return[0,0]}getRect(e,t){return super.getRect(e,t,this.#_())}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),e&&this.div.focus()}remove(){this.#T(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#A(),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;this.parent&&!e?this.#T():e&&(this.#A(e),t=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),this.show(this._isVisible),t&&this.select()}#S(e){this.#d&&(this.#y({highlightOutlines:this.#l.getNewOutline(e/2)}),this.fixAndSetPosition(),this.setDims())}#T(){this.#f===null||!this.parent||(this.parent.drawLayer.remove(this.#f),this.#f=null,this.parent.drawLayer.remove(this.#m),this.#m=null)}#A(e=this.parent){this.#f===null&&({id:this.#f,clipPathId:this.#n}=e.drawLayer.draw({bbox:this.#l.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:this.#d},path:{d:this.#l.toSVGPath()}},!1,!0),this.#m=e.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#d},bbox:this.#s.box,path:{d:this.#s.toSVGPath()}},this.#d),this.#c&&(this.#c.style.clipPath=this.#n))}static#w([e,t,i,r],s){switch(s){case 90:return[1-t-r,e,r,i];case 180:return[1-e-i,1-t-r,i,r];case 270:return[t,1-e-i,r,i]}return[e,t,i,r]}rotate(e){const{drawLayer:t}=this.parent;let i;this.#d?(e=(e-this.rotation+360)%360,i=Lt.#w(this.#l.box,e)):i=Lt.#w([this.x,this.y,this.width,this.height],e),t.updateProperties(this.#f,{bbox:i,root:{"data-main-rotation":e}}),t.updateProperties(this.#m,{bbox:Lt.#w(this.#s.box,e),root:{"data-main-rotation":e}})}render(){if(this.div)return this.div;const e=super.render();this.#u&&(e.setAttribute("aria-label",this.#u),e.setAttribute("role","mark")),this.#d?e.classList.add("free"):this.div.addEventListener("keydown",this.#P.bind(this),{signal:this._uiManager._signal});const t=this.#c=document.createElement("div");return e.append(t),t.setAttribute("aria-hidden","true"),t.className="internal",t.style.clipPath=this.#n,this.setDims(),JM(this,this.#c,["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#m,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#m,{rootClass:{hovered:!1}})}#P(e){Lt._keyboardManager.exec(this,e)}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:this.#M(!0);break;case 1:case 3:this.#M(!1);break}}#M(e){if(!this.#e)return;const t=window.getSelection();e?t.setPosition(this.#e,this.#t):t.setPosition(this.#r,this.#o)}select(){super.select(),this.#m&&this.parent?.drawLayer.updateProperties(this.#m,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#m&&(this.parent?.drawLayer.updateProperties(this.#m,{rootClass:{selected:!1}}),this.#d||this.#M(!1))}get _mustFixPosition(){return!this.#d}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.updateProperties(this.#f,{rootClass:{hidden:!e}}),this.parent.drawLayer.updateProperties(this.#m,{rootClass:{hidden:!e}}))}#_(){return this.#d?this.rotation:0}#j(){if(this.#d)return null;const[e,t]=this.pageDimensions,[i,r]=this.pageTranslation,s=this.#i,l=new Float32Array(s.length*8);let c=0;for(const{x:d,y:f,width:h,height:p}of s){const g=d*e+i,y=(1-f)*t+r;l[c]=l[c+4]=g,l[c+1]=l[c+3]=y,l[c+2]=l[c+6]=g+h*e,l[c+5]=l[c+7]=y-p*t,c+=8}return l}#L(e){return this.#l.serialize(e,this.#_())}static startHighlighting(e,t,{target:i,x:r,y:s}){const{x:l,y:c,width:d,height:f}=i.getBoundingClientRect(),h=new AbortController,p=e.combinedSignal(h),g=y=>{h.abort(),this.#B(e,y)};window.addEventListener("blur",g,{signal:p}),window.addEventListener("pointerup",g,{signal:p}),window.addEventListener("pointerdown",Tt,{capture:!0,passive:!1,signal:p}),window.addEventListener("contextmenu",Pi,{signal:p}),i.addEventListener("pointermove",this.#R.bind(this,e),{signal:p}),this._freeHighlight=new Jy({x:r,y:s},[l,c,d,f],e.scale,this._defaultThickness/2,t,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#R(e,t){this._freeHighlight.add(t)&&e.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#B(e,t){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(t,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(e,t,i){let r=null;if(e instanceof w_){const{data:{quadPoints:S,rect:A,rotation:x,id:E,color:O,opacity:T,popupRef:P,richText:M,contentsObj:_,creationDate:N,modificationDate:j},parent:{page:{pageNumber:F}}}=e;r=e={annotationType:Me.HIGHLIGHT,color:Array.from(O),opacity:T,quadPoints:S,boxes:null,pageIndex:F-1,rect:A.slice(0),rotation:x,annotationElementId:E,id:E,deleted:!1,popupRef:P,richText:M,comment:_?.str||null,creationDate:N,modificationDate:j}}else if(e instanceof hb){const{data:{inkLists:S,rect:A,rotation:x,id:E,color:O,borderStyle:{rawWidth:T},popupRef:P,richText:M,contentsObj:_,creationDate:N,modificationDate:j},parent:{page:{pageNumber:F}}}=e;r=e={annotationType:Me.HIGHLIGHT,color:Array.from(O),thickness:T,inkLists:S,boxes:null,pageIndex:F-1,rect:A.slice(0),rotation:x,annotationElementId:E,id:E,deleted:!1,popupRef:P,richText:M,comment:_?.str||null,creationDate:N,modificationDate:j}}const{color:s,quadPoints:l,inkLists:c,opacity:d}=e,f=await super.deserialize(e,t,i);f.color=ue.makeHexColor(...s),f.opacity=d||1,c&&(f.#p=e.thickness),f._initialData=r,e.comment&&f.setCommentData(e);const[h,p]=f.pageDimensions,[g,y]=f.pageTranslation;if(l){const S=f.#i=[];for(let A=0;A<l.length;A+=8)S.push({x:(l[A]-g)/h,y:1-(l[A+1]-y)/p,width:(l[A+2]-l[A])/h,height:(l[A+1]-l[A+5])/p});f.#b(),f.#A(),f.rotate(f.rotation)}else if(c){f.#d=!0;const S=c[0],A={x:S[0]-g,y:p-(S[1]-y)},x=new Jy(A,[0,0,h,p],1,f.#p/2,!0,.001);for(let T=0,P=S.length;T<P;T+=2)A.x=S[T]-g,A.y=p-(S[T+1]-y),x.add(A);const{id:E,clipPathId:O}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:f.color,"fill-opacity":f._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:x.toSVGPath()}},!0,!0);f.#y({highlightOutlines:x.getOutlines(),highlightId:E,clipPathId:O}),f.#A(),f.rotate(f.parentRotation)}return f}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const t=Se._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),i=super.serialize(e);return Object.assign(i,{color:t,opacity:this.opacity,thickness:this.#p,quadPoints:this.#j(),outlines:this.#L(i.rect)}),this.addComment(i),this.annotationElementId&&!this.#I(i)?null:(i.id=this.annotationElementId,i)}#I(e){const{color:t}=this._initialData;return this.hasEditedComment||e.color.some((i,r)=>i!==t[r])}renderAnnotationElement(e){return this.deleted?(e.hide(),null):(e.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}}class T_{#e=Object.create(null);updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,i]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,i)}updateSVGProperty(e,t){this.#e[e]=t}toSVGProperties(){const e=this.#e;return this.#e=Object.create(null),{root:e}}reset(){this.#e=Object.create(null)}updateAll(e=this){this.updateProperties(e)}clone(){Xe("Not implemented")}}class qe extends Se{#e=null;#t;_colorPicker=null;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#i=null;static#n=null;static#a=null;static _INNER_MARGIN=3;constructor(e){super(e),this.#t=e.mustBeCommitted||!1,this._addOutlines(e)}onUpdatedColor(){this._colorPicker?.update(this.color),super.onUpdatedColor()}_addOutlines(e){e.drawOutlines&&(this.#s(e),this.#c())}#s({drawOutlines:e,drawId:t,drawingOptions:i}){this.#e=e,this._drawingOptions||=i,this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),t>=0?(this._drawId=t,this.parent.drawLayer.finalizeDraw(t,e.defaultProperties)):this._drawId=this.#r(e,this.parent),this.#d(e.box)}#r(e,t){const{id:i}=t.drawLayer.draw(qe._mergeSVGProperties(this._drawingOptions.toSVGProperties(),e.defaultSVGProperties),!1,!1);return i}static _mergeSVGProperties(e,t){const i=new Set(Object.keys(e));for(const[r,s]of Object.entries(t))i.has(r)?Object.assign(e[r],s):e[r]=s;return e}static getDefaultDrawingOptions(e){Xe("Not implemented")}static get typesMap(){Xe("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(e,t){const i=this.typesMap.get(e);i&&this._defaultDrawingOptions.updateProperty(i,t),this._currentParent&&(qe.#i.updateProperty(i,t),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(e,t){const i=this.constructor.typesMap.get(e);i&&this._updateProperty(e,i,t)}static get defaultPropertiesToUpdate(){const e=[],t=this._defaultDrawingOptions;for(const[i,r]of this.typesMap)e.push([i,t[r]]);return e}get propertiesToUpdate(){const e=[],{_drawingOptions:t}=this;for(const[i,r]of this.constructor.typesMap)e.push([i,t[r]]);return e}_updateProperty(e,t,i){const r=this._drawingOptions,s=r[t],l=c=>{r.updateProperty(t,c);const d=this.#e.updateProperty(t,c);d&&this.#d(d),this.parent?.drawLayer.updateProperties(this._drawId,r.toSVGProperties()),e===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:l.bind(this,i),undo:l.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:e,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,qe._mergeSVGProperties(this.#e.getPathResizingSVGProperties(this.#f()),{bbox:this.#h()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,qe._mergeSVGProperties(this.#e.getPathResizedSVGProperties(this.#f()),{bbox:this.#h()}))}_onTranslating(e,t){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#h()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,qe._mergeSVGProperties(this.#e.getPathTranslatedSVGProperties(this.#f(),this.parentDimensions),{bbox:this.#h()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#t&&(this.#t=!1,this.commit(),this.parent.setSelected(this),e&&this.isOnScreen&&this.div.focus())}remove(){this.#o(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#c(),this.#d(this.#e.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;this.parent&&!e?(this._uiManager.removeShouldRescale(this),this.#o()):e&&(this._uiManager.addShouldRescale(this),this.#c(e),t=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),t&&this.select()}#o(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#c(e=this.parent){if(!(this._drawId!==null&&this.parent===e)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,e.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#r(this.#e,e)}}#l([e,t,i,r]){const{parentDimensions:[s,l],rotation:c}=this;switch(c){case 90:return[t,1-e,i*(l/s),r*(s/l)];case 180:return[1-e,1-t,i,r];case 270:return[1-t,e,i*(l/s),r*(s/l)];default:return[e,t,i,r]}}#f(){const{x:e,y:t,width:i,height:r,parentDimensions:[s,l],rotation:c}=this;switch(c){case 90:return[1-t,e,i*(s/l),r*(l/s)];case 180:return[1-e,1-t,i,r];case 270:return[t,1-e,i*(s/l),r*(l/s)];default:return[e,t,i,r]}}#d(e){[this.x,this.y,this.width,this.height]=this.#l(e),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()}#h(){const{x:e,y:t,width:i,height:r,rotation:s,parentRotation:l,parentDimensions:[c,d]}=this;switch((s*4+l)/90){case 1:return[1-t-r,e,r,i];case 2:return[1-e-i,1-t-r,i,r];case 3:return[t,1-e-i,r,i];case 4:return[e,t-i*(c/d),r*(d/c),i*(c/d)];case 5:return[1-t,e,i*(c/d),r*(d/c)];case 6:return[1-e-r*(d/c),1-t,r*(d/c),i*(c/d)];case 7:return[t-i*(c/d),1-e-r*(d/c),i*(c/d),r*(d/c)];case 8:return[e-i,t-r,i,r];case 9:return[1-t,e-i,r,i];case 10:return[1-e,1-t,i,r];case 11:return[t-r,1-e,r,i];case 12:return[e-r*(d/c),t,r*(d/c),i*(c/d)];case 13:return[1-t-i*(c/d),e-r*(d/c),i*(c/d),r*(d/c)];case 14:return[1-e,1-t-i*(c/d),r*(d/c),i*(c/d)];case 15:return[t,1-e,i*(c/d),r*(d/c)];default:return[e,t,i,r]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,qe._mergeSVGProperties({bbox:this.#h()},this.#e.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#d(this.#e.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let e,t;this._isCopy&&(e=this.x,t=this.y);const i=super.render();i.classList.add("draw");const r=document.createElement("div");return i.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(e,t),i}static createDrawerInstance(e,t,i,r,s){Xe("Not implemented")}static startDrawing(e,t,i,r){const{target:s,offsetX:l,offsetY:c,pointerId:d,pointerType:f}=r;if(Ve.isInitializedAndDifferentPointerType(f))return;const{viewport:{rotation:h}}=e,{width:p,height:g}=s.getBoundingClientRect(),y=qe.#n=new AbortController,S=e.combinedSignal(y);if(Ve.setPointer(f,d),window.addEventListener("pointerup",A=>{Ve.isSamePointerIdOrRemove(A.pointerId)&&this._endDraw(A)},{signal:S}),window.addEventListener("pointercancel",A=>{Ve.isSamePointerIdOrRemove(A.pointerId)&&this._currentParent.endDrawingSession()},{signal:S}),window.addEventListener("pointerdown",A=>{Ve.isSamePointerType(A.pointerType)&&(Ve.initializeAndAddPointerId(A.pointerId),qe.#i.isCancellable()&&(qe.#i.removeLastElement(),qe.#i.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:S}),window.addEventListener("contextmenu",Pi,{signal:S}),s.addEventListener("pointermove",this._drawMove.bind(this),{signal:S}),s.addEventListener("touchmove",A=>{Ve.isSameTimeStamp(A.timeStamp)&&Tt(A)},{signal:S}),e.toggleDrawing(),t._editorUndoBar?.hide(),qe.#i){e.drawLayer.updateProperties(this._currentDrawId,qe.#i.startNew(l,c,p,g,h));return}t.updateUIForDefaultProperties(this),qe.#i=this.createDrawerInstance(l,c,p,g,h),qe.#a=this.getDefaultDrawingOptions(),this._currentParent=e,{id:this._currentDrawId}=e.drawLayer.draw(this._mergeSVGProperties(qe.#a.toSVGProperties(),qe.#i.defaultSVGProperties),!0,!1)}static _drawMove(e){if(Ve.isSameTimeStamp(e.timeStamp),!qe.#i)return;const{offsetX:t,offsetY:i,pointerId:r}=e;if(Ve.isSamePointerId(r)){if(Ve.isUsingMultiplePointers()){this._endDraw(e);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,qe.#i.add(t,i)),Ve.setTimeStamp(e.timeStamp),Tt(e)}}static _cleanup(e){e&&(this._currentDrawId=-1,this._currentParent=null,qe.#i=null,qe.#a=null,Ve.clearTimeStamp()),qe.#n&&(qe.#n.abort(),qe.#n=null,Ve.clearPointerIds())}static _endDraw(e){const t=this._currentParent;if(t){if(t.toggleDrawing(!0),this._cleanup(!1),e?.target===t.div&&t.drawLayer.updateProperties(this._currentDrawId,qe.#i.end(e.offsetX,e.offsetY)),this.supportMultipleDrawings){const i=qe.#i,r=this._currentDrawId,s=i.getLastElement();t.addCommands({cmd:()=>{t.drawLayer.updateProperties(r,i.setLastElement(s))},undo:()=>{t.drawLayer.updateProperties(r,i.removeLastElement())},mustExec:!1,type:ze.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(e){const t=this._currentParent;if(!t)return null;if(t.toggleDrawing(!0),t.cleanUndoStack(ze.DRAW_STEP),!qe.#i.isEmpty()){const{pageDimensions:[i,r],scale:s}=t,l=t.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:qe.#i.getOutlines(i*s,r*s,s,this._INNER_MARGIN),drawingOptions:qe.#a,mustBeCommitted:!e});return this._cleanup(!0),l}return t.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(e){}static deserializeDraw(e,t,i,r,s,l){Xe("Not implemented")}static async deserialize(e,t,i){const{rawDims:{pageWidth:r,pageHeight:s,pageX:l,pageY:c}}=t.viewport,d=this.deserializeDraw(l,c,r,s,this._INNER_MARGIN,e),f=await super.deserialize(e,t,i);return f.createDrawingOptions(e),f.#s({drawOutlines:d}),f.#c(),f.onScaleChanging(),f.rotate(),f}serializeDraw(e){const[t,i]=this.pageTranslation,[r,s]=this.pageDimensions;return this.#e.serialize([t,i,r,s],e)}renderAnnotationElement(e){return e.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}}class WB{#e=new Float64Array(6);#t;#i;#n;#a;#s;#r="";#o=0;#c=new du;#l;#f;constructor(e,t,i,r,s,l){this.#l=i,this.#f=r,this.#n=s,this.#a=l,[e,t]=this.#d(e,t);const c=this.#t=[NaN,NaN,NaN,NaN,e,t];this.#s=[e,t],this.#i=[{line:c,points:this.#s}],this.#e.set(c,0)}updateProperty(e,t){e==="stroke-width"&&(this.#a=t)}#d(e,t){return fe._normalizePoint(e,t,this.#l,this.#f,this.#n)}isEmpty(){return!this.#i||this.#i.length===0}isCancellable(){return this.#s.length<=10}add(e,t){[e,t]=this.#d(e,t);const[i,r,s,l]=this.#e.subarray(2,6),c=e-s,d=t-l;return Math.hypot(this.#l*c,this.#f*d)<=2?null:(this.#s.push(e,t),isNaN(i)?(this.#e.set([s,l,e,t],2),this.#t.push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(this.#e[0])&&this.#t.splice(6,6),this.#e.set([i,r,s,l,e,t],0),this.#t.push(...fe.createBezierPoints(i,r,s,l,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const i=this.add(e,t);return i||(this.#s.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,i,r,s){this.#l=i,this.#f=r,this.#n=s,[e,t]=this.#d(e,t);const l=this.#t=[NaN,NaN,NaN,NaN,e,t];this.#s=[e,t];const c=this.#i.at(-1);return c&&(c.line=new Float32Array(c.line),c.points=new Float32Array(c.points)),this.#i.push({line:l,points:this.#s}),this.#e.set(l,0),this.#o=0,this.toSVGPath(),null}getLastElement(){return this.#i.at(-1)}setLastElement(e){return this.#i?(this.#i.push(e),this.#t=e.line,this.#s=e.points,this.#o=0,{path:{d:this.toSVGPath()}}):this.#c.setLastElement(e)}removeLastElement(){if(!this.#i)return this.#c.removeLastElement();this.#i.pop(),this.#r="";for(let e=0,t=this.#i.length;e<t;e++){const{line:i,points:r}=this.#i[e];this.#t=i,this.#s=r,this.#o=0,this.toSVGPath()}return{path:{d:this.#r}}}toSVGPath(){const e=fe.svgRound(this.#t[4]),t=fe.svgRound(this.#t[5]);if(this.#s.length===2)return this.#r=`${this.#r} M ${e} ${t} Z`,this.#r;if(this.#s.length<=6){const r=this.#r.lastIndexOf("M");this.#r=`${this.#r.slice(0,r)} M ${e} ${t}`,this.#o=6}if(this.#s.length===4){const r=fe.svgRound(this.#t[10]),s=fe.svgRound(this.#t[11]);return this.#r=`${this.#r} L ${r} ${s}`,this.#o=12,this.#r}const i=[];this.#o===0&&(i.push(`M ${e} ${t}`),this.#o=6);for(let r=this.#o,s=this.#t.length;r<s;r+=6){const[l,c,d,f,h,p]=this.#t.slice(r,r+6).map(fe.svgRound);i.push(`C${l} ${c} ${d} ${f} ${h} ${p}`)}return this.#r+=i.join(" "),this.#o=this.#t.length,this.#r}getOutlines(e,t,i,r){const s=this.#i.at(-1);return s.line=new Float32Array(s.line),s.points=new Float32Array(s.points),this.#c.build(this.#i,e,t,i,this.#n,this.#a,r),this.#e=null,this.#t=null,this.#i=null,this.#r=null,this.#c}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class du extends fe{#e;#t=0;#i;#n;#a;#s;#r;#o;#c;build(e,t,i,r,s,l,c){this.#a=t,this.#s=i,this.#r=r,this.#o=s,this.#c=l,this.#i=c??0,this.#n=e,this.#d()}get thickness(){return this.#c}setLastElement(e){return this.#n.push(e),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#n.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const e=[];for(const{line:t}of this.#n){if(e.push(`M${fe.svgRound(t[4])} ${fe.svgRound(t[5])}`),t.length===6){e.push("Z");continue}if(t.length===12&&isNaN(t[6])){e.push(`L${fe.svgRound(t[10])} ${fe.svgRound(t[11])}`);continue}for(let i=6,r=t.length;i<r;i+=6){const[s,l,c,d,f,h]=t.subarray(i,i+6).map(fe.svgRound);e.push(`C${s} ${l} ${c} ${d} ${f} ${h}`)}}return e.join("")}serialize([e,t,i,r],s){const l=[],c=[],[d,f,h,p]=this.#f();let g,y,S,A,x,E,O,T,P;switch(this.#o){case 0:P=fe._rescale,g=e,y=t+r,S=i,A=-r,x=e+d*i,E=t+(1-f-p)*r,O=e+(d+h)*i,T=t+(1-f)*r;break;case 90:P=fe._rescaleAndSwap,g=e,y=t,S=i,A=r,x=e+f*i,E=t+d*r,O=e+(f+p)*i,T=t+(d+h)*r;break;case 180:P=fe._rescale,g=e+i,y=t,S=-i,A=r,x=e+(1-d-h)*i,E=t+f*r,O=e+(1-d)*i,T=t+(f+p)*r;break;case 270:P=fe._rescaleAndSwap,g=e+i,y=t+r,S=-i,A=-r,x=e+(1-f-p)*i,E=t+(1-d-h)*r,O=e+(1-f)*i,T=t+(1-d)*r;break}for(const{line:M,points:_}of this.#n)l.push(P(M,g,y,S,A,s?new Array(M.length):null)),c.push(P(_,g,y,S,A,s?new Array(_.length):null));return{lines:l,points:c,rect:[x,E,O,T]}}static deserialize(e,t,i,r,s,{paths:{lines:l,points:c},rotation:d,thickness:f}){const h=[];let p,g,y,S,A;switch(d){case 0:A=fe._rescale,p=-e/i,g=t/r+1,y=1/i,S=-1/r;break;case 90:A=fe._rescaleAndSwap,p=-t/r,g=-e/i,y=1/r,S=1/i;break;case 180:A=fe._rescale,p=e/i+1,g=-t/r,y=-1/i,S=1/r;break;case 270:A=fe._rescaleAndSwap,p=t/r+1,g=e/i+1,y=-1/r,S=-1/i;break}if(!l){l=[];for(const E of c){const O=E.length;if(O===2){l.push(new Float32Array([NaN,NaN,NaN,NaN,E[0],E[1]]));continue}if(O===4){l.push(new Float32Array([NaN,NaN,NaN,NaN,E[0],E[1],NaN,NaN,NaN,NaN,E[2],E[3]]));continue}const T=new Float32Array(3*(O-2));l.push(T);let[P,M,_,N]=E.subarray(0,4);T.set([NaN,NaN,NaN,NaN,P,M],0);for(let j=4;j<O;j+=2){const F=E[j],X=E[j+1];T.set(fe.createBezierPoints(P,M,_,N,F,X),(j-2)*3),[P,M,_,N]=[_,N,F,X]}}}for(let E=0,O=l.length;E<O;E++)h.push({line:A(l[E].map(T=>T??NaN),p,g,y,S),points:A(c[E].map(T=>T??NaN),p,g,y,S)});const x=new this.prototype.constructor;return x.build(h,i,r,1,d,f,s),x}#l(e=this.#c){const t=this.#i+e/2*this.#r;return this.#o%180===0?[t/this.#a,t/this.#s]:[t/this.#s,t/this.#a]}#f(){const[e,t,i,r]=this.#e,[s,l]=this.#l(0);return[e+s,t+l,i-2*s,r-2*l]}#d(){const e=this.#e=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:r}of this.#n){if(r.length<=12){for(let c=4,d=r.length;c<d;c+=6)ue.pointBoundingBox(r[c],r[c+1],e);continue}let s=r[4],l=r[5];for(let c=6,d=r.length;c<d;c+=6){const[f,h,p,g,y,S]=r.subarray(c,c+6);ue.bezierBoundingBox(s,l,f,h,p,g,y,S,e),s=y,l=S}}const[t,i]=this.#l();e[0]=gn(e[0]-t,0,1),e[1]=gn(e[1]-i,0,1),e[2]=gn(e[2]+t,0,1),e[3]=gn(e[3]+i,0,1),e[2]-=e[0],e[3]-=e[1]}get box(){return this.#e}updateProperty(e,t){return e==="stroke-width"?this.#h(t):null}#h(e){const[t,i]=this.#l();this.#c=e;const[r,s]=this.#l(),[l,c]=[r-t,s-i],d=this.#e;return d[0]-=l,d[1]-=c,d[2]+=2*l,d[3]+=2*c,d}updateParentDimensions([e,t],i){const[r,s]=this.#l();this.#a=e,this.#s=t,this.#r=i;const[l,c]=this.#l(),d=l-r,f=c-s,h=this.#e;return h[0]-=d,h[1]-=f,h[2]+=2*d,h[3]+=2*f,h}updateRotation(e){return this.#t=e,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#e.map(fe.svgRound).join(" ")}get defaultProperties(){const[e,t]=this.#e;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${fe.svgRound(e)} ${fe.svgRound(t)}`}}}get rotationTransform(){const[,,e,t]=this.#e;let i=0,r=0,s=0,l=0,c=0,d=0;switch(this.#t){case 90:r=t/e,s=-e/t,c=e;break;case 180:i=-1,l=-1,c=e,d=t;break;case 270:r=-t/e,s=e/t,d=t;break;default:return""}return`matrix(${i} ${r} ${s} ${l} ${fe.svgRound(c)} ${fe.svgRound(d)})`}getPathResizingSVGProperties([e,t,i,r]){const[s,l]=this.#l(),[c,d,f,h]=this.#e;if(Math.abs(f-s)<=fe.PRECISION||Math.abs(h-l)<=fe.PRECISION){const A=e+i/2-(c+f/2),x=t+r/2-(d+h/2);return{path:{"transform-origin":`${fe.svgRound(e)} ${fe.svgRound(t)}`,transform:`${this.rotationTransform} translate(${A} ${x})`}}}const p=(i-2*s)/(f-2*s),g=(r-2*l)/(h-2*l),y=f/i,S=h/r;return{path:{"transform-origin":`${fe.svgRound(c)} ${fe.svgRound(d)}`,transform:`${this.rotationTransform} scale(${y} ${S}) translate(${fe.svgRound(s)} ${fe.svgRound(l)}) scale(${p} ${g}) translate(${fe.svgRound(-s)} ${fe.svgRound(-l)})`}}}getPathResizedSVGProperties([e,t,i,r]){const[s,l]=this.#l(),c=this.#e,[d,f,h,p]=c;if(c[0]=e,c[1]=t,c[2]=i,c[3]=r,Math.abs(h-s)<=fe.PRECISION||Math.abs(p-l)<=fe.PRECISION){const x=e+i/2-(d+h/2),E=t+r/2-(f+p/2);for(const{line:O,points:T}of this.#n)fe._translate(O,x,E,O),fe._translate(T,x,E,T);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${fe.svgRound(e)} ${fe.svgRound(t)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const g=(i-2*s)/(h-2*s),y=(r-2*l)/(p-2*l),S=-g*(d+s)+e+s,A=-y*(f+l)+t+l;if(g!==1||y!==1||S!==0||A!==0)for(const{line:x,points:E}of this.#n)fe._rescale(x,S,A,g,y,x),fe._rescale(E,S,A,g,y,E);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${fe.svgRound(e)} ${fe.svgRound(t)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([e,t],i){const[r,s]=i,l=this.#e,c=e-l[0],d=t-l[1];if(this.#a===r&&this.#s===s)for(const{line:f,points:h}of this.#n)fe._translate(f,c,d,f),fe._translate(h,c,d,h);else{const f=this.#a/r,h=this.#s/s;this.#a=r,this.#s=s;for(const{line:p,points:g}of this.#n)fe._rescale(p,c,d,f,h,p),fe._rescale(g,c,d,f,h,g);l[2]*=f,l[3]*=h}return l[0]=e,l[1]=t,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${fe.svgRound(e)} ${fe.svgRound(t)}`}}}get defaultSVGProperties(){const e=this.#e;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${fe.svgRound(e[0])} ${fe.svgRound(e[1])}`,transform:this.rotationTransform||null},bbox:e}}}class Bh extends T_{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:Se._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){e==="stroke-width"&&(t??=this["stroke-width"],t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new Bh(this._viewParameters);return e.updateAll(this),e}}class mb extends qe{static _type="ink";static _editorType=Me.INK;static _defaultDrawingOptions=null;constructor(e){super({...e,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(e,t){Se.initialize(e,t),this._defaultDrawingOptions=new Bh(t.viewParameters)}static getDefaultDrawingOptions(e){const t=this._defaultDrawingOptions.clone();return t.updateProperties(e),t}static get supportMultipleDrawings(){return!0}static get typesMap(){return Ce(this,"typesMap",new Map([[ze.INK_THICKNESS,"stroke-width"],[ze.INK_COLOR,"stroke"],[ze.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(e,t,i,r,s){return new WB(e,t,i,r,s,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(e,t,i,r,s,l){return du.deserialize(e,t,i,r,s,l)}static async deserialize(e,t,i){let r=null;if(e instanceof hb){const{data:{inkLists:l,rect:c,rotation:d,id:f,color:h,opacity:p,borderStyle:{rawWidth:g},popupRef:y,richText:S,contentsObj:A,creationDate:x,modificationDate:E},parent:{page:{pageNumber:O}}}=e;r=e={annotationType:Me.INK,color:Array.from(h),thickness:g,opacity:p,paths:{points:l},boxes:null,pageIndex:O-1,rect:c.slice(0),rotation:d,annotationElementId:f,id:f,deleted:!1,popupRef:y,richText:S,comment:A?.str||null,creationDate:x,modificationDate:E}}const s=await super.deserialize(e,t,i);return s._initialData=r,e.comment&&s.setCommentData(e),s}get toolbarButtons(){return this._colorPicker||=new qc(this),[["colorPicker",this._colorPicker]]}get colorType(){return ze.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:e,_drawingOptions:t,parent:i}=this;t.updateSVGProperty("stroke-width"),i.drawLayer.updateProperties(e,t.toSVGProperties())}static onScaleChangingWhenDrawing(){const e=this._currentParent;e&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),e.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:e,thickness:t,opacity:i}){this._drawingOptions=mb.getDefaultDrawingOptions({stroke:ue.makeHexColor(...e),"stroke-width":t,"stroke-opacity":i})}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:t,points:i}=this.serializeDraw(e),{_drawingOptions:{stroke:r,"stroke-opacity":s,"stroke-width":l}}=this,c=Object.assign(super.serialize(e),{color:Se._colorManager.convert(r),opacity:s,thickness:l,paths:{lines:t,points:i}});return this.addComment(c),e?(c.isCopy=!0,c):this.annotationElementId&&!this.#e(c)?null:(c.id=this.annotationElementId,c)}#e(e){const{color:t,thickness:i,opacity:r,pageIndex:s}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||e.color.some((l,c)=>l!==t[c])||e.thickness!==i||e.opacity!==r||e.pageIndex!==s}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;const{points:t,rect:i}=this.serializeDraw(!1);return e.updateEdited({rect:i,thickness:this._drawingOptions["stroke-width"],points:t,popup:this.comment}),null}}class e0 extends du{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const nf=8,Sc=3;class Uo{static#e={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#t(e,t,i,r){return i-=e,r-=t,i===0?r>0?0:4:i===1?r+6:2-r}static#i=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#n(e,t,i,r,s,l,c){const d=this.#t(i,r,s,l);for(let f=0;f<8;f++){const h=(-f+d-c+16)%8,p=this.#i[2*h],g=this.#i[2*h+1];if(e[(i+p)*t+(r+g)]!==0)return h}return-1}static#a(e,t,i,r,s,l,c){const d=this.#t(i,r,s,l);for(let f=0;f<8;f++){const h=(f+d+c+16)%8,p=this.#i[2*h],g=this.#i[2*h+1];if(e[(i+p)*t+(r+g)]!==0)return h}return-1}static#s(e,t,i,r){const s=e.length,l=new Int32Array(s);for(let h=0;h<s;h++)l[h]=e[h]<=r?1:0;for(let h=1;h<i-1;h++)l[h*t]=l[h*t+t-1]=0;for(let h=0;h<t;h++)l[h]=l[t*i-1-h]=0;let c=1,d;const f=[];for(let h=1;h<i-1;h++){d=1;for(let p=1;p<t-1;p++){const g=h*t+p,y=l[g];if(y===0)continue;let S=h,A=p;if(y===1&&l[g-1]===0)c+=1,A-=1;else if(y>=1&&l[g+1]===0)c+=1,A+=1,y>1&&(d=y);else{y!==1&&(d=Math.abs(y));continue}const x=[p,h],E=A===p+1,O={isHole:E,points:x,id:c,parent:0};f.push(O);let T;for(const $ of f)if($.id===d){T=$;break}T?T.isHole?O.parent=E?T.parent:d:O.parent=E?d:T.parent:O.parent=E?d:0;const P=this.#n(l,t,h,p,S,A,0);if(P===-1){l[g]=-c,l[g]!==1&&(d=Math.abs(l[g]));continue}let M=this.#i[2*P],_=this.#i[2*P+1];const N=h+M,j=p+_;S=N,A=j;let F=h,X=p;for(;;){const $=this.#a(l,t,F,X,S,A,1);M=this.#i[2*$],_=this.#i[2*$+1];const q=F+M,se=X+_;x.push(se,q);const re=F*t+X;if(l[re+1]===0?l[re]=-c:l[re]===1&&(l[re]=c),q===h&&se===p&&F===N&&X===j){l[g]!==1&&(d=Math.abs(l[g]));break}else S=F,A=X,F=q,X=se}}}return f}static#r(e,t,i,r){if(i-t<=4){for(let N=t;N<i-2;N+=2)r.push(e[N],e[N+1]);return}const s=e[t],l=e[t+1],c=e[i-4]-s,d=e[i-3]-l,f=Math.hypot(c,d),h=c/f,p=d/f,g=h*l-p*s,y=d/c,S=1/f,A=Math.atan(y),x=Math.cos(A),E=Math.sin(A),O=S*(Math.abs(x)+Math.abs(E)),T=S*(1-O+O**2),P=Math.max(Math.atan(Math.abs(E+x)*T),Math.atan(Math.abs(E-x)*T));let M=0,_=t;for(let N=t+2;N<i-2;N+=2){const j=Math.abs(g-h*e[N+1]+p*e[N]);j>M&&(_=N,M=j)}M>(f*P)**2?(this.#r(e,t,_+2,r),this.#r(e,_,i,r)):r.push(s,l)}static#o(e){const t=[],i=e.length;return this.#r(e,0,i,t),t.push(e[i-2],e[i-1]),t.length<=4?null:t}static#c(e,t,i,r,s,l){const c=new Float32Array(l**2),d=-2*r**2,f=l>>1;for(let A=0;A<l;A++){const x=(A-f)**2;for(let E=0;E<l;E++)c[A*l+E]=Math.exp((x+(E-f)**2)/d)}const h=new Float32Array(256),p=-2*s**2;for(let A=0;A<256;A++)h[A]=Math.exp(A**2/p);const g=e.length,y=new Uint8Array(g),S=new Uint32Array(256);for(let A=0;A<i;A++)for(let x=0;x<t;x++){const E=A*t+x,O=e[E];let T=0,P=0;for(let _=0;_<l;_++){const N=A+_-f;if(!(N<0||N>=i))for(let j=0;j<l;j++){const F=x+j-f;if(F<0||F>=t)continue;const X=e[N*t+F],$=c[_*l+j]*h[Math.abs(X-O)];T+=X*$,P+=$}}const M=y[E]=Math.round(T/P);S[M]++}return[y,S]}static#l(e){const t=new Uint32Array(256);for(const i of e)t[i]++;return t}static#f(e){const t=e.length,i=new Uint8ClampedArray(t>>2);let r=-1/0,s=1/0;for(let c=0,d=i.length;c<d;c++){const f=i[c]=e[c<<2];r=Math.max(r,f),s=Math.min(s,f)}const l=255/(r-s);for(let c=0,d=i.length;c<d;c++)i[c]=(i[c]-s)*l;return i}static#d(e){let t,i=-1/0,r=-1/0;const s=e.findIndex(d=>d!==0);let l=s,c=s;for(t=s;t<256;t++){const d=e[t];d>i&&(t-l>r&&(r=t-l,c=t-1),i=d,l=t)}for(t=c-1;t>=0&&!(e[t]>e[t+1]);t--);return t}static#h(e){const t=e,{width:i,height:r}=e,{maxDim:s}=this.#e;let l=i,c=r;if(i>s||r>s){let g=i,y=r,S=Math.log2(Math.max(i,r)/s);const A=Math.floor(S);S=S===A?A-1:A;for(let E=0;E<S;E++){l=Math.ceil(g/2),c=Math.ceil(y/2);const O=new OffscreenCanvas(l,c);O.getContext("2d").drawImage(e,0,0,g,y,0,0,l,c),g=l,y=c,e!==t&&e.close(),e=O.transferToImageBitmap()}const x=Math.min(s/l,s/c);l=Math.round(l*x),c=Math.round(c*x)}const f=new OffscreenCanvas(l,c).getContext("2d",{willReadFrequently:!0});f.fillStyle="white",f.fillRect(0,0,l,c),f.filter="grayscale(1)",f.drawImage(e,0,0,e.width,e.height,0,0,l,c);const h=f.getImageData(0,0,l,c).data;return[this.#f(h),l,c]}static extractContoursFromText(e,{fontFamily:t,fontStyle:i,fontWeight:r},s,l,c,d){let f=new OffscreenCanvas(1,1),h=f.getContext("2d",{alpha:!1});const p=200,g=h.font=`${i} ${r} ${p}px ${t}`,{actualBoundingBoxLeft:y,actualBoundingBoxRight:S,actualBoundingBoxAscent:A,actualBoundingBoxDescent:x,fontBoundingBoxAscent:E,fontBoundingBoxDescent:O,width:T}=h.measureText(e),P=1.5,M=Math.ceil(Math.max(Math.abs(y)+Math.abs(S)||0,T)*P),_=Math.ceil(Math.max(Math.abs(A)+Math.abs(x)||p,Math.abs(E)+Math.abs(O)||p)*P);f=new OffscreenCanvas(M,_),h=f.getContext("2d",{alpha:!0,willReadFrequently:!0}),h.font=g,h.filter="grayscale(1)",h.fillStyle="white",h.fillRect(0,0,M,_),h.fillStyle="black",h.fillText(e,M*(P-1)/2,_*(3-P)/2);const N=this.#f(h.getImageData(0,0,M,_).data),j=this.#l(N),F=this.#d(j),X=this.#s(N,M,_,F);return this.processDrawnLines({lines:{curves:X,width:M,height:_},pageWidth:s,pageHeight:l,rotation:c,innerMargin:d,mustSmooth:!0,areContours:!0})}static process(e,t,i,r,s){const[l,c,d]=this.#h(e),[f,h]=this.#c(l,c,d,Math.hypot(c,d)*this.#e.sigmaSFactor,this.#e.sigmaR,this.#e.kernelSize),p=this.#d(h),g=this.#s(f,c,d,p);return this.processDrawnLines({lines:{curves:g,width:c,height:d},pageWidth:t,pageHeight:i,rotation:r,innerMargin:s,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:i,rotation:r,innerMargin:s,mustSmooth:l,areContours:c}){r%180!==0&&([t,i]=[i,t]);const{curves:d,width:f,height:h}=e,p=e.thickness??0,g=[],y=Math.min(t/f,i/h),S=y/t,A=y/i,x=[];for(const{points:O}of d){const T=l?this.#o(O):O;if(!T)continue;x.push(T);const P=T.length,M=new Float32Array(P),_=new Float32Array(3*(P===2?2:P-2));if(g.push({line:_,points:M}),P===2){M[0]=T[0]*S,M[1]=T[1]*A,_.set([NaN,NaN,NaN,NaN,M[0],M[1]],0);continue}let[N,j,F,X]=T;N*=S,j*=A,F*=S,X*=A,M.set([N,j,F,X],0),_.set([NaN,NaN,NaN,NaN,N,j],0);for(let $=4;$<P;$+=2){const q=M[$]=T[$]*S,se=M[$+1]=T[$+1]*A;_.set(fe.createBezierPoints(N,j,F,X,q,se),($-2)*3),[N,j,F,X]=[F,X,q,se]}}if(g.length===0)return null;const E=c?new e0:new du;return E.build(g,t,i,1,r,c?0:p,s),{outline:E,newCurves:x,areContours:c,thickness:p,width:f,height:h}}static async compressSignature({outlines:e,areContours:t,thickness:i,width:r,height:s}){let l=1/0,c=-1/0,d=0;for(const T of e){d+=T.length;for(let P=2,M=T.length;P<M;P++){const _=T[P]-T[P-2];l=Math.min(l,_),c=Math.max(c,_)}}let f;l>=-128&&c<=127?f=Int8Array:l>=-32768&&c<=32767?f=Int16Array:f=Int32Array;const h=e.length,p=nf+Sc*h,g=new Uint32Array(p);let y=0;g[y++]=p*Uint32Array.BYTES_PER_ELEMENT+(d-2*h)*f.BYTES_PER_ELEMENT,g[y++]=0,g[y++]=r,g[y++]=s,g[y++]=t?0:1,g[y++]=Math.max(0,Math.floor(i??0)),g[y++]=h,g[y++]=f.BYTES_PER_ELEMENT;for(const T of e)g[y++]=T.length-2,g[y++]=T[0],g[y++]=T[1];const S=new CompressionStream("deflate-raw"),A=S.writable.getWriter();await A.ready,A.write(g);const x=f.prototype.constructor;for(const T of e){const P=new x(T.length-2);for(let M=2,_=T.length;M<_;M++)P[M-2]=T[M]-T[M-2];A.write(P)}A.close();const E=await new Response(S.readable).arrayBuffer();return new Uint8Array(E).toBase64()}static async decompressSignature(e){try{const t=Uint8Array.fromBase64(e),{readable:i,writable:r}=new DecompressionStream("deflate-raw"),s=r.getWriter();await s.ready,s.write(t).then(async()=>{await s.ready,await s.close()}).catch(()=>{});let l=null,c=0;for await(const T of i)l||=new Uint8Array(new Uint32Array(T.buffer,0,4)[0]),l.set(T,c),c+=T.length;const d=new Uint32Array(l.buffer,0,l.length>>2),f=d[1];if(f!==0)throw new Error(`Invalid version: ${f}`);const h=d[2],p=d[3],g=d[4]===0,y=d[5],S=d[6],A=d[7],x=[],E=(nf+Sc*S)*Uint32Array.BYTES_PER_ELEMENT;let O;switch(A){case Int8Array.BYTES_PER_ELEMENT:O=new Int8Array(l.buffer,E);break;case Int16Array.BYTES_PER_ELEMENT:O=new Int16Array(l.buffer,E);break;case Int32Array.BYTES_PER_ELEMENT:O=new Int32Array(l.buffer,E);break}c=0;for(let T=0;T<S;T++){const P=d[Sc*T+nf],M=new Float32Array(P+2);x.push(M);for(let _=0;_<Sc-1;_++)M[_]=d[Sc*T+nf+_+1];for(let _=0;_<P;_++)M[_+2]=M[_]+O[c++]}return{areContours:g,thickness:y,outlines:x,width:h,height:p}}catch(t){return we(`decompressSignature: ${t}`),null}}}class gb extends T_{constructor(){super(),super.updateProperties({fill:Se._defaultLineColor,"stroke-width":0})}clone(){const e=new gb;return e.updateAll(this),e}}class vb extends Bh{constructor(e){super(e),super.updateProperties({stroke:Se._defaultLineColor,"stroke-width":1})}clone(){const e=new vb(this._viewParameters);return e.updateAll(this),e}}class nr extends qe{#e=!1;#t=null;#i=null;#n=null;static _type="signature";static _editorType=Me.SIGNATURE;static _defaultDrawingOptions=null;constructor(e){super({...e,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#i=e.signatureData||null,this.#t=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(e,t){Se.initialize(e,t),this._defaultDrawingOptions=new gb,this._defaultDrawnSignatureOptions=new vb(t.viewParameters)}static getDefaultDrawingOptions(e){const t=this._defaultDrawingOptions.clone();return t.updateProperties(e),t}static get supportMultipleDrawings(){return!1}static get typesMap(){return Ce(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#t}}static computeTelemetryFinalData(e){const t=e.get("hasDescription");return{hasAltText:t.get(!0)??0,hasNoAltText:t.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let e,t;const{_isCopy:i}=this;if(i&&(this._isCopy=!1,e=this.x,t=this.y),super.render(),this._drawId===null)if(this.#i){const{lines:r,mustSmooth:s,areContours:l,description:c,uuid:d,heightInPage:f}=this.#i,{rawDims:{pageWidth:h,pageHeight:p},rotation:g}=this.parent.viewport,y=Uo.processDrawnLines({lines:r,pageWidth:h,pageHeight:p,rotation:g,innerMargin:nr._INNER_MARGIN,mustSmooth:s,areContours:l});this.addSignature(y,f,c,d)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:this.#t||""}));return i&&(this._isCopy=!0,this._moveAfterPaste(e,t)),this.div}setUuid(e){this.#n=e,this.addEditToolbar()}getUuid(){return this.#n}get description(){return this.#t}set description(e){this.#t=e,this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:e})),super.addEditToolbar().then(t=>{t?.updateEditSignatureButton(e)}))}getSignaturePreview(){const{newCurves:e,areContours:t,thickness:i,width:r,height:s}=this.#i,l=Math.max(r,s),c=Uo.processDrawnLines({lines:{curves:e.map(d=>({points:d})),thickness:i,width:r,height:s},pageWidth:l,pageHeight:l,rotation:0,innerMargin:0,mustSmooth:!1,areContours:t});return{areContours:t,outline:c.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(e,t,i,r){const{x:s,y:l}=this,{outline:c}=this.#i=e;this.#e=c instanceof e0,this.description=i;let d;this.#e?d=nr.getDefaultDrawingOptions():(d=nr._defaultDrawnSignatureOptions.clone(),d.updateProperties({"stroke-width":c.thickness})),this._addOutlines({drawOutlines:c,drawingOptions:d});const[,f]=this.pageDimensions;let h=t/f;h=h>=1?.5:h,this.width*=h/this.height,this.width>=1&&(h*=.9/this.width,this.width=.9),this.height=h,this.setDims(),this.x=s,this.y=l,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(r),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!r,hasDescription:!!i}}),this.div.hidden=!1}getFromImage(e){const{rawDims:{pageWidth:t,pageHeight:i},rotation:r}=this.parent.viewport;return Uo.process(e,t,i,r,nr._INNER_MARGIN)}getFromText(e,t){const{rawDims:{pageWidth:i,pageHeight:r},rotation:s}=this.parent.viewport;return Uo.extractContoursFromText(e,t,i,r,s,nr._INNER_MARGIN)}getDrawnSignature(e){const{rawDims:{pageWidth:t,pageHeight:i},rotation:r}=this.parent.viewport;return Uo.processDrawnLines({lines:e,pageWidth:t,pageHeight:i,rotation:r,innerMargin:nr._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:e,thickness:t}){e?this._drawingOptions=nr.getDefaultDrawingOptions():(this._drawingOptions=nr._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":t}))}serialize(e=!1){if(this.isEmpty())return null;const{lines:t,points:i}=this.serializeDraw(e),{_drawingOptions:{"stroke-width":r}}=this,s=Object.assign(super.serialize(e),{isSignature:!0,areContours:this.#e,color:[0,0,0],thickness:this.#e?0:r});return this.addComment(s),e?(s.paths={lines:t,points:i},s.uuid=this.#n,s.isCopy=!0):s.lines=t,this.#t&&(s.accessibilityData={type:"Figure",alt:this.#t}),s}static deserializeDraw(e,t,i,r,s,l){return l.areContours?e0.deserialize(e,t,i,r,s,l):du.deserialize(e,t,i,r,s,l)}static async deserialize(e,t,i){const r=await super.deserialize(e,t,i);return r.#e=e.areContours,r.description=e.accessibilityData?.alt||"",r.#n=e.uuid,r}}class ZB extends Se{#e=null;#t=null;#i=null;#n=null;#a=null;#s="";#r=null;#o=!1;#c=null;#l=!1;#f=!1;static _type="stamp";static _editorType=Me.STAMP;constructor(e){super({...e,name:"stampEditor"}),this.#n=e.bitmapUrl,this.#a=e.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(e,t){Se.initialize(e,t)}static isHandlingMimeForPasting(e){return Gy.includes(e)}static paste(e,t){t.pasteEditor({mode:Me.STAMP},{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(e){const t=e.get("hasAltText");return{hasAltText:t.get(!0)??0,hasNoAltText:t.get(!1)??0}}#d(e,t=!1){if(!e){this.remove();return}this.#e=e.bitmap,t||(this.#t=e.id,this.#l=e.isSvg),e.file&&(this.#s=e.file.name),this.#m()}#h(){if(this.#i=null,this._uiManager.enableWaiting(!1),!!this.#r){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(e=null,t=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:r,width:s,height:l}=e||this.copyCanvas(null,null,!0).imageData,c=await i.guess({name:"altText",request:{data:r,width:s,height:l,channels:r.length/(s*l)}});if(!c)throw new Error("No response from the AI service.");if(c.error)throw new Error("Error from the AI service.");if(c.cancel)return null;if(!c.output)throw new Error("No valid response from the AI service.");const d=c.output;return await this.setGuessedAltText(d),t&&!this.hasAltTextData()&&(this.altTextData={alt:d,decorative:!1}),d}#g(){if(this.#t){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#t).then(i=>this.#d(i,!0)).finally(()=>this.#h());return}if(this.#n){const i=this.#n;this.#n=null,this._uiManager.enableWaiting(!0),this.#i=this._uiManager.imageManager.getFromUrl(i).then(r=>this.#d(r)).finally(()=>this.#h());return}if(this.#a){const i=this.#a;this.#a=null,this._uiManager.enableWaiting(!0),this.#i=this._uiManager.imageManager.getFromFile(i).then(r=>this.#d(r)).finally(()=>this.#h());return}const e=document.createElement("input");e.type="file",e.accept=Gy.join(",");const t=this._uiManager._signal;this.#i=new Promise(i=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const r=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#d(r)}i()},{signal:t}),e.addEventListener("cancel",()=>{this.remove(),i()},{signal:t})}).finally(()=>this.#h()),e.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#r?.remove(),this.#r=null,this.#c&&(clearTimeout(this.#c),this.#c=null)),super.remove()}rebuild(){if(!this.parent){this.#t&&this.#g();return}super.rebuild(),this.div!==null&&(this.#t&&this.#r===null&&this.#g(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(e){this._isDraggable=!0,e&&this.div.focus()}isEmpty(){return!(this.#i||this.#e||this.#n||this.#a||this.#t||this.#o)}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let e,t;return this._isCopy&&(e=this.x,t=this.y),super.render(),this.div.hidden=!0,this.createAltText(),this.#o||(this.#e?this.#m():this.#g()),this._isCopy&&this._moveAfterPaste(e,t),this._uiManager.addShouldRescale(this),this.div}setCanvas(e,t){const{id:i,bitmap:r}=this._uiManager.imageManager.getFromCanvas(e,t);t.remove(),i&&this._uiManager.imageManager.isValidId(i)&&(this.#t=i,r&&(this.#e=r),this.#o=!1,this.#m())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#c!==null&&clearTimeout(this.#c);const e=200;this.#c=setTimeout(()=>{this.#c=null,this.#p()},e)}#m(){const{div:e}=this;let{width:t,height:i}=this.#e;const[r,s]=this.pageDimensions,l=.75;if(this.width)t=this.width*r,i=this.height*s;else if(t>l*r||i>l*s){const d=Math.min(l*r/t,l*s/i);t*=d,i*=d}this._uiManager.enableWaiting(!1);const c=this.#r=document.createElement("canvas");c.setAttribute("role","img"),this.addContainer(c),this.width=t/r,this.height=i/s,this.setDims(),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),this.#p(),this.#f||(this.parent.addUndoableEditor(this),this.#f=!0),this._reportTelemetry({action:"inserted_image"}),this.#s&&this.div.setAttribute("aria-description",this.#s),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}copyCanvas(e,t,i=!1){e||(e=224);const{width:r,height:s}=this.#e,l=new lr;let c=this.#e,d=r,f=s,h=null;if(t){if(r>t||s>t){const _=Math.min(t/r,t/s);d=Math.floor(r*_),f=Math.floor(s*_)}h=document.createElement("canvas");const g=h.width=Math.ceil(d*l.sx),y=h.height=Math.ceil(f*l.sy);this.#l||(c=this.#u(g,y));const S=h.getContext("2d");S.filter=this._uiManager.hcmFilter;let A="white",x="#cfcfd8";this._uiManager.hcmFilter!=="none"?x="black":yj.isDarkMode&&(A="#8f8f9d",x="#42414d");const E=15,O=E*l.sx,T=E*l.sy,P=new OffscreenCanvas(O*2,T*2),M=P.getContext("2d");M.fillStyle=A,M.fillRect(0,0,O*2,T*2),M.fillStyle=x,M.fillRect(0,0,O,T),M.fillRect(O,T,O,T),S.fillStyle=S.createPattern(P,"repeat"),S.fillRect(0,0,g,y),S.drawImage(c,0,0,c.width,c.height,0,0,g,y)}let p=null;if(i){let g,y;if(l.symmetric&&c.width<e&&c.height<e)g=c.width,y=c.height;else if(c=this.#e,r>e||s>e){const x=Math.min(e/r,e/s);g=Math.floor(r*x),y=Math.floor(s*x),this.#l||(c=this.#u(g,y))}const A=new OffscreenCanvas(g,y).getContext("2d",{willReadFrequently:!0});A.drawImage(c,0,0,c.width,c.height,0,0,g,y),p={width:g,height:y,data:A.getImageData(0,0,g,y).data}}return{canvas:h,width:d,height:f,imageData:p}}#u(e,t){const{width:i,height:r}=this.#e;let s=i,l=r,c=this.#e;for(;s>2*e||l>2*t;){const d=s,f=l;s>2*e&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2)),l>2*t&&(l=l>=16384?Math.floor(l/2)-1:Math.ceil(l/2));const h=new OffscreenCanvas(s,l);h.getContext("2d").drawImage(c,0,0,d,f,0,0,s,l),c=h.transferToImageBitmap()}return c}#p(){const[e,t]=this.parentDimensions,{width:i,height:r}=this,s=new lr,l=Math.ceil(i*e*s.sx),c=Math.ceil(r*t*s.sy),d=this.#r;if(!d||d.width===l&&d.height===c)return;d.width=l,d.height=c;const f=this.#l?this.#e:this.#u(l,c),h=d.getContext("2d");h.filter=this._uiManager.hcmFilter,h.drawImage(f,0,0,f.width,f.height,0,0,l,c)}#v(e){if(e){if(this.#l){const r=this._uiManager.imageManager.getSvgUrl(this.#t);if(r)return r}const t=document.createElement("canvas");return{width:t.width,height:t.height}=this.#e,t.getContext("2d").drawImage(this.#e,0,0),t.toDataURL()}if(this.#l){const[t,i]=this.pageDimensions,r=Math.round(this.width*t*tl.PDF_TO_CSS_UNITS),s=Math.round(this.height*i*tl.PDF_TO_CSS_UNITS),l=new OffscreenCanvas(r,s);return l.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,r,s),l.transferToImageBitmap()}return structuredClone(this.#e)}static async deserialize(e,t,i){let r=null,s=!1;if(e instanceof C_){const{data:{rect:A,rotation:x,id:E,structParent:O,popupRef:T,richText:P,contentsObj:M,creationDate:_,modificationDate:N},container:j,parent:{page:{pageNumber:F}},canvas:X}=e;let $,q;X?(delete e.canvas,{id:$,bitmap:q}=i.imageManager.getFromCanvas(j.id,X),X.remove()):(s=!0,e._hasNoCanvas=!0);const se=(await t._structTree.getAriaAttributes(`${$o}${E}`))?.get("aria-label")||"";r=e={annotationType:Me.STAMP,bitmapId:$,bitmap:q,pageIndex:F-1,rect:A.slice(0),rotation:x,annotationElementId:E,id:E,deleted:!1,accessibilityData:{decorative:!1,altText:se},isSvg:!1,structParent:O,popupRef:T,richText:P,comment:M?.str||null,creationDate:_,modificationDate:N}}const l=await super.deserialize(e,t,i),{rect:c,bitmap:d,bitmapUrl:f,bitmapId:h,isSvg:p,accessibilityData:g}=e;s?(i.addMissingCanvas(e.id,l),l.#o=!0):h&&i.imageManager.isValidId(h)?(l.#t=h,d&&(l.#e=d)):l.#n=f,l.#l=p;const[y,S]=l.pageDimensions;return l.width=(c[2]-c[0])/y,l.height=(c[3]-c[1])/S,g&&(l.altTextData=g),l._initialData=r,e.comment&&l.setCommentData(e),l.#f=!!r,l}serialize(e=!1,t=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=Object.assign(super.serialize(e),{bitmapId:this.#t,isSvg:this.#l});if(this.addComment(i),e)return i.bitmapUrl=this.#v(!0),i.accessibilityData=this.serializeAltText(!0),i.isCopy=!0,i;const{decorative:r,altText:s}=this.serializeAltText(!1);if(!r&&s&&(i.accessibilityData={type:"Figure",alt:s}),this.annotationElementId){const c=this.#b(i);return c.isSame?null:(c.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1,i.id=this.annotationElementId,delete i.bitmapId,i)}if(t===null)return i;t.stamps||=new Map;const l=this.#l?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!t.stamps.has(this.#t))t.stamps.set(this.#t,{area:l,serialized:i}),i.bitmap=this.#v(!1);else if(this.#l){const c=t.stamps.get(this.#t);l>c.area&&(c.area=l,c.serialized.bitmap.close(),c.serialized.bitmap=this.#v(!1))}return i}#b(e){const{pageIndex:t,accessibilityData:{altText:i}}=this._initialData,r=e.pageIndex===t,s=(e.accessibilityData?.alt||"")===i;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&r&&s,isSameAltText:s}}renderAnnotationElement(e){return this.deleted?(e.hide(),null):(e.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}class jr{#e;#t=!1;#i=null;#n=null;#a=null;#s=new Map;#r=!1;#o=!1;#c=!1;#l=null;#f=null;#d=null;#h=null;#g=null;#m=-1;#u;static _initialized=!1;static#p=new Map([Jt,mb,ZB,Lt,nr].map(e=>[e._editorType,e]));constructor({uiManager:e,pageIndex:t,div:i,structTreeLayer:r,accessibilityManager:s,annotationLayer:l,drawLayer:c,textLayer:d,viewport:f,l10n:h}){const p=[...jr.#p.values()];if(!jr._initialized){jr._initialized=!0;for(const g of p)g.initialize(h,e)}e.registerEditorTypes(p),this.#u=e,this.pageIndex=t,this.div=i,this.#e=s,this.#i=l,this.viewport=f,this.#d=d,this.drawLayer=c,this._structTree=r,this.#u.addLayer(this)}updatePageIndex(e){this.pageIndex=e}get isEmpty(){return this.#s.size===0}get isInvisible(){return this.isEmpty&&this.#u.getMode()===Me.NONE}updateToolbar(e){this.#u.updateToolbar(e)}updateMode(e=this.#u.getMode()){switch(this.#S(),e){case Me.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Me.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Me.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;if(t.toggle("nonEditing",!1),e===Me.POPUP)t.toggle("commentEditing",!0);else{t.toggle("commentEditing",!1);for(const i of jr.#p.values())t.toggle(`${i._type}Editing`,e===i._editorType)}this.div.hidden=!1}hasTextLayer(e){return e===this.#d?.div}setEditingState(e){this.#u.setEditingState(e)}addCommands(e){this.#u.addCommands(e)}cleanUndoStack(e){this.#u.cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){this.#i?.togglePointerEvents(e)}get#v(){return this.#s.size!==0?this.#s.values():this.#u.getEditors(this.pageIndex)}async enable(){this.#c=!0,this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),this.#g?.abort(),this.#g=null;const e=new Set;for(const i of this.#v)i.enableEditing(),i.show(!0),i.annotationElementId&&(this.#u.removeChangedExistingAnnotation(i),e.add(i.annotationElementId));const t=this.#i;if(t)for(const i of t.getEditableAnnotations()){if(i.hide(),this.#u.isDeletedAnnotationElement(i.data.id)||e.has(i.data.id))continue;const r=await this.deserialize(i);r&&(this.addOrRebuild(r),r.enableEditing())}this.#c=!1,this.#u._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){if(this.#o=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),this.#d&&!this.#g){this.#g=new AbortController;const r=this.#u.combinedSignal(this.#g);this.#d.div.addEventListener("pointerdown",s=>{const{clientX:c,clientY:d,timeStamp:f}=s,h=this.#m;if(f-h>500){this.#m=f;return}this.#m=-1;const{classList:p}=this.div;p.toggle("getElements",!0);const g=document.elementsFromPoint(c,d);if(p.toggle("getElements",!1),!this.div.contains(g[0]))return;let y;const S=new RegExp(`^${Fc}[0-9]+$`);for(const x of g)if(S.test(x.id)){y=x.id;break}if(!y)return;const A=this.#s.get(y);A?.annotationElementId===null&&(s.stopPropagation(),s.preventDefault(),A.dblclick(s))},{signal:r,capture:!0})}const e=this.#i,t=[];if(e){const r=new Map,s=new Map;for(const c of this.#v){if(c.disableEditing(),!c.annotationElementId){t.push(c);continue}if(c.serialize()!==null){r.set(c.annotationElementId,c);continue}else s.set(c.annotationElementId,c);this.getEditableAnnotation(c.annotationElementId)?.show(),c.remove()}const l=e.getEditableAnnotations();for(const c of l){const{id:d}=c.data;if(this.#u.isDeletedAnnotationElement(d)){c.updateEdited({deleted:!0});continue}let f=s.get(d);if(f){f.resetAnnotationElement(c),f.show(!1),c.show();continue}f=r.get(d),f&&(this.#u.addChangedExistingAnnotation(f),f.renderAnnotationElement(c)&&f.show(!1)),c.show()}}this.#S(),this.isEmpty&&(this.div.hidden=!0);const{classList:i}=this.div;for(const r of jr.#p.values())i.remove(`${r._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),e?.updateFakeAnnotations(t),this.#o=!1}getEditableAnnotation(e){return this.#i?.getEditableAnnotation(e)||null}setActiveEditor(e){this.#u.getActive()!==e&&this.#u.setActiveEditor(e)}enableTextSelection(){if(this.div.tabIndex=-1,this.#d?.div&&!this.#h){this.#h=new AbortController;const e=this.#u.combinedSignal(this.#h);this.#d.div.addEventListener("pointerdown",this.#b.bind(this),{signal:e}),this.#d.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#d?.div&&this.#h&&(this.#h.abort(),this.#h=null,this.#d.div.classList.remove("highlighting"))}#b(e){this.#u.unselectAll();const{target:t}=e;if(t===this.#d.div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&this.#d.div.contains(t)){const{isMac:i}=Vt.platform;if(e.button!==0||e.ctrlKey&&i)return;this.#u.showAllEditors("highlight",!0,!0),this.#d.div.classList.add("free"),this.toggleDrawing(),Lt.startHighlighting(this,this.#u.direction==="ltr",{target:this.#d.div,x:e.x,y:e.y}),this.#d.div.addEventListener("pointerup",()=>{this.#d.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#u._signal}),e.preventDefault()}}enableClick(){if(this.#n)return;this.#n=new AbortController;const e=this.#u.combinedSignal(this.#n);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){this.#n?.abort(),this.#n=null}attach(e){this.#s.set(e.id,e);const{annotationElementId:t}=e;t&&this.#u.isDeletedAnnotationElement(t)&&this.#u.removeDeletedAnnotationElement(e)}detach(e){this.#s.delete(e.id),this.#e?.removePointerInTextLayer(e.contentDiv),!this.#o&&e.annotationElementId&&this.#u.addDeletedAnnotationElement(e)}remove(e){this.detach(e),this.#u.removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){e.parent!==this&&(e.parent&&e.annotationElementId&&(this.#u.addDeletedAnnotationElement(e),Se.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),e.parent?.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),this.#u.addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!this.#c),this.#u.addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!this.#a&&(e._focusEventsAllowed=!1,this.#a=setTimeout(()=>{this.#a=null,e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this.#u._signal}),t.focus())},0)),e._structTreeParentId=this.#e?.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||=this,e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),i=()=>{e.remove()};this.addCommands({cmd:t,undo:i,mustExec:!1})}getEditorByUID(e){for(const t of this.#s.values())if(t.uid===e)return t;return null}getNextId(){return this.#u.getId()}get#y(){return jr.#p.get(this.#u.getMode())}combinedSignal(e){return this.#u.combinedSignal(e)}#C(e){const t=this.#y;return t?new t.prototype.constructor(e):null}canCreateNewEmptyEditor(){return this.#y?.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await this.#u.updateMode(e.mode);const{offsetX:i,offsetY:r}=this.#E(),s=this.getNextId(),l=this.#C({parent:this,id:s,x:i,y:r,uiManager:this.#u,isCentered:!0,...t});l&&this.add(l)}async deserialize(e){return await jr.#p.get(e.annotationType??e.annotationEditorType)?.deserialize(e,this,this.#u)||null}createAndAddNewEditor(e,t,i={}){const r=this.getNextId(),s=this.#C({parent:this,id:r,x:e.offsetX,y:e.offsetY,uiManager:this.#u,isCentered:t,...i});return s&&this.add(s),s}get boundingClientRect(){return this.div.getBoundingClientRect()}#E(){const{x:e,y:t,width:i,height:r}=this.boundingClientRect,s=Math.max(0,e),l=Math.max(0,t),c=Math.min(window.innerWidth,e+i),d=Math.min(window.innerHeight,t+r),f=(s+c)/2-e,h=(l+d)/2-t,[p,g]=this.viewport.rotation%180===0?[f,h]:[h,f];return{offsetX:p,offsetY:g}}addNewEditor(e={}){this.createAndAddNewEditor(this.#E(),!0,e)}setSelected(e){this.#u.setSelected(e)}toggleSelected(e){this.#u.toggleSelected(e)}unselect(e){this.#u.unselect(e)}pointerup(e){const{isMac:t}=Vt.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div||!this.#r||(this.#r=!1,this.#y?.isDrawer&&this.#y.supportMultipleDrawings))return;if(!this.#t){this.#t=!0;return}const i=this.#u.getMode();if(i===Me.STAMP||i===Me.SIGNATURE){this.#u.unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){if(this.#u.getMode()===Me.HIGHLIGHT&&this.enableTextSelection(),this.#r){this.#r=!1;return}const{isMac:t}=Vt.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(this.#r=!0,this.#y?.isDrawer){this.startDrawingSession(e);return}const i=this.#u.getActive();this.#t=!i||i.isEmpty()}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),this.#l){this.#y.startDrawing(this,this.#u,!1,e);return}this.#u.setCurrentDrawingSession(this),this.#l=new AbortController;const t=this.#u.combinedSignal(this.#l);this.div.addEventListener("blur",({relatedTarget:i})=>{i&&!this.div.contains(i)&&(this.#f=null,this.commitOrRemove())},{signal:t}),this.#y.startDrawing(this,this.#u,!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&(this.#f=t);return}this.#f&&setTimeout(()=>{this.#f?.focus(),this.#f=null},0)}endDrawingSession(e=!1){return this.#l?(this.#u.setCurrentDrawingSession(null),this.#l.abort(),this.#l=null,this.#f=null,this.#y.endDrawing(e)):null}findNewParent(e,t,i){const r=this.#u.findParent(t,i);return r===null||r===this?!1:(r.changeParent(e),!0)}commitOrRemove(){return this.#l?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#l&&this.#y.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#u.getActive()?.parent===this&&(this.#u.commitOrRemove(),this.#u.setActiveEditor(null)),this.#a&&(clearTimeout(this.#a),this.#a=null);for(const e of this.#s.values())this.#e?.removePointerInTextLayer(e.contentDiv),e.setParent(null),e.isAttachedToDOM=!1,e.div.remove();this.div=null,this.#s.clear(),this.#u.removeLayer(this)}#S(){for(const e of this.#s.values())e.isEmpty()&&e.remove()}render({viewport:e}){this.viewport=e,Ps(this.div,e);for(const t of this.#u.getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){this.#u.commitOrRemove(),this.#S();const t=this.viewport.rotation,i=e.rotation;if(this.viewport=e,Ps(this.div,{rotation:i}),t!==i)for(const r of this.#s.values())r.rotate(i)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return this.#u.viewParameters.realScale}}class pn{#e=null;#t=new Map;#i=new Map;static#n=0;setParent(e){if(!this.#e){this.#e=e;return}if(this.#e!==e){if(this.#t.size>0)for(const t of this.#t.values())t.remove(),e.append(t);this.#e=e}}static get _svgFactory(){return Ce(this,"_svgFactory",new Lf)}static#a(e,[t,i,r,s]){const{style:l}=e;l.top=`${100*i}%`,l.left=`${100*t}%`,l.width=`${100*r}%`,l.height=`${100*s}%`}#s(){const e=pn._svgFactory.create(1,1,!0);return this.#e.append(e),e.setAttribute("aria-hidden",!0),e}#r(e,t){const i=pn._svgFactory.createElement("clipPath");e.append(i);const r=`clip_${t}`;i.setAttribute("id",r),i.setAttribute("clipPathUnits","objectBoundingBox");const s=pn._svgFactory.createElement("use");return i.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),r}#o(e,t){for(const[i,r]of Object.entries(t))r===null?e.removeAttribute(i):e.setAttribute(i,r)}draw(e,t=!1,i=!1){const r=pn.#n++,s=this.#s(),l=pn._svgFactory.createElement("defs");s.append(l);const c=pn._svgFactory.createElement("path");l.append(c);const d=`path_${r}`;c.setAttribute("id",d),c.setAttribute("vector-effect","non-scaling-stroke"),t&&this.#i.set(r,c);const f=i?this.#r(l,d):null,h=pn._svgFactory.createElement("use");return s.append(h),h.setAttribute("href",`#${d}`),this.updateProperties(s,e),this.#t.set(r,s),{id:r,clipPathId:`url(#${f})`}}drawOutline(e,t){const i=pn.#n++,r=this.#s(),s=pn._svgFactory.createElement("defs");r.append(s);const l=pn._svgFactory.createElement("path");s.append(l);const c=`path_${i}`;l.setAttribute("id",c),l.setAttribute("vector-effect","non-scaling-stroke");let d;if(t){const p=pn._svgFactory.createElement("mask");s.append(p),d=`mask_${i}`,p.setAttribute("id",d),p.setAttribute("maskUnits","objectBoundingBox");const g=pn._svgFactory.createElement("rect");p.append(g),g.setAttribute("width","1"),g.setAttribute("height","1"),g.setAttribute("fill","white");const y=pn._svgFactory.createElement("use");p.append(y),y.setAttribute("href",`#${c}`),y.setAttribute("stroke","none"),y.setAttribute("fill","black"),y.setAttribute("fill-rule","nonzero"),y.classList.add("mask")}const f=pn._svgFactory.createElement("use");r.append(f),f.setAttribute("href",`#${c}`),d&&f.setAttribute("mask",`url(#${d})`);const h=f.cloneNode();return r.append(h),f.classList.add("mainOutline"),h.classList.add("secondaryOutline"),this.updateProperties(r,e),this.#t.set(i,r),i}finalizeDraw(e,t){this.#i.delete(e),this.updateProperties(e,t)}updateProperties(e,t){if(!t)return;const{root:i,bbox:r,rootClass:s,path:l}=t,c=typeof e=="number"?this.#t.get(e):e;if(c){if(i&&this.#o(c,i),r&&pn.#a(c,r),s){const{classList:d}=c;for(const[f,h]of Object.entries(s))d.toggle(f,h)}if(l){const f=c.firstElementChild.firstElementChild;this.#o(f,l)}}}updateParent(e,t){if(t===this)return;const i=this.#t.get(e);i&&(t.#e.append(i),this.#t.delete(e),t.#t.set(e,i))}remove(e){this.#i.delete(e),this.#e!==null&&(this.#t.get(e).remove(),this.#t.delete(e))}destroy(){this.#e=null;for(const e of this.#t.values())e.remove();this.#t.clear(),this.#i.clear()}}globalThis._pdfjsTestingUtils={HighlightOutliner:Qy};globalThis.pdfjsLib={AbortException:Ha,AnnotationEditorLayer:jr,AnnotationEditorParamsType:ze,AnnotationEditorType:Me,AnnotationEditorUIManager:$a,AnnotationLayer:pb,AnnotationMode:ka,AnnotationType:zt,applyOpacity:Aj,build:TB,ColorPicker:Mi,createValidAbsoluteUrl:YM,CSSConstants:bj,DOMSVGFactory:Lf,DrawLayer:pn,FeatureTest:Vt,fetchData:ou,findContrastColor:Sj,getDocument:v_,getFilenameFromUrl:hj,getPdfFilenameFromUrl:pj,getRGB:cu,getUuid:KM,getXfaPageViewport:gj,GlobalWorkerOptions:Zo,ImageKind:Sf,InvalidPDFException:$y,isDataScheme:Dh,isPdfFile:rb,isValidExplicitDest:Lj,MathClamp:gn,noContextMenu:Pi,normalizeUnicode:dj,OPS:Uc,OutputScale:lr,PagesMapper:Ge,PasswordResponses:tj,PDFDataRangeTransport:y_,PDFDateString:qy,PDFWorker:$c,PermissionFlag:ej,PixelsPerInch:tl,RenderingCancelledException:ib,renderRichText:ZM,ResponseException:Pf,setLayerDimensions:Ps,shadow:Ce,SignatureExtractor:Uo,stopEvent:Tt,SupportedImageMimeTypes:Gy,TextLayer:ii,TouchManager:Lh,updateUrlHash:XM,Util:ue,VerbosityLevel:Th,version:OB,XfaLayer:WM};function M_(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(e=0;e<r;e++)n[e]&&(t=M_(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function et(){for(var n,e,t=0,i="",r=arguments.length;t<r;t++)(n=arguments[t])&&(e=M_(n))&&(i&&(i+=" "),i+=e);return i}var QB=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function yb(n){if(typeof n!="string")return!1;var e=QB;return e.includes(n)}var JB=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],e3=new Set(JB);function __(n){return typeof n!="string"?!1:e3.has(n)}function P_(n){return typeof n=="string"&&n.startsWith("data-")}function cr(n){if(typeof n!="object"||n===null)return{};var e={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(__(t)||P_(t))&&(e[t]=n[t]);return e}function Gc(n){if(n==null)return null;if(C.isValidElement(n)&&typeof n.props=="object"&&n.props!==null){var e=n.props;return cr(e)}return typeof n=="object"&&!Array.isArray(n)?cr(n):null}function Di(n){var e={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(__(t)||P_(t)||yb(t))&&(e[t]=n[t]);return e}var t3=["children","width","height","viewBox","className","style","title","desc"];function t0(){return t0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},t0.apply(null,arguments)}function n3(n,e){if(n==null)return{};var t,i,r=i3(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function i3(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var bb=C.forwardRef((n,e)=>{var{children:t,width:i,height:r,viewBox:s,className:l,style:c,title:d,desc:f}=n,h=n3(n,t3),p=s||{width:i,height:r,x:0,y:0},g=et("recharts-surface",l);return C.createElement("svg",t0({},Di(h),{className:g,width:i,height:r,style:c,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:e}),C.createElement("title",null,d),C.createElement("desc",null,f),t)}),r3=["children","className"];function n0(){return n0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},n0.apply(null,arguments)}function a3(n,e){if(n==null)return{};var t,i,r=s3(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function s3(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var Dn=C.forwardRef((n,e)=>{var{children:t,className:i}=n,r=a3(n,r3),s=et("recharts-layer",i);return C.createElement("g",n0({className:s},Di(r),{ref:e}),t)}),Ab=VM(),D_=C.createContext(null),o3=()=>C.useContext(D_);function lt(n){return function(){return n}}const L_=Math.cos,Nf=Math.sin,qi=Math.sqrt,Rf=Math.PI,zh=2*Rf,i0=Math.PI,r0=2*i0,gs=1e-6,l3=r0-gs;function N_(n){this._+=n[0];for(let e=1,t=n.length;e<t;++e)this._+=arguments[e]+n[e]}function c3(n){let e=Math.floor(n);if(!(e>=0))throw new Error(`invalid digits: ${n}`);if(e>15)return N_;const t=10**e;return function(i){this._+=i[0];for(let r=1,s=i.length;r<s;++r)this._+=Math.round(arguments[r]*t)/t+i[r]}}class u3{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?N_:c3(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,i,r){this._append`Q${+e},${+t},${this._x1=+i},${this._y1=+r}`}bezierCurveTo(e,t,i,r,s,l){this._append`C${+e},${+t},${+i},${+r},${this._x1=+s},${this._y1=+l}`}arcTo(e,t,i,r,s){if(e=+e,t=+t,i=+i,r=+r,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,c=this._y1,d=i-e,f=r-t,h=l-e,p=c-t,g=h*h+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=t}`;else if(g>gs)if(!(Math.abs(p*d-f*h)>gs)||!s)this._append`L${this._x1=e},${this._y1=t}`;else{let y=i-l,S=r-c,A=d*d+f*f,x=y*y+S*S,E=Math.sqrt(A),O=Math.sqrt(g),T=s*Math.tan((i0-Math.acos((A+g-x)/(2*E*O)))/2),P=T/O,M=T/E;Math.abs(P-1)>gs&&this._append`L${e+P*h},${t+P*p}`,this._append`A${s},${s},0,0,${+(p*y>h*S)},${this._x1=e+M*d},${this._y1=t+M*f}`}}arc(e,t,i,r,s,l){if(e=+e,t=+t,i=+i,l=!!l,i<0)throw new Error(`negative radius: ${i}`);let c=i*Math.cos(r),d=i*Math.sin(r),f=e+c,h=t+d,p=1^l,g=l?r-s:s-r;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>gs||Math.abs(this._y1-h)>gs)&&this._append`L${f},${h}`,i&&(g<0&&(g=g%r0+r0),g>l3?this._append`A${i},${i},0,1,${p},${e-c},${t-d}A${i},${i},0,1,${p},${this._x1=f},${this._y1=h}`:g>gs&&this._append`A${i},${i},0,${+(g>=i0)},${p},${this._x1=e+i*Math.cos(s)},${this._y1=t+i*Math.sin(s)}`)}rect(e,t,i,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${i=+i}v${+r}h${-i}Z`}toString(){return this._}}function Sb(n){let e=3;return n.digits=function(t){if(!arguments.length)return e;if(t==null)e=null;else{const i=Math.floor(t);if(!(i>=0))throw new RangeError(`invalid digits: ${t}`);e=i}return n},()=>new u3(e)}function xb(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function R_(n){this._context=n}R_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;default:this._context.lineTo(n,e);break}}};function Fh(n){return new R_(n)}function I_(n){return n[0]}function k_(n){return n[1]}function j_(n,e){var t=lt(!0),i=null,r=Fh,s=null,l=Sb(c);n=typeof n=="function"?n:n===void 0?I_:lt(n),e=typeof e=="function"?e:e===void 0?k_:lt(e);function c(d){var f,h=(d=xb(d)).length,p,g=!1,y;for(i==null&&(s=r(y=l())),f=0;f<=h;++f)!(f<h&&t(p=d[f],f,d))===g&&((g=!g)?s.lineStart():s.lineEnd()),g&&s.point(+n(p,f,d),+e(p,f,d));if(y)return s=null,y+""||null}return c.x=function(d){return arguments.length?(n=typeof d=="function"?d:lt(+d),c):n},c.y=function(d){return arguments.length?(e=typeof d=="function"?d:lt(+d),c):e},c.defined=function(d){return arguments.length?(t=typeof d=="function"?d:lt(!!d),c):t},c.curve=function(d){return arguments.length?(r=d,i!=null&&(s=r(i)),c):r},c.context=function(d){return arguments.length?(d==null?i=s=null:s=r(i=d),c):i},c}function rf(n,e,t){var i=null,r=lt(!0),s=null,l=Fh,c=null,d=Sb(f);n=typeof n=="function"?n:n===void 0?I_:lt(+n),e=typeof e=="function"?e:lt(e===void 0?0:+e),t=typeof t=="function"?t:t===void 0?k_:lt(+t);function f(p){var g,y,S,A=(p=xb(p)).length,x,E=!1,O,T=new Array(A),P=new Array(A);for(s==null&&(c=l(O=d())),g=0;g<=A;++g){if(!(g<A&&r(x=p[g],g,p))===E)if(E=!E)y=g,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),S=g-1;S>=y;--S)c.point(T[S],P[S]);c.lineEnd(),c.areaEnd()}E&&(T[g]=+n(x,g,p),P[g]=+e(x,g,p),c.point(i?+i(x,g,p):T[g],t?+t(x,g,p):P[g]))}if(O)return c=null,O+""||null}function h(){return j_().defined(r).curve(l).context(s)}return f.x=function(p){return arguments.length?(n=typeof p=="function"?p:lt(+p),i=null,f):n},f.x0=function(p){return arguments.length?(n=typeof p=="function"?p:lt(+p),f):n},f.x1=function(p){return arguments.length?(i=p==null?null:typeof p=="function"?p:lt(+p),f):i},f.y=function(p){return arguments.length?(e=typeof p=="function"?p:lt(+p),t=null,f):e},f.y0=function(p){return arguments.length?(e=typeof p=="function"?p:lt(+p),f):e},f.y1=function(p){return arguments.length?(t=p==null?null:typeof p=="function"?p:lt(+p),f):t},f.lineX0=f.lineY0=function(){return h().x(n).y(e)},f.lineY1=function(){return h().x(n).y(t)},f.lineX1=function(){return h().x(i).y(e)},f.defined=function(p){return arguments.length?(r=typeof p=="function"?p:lt(!!p),f):r},f.curve=function(p){return arguments.length?(l=p,s!=null&&(c=l(s)),f):l},f.context=function(p){return arguments.length?(p==null?s=c=null:c=l(s=p),f):s},f}class B_{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t);break}}this._x0=e,this._y0=t}}function d3(n){return new B_(n,!0)}function f3(n){return new B_(n,!1)}const Eb={draw(n,e){const t=qi(e/Rf);n.moveTo(t,0),n.arc(0,0,t,0,zh)}},h3={draw(n,e){const t=qi(e/5)/2;n.moveTo(-3*t,-t),n.lineTo(-t,-t),n.lineTo(-t,-3*t),n.lineTo(t,-3*t),n.lineTo(t,-t),n.lineTo(3*t,-t),n.lineTo(3*t,t),n.lineTo(t,t),n.lineTo(t,3*t),n.lineTo(-t,3*t),n.lineTo(-t,t),n.lineTo(-3*t,t),n.closePath()}},z_=qi(1/3),p3=z_*2,m3={draw(n,e){const t=qi(e/p3),i=t*z_;n.moveTo(0,-t),n.lineTo(i,0),n.lineTo(0,t),n.lineTo(-i,0),n.closePath()}},g3={draw(n,e){const t=qi(e),i=-t/2;n.rect(i,i,t,t)}},v3=.8908130915292852,F_=Nf(Rf/10)/Nf(7*Rf/10),y3=Nf(zh/10)*F_,b3=-L_(zh/10)*F_,A3={draw(n,e){const t=qi(e*v3),i=y3*t,r=b3*t;n.moveTo(0,-t),n.lineTo(i,r);for(let s=1;s<5;++s){const l=zh*s/5,c=L_(l),d=Nf(l);n.lineTo(d*t,-c*t),n.lineTo(c*i-d*r,d*i+c*r)}n.closePath()}},lv=qi(3),S3={draw(n,e){const t=-qi(e/(lv*3));n.moveTo(0,t*2),n.lineTo(-lv*t,-t),n.lineTo(lv*t,-t),n.closePath()}},Ei=-.5,wi=qi(3)/2,a0=1/qi(12),x3=(a0/2+1)*3,E3={draw(n,e){const t=qi(e/x3),i=t/2,r=t*a0,s=i,l=t*a0+t,c=-s,d=l;n.moveTo(i,r),n.lineTo(s,l),n.lineTo(c,d),n.lineTo(Ei*i-wi*r,wi*i+Ei*r),n.lineTo(Ei*s-wi*l,wi*s+Ei*l),n.lineTo(Ei*c-wi*d,wi*c+Ei*d),n.lineTo(Ei*i+wi*r,Ei*r-wi*i),n.lineTo(Ei*s+wi*l,Ei*l-wi*s),n.lineTo(Ei*c+wi*d,Ei*d-wi*c),n.closePath()}};function w3(n,e){let t=null,i=Sb(r);n=typeof n=="function"?n:lt(n||Eb),e=typeof e=="function"?e:lt(e===void 0?64:+e);function r(){let s;if(t||(t=s=i()),n.apply(this,arguments).draw(t,+e.apply(this,arguments)),s)return t=null,s+""||null}return r.type=function(s){return arguments.length?(n=typeof s=="function"?s:lt(s),r):n},r.size=function(s){return arguments.length?(e=typeof s=="function"?s:lt(+s),r):e},r.context=function(s){return arguments.length?(t=s??null,r):t},r}function If(){}function kf(n,e,t){n._context.bezierCurveTo((2*n._x0+n._x1)/3,(2*n._y0+n._y1)/3,(n._x0+2*n._x1)/3,(n._y0+2*n._y1)/3,(n._x0+4*n._x1+e)/6,(n._y0+4*n._y1+t)/6)}function U_(n){this._context=n}U_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:kf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:kf(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function C3(n){return new U_(n)}function H_(n){this._context=n}H_.prototype={areaStart:If,areaEnd:If,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._x2=n,this._y2=e;break;case 1:this._point=2,this._x3=n,this._y3=e;break;case 2:this._point=3,this._x4=n,this._y4=e,this._context.moveTo((this._x0+4*this._x1+n)/6,(this._y0+4*this._y1+e)/6);break;default:kf(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function O3(n){return new H_(n)}function $_(n){this._context=n}$_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var t=(this._x0+4*this._x1+n)/6,i=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break;case 3:this._point=4;default:kf(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function T3(n){return new $_(n)}function q_(n){this._context=n}q_.prototype={areaStart:If,areaEnd:If,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(n,e){n=+n,e=+e,this._point?this._context.lineTo(n,e):(this._point=1,this._context.moveTo(n,e))}};function M3(n){return new q_(n)}function Ww(n){return n<0?-1:1}function Zw(n,e,t){var i=n._x1-n._x0,r=e-n._x1,s=(n._y1-n._y0)/(i||r<0&&-0),l=(t-n._y1)/(r||i<0&&-0),c=(s*r+l*i)/(i+r);return(Ww(s)+Ww(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(c))||0}function Qw(n,e){var t=n._x1-n._x0;return t?(3*(n._y1-n._y0)/t-e)/2:e}function cv(n,e,t){var i=n._x0,r=n._y0,s=n._x1,l=n._y1,c=(s-i)/3;n._context.bezierCurveTo(i+c,r+c*e,s-c,l-c*t,s,l)}function jf(n){this._context=n}jf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:cv(this,this._t0,Qw(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){var t=NaN;if(n=+n,e=+e,!(n===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;break;case 2:this._point=3,cv(this,Qw(this,t=Zw(this,n,e)),t);break;default:cv(this,this._t0,t=Zw(this,n,e));break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e,this._t0=t}}};function G_(n){this._context=new V_(n)}(G_.prototype=Object.create(jf.prototype)).point=function(n,e){jf.prototype.point.call(this,e,n)};function V_(n){this._context=n}V_.prototype={moveTo:function(n,e){this._context.moveTo(e,n)},closePath:function(){this._context.closePath()},lineTo:function(n,e){this._context.lineTo(e,n)},bezierCurveTo:function(n,e,t,i,r,s){this._context.bezierCurveTo(e,n,i,t,s,r)}};function _3(n){return new jf(n)}function P3(n){return new G_(n)}function Y_(n){this._context=n}Y_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var n=this._x,e=this._y,t=n.length;if(t)if(this._line?this._context.lineTo(n[0],e[0]):this._context.moveTo(n[0],e[0]),t===2)this._context.lineTo(n[1],e[1]);else for(var i=Jw(n),r=Jw(e),s=0,l=1;l<t;++s,++l)this._context.bezierCurveTo(i[0][s],r[0][s],i[1][s],r[1][s],n[l],e[l]);(this._line||this._line!==0&&t===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(n,e){this._x.push(+n),this._y.push(+e)}};function Jw(n){var e,t=n.length-1,i,r=new Array(t),s=new Array(t),l=new Array(t);for(r[0]=0,s[0]=2,l[0]=n[0]+2*n[1],e=1;e<t-1;++e)r[e]=1,s[e]=4,l[e]=4*n[e]+2*n[e+1];for(r[t-1]=2,s[t-1]=7,l[t-1]=8*n[t-1]+n[t],e=1;e<t;++e)i=r[e]/s[e-1],s[e]-=i,l[e]-=i*l[e-1];for(r[t-1]=l[t-1]/s[t-1],e=t-2;e>=0;--e)r[e]=(l[e]-r[e+1])/s[e];for(s[t-1]=(n[t]+r[t-1])/2,e=0;e<t-1;++e)s[e]=2*n[e+1]-r[e+1];return[r,s]}function D3(n){return new Y_(n)}function Uh(n,e){this._context=n,this._t=e}Uh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(n,e);else{var t=this._x*(1-this._t)+n*this._t;this._context.lineTo(t,this._y),this._context.lineTo(t,e)}break}}this._x=n,this._y=e}};function L3(n){return new Uh(n,.5)}function N3(n){return new Uh(n,0)}function R3(n){return new Uh(n,1)}function Ls(n,e){if((l=n.length)>1)for(var t=1,i,r,s=n[e[0]],l,c=s.length;t<l;++t)for(r=s,s=n[e[t]],i=0;i<c;++i)s[i][1]+=s[i][0]=isNaN(r[i][1])?r[i][0]:r[i][1]}function s0(n){for(var e=n.length,t=new Array(e);--e>=0;)t[e]=e;return t}function I3(n,e){return n[e]}function k3(n){const e=[];return e.key=n,e}function j3(){var n=lt([]),e=s0,t=Ls,i=I3;function r(s){var l=Array.from(n.apply(this,arguments),k3),c,d=l.length,f=-1,h;for(const p of s)for(c=0,++f;c<d;++c)(l[c][f]=[0,+i(p,l[c].key,f,s)]).data=p;for(c=0,h=xb(e(l));c<d;++c)l[h[c]].index=c;return t(l,h),l}return r.keys=function(s){return arguments.length?(n=typeof s=="function"?s:lt(Array.from(s)),r):n},r.value=function(s){return arguments.length?(i=typeof s=="function"?s:lt(+s),r):i},r.order=function(s){return arguments.length?(e=s==null?s0:typeof s=="function"?s:lt(Array.from(s)),r):e},r.offset=function(s){return arguments.length?(t=s??Ls,r):t},r}function B3(n,e){if((i=n.length)>0){for(var t,i,r=0,s=n[0].length,l;r<s;++r){for(l=t=0;t<i;++t)l+=n[t][r][1]||0;if(l)for(t=0;t<i;++t)n[t][r][1]/=l}Ls(n,e)}}function z3(n,e){if((r=n.length)>0){for(var t=0,i=n[e[0]],r,s=i.length;t<s;++t){for(var l=0,c=0;l<r;++l)c+=n[l][t][1]||0;i[t][1]+=i[t][0]=-c/2}Ls(n,e)}}function F3(n,e){if(!(!((l=n.length)>0)||!((s=(r=n[e[0]]).length)>0))){for(var t=0,i=1,r,s,l;i<s;++i){for(var c=0,d=0,f=0;c<l;++c){for(var h=n[e[c]],p=h[i][1]||0,g=h[i-1][1]||0,y=(p-g)/2,S=0;S<c;++S){var A=n[e[S]],x=A[i][1]||0,E=A[i-1][1]||0;y+=x-E}d+=p,f+=y*p}r[i-1][1]+=r[i-1][0]=t,d&&(t-=f/d)}r[i-1][1]+=r[i-1][0]=t,Ls(n,e)}}var uv={},dv={},eC;function U3(){return eC||(eC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t==="__proto__"}n.isUnsafeProperty=e})(dv)),dv}var fv={},tC;function X_(){return tC||(tC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){switch(typeof t){case"number":case"symbol":return!1;case"string":return t.includes(".")||t.includes("[")||t.includes("]")}}n.isDeepKey=e})(fv)),fv}var hv={},nC;function wb(){return nC||(nC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return typeof t=="string"||typeof t=="symbol"?t:Object.is(t?.valueOf?.(),-0)?"-0":String(t)}n.toKey=e})(hv)),hv}var pv={},mv={},iC;function H3(){return iC||(iC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){if(t==null)return"";if(typeof t=="string")return t;if(Array.isArray(t))return t.map(e).join(",");const i=String(t);return i==="0"&&Object.is(Number(t),-0)?"-0":i}n.toString=e})(mv)),mv}var rC;function Cb(){return rC||(rC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=H3(),t=wb();function i(r){if(Array.isArray(r))return r.map(t.toKey);if(typeof r=="symbol")return[r];r=e.toString(r);const s=[],l=r.length;if(l===0)return s;let c=0,d="",f="",h=!1;for(r.charCodeAt(0)===46&&(s.push(""),c++);c<l;){const p=r[c];f?p==="\\"&&c+1<l?(c++,d+=r[c]):p===f?f="":d+=p:h?p==='"'||p==="'"?f=p:p==="]"?(h=!1,s.push(d),d=""):d+=p:p==="["?(h=!0,d&&(s.push(d),d="")):p==="."?d&&(s.push(d),d=""):d+=p,c++}return d&&s.push(d),s}n.toPath=i})(pv)),pv}var aC;function Ob(){return aC||(aC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=U3(),t=X_(),i=wb(),r=Cb();function s(c,d,f){if(c==null)return f;switch(typeof d){case"string":{if(e.isUnsafeProperty(d))return f;const h=c[d];return h===void 0?t.isDeepKey(d)?s(c,r.toPath(d),f):f:h}case"number":case"symbol":{typeof d=="number"&&(d=i.toKey(d));const h=c[d];return h===void 0?f:h}default:{if(Array.isArray(d))return l(c,d,f);if(Object.is(d?.valueOf(),-0)?d="-0":d=String(d),e.isUnsafeProperty(d))return f;const h=c[d];return h===void 0?f:h}}}function l(c,d,f){if(d.length===0)return f;let h=c;for(let p=0;p<d.length;p++){if(h==null||e.isUnsafeProperty(d[p]))return f;h=h[d[p]]}return h===void 0?f:h}n.get=s})(uv)),uv}var gv,sC;function $3(){return sC||(sC=1,gv=Ob().get),gv}var q3=$3();const Ns=Qr(q3);var G3=4;function za(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:G3,t=10**e,i=Math.round(n*t)/t;return Object.is(i,-0)?0:i}function Ot(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];return n.reduce((r,s,l)=>{var c=t[l-1];return typeof c=="string"?r+c+s:c!==void 0?r+za(c)+s:r+s},"")}var bn=n=>n===0?0:n>0?1:-1,ur=n=>typeof n=="number"&&n!=+n,Rs=n=>typeof n=="string"&&n.indexOf("%")===n.length-1,be=n=>(typeof n=="number"||n instanceof Number)&&!ur(n),dr=n=>be(n)||typeof n=="string",V3=0,Vc=n=>{var e=++V3;return"".concat(n||"").concat(e)},Cn=function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!be(e)&&typeof e!="string")return i;var s;if(Rs(e)){if(t==null)return i;var l=e.indexOf("%");s=t*parseFloat(e.slice(0,l))/100}else s=+e;return ur(s)&&(s=i),r&&t!=null&&s>t&&(s=t),s},K_=n=>{if(!Array.isArray(n))return!1;for(var e=n.length,t={},i=0;i<e;i++)if(!t[String(n[i])])t[String(n[i])]=!0;else return!0;return!1};function qt(n,e,t){return be(n)&&be(e)?za(n+t*(e-n)):e}function Y3(n,e,t){if(!(!n||!n.length))return n.find(i=>i&&(typeof e=="function"?e(i):Ns(i,e))===t)}var rn=n=>n===null||typeof n>"u",fu=n=>rn(n)?n:"".concat(n.charAt(0).toUpperCase()).concat(n.slice(1));function rr(n){return n!=null}function dl(){}var X3=["type","size","sizeType"];function o0(){return o0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},o0.apply(null,arguments)}function oC(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function lC(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?oC(Object(t),!0).forEach(function(i){K3(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):oC(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function K3(n,e,t){return(e=W3(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function W3(n){var e=Z3(n,"string");return typeof e=="symbol"?e:e+""}function Z3(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Q3(n,e){if(n==null)return{};var t,i,r=J3(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function J3(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var W_={symbolCircle:Eb,symbolCross:h3,symbolDiamond:m3,symbolSquare:g3,symbolStar:A3,symbolTriangle:S3,symbolWye:E3},ez=Math.PI/180,tz=n=>{var e="symbol".concat(fu(n));return W_[e]||Eb},nz=(n,e,t)=>{if(e==="area")return n;switch(t){case"cross":return 5*n*n/9;case"diamond":return .5*n*n/Math.sqrt(3);case"square":return n*n;case"star":{var i=18*ez;return 1.25*n*n*(Math.tan(i)-Math.tan(i*2)*Math.tan(i)**2)}case"triangle":return Math.sqrt(3)*n*n/4;case"wye":return(21-10*Math.sqrt(3))*n*n/8;default:return Math.PI*n*n/4}},iz=(n,e)=>{W_["symbol".concat(fu(n))]=e},Tb=n=>{var{type:e="circle",size:t=64,sizeType:i="area"}=n,r=Q3(n,X3),s=lC(lC({},r),{},{type:e,size:t,sizeType:i}),l="circle";typeof e=="string"&&(l=e);var c=()=>{var g=tz(l),y=w3().type(g).size(nz(t,i,l)),S=y();if(S!==null)return S},{className:d,cx:f,cy:h}=s,p=Di(s);return be(f)&&be(h)&&be(t)?C.createElement("path",o0({},p,{className:et("recharts-symbols",d),transform:"translate(".concat(f,", ").concat(h,")"),d:c()})):null};Tb.registerSymbol=iz;var Z_=n=>"radius"in n&&"startAngle"in n&&"endAngle"in n,rz=(n,e)=>{if(!n||typeof n=="function"||typeof n=="boolean")return null;var t=n;if(C.isValidElement(n)&&(t=n.props),typeof t!="object"&&typeof t!="function")return null;var i={};return Object.keys(t).forEach(r=>{yb(r)&&(i[r]=(s=>t[r](t,s)))}),i},az=(n,e,t)=>i=>(n(e,t,i),null),hu=(n,e,t)=>{if(n===null||typeof n!="object"&&typeof n!="function")return null;var i=null;return Object.keys(n).forEach(r=>{var s=n[r];yb(r)&&typeof s=="function"&&(i||(i={}),i[r]=az(s,e,t))}),i};function cC(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function sz(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?cC(Object(t),!0).forEach(function(i){oz(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):cC(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function oz(n,e,t){return(e=lz(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function lz(n){var e=cz(n,"string");return typeof e=="symbol"?e:e+""}function cz(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function An(n,e){var t=sz({},n),i=e,r=Object.keys(e),s=r.reduce((l,c)=>(l[c]===void 0&&i[c]!==void 0&&(l[c]=i[c]),l),t);return s}function Bf(){return Bf=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Bf.apply(null,arguments)}function uC(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function uz(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?uC(Object(t),!0).forEach(function(i){dz(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):uC(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function dz(n,e,t){return(e=fz(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function fz(n){var e=hz(n,"string");return typeof e=="symbol"?e:e+""}function hz(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Ti=32,pz={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function mz(n){var{data:e,iconType:t,inactiveColor:i}=n,r=Ti/2,s=Ti/6,l=Ti/3,c=e.inactive?i:e.color,d=t??e.type;if(d==="none")return null;if(d==="plainline"){var f;return C.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:(f=e.payload)===null||f===void 0?void 0:f.strokeDasharray,x1:0,y1:r,x2:Ti,y2:r,className:"recharts-legend-icon"})}if(d==="line")return C.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(r,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(r,`
            H`).concat(Ti,"M").concat(2*l,",").concat(r,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(r),className:"recharts-legend-icon"});if(d==="rect")return C.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Ti/8,"h").concat(Ti,"v").concat(Ti*3/4,"h").concat(-Ti,"z"),className:"recharts-legend-icon"});if(C.isValidElement(e.legendIcon)){var h=uz({},e);return delete h.legendIcon,C.cloneElement(e.legendIcon,h)}return C.createElement(Tb,{fill:c,cx:r,cy:r,size:Ti,sizeType:"diameter",type:d})}function gz(n){var{payload:e,iconSize:t,layout:i,formatter:r,inactiveColor:s,iconType:l}=n,c={x:0,y:0,width:Ti,height:Ti},d={display:i==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((h,p)=>{var g=h.formatter||r,y=et({"recharts-legend-item":!0,["legend-item-".concat(p)]:!0,inactive:h.inactive});if(h.type==="none")return null;var S=h.inactive?s:h.color,A=g?g(h.value,h,p):h.value;return C.createElement("li",Bf({className:y,style:d,key:"legend-item-".concat(p)},hu(n,h,p)),C.createElement(bb,{width:t,height:t,viewBox:c,style:f,"aria-label":"".concat(A," legend icon")},C.createElement(mz,{data:h,iconType:l,inactiveColor:s})),C.createElement("span",{className:"recharts-legend-item-text",style:{color:S}},A))})}var vz=n=>{var e=An(n,pz),{payload:t,layout:i,align:r}=e;if(!t||!t.length)return null;var s={padding:0,margin:0,textAlign:i==="horizontal"?r:"left"};return C.createElement("ul",{className:"recharts-default-legend",style:s},C.createElement(gz,Bf({},e,{payload:t})))},vv={},yv={},dC;function yz(){return dC||(dC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t,i){const r=new Map;for(let s=0;s<t.length;s++){const l=t[s],c=i(l,s,t);r.has(c)||r.set(c,l)}return Array.from(r.values())}n.uniqBy=e})(yv)),yv}var bv={},fC;function bz(){return fC||(fC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t,i){return function(...r){return t.apply(this,r.slice(0,i))}}n.ary=e})(bv)),bv}var Av={},hC;function Q_(){return hC||(hC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t}n.identity=e})(Av)),Av}var Sv={},xv={},Ev={},pC;function Az(){return pC||(pC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return Number.isSafeInteger(t)&&t>=0}n.isLength=e})(Ev)),Ev}var mC;function Mb(){return mC||(mC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=Az();function t(i){return i!=null&&typeof i!="function"&&e.isLength(i.length)}n.isArrayLike=t})(xv)),xv}var wv={},gC;function Sz(){return gC||(gC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return typeof t=="object"&&t!==null}n.isObjectLike=e})(wv)),wv}var vC;function xz(){return vC||(vC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=Mb(),t=Sz();function i(r){return t.isObjectLike(r)&&e.isArrayLike(r)}n.isArrayLikeObject=i})(Sv)),Sv}var Cv={},Ov={},yC;function Ez(){return yC||(yC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=Ob();function t(i){return function(r){return e.get(r,i)}}n.property=t})(Ov)),Ov}var Tv={},Mv={},_v={},Pv={},bC;function J_(){return bC||(bC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t!==null&&(typeof t=="object"||typeof t=="function")}n.isObject=e})(Pv)),Pv}var Dv={},AC;function eP(){return AC||(AC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t==null||typeof t!="object"&&typeof t!="function"}n.isPrimitive=e})(Dv)),Dv}var Lv={},SC;function tP(){return SC||(SC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t,i){return t===i||Number.isNaN(t)&&Number.isNaN(i)}n.isEqualsSameValueZero=e})(Lv)),Lv}var xC;function wz(){return xC||(xC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=J_(),t=eP(),i=tP();function r(h,p,g){return typeof g!="function"?r(h,p,()=>{}):s(h,p,function y(S,A,x,E,O,T){const P=g(S,A,x,E,O,T);return P!==void 0?!!P:s(S,A,y,T)},new Map)}function s(h,p,g,y){if(p===h)return!0;switch(typeof p){case"object":return l(h,p,g,y);case"function":return Object.keys(p).length>0?s(h,{...p},g,y):i.isEqualsSameValueZero(h,p);default:return e.isObject(h)?typeof p=="string"?p==="":!0:i.isEqualsSameValueZero(h,p)}}function l(h,p,g,y){if(p==null)return!0;if(Array.isArray(p))return d(h,p,g,y);if(p instanceof Map)return c(h,p,g,y);if(p instanceof Set)return f(h,p,g,y);const S=Object.keys(p);if(h==null||t.isPrimitive(h))return S.length===0;if(S.length===0)return!0;if(y?.has(p))return y.get(p)===h;y?.set(p,h);try{for(let A=0;A<S.length;A++){const x=S[A];if(!t.isPrimitive(h)&&!(x in h)||p[x]===void 0&&h[x]!==void 0||p[x]===null&&h[x]!==null||!g(h[x],p[x],x,h,p,y))return!1}return!0}finally{y?.delete(p)}}function c(h,p,g,y){if(p.size===0)return!0;if(!(h instanceof Map))return!1;for(const[S,A]of p.entries()){const x=h.get(S);if(g(x,A,S,h,p,y)===!1)return!1}return!0}function d(h,p,g,y){if(p.length===0)return!0;if(!Array.isArray(h))return!1;const S=new Set;for(let A=0;A<p.length;A++){const x=p[A];let E=!1;for(let O=0;O<h.length;O++){if(S.has(O))continue;const T=h[O];let P=!1;if(g(T,x,A,h,p,y)&&(P=!0),P){S.add(O),E=!0;break}}if(!E)return!1}return!0}function f(h,p,g,y){return p.size===0?!0:h instanceof Set?d([...h],[...p],g,y):!1}n.isMatchWith=r,n.isSetMatch=f})(_v)),_v}var EC;function nP(){return EC||(EC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=wz();function t(i,r){return e.isMatchWith(i,r,()=>{})}n.isMatch=t})(Mv)),Mv}var Nv={},Rv={},Iv={},wC;function Cz(){return wC||(wC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return Object.getOwnPropertySymbols(t).filter(i=>Object.prototype.propertyIsEnumerable.call(t,i))}n.getSymbols=e})(Iv)),Iv}var kv={},CC;function _b(){return CC||(CC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}n.getTag=e})(kv)),kv}var jv={},OC;function iP(){return OC||(OC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",t="[object String]",i="[object Number]",r="[object Boolean]",s="[object Arguments]",l="[object Symbol]",c="[object Date]",d="[object Map]",f="[object Set]",h="[object Array]",p="[object Function]",g="[object ArrayBuffer]",y="[object Object]",S="[object Error]",A="[object DataView]",x="[object Uint8Array]",E="[object Uint8ClampedArray]",O="[object Uint16Array]",T="[object Uint32Array]",P="[object BigUint64Array]",M="[object Int8Array]",_="[object Int16Array]",N="[object Int32Array]",j="[object BigInt64Array]",F="[object Float32Array]",X="[object Float64Array]";n.argumentsTag=s,n.arrayBufferTag=g,n.arrayTag=h,n.bigInt64ArrayTag=j,n.bigUint64ArrayTag=P,n.booleanTag=r,n.dataViewTag=A,n.dateTag=c,n.errorTag=S,n.float32ArrayTag=F,n.float64ArrayTag=X,n.functionTag=p,n.int16ArrayTag=_,n.int32ArrayTag=N,n.int8ArrayTag=M,n.mapTag=d,n.numberTag=i,n.objectTag=y,n.regexpTag=e,n.setTag=f,n.stringTag=t,n.symbolTag=l,n.uint16ArrayTag=O,n.uint32ArrayTag=T,n.uint8ArrayTag=x,n.uint8ClampedArrayTag=E})(jv)),jv}var Bv={},TC;function Oz(){return TC||(TC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}n.isTypedArray=e})(Bv)),Bv}var MC;function rP(){return MC||(MC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=Cz(),t=_b(),i=iP(),r=eP(),s=Oz();function l(h,p){return c(h,void 0,h,new Map,p)}function c(h,p,g,y=new Map,S=void 0){const A=S?.(h,p,g,y);if(A!==void 0)return A;if(r.isPrimitive(h))return h;if(y.has(h))return y.get(h);if(Array.isArray(h)){const x=new Array(h.length);y.set(h,x);for(let E=0;E<h.length;E++)x[E]=c(h[E],E,g,y,S);return Object.hasOwn(h,"index")&&(x.index=h.index),Object.hasOwn(h,"input")&&(x.input=h.input),x}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const x=new RegExp(h.source,h.flags);return x.lastIndex=h.lastIndex,x}if(h instanceof Map){const x=new Map;y.set(h,x);for(const[E,O]of h)x.set(E,c(O,E,g,y,S));return x}if(h instanceof Set){const x=new Set;y.set(h,x);for(const E of h)x.add(c(E,void 0,g,y,S));return x}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(s.isTypedArray(h)){const x=new(Object.getPrototypeOf(h)).constructor(h.length);y.set(h,x);for(let E=0;E<h.length;E++)x[E]=c(h[E],E,g,y,S);return x}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const x=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return y.set(h,x),d(x,h,g,y,S),x}if(typeof File<"u"&&h instanceof File){const x=new File([h],h.name,{type:h.type});return y.set(h,x),d(x,h,g,y,S),x}if(typeof Blob<"u"&&h instanceof Blob){const x=new Blob([h],{type:h.type});return y.set(h,x),d(x,h,g,y,S),x}if(h instanceof Error){const x=new h.constructor;return y.set(h,x),x.message=h.message,x.name=h.name,x.stack=h.stack,x.cause=h.cause,d(x,h,g,y,S),x}if(h instanceof Boolean){const x=new Boolean(h.valueOf());return y.set(h,x),d(x,h,g,y,S),x}if(h instanceof Number){const x=new Number(h.valueOf());return y.set(h,x),d(x,h,g,y,S),x}if(h instanceof String){const x=new String(h.valueOf());return y.set(h,x),d(x,h,g,y,S),x}if(typeof h=="object"&&f(h)){const x=Object.create(Object.getPrototypeOf(h));return y.set(h,x),d(x,h,g,y,S),x}return h}function d(h,p,g=h,y,S){const A=[...Object.keys(p),...e.getSymbols(p)];for(let x=0;x<A.length;x++){const E=A[x],O=Object.getOwnPropertyDescriptor(h,E);(O==null||O.writable)&&(h[E]=c(p[E],E,g,y,S))}}function f(h){switch(t.getTag(h)){case i.argumentsTag:case i.arrayTag:case i.arrayBufferTag:case i.dataViewTag:case i.booleanTag:case i.dateTag:case i.float32ArrayTag:case i.float64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.mapTag:case i.numberTag:case i.objectTag:case i.regexpTag:case i.setTag:case i.stringTag:case i.symbolTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:return!0;default:return!1}}n.cloneDeepWith=l,n.cloneDeepWithImpl=c,n.copyProperties=d})(Rv)),Rv}var _C;function Tz(){return _C||(_C=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=rP();function t(i){return e.cloneDeepWithImpl(i,void 0,i,new Map,void 0)}n.cloneDeep=t})(Nv)),Nv}var PC;function Mz(){return PC||(PC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=nP(),t=Tz();function i(r){return r=t.cloneDeep(r),s=>e.isMatch(s,r)}n.matches=i})(Tv)),Tv}var zv={},Fv={},Uv={},DC;function _z(){return DC||(DC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=rP(),t=_b(),i=iP();function r(s,l){return e.cloneDeepWith(s,(c,d,f,h)=>{const p=l?.(c,d,f,h);if(p!==void 0)return p;if(typeof s=="object"){if(t.getTag(s)===i.objectTag&&typeof s.constructor!="function"){const g={};return h.set(s,g),e.copyProperties(g,s,f,h),g}switch(Object.prototype.toString.call(s)){case i.numberTag:case i.stringTag:case i.booleanTag:{const g=new s.constructor(s?.valueOf());return e.copyProperties(g,s),g}case i.argumentsTag:{const g={};return e.copyProperties(g,s),g.length=s.length,g[Symbol.iterator]=s[Symbol.iterator],g}default:return}}})}n.cloneDeepWith=r})(Uv)),Uv}var LC;function Pz(){return LC||(LC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=_z();function t(i){return e.cloneDeepWith(i)}n.cloneDeep=t})(Fv)),Fv}var Hv={},$v={},NC;function aP(){return NC||(NC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function t(i,r=Number.MAX_SAFE_INTEGER){switch(typeof i){case"number":return Number.isInteger(i)&&i>=0&&i<r;case"symbol":return!1;case"string":return e.test(i)}}n.isIndex=t})($v)),$v}var qv={},RC;function Dz(){return RC||(RC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=_b();function t(i){return i!==null&&typeof i=="object"&&e.getTag(i)==="[object Arguments]"}n.isArguments=t})(qv)),qv}var IC;function Lz(){return IC||(IC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=X_(),t=aP(),i=Dz(),r=Cb();function s(l,c){let d;if(Array.isArray(c)?d=c:typeof c=="string"&&e.isDeepKey(c)&&l?.[c]==null?d=r.toPath(c):d=[c],d.length===0)return!1;let f=l;for(let h=0;h<d.length;h++){const p=d[h];if((f==null||!Object.hasOwn(f,p))&&!((Array.isArray(f)||i.isArguments(f))&&t.isIndex(p)&&p<f.length))return!1;f=f[p]}return!0}n.has=s})(Hv)),Hv}var kC;function Nz(){return kC||(kC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=nP(),t=wb(),i=Pz(),r=Ob(),s=Lz();function l(c,d){switch(typeof c){case"object":{Object.is(c?.valueOf(),-0)&&(c="-0");break}case"number":{c=t.toKey(c);break}}return d=i.cloneDeep(d),function(f){const h=r.get(f,c);return h===void 0?s.has(f,c):d===void 0?h===void 0:e.isMatch(h,d)}}n.matchesProperty=l})(zv)),zv}var jC;function Rz(){return jC||(jC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=Q_(),t=Ez(),i=Mz(),r=Nz();function s(l){if(l==null)return e.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?r.matchesProperty(l[0],l[1]):i.matches(l);case"string":case"symbol":case"number":return t.property(l)}}n.iteratee=s})(Cv)),Cv}var BC;function Iz(){return BC||(BC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=yz(),t=bz(),i=Q_(),r=xz(),s=Rz();function l(c,d=i.identity){return r.isArrayLikeObject(c)?e.uniqBy(Array.from(c),t.ary(s.iteratee(d),1)):[]}n.uniqBy=l})(vv)),vv}var Gv,zC;function kz(){return zC||(zC=1,Gv=Iz().uniqBy),Gv}var jz=kz();const FC=Qr(jz);function sP(n,e,t){return e===!0?FC(n,t):typeof e=="function"?FC(n,e):n}var Vv={exports:{}},Yv={},Xv={exports:{}},Kv={};var UC;function Bz(){if(UC)return Kv;UC=1;var n=ul();function e(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var t=typeof Object.is=="function"?Object.is:e,i=n.useState,r=n.useEffect,s=n.useLayoutEffect,l=n.useDebugValue;function c(p,g){var y=g(),S=i({inst:{value:y,getSnapshot:g}}),A=S[0].inst,x=S[1];return s(function(){A.value=y,A.getSnapshot=g,d(A)&&x({inst:A})},[p,y,g]),r(function(){return d(A)&&x({inst:A}),p(function(){d(A)&&x({inst:A})})},[p]),l(y),y}function d(p){var g=p.getSnapshot;p=p.value;try{var y=g();return!t(p,y)}catch{return!0}}function f(p,g){return g()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return Kv.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:h,Kv}var HC;function zz(){return HC||(HC=1,Xv.exports=Bz()),Xv.exports}var $C;function Fz(){if($C)return Yv;$C=1;var n=ul(),e=zz();function t(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var i=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,s=n.useRef,l=n.useEffect,c=n.useMemo,d=n.useDebugValue;return Yv.useSyncExternalStoreWithSelector=function(f,h,p,g,y){var S=s(null);if(S.current===null){var A={hasValue:!1,value:null};S.current=A}else A=S.current;S=c(function(){function E(_){if(!O){if(O=!0,T=_,_=g(_),y!==void 0&&A.hasValue){var N=A.value;if(y(N,_))return P=N}return P=_}if(N=P,i(T,_))return N;var j=g(_);return y!==void 0&&y(N,j)?(T=_,N):(T=_,P=j)}var O=!1,T,P,M=p===void 0?null:p;return[function(){return E(h())},M===null?void 0:function(){return E(M())}]},[h,p,g,y]);var x=r(f,S[0],S[1]);return l(function(){A.hasValue=!0,A.value=x},[x]),d(x),x},Yv}var qC;function Uz(){return qC||(qC=1,Vv.exports=Fz()),Vv.exports}var Hz=Uz(),Pb=C.createContext(null),$z=n=>n,ct=()=>{var n=C.useContext(Pb);return n?n.store.dispatch:$z},wf=()=>{},qz=()=>wf,Gz=(n,e)=>n===e;function ye(n){var e=C.useContext(Pb),t=C.useMemo(()=>e?i=>{if(i!=null)return n(i)}:wf,[e,n]);return Hz.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:qz,e?e.store.getState:wf,e?e.store.getState:wf,t,Gz)}function Vz(n,e=`expected a function, instead received ${typeof n}`){if(typeof n!="function")throw new TypeError(e)}function Yz(n,e=`expected an object, instead received ${typeof n}`){if(typeof n!="object")throw new TypeError(e)}function Xz(n,e="expected all items to be functions, instead received the following types: "){if(!n.every(t=>typeof t=="function")){const t=n.map(i=>typeof i=="function"?`function ${i.name||"unnamed"}()`:typeof i).join(", ");throw new TypeError(`${e}[${t}]`)}}var GC=n=>Array.isArray(n)?n:[n];function Kz(n){const e=Array.isArray(n[0])?n[0]:n;return Xz(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function Wz(n,e){const t=[],{length:i}=n;for(let r=0;r<i;r++)t.push(n[r].apply(null,e));return t}var Zz=class{constructor(n){this.value=n}deref(){return this.value}},Qz=typeof WeakRef<"u"?WeakRef:Zz,Jz=0,VC=1;function af(){return{s:Jz,v:void 0,o:null,p:null}}function oP(n,e={}){let t=af();const{resultEqualityCheck:i}=e;let r,s=0;function l(){let c=t;const{length:d}=arguments;for(let p=0,g=d;p<g;p++){const y=arguments[p];if(typeof y=="function"||typeof y=="object"&&y!==null){let S=c.o;S===null&&(c.o=S=new WeakMap);const A=S.get(y);A===void 0?(c=af(),S.set(y,c)):c=A}else{let S=c.p;S===null&&(c.p=S=new Map);const A=S.get(y);A===void 0?(c=af(),S.set(y,c)):c=A}}const f=c;let h;if(c.s===VC)h=c.v;else if(h=n.apply(null,arguments),s++,i){const p=r?.deref?.()??r;p!=null&&i(p,h)&&(h=p,s!==0&&s--),r=typeof h=="object"&&h!==null||typeof h=="function"?new Qz(h):h}return f.s=VC,f.v=h,h}return l.clearCache=()=>{t=af(),l.resetResultsCount()},l.resultsCount=()=>s,l.resetResultsCount=()=>{s=0},l}function e4(n,...e){const t=typeof n=="function"?{memoize:n,memoizeOptions:e}:n,i=(...r)=>{let s=0,l=0,c,d={},f=r.pop();typeof f=="object"&&(d=f,f=r.pop()),Vz(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const h={...t,...d},{memoize:p,memoizeOptions:g=[],argsMemoize:y=oP,argsMemoizeOptions:S=[]}=h,A=GC(g),x=GC(S),E=Kz(r),O=p(function(){return s++,f.apply(null,arguments)},...A),T=y(function(){l++;const M=Wz(E,arguments);return c=O.apply(null,M),c},...x);return Object.assign(T,{resultFunc:f,memoizedResultFunc:O,dependencies:E,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>c,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:p,argsMemoize:y})};return Object.assign(i,{withTypes:()=>i}),i}var Y=e4(oP),t4=Object.assign((n,e=Y)=>{Yz(n,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof n}`);const t=Object.keys(n),i=t.map(s=>n[s]);return e(i,(...s)=>s.reduce((l,c,d)=>(l[t[d]]=c,l),{}))},{withTypes:()=>t4}),Wv={},Zv={},Qv={},YC;function n4(){return YC||(YC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(i){return typeof i=="symbol"?1:i===null?2:i===void 0?3:i!==i?4:0}const t=(i,r,s)=>{if(i!==r){const l=e(i),c=e(r);if(l===c&&l===0){if(i<r)return s==="desc"?1:-1;if(i>r)return s==="desc"?-1:1}return s==="desc"?c-l:l-c}return 0};n.compareValues=t})(Qv)),Qv}var Jv={},ey={},XC;function lP(){return XC||(XC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return typeof t=="symbol"||t instanceof Symbol}n.isSymbol=e})(ey)),ey}var KC;function i4(){return KC||(KC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=lP(),t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;function r(s,l){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(i.test(s)||!t.test(s))||l!=null&&Object.hasOwn(l,s)}n.isKey=r})(Jv)),Jv}var WC;function r4(){return WC||(WC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=n4(),t=i4(),i=Cb();function r(s,l,c,d){if(s==null)return[];c=d?void 0:c,Array.isArray(s)||(s=Object.values(s)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(y=>String(y));const f=(y,S)=>{let A=y;for(let x=0;x<S.length&&A!=null;++x)A=A[S[x]];return A},h=(y,S)=>S==null||y==null?S:typeof y=="object"&&"key"in y?Object.hasOwn(S,y.key)?S[y.key]:f(S,y.path):typeof y=="function"?y(S):Array.isArray(y)?f(S,y):typeof S=="object"?S[y]:S,p=l.map(y=>(Array.isArray(y)&&y.length===1&&(y=y[0]),y==null||typeof y=="function"||Array.isArray(y)||t.isKey(y)?y:{key:y,path:i.toPath(y)}));return s.map(y=>({original:y,criteria:p.map(S=>h(S,y))})).slice().sort((y,S)=>{for(let A=0;A<p.length;A++){const x=e.compareValues(y.criteria[A],S.criteria[A],c[A]);if(x!==0)return x}return 0}).map(y=>y.original)}n.orderBy=r})(Zv)),Zv}var ty={},ZC;function a4(){return ZC||(ZC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t,i=1){const r=[],s=Math.floor(i),l=(c,d)=>{for(let f=0;f<c.length;f++){const h=c[f];Array.isArray(h)&&d<s?l(h,d+1):r.push(h)}};return l(t,0),r}n.flatten=e})(ty)),ty}var ny={},QC;function cP(){return QC||(QC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=aP(),t=Mb(),i=J_(),r=tP();function s(l,c,d){return i.isObject(d)&&(typeof c=="number"&&t.isArrayLike(d)&&e.isIndex(c)&&c<d.length||typeof c=="string"&&c in d)?r.isEqualsSameValueZero(d[c],l):!1}n.isIterateeCall=s})(ny)),ny}var JC;function s4(){return JC||(JC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=r4(),t=a4(),i=cP();function r(s,...l){const c=l.length;return c>1&&i.isIterateeCall(s,l[0],l[1])?l=[]:c>2&&i.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),e.orderBy(s,t.flatten(l),["asc"])}n.sortBy=r})(Wv)),Wv}var iy,eO;function o4(){return eO||(eO=1,iy=s4().sortBy),iy}var l4=o4();const Hh=Qr(l4);var uP=n=>n.legend.settings,c4=n=>n.legend.size,u4=n=>n.legend.payload,d4=Y([u4,uP],(n,e)=>{var{itemSorter:t}=e,i=n.flat(1);return t?Hh(i,t):i});function f4(){return ye(d4)}var sf=1;function dP(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,t]=C.useState({height:0,left:0,top:0,width:0}),i=C.useCallback(r=>{if(r!=null){var s=r.getBoundingClientRect(),l={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(l.height-e.height)>sf||Math.abs(l.left-e.left)>sf||Math.abs(l.top-e.top)>sf||Math.abs(l.width-e.width)>sf)&&t({height:l.height,left:l.left,top:l.top,width:l.width})}},[e.width,e.height,e.top,e.left,...n]);return[e,i]}function mn(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var h4=typeof Symbol=="function"&&Symbol.observable||"@@observable",tO=h4,ry=()=>Math.random().toString(36).substring(7).split("").join("."),p4={INIT:`@@redux/INIT${ry()}`,REPLACE:`@@redux/REPLACE${ry()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${ry()}`},zf=p4;function Db(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function fP(n,e,t){if(typeof n!="function")throw new Error(mn(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(mn(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(mn(1));return t(fP)(n,e)}let i=n,r=e,s=new Map,l=s,c=0,d=!1;function f(){l===s&&(l=new Map,s.forEach((x,E)=>{l.set(E,x)}))}function h(){if(d)throw new Error(mn(3));return r}function p(x){if(typeof x!="function")throw new Error(mn(4));if(d)throw new Error(mn(5));let E=!0;f();const O=c++;return l.set(O,x),function(){if(E){if(d)throw new Error(mn(6));E=!1,f(),l.delete(O),s=null}}}function g(x){if(!Db(x))throw new Error(mn(7));if(typeof x.type>"u")throw new Error(mn(8));if(typeof x.type!="string")throw new Error(mn(17));if(d)throw new Error(mn(9));try{d=!0,r=i(r,x)}finally{d=!1}return(s=l).forEach(O=>{O()}),x}function y(x){if(typeof x!="function")throw new Error(mn(10));i=x,g({type:zf.REPLACE})}function S(){const x=p;return{subscribe(E){if(typeof E!="object"||E===null)throw new Error(mn(11));function O(){const P=E;P.next&&P.next(h())}return O(),{unsubscribe:x(O)}},[tO](){return this}}}return g({type:zf.INIT}),{dispatch:g,subscribe:p,getState:h,replaceReducer:y,[tO]:S}}function m4(n){Object.keys(n).forEach(e=>{const t=n[e];if(typeof t(void 0,{type:zf.INIT})>"u")throw new Error(mn(12));if(typeof t(void 0,{type:zf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(mn(13))})}function hP(n){const e=Object.keys(n),t={};for(let s=0;s<e.length;s++){const l=e[s];typeof n[l]=="function"&&(t[l]=n[l])}const i=Object.keys(t);let r;try{m4(t)}catch(s){r=s}return function(l={},c){if(r)throw r;let d=!1;const f={};for(let h=0;h<i.length;h++){const p=i[h],g=t[p],y=l[p],S=g(y,c);if(typeof S>"u")throw c&&c.type,new Error(mn(14));f[p]=S,d=d||S!==y}return d=d||i.length!==Object.keys(l).length,d?f:l}}function Ff(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...i)=>e(t(...i)))}function g4(...n){return e=>(t,i)=>{const r=e(t,i);let s=()=>{throw new Error(mn(15))};const l={getState:r.getState,dispatch:(d,...f)=>s(d,...f)},c=n.map(d=>d(l));return s=Ff(...c)(r.dispatch),{...r,dispatch:s}}}function pP(n){return Db(n)&&"type"in n&&typeof n.type=="string"}var mP=Symbol.for("immer-nothing"),nO=Symbol.for("immer-draftable"),Ln=Symbol.for("immer-state");function zi(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var oi=Object,nl=oi.getPrototypeOf,Uf="constructor",$h="prototype",l0="configurable",Hf="enumerable",Cf="writable",Yc="value",Gr=n=>!!n&&!!n[Ln];function $i(n){return n?gP(n)||Gh(n)||!!n[nO]||!!n[Uf]?.[nO]||Vh(n)||Yh(n):!1}var v4=oi[$h][Uf].toString(),iO=new WeakMap;function gP(n){if(!n||!Lb(n))return!1;const e=nl(n);if(e===null||e===oi[$h])return!0;const t=oi.hasOwnProperty.call(e,Uf)&&e[Uf];if(t===Object)return!0;if(!Ho(t))return!1;let i=iO.get(t);return i===void 0&&(i=Function.toString.call(t),iO.set(t,i)),i===v4}function qh(n,e,t=!0){pu(n)===0?(t?Reflect.ownKeys(n):oi.keys(n)).forEach(r=>{e(r,n[r],n)}):n.forEach((i,r)=>e(r,i,n))}function pu(n){const e=n[Ln];return e?e.type_:Gh(n)?1:Vh(n)?2:Yh(n)?3:0}var rO=(n,e,t=pu(n))=>t===2?n.has(e):oi[$h].hasOwnProperty.call(n,e),c0=(n,e,t=pu(n))=>t===2?n.get(e):n[e],$f=(n,e,t,i=pu(n))=>{i===2?n.set(e,t):i===3?n.add(t):n[e]=t};function y4(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}var Gh=Array.isArray,Vh=n=>n instanceof Map,Yh=n=>n instanceof Set,Lb=n=>typeof n=="object",Ho=n=>typeof n=="function",ay=n=>typeof n=="boolean";function b4(n){const e=+n;return Number.isInteger(e)&&String(e)===n}var Br=n=>n.copy_||n.base_,Nb=n=>n.modified_?n.copy_:n.base_;function u0(n,e){if(Vh(n))return new Map(n);if(Yh(n))return new Set(n);if(Gh(n))return Array[$h].slice.call(n);const t=gP(n);if(e===!0||e==="class_only"&&!t){const i=oi.getOwnPropertyDescriptors(n);delete i[Ln];let r=Reflect.ownKeys(i);for(let s=0;s<r.length;s++){const l=r[s],c=i[l];c[Cf]===!1&&(c[Cf]=!0,c[l0]=!0),(c.get||c.set)&&(i[l]={[l0]:!0,[Cf]:!0,[Hf]:c[Hf],[Yc]:n[l]})}return oi.create(nl(n),i)}else{const i=nl(n);if(i!==null&&t)return{...n};const r=oi.create(i);return oi.assign(r,n)}}function Rb(n,e=!1){return Xh(n)||Gr(n)||!$i(n)||(pu(n)>1&&oi.defineProperties(n,{set:of,add:of,clear:of,delete:of}),oi.freeze(n),e&&qh(n,(t,i)=>{Rb(i,!0)},!1)),n}function A4(){zi(2)}var of={[Yc]:A4};function Xh(n){return n===null||!Lb(n)?!0:oi.isFrozen(n)}var qf="MapSet",d0="Patches",aO="ArrayMethods",vP={};function Is(n){const e=vP[n];return e||zi(0,n),e}var sO=n=>!!vP[n],Xc,yP=()=>Xc,S4=(n,e)=>({drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:sO(qf)?Is(qf):void 0,arrayMethodsPlugin_:sO(aO)?Is(aO):void 0});function oO(n,e){e&&(n.patchPlugin_=Is(d0),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function f0(n){h0(n),n.drafts_.forEach(x4),n.drafts_=null}function h0(n){n===Xc&&(Xc=n.parent_)}var lO=n=>Xc=S4(Xc,n);function x4(n){const e=n[Ln];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function cO(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];if(n!==void 0&&n!==t){t[Ln].modified_&&(f0(e),zi(4)),$i(n)&&(n=uO(e,n));const{patchPlugin_:r}=e;r&&r.generateReplacementPatches_(t[Ln].base_,n,e)}else n=uO(e,t);return E4(e,n,!0),f0(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==mP?n:void 0}function uO(n,e){if(Xh(e))return e;const t=e[Ln];if(!t)return Gf(e,n.handledSet_,n);if(!Kh(t,n))return e;if(!t.modified_)return t.base_;if(!t.finalized_){const{callbacks_:i}=t;if(i)for(;i.length>0;)i.pop()(n);SP(t,n)}return t.copy_}function E4(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&Rb(e,t)}function bP(n){n.finalized_=!0,n.scope_.unfinalizedDrafts_--}var Kh=(n,e)=>n.scope_===e,w4=[];function AP(n,e,t,i){const r=Br(n),s=n.type_;if(i!==void 0&&c0(r,i,s)===e){$f(r,i,t,s);return}if(!n.draftLocations_){const c=n.draftLocations_=new Map;qh(r,(d,f)=>{if(Gr(f)){const h=c.get(f)||[];h.push(d),c.set(f,h)}})}const l=n.draftLocations_.get(e)??w4;for(const c of l)$f(r,c,t,s)}function C4(n,e,t){n.callbacks_.push(function(r){const s=e;if(!s||!Kh(s,r))return;r.mapSetPlugin_?.fixSetContents(s);const l=Nb(s);AP(n,s.draft_??s,l,t),SP(s,r)})}function SP(n,e){if(n.modified_&&!n.finalized_&&(n.type_===3||n.type_===1&&n.allIndicesReassigned_||(n.assigned_?.size??0)>0)){const{patchPlugin_:i}=e;if(i){const r=i.getPath(n);r&&i.generatePatches_(n,r,e)}bP(n)}}function O4(n,e,t){const{scope_:i}=n;if(Gr(t)){const r=t[Ln];Kh(r,i)&&r.callbacks_.push(function(){Of(n);const l=Nb(r);AP(n,t,l,e)})}else $i(t)&&n.callbacks_.push(function(){const s=Br(n);n.type_===3?s.has(t)&&Gf(t,i.handledSet_,i):c0(s,e,n.type_)===t&&i.drafts_.length>1&&(n.assigned_.get(e)??!1)===!0&&n.copy_&&Gf(c0(n.copy_,e,n.type_),i.handledSet_,i)})}function Gf(n,e,t){return!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||Gr(n)||e.has(n)||!$i(n)||Xh(n)||(e.add(n),qh(n,(i,r)=>{if(Gr(r)){const s=r[Ln];if(Kh(s,t)){const l=Nb(s);$f(n,i,l,n.type_),bP(s)}}else $i(r)&&Gf(r,e,t)})),n}function T4(n,e){const t=Gh(n),i={type_:t?1:0,scope_:e?e.scope_:yP(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let r=i,s=Vf;t&&(r=[i],s=Kc);const{revoke:l,proxy:c}=Proxy.revocable(r,s);return i.draft_=c,i.revoke_=l,[c,i]}var Vf={get(n,e){if(e===Ln)return n;let t=n.scope_.arrayMethodsPlugin_;const i=n.type_===1&&typeof e=="string";if(i&&t?.isArrayOperationMethod(e))return t.createMethodInterceptor(n,e);const r=Br(n);if(!rO(r,e,n.type_))return M4(n,r,e);const s=r[e];if(n.finalized_||!$i(s)||i&&n.operationMethod&&t?.isMutatingArrayMethod(n.operationMethod)&&b4(e))return s;if(s===sy(n.base_,e)){Of(n);const l=n.type_===1?+e:e,c=m0(n.scope_,s,n,l);return n.copy_[l]=c}return s},has(n,e){return e in Br(n)},ownKeys(n){return Reflect.ownKeys(Br(n))},set(n,e,t){const i=xP(Br(n),e);if(i?.set)return i.set.call(n.draft_,t),!0;if(!n.modified_){const r=sy(Br(n),e),s=r?.[Ln];if(s&&s.base_===t)return n.copy_[e]=t,n.assigned_.set(e,!1),!0;if(y4(t,r)&&(t!==void 0||rO(n.base_,e,n.type_)))return!0;Of(n),p0(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_.set(e,!0),O4(n,e,t)),!0},deleteProperty(n,e){return Of(n),sy(n.base_,e)!==void 0||e in n.base_?(n.assigned_.set(e,!1),p0(n)):n.assigned_.delete(e),n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=Br(n),i=Reflect.getOwnPropertyDescriptor(t,e);return i&&{[Cf]:!0,[l0]:n.type_!==1||e!=="length",[Hf]:i[Hf],[Yc]:t[e]}},defineProperty(){zi(11)},getPrototypeOf(n){return nl(n.base_)},setPrototypeOf(){zi(12)}},Kc={};for(let n in Vf){let e=Vf[n];Kc[n]=function(){const t=arguments;return t[0]=t[0][0],e.apply(this,t)}}Kc.deleteProperty=function(n,e){return Kc.set.call(this,n,e,void 0)};Kc.set=function(n,e,t){return Vf.set.call(this,n[0],e,t,n[0])};function sy(n,e){const t=n[Ln];return(t?Br(t):n)[e]}function M4(n,e,t){const i=xP(e,t);return i?Yc in i?i[Yc]:i.get?.call(n.draft_):void 0}function xP(n,e){if(!(e in n))return;let t=nl(n);for(;t;){const i=Object.getOwnPropertyDescriptor(t,e);if(i)return i;t=nl(t)}}function p0(n){n.modified_||(n.modified_=!0,n.parent_&&p0(n.parent_))}function Of(n){n.copy_||(n.assigned_=new Map,n.copy_=u0(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var _4=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(t,i,r)=>{if(Ho(t)&&!Ho(i)){const l=i;i=t;const c=this;return function(f=l,...h){return c.produce(f,p=>i.call(this,p,...h))}}Ho(i)||zi(6),r!==void 0&&!Ho(r)&&zi(7);let s;if($i(t)){const l=lO(this),c=m0(l,t,void 0);let d=!0;try{s=i(c),d=!1}finally{d?f0(l):h0(l)}return oO(l,r),cO(s,l)}else if(!t||!Lb(t)){if(s=i(t),s===void 0&&(s=t),s===mP&&(s=void 0),this.autoFreeze_&&Rb(s,!0),r){const l=[],c=[];Is(d0).generateReplacementPatches_(t,s,{patches_:l,inversePatches_:c}),r(l,c)}return s}else zi(1,t)},this.produceWithPatches=(t,i)=>{if(Ho(t))return(c,...d)=>this.produceWithPatches(c,f=>t(f,...d));let r,s;return[this.produce(t,i,(c,d)=>{r=c,s=d}),r,s]},ay(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),ay(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),ay(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){$i(e)||zi(8),Gr(e)&&(e=Hi(e));const t=lO(this),i=m0(t,e,void 0);return i[Ln].isManual_=!0,h0(t),i}finishDraft(e,t){const i=e&&e[Ln];(!i||!i.isManual_)&&zi(9);const{scope_:r}=i;return oO(r,t),cO(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let i;for(i=t.length-1;i>=0;i--){const s=t[i];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}i>-1&&(t=t.slice(i+1));const r=Is(d0).applyPatches_;return Gr(e)?r(e,t):this.produce(e,s=>r(s,t))}};function m0(n,e,t,i){const[r,s]=Vh(e)?Is(qf).proxyMap_(e,t):Yh(e)?Is(qf).proxySet_(e,t):T4(e,t);return(t?.scope_??yP()).drafts_.push(r),s.callbacks_=t?.callbacks_??[],s.key_=i,t&&i!==void 0?C4(t,s,i):s.callbacks_.push(function(d){d.mapSetPlugin_?.fixSetContents(s);const{patchPlugin_:f}=d;s.modified_&&f&&f.generatePatches_(s,[],d)}),r}function Hi(n){return Gr(n)||zi(10,n),EP(n)}function EP(n){if(!$i(n)||Xh(n))return n;const e=n[Ln];let t,i=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=u0(n,e.scope_.immer_.useStrictShallowCopy_),i=e.scope_.immer_.shouldUseStrictIteration()}else t=u0(n,!0);return qh(t,(r,s)=>{$f(t,r,EP(s))},i),e&&(e.finalized_=!1),t}var P4=new _4,wP=P4.produce;function CP(n){return({dispatch:t,getState:i})=>r=>s=>typeof s=="function"?s(t,i,n):r(s)}var D4=CP(),L4=CP,N4=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ff:Ff.apply(null,arguments)};function Li(n,e){function t(...i){if(e){let r=e(...i);if(!r)throw new Error(li(0));return{type:n,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:n,payload:i[0]}}return t.toString=()=>`${n}`,t.type=n,t.match=i=>pP(i)&&i.type===n,t}var OP=class Ic extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Ic.prototype)}static get[Symbol.species](){return Ic}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Ic(...e[0].concat(this)):new Ic(...e.concat(this))}};function dO(n){return $i(n)?wP(n,()=>{}):n}function lf(n,e,t){return n.has(e)?n.get(e):n.set(e,t(e)).get(e)}function R4(n){return typeof n=="boolean"}var I4=()=>function(e){const{thunk:t=!0,immutableCheck:i=!0,serializableCheck:r=!0,actionCreatorCheck:s=!0}=e??{};let l=new OP;return t&&(R4(t)?l.push(D4):l.push(L4(t.extraArgument))),l},TP="RTK_autoBatch",yt=()=>n=>({payload:n,meta:{[TP]:!0}}),fO=n=>e=>{setTimeout(e,n)},MP=(n={type:"raf"})=>e=>(...t)=>{const i=e(...t);let r=!0,s=!1,l=!1;const c=new Set,d=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:fO(10):n.type==="callback"?n.queueNotification:fO(n.timeout),f=()=>{l=!1,s&&(s=!1,c.forEach(h=>h()))};return Object.assign({},i,{subscribe(h){const p=()=>r&&h(),g=i.subscribe(p);return c.add(h),()=>{g(),c.delete(h)}},dispatch(h){try{return r=!h?.meta?.[TP],s=!r,s&&(l||(l=!0,d(f))),i.dispatch(h)}finally{r=!0}}})},k4=n=>function(t){const{autoBatch:i=!0}=t??{};let r=new OP(n);return i&&r.push(MP(typeof i=="object"?i:void 0)),r};function j4(n){const e=I4(),{reducer:t=void 0,middleware:i,devTools:r=!0,preloadedState:s=void 0,enhancers:l=void 0}=n||{};let c;if(typeof t=="function")c=t;else if(Db(t))c=hP(t);else throw new Error(li(1));let d;typeof i=="function"?d=i(e):d=e();let f=Ff;r&&(f=N4({trace:!1,...typeof r=="object"&&r}));const h=g4(...d),p=k4(h);let g=typeof l=="function"?l(p):p();const y=f(...g);return fP(c,s,y)}function _P(n){const e={},t=[];let i;const r={addCase(s,l){const c=typeof s=="string"?s:s.type;if(!c)throw new Error(li(28));if(c in e)throw new Error(li(29));return e[c]=l,r},addAsyncThunk(s,l){return l.pending&&(e[s.pending.type]=l.pending),l.rejected&&(e[s.rejected.type]=l.rejected),l.fulfilled&&(e[s.fulfilled.type]=l.fulfilled),l.settled&&t.push({matcher:s.settled,reducer:l.settled}),r},addMatcher(s,l){return t.push({matcher:s,reducer:l}),r},addDefaultCase(s){return i=s,r}};return n(r),[e,t,i]}function B4(n){return typeof n=="function"}function z4(n,e){let[t,i,r]=_P(e),s;if(B4(n))s=()=>dO(n());else{const c=dO(n);s=()=>c}function l(c=s(),d){let f=[t[d.type],...i.filter(({matcher:h})=>h(d)).map(({reducer:h})=>h)];return f.filter(h=>!!h).length===0&&(f=[r]),f.reduce((h,p)=>{if(p)if(Gr(h)){const y=p(h,d);return y===void 0?h:y}else{if($i(h))return wP(h,g=>p(g,d));{const g=p(h,d);if(g===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return h},c)}return l.getInitialState=s,l}var F4="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",U4=(n=21)=>{let e="",t=n;for(;t--;)e+=F4[Math.random()*64|0];return e},H4=Symbol.for("rtk-slice-createasyncthunk");function $4(n,e){return`${n}/${e}`}function q4({creators:n}={}){const e=n?.asyncThunk?.[H4];return function(i){const{name:r,reducerPath:s=r}=i;if(!r)throw new Error(li(11));const l=(typeof i.reducers=="function"?i.reducers(V4()):i.reducers)||{},c=Object.keys(l),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(T,P){const M=typeof T=="string"?T:T.type;if(!M)throw new Error(li(12));if(M in d.sliceCaseReducersByType)throw new Error(li(13));return d.sliceCaseReducersByType[M]=P,f},addMatcher(T,P){return d.sliceMatchers.push({matcher:T,reducer:P}),f},exposeAction(T,P){return d.actionCreators[T]=P,f},exposeCaseReducer(T,P){return d.sliceCaseReducersByName[T]=P,f}};c.forEach(T=>{const P=l[T],M={reducerName:T,type:$4(r,T),createNotation:typeof i.reducers=="function"};X4(P)?W4(M,P,f,e):Y4(M,P,f)});function h(){const[T={},P=[],M=void 0]=typeof i.extraReducers=="function"?_P(i.extraReducers):[i.extraReducers],_={...T,...d.sliceCaseReducersByType};return z4(i.initialState,N=>{for(let j in _)N.addCase(j,_[j]);for(let j of d.sliceMatchers)N.addMatcher(j.matcher,j.reducer);for(let j of P)N.addMatcher(j.matcher,j.reducer);M&&N.addDefaultCase(M)})}const p=T=>T,g=new Map,y=new WeakMap;let S;function A(T,P){return S||(S=h()),S(T,P)}function x(){return S||(S=h()),S.getInitialState()}function E(T,P=!1){function M(N){let j=N[T];return typeof j>"u"&&P&&(j=lf(y,M,x)),j}function _(N=p){const j=lf(g,P,()=>new WeakMap);return lf(j,N,()=>{const F={};for(const[X,$]of Object.entries(i.selectors??{}))F[X]=G4($,N,()=>lf(y,N,x),P);return F})}return{reducerPath:T,getSelectors:_,get selectors(){return _(M)},selectSlice:M}}const O={name:r,reducer:A,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:x,...E(s),injectInto(T,{reducerPath:P,...M}={}){const _=P??s;return T.inject({reducerPath:_,reducer:A},M),{...O,...E(_,!0)}}};return O}}function G4(n,e,t,i){function r(s,...l){let c=e(s);return typeof c>"u"&&i&&(c=t()),n(c,...l)}return r.unwrapped=n,r}var Gn=q4();function V4(){function n(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:n}}function Y4({type:n,reducerName:e,createNotation:t},i,r){let s,l;if("reducer"in i){if(t&&!K4(i))throw new Error(li(17));s=i.reducer,l=i.prepare}else s=i;r.addCase(n,s).exposeCaseReducer(e,s).exposeAction(e,l?Li(n,l):Li(n))}function X4(n){return n._reducerDefinitionType==="asyncThunk"}function K4(n){return n._reducerDefinitionType==="reducerWithPrepare"}function W4({type:n,reducerName:e},t,i,r){if(!r)throw new Error(li(18));const{payloadCreator:s,fulfilled:l,pending:c,rejected:d,settled:f,options:h}=t,p=r(n,s,h);i.exposeAction(e,p),l&&i.addCase(p.fulfilled,l),c&&i.addCase(p.pending,c),d&&i.addCase(p.rejected,d),f&&i.addMatcher(p.settled,f),i.exposeCaseReducer(e,{fulfilled:l||cf,pending:c||cf,rejected:d||cf,settled:f||cf})}function cf(){}var Z4="task",PP="listener",DP="completed",Ib="cancelled",Q4=`task-${Ib}`,J4=`task-${DP}`,g0=`${PP}-${Ib}`,e6=`${PP}-${DP}`,Wh=class{constructor(n){this.code=n,this.message=`${Z4} ${Ib} (reason: ${n})`}name="TaskAbortError";message},kb=(n,e)=>{if(typeof n!="function")throw new TypeError(li(32))},Yf=()=>{},LP=(n,e=Yf)=>(n.catch(e),n),NP=(n,e)=>(n.addEventListener("abort",e,{once:!0}),()=>n.removeEventListener("abort",e)),Os=n=>{if(n.aborted)throw new Wh(n.reason)};function RP(n,e){let t=Yf;return new Promise((i,r)=>{const s=()=>r(new Wh(n.reason));if(n.aborted){s();return}t=NP(n,s),e.finally(()=>t()).then(i,r)}).finally(()=>{t=Yf})}var t6=async(n,e)=>{try{return await Promise.resolve(),{status:"ok",value:await n()}}catch(t){return{status:t instanceof Wh?"cancelled":"rejected",error:t}}finally{e?.()}},Xf=n=>e=>LP(RP(n,e).then(t=>(Os(n),t))),IP=n=>{const e=Xf(n);return t=>e(new Promise(i=>setTimeout(i,t)))},{assign:Qo}=Object,hO={},Zh="listenerMiddleware",n6=(n,e)=>{const t=i=>NP(n,()=>i.abort(n.reason));return(i,r)=>{kb(i);const s=new AbortController;t(s);const l=t6(async()=>{Os(n),Os(s.signal);const c=await i({pause:Xf(s.signal),delay:IP(s.signal),signal:s.signal});return Os(s.signal),c},()=>s.abort(J4));return r?.autoJoin&&e.push(l.catch(Yf)),{result:Xf(n)(l),cancel(){s.abort(Q4)}}}},i6=(n,e)=>{const t=async(i,r)=>{Os(e);let s=()=>{};const c=[new Promise((d,f)=>{let h=n({predicate:i,effect:(p,g)=>{g.unsubscribe(),d([p,g.getState(),g.getOriginalState()])}});s=()=>{h(),f()}})];r!=null&&c.push(new Promise(d=>setTimeout(d,r,null)));try{const d=await RP(e,Promise.race(c));return Os(e),d}finally{s()}};return(i,r)=>LP(t(i,r))},kP=n=>{let{type:e,actionCreator:t,matcher:i,predicate:r,effect:s}=n;if(e)r=Li(e).match;else if(t)e=t.type,r=t.match;else if(i)r=i;else if(!r)throw new Error(li(21));return kb(s),{predicate:r,type:e,effect:s}},jP=Qo(n=>{const{type:e,predicate:t,effect:i}=kP(n);return{id:U4(),effect:i,type:e,predicate:t,pending:new Set,unsubscribe:()=>{throw new Error(li(22))}}},{withTypes:()=>jP}),pO=(n,e)=>{const{type:t,effect:i,predicate:r}=kP(e);return Array.from(n.values()).find(s=>(typeof t=="string"?s.type===t:s.predicate===r)&&s.effect===i)},v0=n=>{n.pending.forEach(e=>{e.abort(g0)})},r6=(n,e)=>()=>{for(const t of e.keys())v0(t);n.clear()},mO=(n,e,t)=>{try{n(e,t)}catch(i){setTimeout(()=>{throw i},0)}},BP=Qo(Li(`${Zh}/add`),{withTypes:()=>BP}),a6=Li(`${Zh}/removeAll`),zP=Qo(Li(`${Zh}/remove`),{withTypes:()=>zP}),s6=(...n)=>{console.error(`${Zh}/error`,...n)},mu=(n={})=>{const e=new Map,t=new Map,i=y=>{const S=t.get(y)??0;t.set(y,S+1)},r=y=>{const S=t.get(y)??1;S===1?t.delete(y):t.set(y,S-1)},{extra:s,onError:l=s6}=n;kb(l);const c=y=>(y.unsubscribe=()=>e.delete(y.id),e.set(y.id,y),S=>{y.unsubscribe(),S?.cancelActive&&v0(y)}),d=y=>{const S=pO(e,y)??jP(y);return c(S)};Qo(d,{withTypes:()=>d});const f=y=>{const S=pO(e,y);return S&&(S.unsubscribe(),y.cancelActive&&v0(S)),!!S};Qo(f,{withTypes:()=>f});const h=async(y,S,A,x)=>{const E=new AbortController,O=i6(d,E.signal),T=[];try{y.pending.add(E),i(y),await Promise.resolve(y.effect(S,Qo({},A,{getOriginalState:x,condition:(P,M)=>O(P,M).then(Boolean),take:O,delay:IP(E.signal),pause:Xf(E.signal),extra:s,signal:E.signal,fork:n6(E.signal,T),unsubscribe:y.unsubscribe,subscribe:()=>{e.set(y.id,y)},cancelActiveListeners:()=>{y.pending.forEach((P,M,_)=>{P!==E&&(P.abort(g0),_.delete(P))})},cancel:()=>{E.abort(g0),y.pending.delete(E)},throwIfCancelled:()=>{Os(E.signal)}})))}catch(P){P instanceof Wh||mO(l,P,{raisedBy:"effect"})}finally{await Promise.all(T),E.abort(e6),r(y),y.pending.delete(E)}},p=r6(e,t);return{middleware:y=>S=>A=>{if(!pP(A))return S(A);if(BP.match(A))return d(A.payload);if(a6.match(A)){p();return}if(zP.match(A))return f(A.payload);let x=y.getState();const E=()=>{if(x===hO)throw new Error(li(23));return x};let O;try{if(O=S(A),e.size>0){const T=y.getState(),P=Array.from(e.values());for(const M of P){let _=!1;try{_=M.predicate(A,T,x)}catch(N){_=!1,mO(l,N,{raisedBy:"predicate"})}_&&h(M,A,y,E)}}}finally{x=hO}return O},startListening:d,stopListening:f,clearListeners:p}};function li(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var o6={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},FP=Gn({name:"chartLayout",initialState:o6,reducers:{setLayout(n,e){n.layoutType=e.payload},setChartSize(n,e){n.width=e.payload.width,n.height=e.payload.height},setMargin(n,e){var t,i,r,s;n.margin.top=(t=e.payload.top)!==null&&t!==void 0?t:0,n.margin.right=(i=e.payload.right)!==null&&i!==void 0?i:0,n.margin.bottom=(r=e.payload.bottom)!==null&&r!==void 0?r:0,n.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(n,e){n.scale=e.payload}}}),{setMargin:l6,setLayout:c6,setChartSize:u6,setScale:d6}=FP.actions,f6=FP.reducer;function UP(n,e,t){return Array.isArray(n)&&n&&e+t!==0?n.slice(e,t+1):n}function Ke(n){return Number.isFinite(n)}function qa(n){return typeof n=="number"&&n>0&&Number.isFinite(n)}function gO(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Vo(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?gO(Object(t),!0).forEach(function(i){h6(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):gO(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function h6(n,e,t){return(e=p6(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function p6(n){var e=m6(n,"string");return typeof e=="symbol"?e:e+""}function m6(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function pt(n,e,t){return rn(n)||rn(e)?t:dr(e)?Ns(n,e,t):typeof e=="function"?e(n):t}var g6=(n,e,t)=>{if(e&&t){var{width:i,height:r}=t,{align:s,verticalAlign:l,layout:c}=e;if((c==="vertical"||c==="horizontal"&&l==="middle")&&s!=="center"&&be(n[s]))return Vo(Vo({},n),{},{[s]:n[s]+(i||0)});if((c==="horizontal"||c==="vertical"&&s==="center")&&l!=="middle"&&be(n[l]))return Vo(Vo({},n),{},{[l]:n[l]+(r||0)})}return n},Va=(n,e)=>n==="horizontal"&&e==="xAxis"||n==="vertical"&&e==="yAxis"||n==="centric"&&e==="angleAxis"||n==="radial"&&e==="radiusAxis",v6=(n,e)=>{if(!e||e.length!==2||!be(e[0])||!be(e[1]))return n;var t=Math.min(e[0],e[1]),i=Math.max(e[0],e[1]),r=[n[0],n[1]];return(!be(n[0])||n[0]<t)&&(r[0]=t),(!be(n[1])||n[1]>i)&&(r[1]=i),r[0]>i&&(r[0]=i),r[1]<t&&(r[1]=t),r},y6=n=>{var e,t=n.length;if(!(t<=0)){var i=(e=n[0])===null||e===void 0?void 0:e.length;if(!(i==null||i<=0))for(var r=0;r<i;++r)for(var s=0,l=0,c=0;c<t;++c){var d=n[c],f=d?.[r];if(f!=null){var h=f[1],p=f[0],g=ur(h)?p:h;g>=0?(f[0]=s,s+=g,f[1]=s):(f[0]=l,l+=g,f[1]=l)}}}},b6=n=>{var e,t=n.length;if(!(t<=0)){var i=(e=n[0])===null||e===void 0?void 0:e.length;if(!(i==null||i<=0))for(var r=0;r<i;++r)for(var s=0,l=0;l<t;++l){var c=n[l],d=c?.[r];if(d!=null){var f=ur(d[1])?d[0]:d[1];f>=0?(d[0]=s,s+=f,d[1]=s):(d[0]=0,d[1]=0)}}}},A6={sign:y6,expand:B3,none:Ls,silhouette:z3,wiggle:F3,positive:b6},S6=(n,e,t)=>{var i,r=(i=A6[t])!==null&&i!==void 0?i:Ls,s=j3().keys(e).value((c,d)=>Number(pt(c,d,0))).order(s0).offset(r),l=s(n);return l.forEach((c,d)=>{c.forEach((f,h)=>{var p=pt(n[h],e[d],0);Array.isArray(p)&&p.length===2&&be(p[0])&&be(p[1])&&(f[0]=p[0],f[1]=p[1])})}),l};function x6(n){return n==null?void 0:String(n)}var vO=n=>{var{axis:e,ticks:t,offset:i,bandSize:r,entry:s,index:l}=n;if(e.type==="category")return t[l]?t[l].coordinate+i:null;var c=pt(s,e.dataKey,e.scale.domain()[l]);if(rn(c))return null;var d=e.scale.map(c);return be(d)?d-r/2+i:null},E6=n=>{var{numericAxis:e}=n,t=e.scale.domain();if(e.type==="number"){var i=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]);return i<=0&&r>=0?0:r<0?r:i}return t[0]},w6=n=>{var e=n.flat(2).filter(be);return[Math.min(...e),Math.max(...e)]},C6=n=>[n[0]===1/0?0:n[0],n[1]===-1/0?0:n[1]],O6=(n,e,t)=>{if(n!=null)return C6(Object.keys(n).reduce((i,r)=>{var s=n[r];if(!s)return i;var{stackedData:l}=s,c=l.reduce((d,f)=>{var h=UP(f,e,t),p=w6(h);return!Ke(p[0])||!Ke(p[1])?d:[Math.min(d[0],p[0]),Math.max(d[1],p[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]))},yO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,bO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Kf=(n,e,t)=>{if(n&&n.scale&&n.scale.bandwidth){var i=n.scale.bandwidth();if(!t||i>0)return i}if(n&&e&&e.length>=2){for(var r=Hh(e,h=>h.coordinate),s=1/0,l=1,c=r.length;l<c;l++){var d=r[l],f=r[l-1];s=Math.min((d?.coordinate||0)-(f?.coordinate||0),s)}return s===1/0?0:s}return t?void 0:0};function AO(n){var{tooltipEntrySettings:e,dataKey:t,payload:i,value:r,name:s}=n;return Vo(Vo({},e),{},{dataKey:t,payload:i,value:r,name:s})}function Qh(n,e){if(n)return String(n);if(typeof e=="string")return e}var T6=(n,e)=>{if(e==="horizontal")return n.chartX;if(e==="vertical")return n.chartY},M6=(n,e)=>e==="centric"?n.angle:n.radius,Jr=n=>n.layout.width,ea=n=>n.layout.height,_6=n=>n.layout.scale,HP=n=>n.layout.margin,Jh=Y(n=>n.cartesianAxis.xAxis,n=>Object.values(n)),ep=Y(n=>n.cartesianAxis.yAxis,n=>Object.values(n)),$P="data-recharts-item-index",qP="data-recharts-item-id",gu=60;function SO(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function uf(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?SO(Object(t),!0).forEach(function(i){P6(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):SO(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function P6(n,e,t){return(e=D6(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function D6(n){var e=L6(n,"string");return typeof e=="symbol"?e:e+""}function L6(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var N6=n=>n.brush.height;function R6(n){var e=ep(n);return e.reduce((t,i)=>{if(i.orientation==="left"&&!i.mirror&&!i.hide){var r=typeof i.width=="number"?i.width:gu;return t+r}return t},0)}function I6(n){var e=ep(n);return e.reduce((t,i)=>{if(i.orientation==="right"&&!i.mirror&&!i.hide){var r=typeof i.width=="number"?i.width:gu;return t+r}return t},0)}function k6(n){var e=Jh(n);return e.reduce((t,i)=>i.orientation==="top"&&!i.mirror&&!i.hide?t+i.height:t,0)}function j6(n){var e=Jh(n);return e.reduce((t,i)=>i.orientation==="bottom"&&!i.mirror&&!i.hide?t+i.height:t,0)}var Yt=Y([Jr,ea,HP,N6,R6,I6,k6,j6,uP,c4],(n,e,t,i,r,s,l,c,d,f)=>{var h={left:(t.left||0)+r,right:(t.right||0)+s},p={top:(t.top||0)+l,bottom:(t.bottom||0)+c},g=uf(uf({},p),h),y=g.bottom;g.bottom+=i,g=g6(g,d,f);var S=n-g.left-g.right,A=e-g.top-g.bottom;return uf(uf({brushBottom:y},g),{},{width:Math.max(S,0),height:Math.max(A,0)})}),B6=Y(Yt,n=>({x:n.left,y:n.top,width:n.width,height:n.height})),jb=Y(Jr,ea,(n,e)=>({x:0,y:0,width:n,height:e})),z6=C.createContext(null),ui=()=>C.useContext(z6)!=null,tp=n=>n.brush,np=Y([tp,Yt,HP],(n,e,t)=>({height:n.height,x:be(n.x)?n.x:e.left,y:be(n.y)?n.y:e.top+e.height+e.brushBottom-(t?.bottom||0),width:be(n.width)?n.width:e.width})),oy={},ly={},cy={},xO;function F6(){return xO||(xO=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t,i,{signal:r,edges:s}={}){let l,c=null;const d=s!=null&&s.includes("leading"),f=s==null||s.includes("trailing"),h=()=>{c!==null&&(t.apply(l,c),l=void 0,c=null)},p=()=>{f&&h(),A()};let g=null;const y=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,p()},i)},S=()=>{g!==null&&(clearTimeout(g),g=null)},A=()=>{S(),l=void 0,c=null},x=()=>{h()},E=function(...O){if(r?.aborted)return;l=this,c=O;const T=g==null;y(),d&&T&&h()};return E.schedule=y,E.cancel=A,E.flush=x,r?.addEventListener("abort",A,{once:!0}),E}n.debounce=e})(cy)),cy}var EO;function U6(){return EO||(EO=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=F6();function t(i,r=0,s={}){typeof s!="object"&&(s={});const{leading:l=!1,trailing:c=!0,maxWait:d}=s,f=Array(2);l&&(f[0]="leading"),c&&(f[1]="trailing");let h,p=null;const g=e.debounce(function(...A){h=i.apply(this,A),p=null},r,{edges:f}),y=function(...A){return d!=null&&(p===null&&(p=Date.now()),Date.now()-p>=d)?(h=i.apply(this,A),p=Date.now(),g.cancel(),g.schedule(),h):(g.apply(this,A),h)},S=()=>(g.flush(),h);return y.cancel=g.cancel,y.flush=S,y}n.debounce=t})(ly)),ly}var wO;function H6(){return wO||(wO=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=U6();function t(i,r=0,s={}){const{leading:l=!0,trailing:c=!0}=s;return e.debounce(i,r,{leading:l,maxWait:r,trailing:c})}n.throttle=t})(oy)),oy}var uy,CO;function $6(){return CO||(CO=1,uy=H6().throttle),uy}var q6=$6();const G6=Qr(q6);var OO=function(e,t){for(var i=arguments.length,r=new Array(i>2?i-2:0),s=2;s<i;s++)r[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(t===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(t===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(t.replace(/%s/g,()=>r[l++]))}},ar={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},GP=(n,e,t)=>{var{width:i=ar.width,height:r=ar.height,aspect:s,maxHeight:l}=t,c=Rs(i)?n:Number(i),d=Rs(r)?e:Number(r);return s&&s>0&&(c?d=c/s:d&&(c=d*s),l&&d!=null&&d>l&&(d=l)),{calculatedWidth:c,calculatedHeight:d}},V6={width:0,height:0,overflow:"visible"},Y6={width:0,overflowX:"visible"},X6={height:0,overflowY:"visible"},K6={},W6=n=>{var{width:e,height:t}=n,i=Rs(e),r=Rs(t);return i&&r?V6:i?Y6:r?X6:K6};function Z6(n){var{width:e,height:t,aspect:i}=n,r=e,s=t;return r===void 0&&s===void 0?(r=ar.width,s=ar.height):r===void 0?r=i&&i>0?void 0:ar.width:s===void 0&&(s=i&&i>0?void 0:ar.height),{width:r,height:s}}function y0(){return y0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},y0.apply(null,arguments)}function TO(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function MO(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?TO(Object(t),!0).forEach(function(i){Q6(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):TO(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Q6(n,e,t){return(e=J6(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function J6(n){var e=eF(n,"string");return typeof e=="symbol"?e:e+""}function eF(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var VP=C.createContext(ar.initialDimension);function tF(n){return qa(n.width)&&qa(n.height)}function YP(n){var{children:e,width:t,height:i}=n,r=C.useMemo(()=>({width:t,height:i}),[t,i]);return tF(r)?C.createElement(VP.Provider,{value:r},e):null}var Bb=()=>C.useContext(VP),nF=C.forwardRef((n,e)=>{var{aspect:t,initialDimension:i=ar.initialDimension,width:r,height:s,minWidth:l=ar.minWidth,minHeight:c,maxHeight:d,children:f,debounce:h=ar.debounce,id:p,className:g,onResize:y,style:S={}}=n,A=C.useRef(null),x=C.useRef();x.current=y,C.useImperativeHandle(e,()=>A.current);var[E,O]=C.useState({containerWidth:i.width,containerHeight:i.height}),T=C.useCallback((j,F)=>{O(X=>{var $=Math.round(j),q=Math.round(F);return X.containerWidth===$&&X.containerHeight===q?X:{containerWidth:$,containerHeight:q}})},[]);C.useEffect(()=>{if(A.current==null||typeof ResizeObserver>"u")return dl;var j=q=>{var se,re=q[0];if(re!=null){var{width:ce,height:B}=re.contentRect;T(ce,B),(se=x.current)===null||se===void 0||se.call(x,ce,B)}};h>0&&(j=G6(j,h,{trailing:!0,leading:!1}));var F=new ResizeObserver(j),{width:X,height:$}=A.current.getBoundingClientRect();return T(X,$),F.observe(A.current),()=>{F.disconnect()}},[T,h]);var{containerWidth:P,containerHeight:M}=E;OO(!t||t>0,"The aspect(%s) must be greater than zero.",t);var{calculatedWidth:_,calculatedHeight:N}=GP(P,M,{width:r,height:s,aspect:t,maxHeight:d});return OO(_!=null&&_>0||N!=null&&N>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,_,N,r,s,l,c,t),C.createElement("div",{id:p?"".concat(p):void 0,className:et("recharts-responsive-container",g),style:MO(MO({},S),{},{width:r,height:s,minWidth:l,minHeight:c,maxHeight:d}),ref:A},C.createElement("div",{style:W6({width:r,height:s})},C.createElement(YP,{width:_,height:N},f)))}),Nr=C.forwardRef((n,e)=>{var t=Bb();if(qa(t.width)&&qa(t.height))return n.children;var{width:i,height:r}=Z6({width:n.width,height:n.height,aspect:n.aspect}),{calculatedWidth:s,calculatedHeight:l}=GP(void 0,void 0,{width:i,height:r,aspect:n.aspect,maxHeight:n.maxHeight});return be(s)&&be(l)?C.createElement(YP,{width:s,height:l},n.children):C.createElement(nF,y0({},n,{width:i,height:r,ref:e}))});function zb(n){if(n)return{x:n.x,y:n.y,upperWidth:"upperWidth"in n?n.upperWidth:n.width,lowerWidth:"lowerWidth"in n?n.lowerWidth:n.width,width:n.width,height:n.height}}var ip=()=>{var n,e=ui(),t=ye(B6),i=ye(np),r=(n=ye(tp))===null||n===void 0?void 0:n.padding;return!e||!i||!r?t:{width:i.width-r.left-r.right,height:i.height-r.top-r.bottom,x:r.left,y:r.top}},iF={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},rF=()=>{var n;return(n=ye(Yt))!==null&&n!==void 0?n:iF},XP=()=>ye(Jr),KP=()=>ye(ea),aF=()=>ye(n=>n.layout.margin),We=n=>n.layout.layoutType,fl=()=>ye(We),WP=()=>{var n=fl();if(n==="horizontal"||n==="vertical")return n},ZP=n=>{var e=n.layout.layoutType;if(e==="centric"||e==="radial")return e},sF=()=>{var n=fl();return n!==void 0},vu=n=>{var e=ct(),t=ui(),{width:i,height:r}=n,s=Bb(),l=i,c=r;return s&&(l=s.width>0?s.width:i,c=s.height>0?s.height:r),C.useEffect(()=>{!t&&qa(l)&&qa(c)&&e(u6({width:l,height:c}))},[e,t,l,c]),null},QP=Symbol.for("immer-nothing"),_O=Symbol.for("immer-draftable"),ci=Symbol.for("immer-state");function Fi(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var Wc=Object.getPrototypeOf;function il(n){return!!n&&!!n[ci]}function ks(n){return n?JP(n)||Array.isArray(n)||!!n[_O]||!!n.constructor?.[_O]||yu(n)||ap(n):!1}var oF=Object.prototype.constructor.toString(),PO=new WeakMap;function JP(n){if(!n||typeof n!="object")return!1;const e=Object.getPrototypeOf(n);if(e===null||e===Object.prototype)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(t===Object)return!0;if(typeof t!="function")return!1;let i=PO.get(t);return i===void 0&&(i=Function.toString.call(t),PO.set(t,i)),i===oF}function Wf(n,e,t=!0){rp(n)===0?(t?Reflect.ownKeys(n):Object.keys(n)).forEach(r=>{e(r,n[r],n)}):n.forEach((i,r)=>e(r,i,n))}function rp(n){const e=n[ci];return e?e.type_:Array.isArray(n)?1:yu(n)?2:ap(n)?3:0}function b0(n,e){return rp(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function eD(n,e,t){const i=rp(n);i===2?n.set(e,t):i===3?n.add(t):n[e]=t}function lF(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function yu(n){return n instanceof Map}function ap(n){return n instanceof Set}function vs(n){return n.copy_||n.base_}function A0(n,e){if(yu(n))return new Map(n);if(ap(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const t=JP(n);if(e===!0||e==="class_only"&&!t){const i=Object.getOwnPropertyDescriptors(n);delete i[ci];let r=Reflect.ownKeys(i);for(let s=0;s<r.length;s++){const l=r[s],c=i[l];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(i[l]={configurable:!0,writable:!0,enumerable:c.enumerable,value:n[l]})}return Object.create(Wc(n),i)}else{const i=Wc(n);if(i!==null&&t)return{...n};const r=Object.create(i);return Object.assign(r,n)}}function Fb(n,e=!1){return sp(n)||il(n)||!ks(n)||(rp(n)>1&&Object.defineProperties(n,{set:df,add:df,clear:df,delete:df}),Object.freeze(n),e&&Object.values(n).forEach(t=>Fb(t,!0))),n}function cF(){Fi(2)}var df={value:cF};function sp(n){return n===null||typeof n!="object"?!0:Object.isFrozen(n)}var uF={};function js(n){const e=uF[n];return e||Fi(0,n),e}var Zc;function tD(){return Zc}function dF(n,e){return{drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function DO(n,e){e&&(js("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function S0(n){x0(n),n.drafts_.forEach(fF),n.drafts_=null}function x0(n){n===Zc&&(Zc=n.parent_)}function LO(n){return Zc=dF(Zc,n)}function fF(n){const e=n[ci];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function NO(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return n!==void 0&&n!==t?(t[ci].modified_&&(S0(e),Fi(4)),ks(n)&&(n=Zf(e,n),e.parent_||Qf(e,n)),e.patches_&&js("Patches").generateReplacementPatches_(t[ci].base_,n,e.patches_,e.inversePatches_)):n=Zf(e,t,[]),S0(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==QP?n:void 0}function Zf(n,e,t){if(sp(e))return e;const i=n.immer_.shouldUseStrictIteration(),r=e[ci];if(!r)return Wf(e,(s,l)=>RO(n,r,e,s,l,t),i),e;if(r.scope_!==n)return e;if(!r.modified_)return Qf(n,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const s=r.copy_;let l=s,c=!1;r.type_===3&&(l=new Set(s),s.clear(),c=!0),Wf(l,(d,f)=>RO(n,r,s,d,f,t,c),i),Qf(n,s,!1),t&&n.patches_&&js("Patches").generatePatches_(r,t,n.patches_,n.inversePatches_)}return r.copy_}function RO(n,e,t,i,r,s,l){if(r==null||typeof r!="object"&&!l)return;const c=sp(r);if(!(c&&!l)){if(il(r)){const d=s&&e&&e.type_!==3&&!b0(e.assigned_,i)?s.concat(i):void 0,f=Zf(n,r,d);if(eD(t,i,f),il(f))n.canAutoFreeze_=!1;else return}else l&&t.add(r);if(ks(r)&&!c){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||e&&e.base_&&e.base_[i]===r&&c)return;Zf(n,r),(!e||!e.scope_.parent_)&&typeof i!="symbol"&&(yu(t)?t.has(i):Object.prototype.propertyIsEnumerable.call(t,i))&&Qf(n,r)}}}function Qf(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&Fb(e,t)}function hF(n,e){const t=Array.isArray(n),i={type_:t?1:0,scope_:e?e.scope_:tD(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let r=i,s=Ub;t&&(r=[i],s=Qc);const{revoke:l,proxy:c}=Proxy.revocable(r,s);return i.draft_=c,i.revoke_=l,c}var Ub={get(n,e){if(e===ci)return n;const t=vs(n);if(!b0(t,e))return pF(n,t,e);const i=t[e];return n.finalized_||!ks(i)?i:i===dy(n.base_,e)?(fy(n),n.copy_[e]=w0(i,n)):i},has(n,e){return e in vs(n)},ownKeys(n){return Reflect.ownKeys(vs(n))},set(n,e,t){const i=nD(vs(n),e);if(i?.set)return i.set.call(n.draft_,t),!0;if(!n.modified_){const r=dy(vs(n),e),s=r?.[ci];if(s&&s.base_===t)return n.copy_[e]=t,n.assigned_[e]=!1,!0;if(lF(t,r)&&(t!==void 0||b0(n.base_,e)))return!0;fy(n),E0(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_[e]=!0),!0},deleteProperty(n,e){return dy(n.base_,e)!==void 0||e in n.base_?(n.assigned_[e]=!1,fy(n),E0(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=vs(n),i=Reflect.getOwnPropertyDescriptor(t,e);return i&&{writable:!0,configurable:n.type_!==1||e!=="length",enumerable:i.enumerable,value:t[e]}},defineProperty(){Fi(11)},getPrototypeOf(n){return Wc(n.base_)},setPrototypeOf(){Fi(12)}},Qc={};Wf(Ub,(n,e)=>{Qc[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Qc.deleteProperty=function(n,e){return Qc.set.call(this,n,e,void 0)};Qc.set=function(n,e,t){return Ub.set.call(this,n[0],e,t,n[0])};function dy(n,e){const t=n[ci];return(t?vs(t):n)[e]}function pF(n,e,t){const i=nD(e,t);return i?"value"in i?i.value:i.get?.call(n.draft_):void 0}function nD(n,e){if(!(e in n))return;let t=Wc(n);for(;t;){const i=Object.getOwnPropertyDescriptor(t,e);if(i)return i;t=Wc(t)}}function E0(n){n.modified_||(n.modified_=!0,n.parent_&&E0(n.parent_))}function fy(n){n.copy_||(n.copy_=A0(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var mF=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,t,i)=>{if(typeof e=="function"&&typeof t!="function"){const s=t;t=e;const l=this;return function(d=s,...f){return l.produce(d,h=>t.call(this,h,...f))}}typeof t!="function"&&Fi(6),i!==void 0&&typeof i!="function"&&Fi(7);let r;if(ks(e)){const s=LO(this),l=w0(e,void 0);let c=!0;try{r=t(l),c=!1}finally{c?S0(s):x0(s)}return DO(s,i),NO(r,s)}else if(!e||typeof e!="object"){if(r=t(e),r===void 0&&(r=e),r===QP&&(r=void 0),this.autoFreeze_&&Fb(r,!0),i){const s=[],l=[];js("Patches").generateReplacementPatches_(e,r,s,l),i(s,l)}return r}else Fi(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(l,...c)=>this.produceWithPatches(l,d=>e(d,...c));let i,r;return[this.produce(e,t,(l,c)=>{i=l,r=c}),i,r]},typeof n?.autoFreeze=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof n?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy),typeof n?.useStrictIteration=="boolean"&&this.setUseStrictIteration(n.useStrictIteration)}createDraft(n){ks(n)||Fi(8),il(n)&&(n=gF(n));const e=LO(this),t=w0(n,void 0);return t[ci].isManual_=!0,x0(e),t}finishDraft(n,e){const t=n&&n[ci];(!t||!t.isManual_)&&Fi(9);const{scope_:i}=t;return DO(i,e),NO(void 0,i)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}setUseStrictIteration(n){this.useStrictIteration_=n}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const r=e[t];if(r.path.length===0&&r.op==="replace"){n=r.value;break}}t>-1&&(e=e.slice(t+1));const i=js("Patches").applyPatches_;return il(n)?i(n,e):this.produce(n,r=>i(r,e))}};function w0(n,e){const t=yu(n)?js("MapSet").proxyMap_(n,e):ap(n)?js("MapSet").proxySet_(n,e):hF(n,e);return(e?e.scope_:tD()).drafts_.push(t),t}function gF(n){return il(n)||Fi(10,n),iD(n)}function iD(n){if(!ks(n)||sp(n))return n;const e=n[ci];let t,i=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=A0(n,e.scope_.immer_.useStrictShallowCopy_),i=e.scope_.immer_.shouldUseStrictIteration()}else t=A0(n,!0);return Wf(t,(r,s)=>{eD(t,r,iD(s))},i),e&&(e.finalized_=!1),t}var vF=new mF;vF.produce;var yF={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},rD=Gn({name:"legend",initialState:yF,reducers:{setLegendSize(n,e){n.size.width=e.payload.width,n.size.height=e.payload.height},setLegendSettings(n,e){n.settings.align=e.payload.align,n.settings.layout=e.payload.layout,n.settings.verticalAlign=e.payload.verticalAlign,n.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(n,e){n.payload.push(e.payload)},prepare:yt()},replaceLegendPayload:{reducer(n,e){var{prev:t,next:i}=e.payload,r=Hi(n).payload.indexOf(t);r>-1&&(n.payload[r]=i)},prepare:yt()},removeLegendPayload:{reducer(n,e){var t=Hi(n).payload.indexOf(e.payload);t>-1&&n.payload.splice(t,1)},prepare:yt()}}}),{setLegendSize:IO,setLegendSettings:bF,addLegendPayload:aD,replaceLegendPayload:sD,removeLegendPayload:oD}=rD.actions,AF=rD.reducer,SF=["contextPayload"];function C0(){return C0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},C0.apply(null,arguments)}function kO(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function rl(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?kO(Object(t),!0).forEach(function(i){xF(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):kO(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function xF(n,e,t){return(e=EF(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function EF(n){var e=wF(n,"string");return typeof e=="symbol"?e:e+""}function wF(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function CF(n,e){if(n==null)return{};var t,i,r=OF(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function OF(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function TF(n){return n.value}function MF(n){var{contextPayload:e}=n,t=CF(n,SF),i=sP(e,n.payloadUniqBy,TF),r=rl(rl({},t),{},{payload:i});return C.isValidElement(n.content)?C.cloneElement(n.content,r):typeof n.content=="function"?C.createElement(n.content,r):C.createElement(vz,r)}function _F(n,e,t,i,r,s){var{layout:l,align:c,verticalAlign:d}=e,f,h;return(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))&&(c==="center"&&l==="vertical"?f={left:((i||0)-s.width)/2}:f=c==="right"?{right:t&&t.right||0}:{left:t&&t.left||0}),(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))&&(d==="middle"?h={top:((r||0)-s.height)/2}:h=d==="bottom"?{bottom:t&&t.bottom||0}:{top:t&&t.top||0}),rl(rl({},f),h)}function PF(n){var e=ct();return C.useEffect(()=>{e(bF(n))},[e,n]),null}function DF(n){var e=ct();return C.useEffect(()=>(e(IO(n)),()=>{e(IO({width:0,height:0}))}),[e,n]),null}function LF(n,e,t,i){return n==="vertical"&&e!=null?{height:e}:n==="horizontal"?{width:t||i}:null}var NF={align:"center",iconSize:14,inactiveColor:"#ccc",itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function O0(n){var e=An(n,NF),t=f4(),i=o3(),r=aF(),{width:s,height:l,wrapperStyle:c,portal:d}=e,[f,h]=dP([t]),p=XP(),g=KP();if(p==null||g==null)return null;var y=p-(r?.left||0)-(r?.right||0),S=LF(e.layout,l,s,y),A=d?c:rl(rl({position:"absolute",width:S?.width||s||"auto",height:S?.height||l||"auto"},_F(c,e,r,p,g,f)),c),x=d??i;if(x==null||t==null)return null;var E=C.createElement("div",{className:"recharts-legend-wrapper",style:A,ref:h},C.createElement(PF,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),!d&&C.createElement(DF,{width:f.width,height:f.height}),C.createElement(MF,C0({},e,S,{margin:r,chartWidth:p,chartHeight:g,contextPayload:t})));return Ab.createPortal(E,x)}O0.displayName="Legend";function T0(){return T0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},T0.apply(null,arguments)}function jO(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function xc(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?jO(Object(t),!0).forEach(function(i){RF(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):jO(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function RF(n,e,t){return(e=IF(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function IF(n){var e=kF(n,"string");return typeof e=="symbol"?e:e+""}function kF(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function jF(n){return Array.isArray(n)&&dr(n[0])&&dr(n[1])?n.join(" ~ "):n}var No={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},BF=n=>{var{separator:e=No.separator,contentStyle:t,itemStyle:i,labelStyle:r=No.labelStyle,payload:s,formatter:l,itemSorter:c,wrapperClassName:d,labelClassName:f,label:h,labelFormatter:p,accessibilityLayer:g=No.accessibilityLayer}=n,y=()=>{if(s&&s.length){var M={padding:0,margin:0},_=(c?Hh(s,c):s).map((N,j)=>{if(N.type==="none")return null;var F=N.formatter||l||jF,{value:X,name:$}=N,q=X,se=$;if(F){var re=F(X,$,N,j,s);if(Array.isArray(re))[q,se]=re;else if(re!=null)q=re;else return null}var ce=xc(xc({},No.itemStyle),{},{color:N.color||No.itemStyle.color},i);return C.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(j),style:ce},dr(se)?C.createElement("span",{className:"recharts-tooltip-item-name"},se):null,dr(se)?C.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,C.createElement("span",{className:"recharts-tooltip-item-value"},q),C.createElement("span",{className:"recharts-tooltip-item-unit"},N.unit||""))});return C.createElement("ul",{className:"recharts-tooltip-item-list",style:M},_)}return null},S=xc(xc({},No.contentStyle),t),A=xc({margin:0},r),x=!rn(h),E=x?h:"",O=et("recharts-default-tooltip",d),T=et("recharts-tooltip-label",f);x&&p&&s!==void 0&&s!==null&&(E=p(h,s));var P=g?{role:"status","aria-live":"assertive"}:{};return C.createElement("div",T0({className:O,style:S},P),C.createElement("p",{className:T,style:A},C.isValidElement(E)?E:"".concat(E)),y())},Ec="recharts-tooltip-wrapper",zF={visibility:"hidden"};function FF(n){var{coordinate:e,translateX:t,translateY:i}=n;return et(Ec,{["".concat(Ec,"-right")]:be(t)&&e&&be(e.x)&&t>=e.x,["".concat(Ec,"-left")]:be(t)&&e&&be(e.x)&&t<e.x,["".concat(Ec,"-bottom")]:be(i)&&e&&be(e.y)&&i>=e.y,["".concat(Ec,"-top")]:be(i)&&e&&be(e.y)&&i<e.y})}function BO(n){var{allowEscapeViewBox:e,coordinate:t,key:i,offset:r,position:s,reverseDirection:l,tooltipDimension:c,viewBox:d,viewBoxDimension:f}=n;if(s&&be(s[i]))return s[i];var h=t[i]-c-(r>0?r:0),p=t[i]+r;if(e[i])return l[i]?h:p;var g=d[i];if(g==null)return 0;if(l[i]){var y=h,S=g;return y<S?Math.max(p,g):Math.max(h,g)}if(f==null)return 0;var A=p+c,x=g+f;return A>x?Math.max(h,g):Math.max(p,g)}function UF(n){var{translateX:e,translateY:t,useTranslate3d:i}=n;return{transform:i?"translate3d(".concat(e,"px, ").concat(t,"px, 0)"):"translate(".concat(e,"px, ").concat(t,"px)")}}function HF(n){var{allowEscapeViewBox:e,coordinate:t,offsetTop:i,offsetLeft:r,position:s,reverseDirection:l,tooltipBox:c,useTranslate3d:d,viewBox:f}=n,h,p,g;return c.height>0&&c.width>0&&t?(p=BO({allowEscapeViewBox:e,coordinate:t,key:"x",offset:r,position:s,reverseDirection:l,tooltipDimension:c.width,viewBox:f,viewBoxDimension:f.width}),g=BO({allowEscapeViewBox:e,coordinate:t,key:"y",offset:i,position:s,reverseDirection:l,tooltipDimension:c.height,viewBox:f,viewBoxDimension:f.height}),h=UF({translateX:p,translateY:g,useTranslate3d:d})):h=zF,{cssProperties:h,cssClasses:FF({translateX:p,translateY:g,coordinate:t})}}function zO(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function ff(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?zO(Object(t),!0).forEach(function(i){M0(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):zO(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function M0(n,e,t){return(e=$F(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function $F(n){var e=qF(n,"string");return typeof e=="symbol"?e:e+""}function qF(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class GF extends C.PureComponent{constructor(){super(...arguments),M0(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),M0(this,"handleKeyDown",e=>{if(e.key==="Escape"){var t,i,r,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(t=(i=this.props.coordinate)===null||i===void 0?void 0:i.x)!==null&&t!==void 0?t:0,y:(r=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&r!==void 0?r:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,t;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((t=this.props.coordinate)===null||t===void 0?void 0:t.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:t,animationDuration:i,animationEasing:r,children:s,coordinate:l,hasPayload:c,isAnimationActive:d,offset:f,position:h,reverseDirection:p,useTranslate3d:g,viewBox:y,wrapperStyle:S,lastBoundingBox:A,innerRef:x,hasPortalFromProps:E}=this.props,O=typeof f=="number"?f:f.x,T=typeof f=="number"?f:f.y,{cssClasses:P,cssProperties:M}=HF({allowEscapeViewBox:t,coordinate:l,offsetLeft:O,offsetTop:T,position:h,reverseDirection:p,tooltipBox:{height:A.height,width:A.width},useTranslate3d:g,viewBox:y}),_=E?{}:ff(ff({transition:d&&e?"transform ".concat(i,"ms ").concat(r):void 0},M),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&c?"visible":"hidden",position:"absolute",top:0,left:0}),N=ff(ff({},_),{},{visibility:!this.state.dismissed&&e&&c?"visible":"hidden"},S);return C.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:P,style:N,ref:x},s)}}var lD=()=>{var n;return(n=ye(e=>e.rootProps.accessibilityLayer))!==null&&n!==void 0?n:!0};function _0(){return _0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},_0.apply(null,arguments)}function FO(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function UO(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?FO(Object(t),!0).forEach(function(i){VF(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):FO(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function VF(n,e,t){return(e=YF(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function YF(n){var e=XF(n,"string");return typeof e=="symbol"?e:e+""}function XF(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var HO={curveBasisClosed:O3,curveBasisOpen:T3,curveBasis:C3,curveBumpX:d3,curveBumpY:f3,curveLinearClosed:M3,curveLinear:Fh,curveMonotoneX:_3,curveMonotoneY:P3,curveNatural:D3,curveStep:L3,curveStepAfter:R3,curveStepBefore:N3},Jf=n=>Ke(n.x)&&Ke(n.y),$O=n=>n.base!=null&&Jf(n.base)&&Jf(n),wc=n=>n.x,Cc=n=>n.y,KF=(n,e)=>{if(typeof n=="function")return n;var t="curve".concat(fu(n));if((t==="curveMonotone"||t==="curveBump")&&e){var i=HO["".concat(t).concat(e==="vertical"?"Y":"X")];if(i)return i}return HO[t]||Fh},qO={connectNulls:!1,type:"linear"},WF=n=>{var{type:e=qO.type,points:t=[],baseLine:i,layout:r,connectNulls:s=qO.connectNulls}=n,l=KF(e,r),c=s?t.filter(Jf):t;if(Array.isArray(i)){var d,f=t.map((S,A)=>UO(UO({},S),{},{base:i[A]}));r==="vertical"?d=rf().y(Cc).x1(wc).x0(S=>S.base.x):d=rf().x(wc).y1(Cc).y0(S=>S.base.y);var h=d.defined($O).curve(l),p=s?f.filter($O):f;return h(p)}var g;r==="vertical"&&be(i)?g=rf().y(Cc).x1(wc).x0(i):be(i)?g=rf().x(wc).y1(Cc).y0(i):g=j_().x(wc).y(Cc);var y=g.defined(Jf).curve(l);return y(c)},Hb=n=>{var{className:e,points:t,path:i,pathRef:r}=n,s=fl();if((!t||!t.length)&&!i)return null;var l={type:n.type,points:n.points,baseLine:n.baseLine,layout:n.layout||s,connectNulls:n.connectNulls},c=t&&t.length?WF(l):i;return C.createElement("path",_0({},cr(n),rz(n),{className:et("recharts-curve",e),d:c===null?void 0:c,ref:r}))},ZF=["x","y","top","left","width","height","className"];function P0(){return P0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},P0.apply(null,arguments)}function GO(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function QF(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?GO(Object(t),!0).forEach(function(i){JF(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):GO(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function JF(n,e,t){return(e=e5(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function e5(n){var e=t5(n,"string");return typeof e=="symbol"?e:e+""}function t5(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function n5(n,e){if(n==null)return{};var t,i,r=i5(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function i5(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var r5=(n,e,t,i,r,s)=>"M".concat(n,",").concat(r,"v").concat(i,"M").concat(s,",").concat(e,"h").concat(t),a5=n=>{var{x:e=0,y:t=0,top:i=0,left:r=0,width:s=0,height:l=0,className:c}=n,d=n5(n,ZF),f=QF({x:e,y:t,top:i,left:r,width:s,height:l},d);return!be(e)||!be(t)||!be(s)||!be(l)||!be(i)||!be(r)?null:C.createElement("path",P0({},Di(f),{className:et("recharts-cross",c),d:r5(e,t,s,l,i,r)}))};function s5(n,e,t,i){var r=i/2;return{stroke:"none",fill:"#ccc",x:n==="horizontal"?e.x-r:t.left+.5,y:n==="horizontal"?t.top+.5:e.y-r,width:n==="horizontal"?i:t.width-1,height:n==="horizontal"?t.height-1:i}}function VO(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function YO(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?VO(Object(t),!0).forEach(function(i){o5(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):VO(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function o5(n,e,t){return(e=l5(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function l5(n){var e=c5(n,"string");return typeof e=="symbol"?e:e+""}function c5(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var u5=n=>n.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),cD=(n,e,t)=>n.map(i=>"".concat(u5(i)," ").concat(e,"ms ").concat(t)).join(","),d5=(n,e)=>[Object.keys(n),Object.keys(e)].reduce((t,i)=>t.filter(r=>i.includes(r))),Jc=(n,e)=>Object.keys(e).reduce((t,i)=>YO(YO({},t),{},{[i]:n(i,e[i])}),{});function XO(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Gt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?XO(Object(t),!0).forEach(function(i){f5(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):XO(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function f5(n,e,t){return(e=h5(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function h5(n){var e=p5(n,"string");return typeof e=="symbol"?e:e+""}function p5(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var eh=(n,e,t)=>n+(e-n)*t,D0=n=>{var{from:e,to:t}=n;return e!==t},uD=(n,e,t)=>{var i=Jc((r,s)=>{if(D0(s)){var[l,c]=n(s.from,s.to,s.velocity);return Gt(Gt({},s),{},{from:l,velocity:c})}return s},e);return t<1?Jc((r,s)=>D0(s)&&i[r]!=null?Gt(Gt({},s),{},{velocity:eh(s.velocity,i[r].velocity,t),from:eh(s.from,i[r].from,t)}):s,e):uD(n,i,t-1)};function m5(n,e,t,i,r,s){var l,c=i.reduce((g,y)=>Gt(Gt({},g),{},{[y]:{from:n[y],velocity:0,to:e[y]}}),{}),d=()=>Jc((g,y)=>y.from,c),f=()=>!Object.values(c).filter(D0).length,h=null,p=g=>{l||(l=g);var y=g-l,S=y/t.dt;c=uD(t,c,S),r(Gt(Gt(Gt({},n),e),d())),l=g,f()||(h=s.setTimeout(p))};return()=>(h=s.setTimeout(p),()=>{var g;(g=h)===null||g===void 0||g()})}function g5(n,e,t,i,r,s,l){var c=null,d=r.reduce((p,g)=>{var y=n[g],S=e[g];return y==null||S==null?p:Gt(Gt({},p),{},{[g]:[y,S]})},{}),f,h=p=>{f||(f=p);var g=(p-f)/i,y=Jc((A,x)=>eh(...x,t(g)),d);if(s(Gt(Gt(Gt({},n),e),y)),g<1)c=l.setTimeout(h);else{var S=Jc((A,x)=>eh(...x,t(1)),d);s(Gt(Gt(Gt({},n),e),S))}};return()=>(c=l.setTimeout(h),()=>{var p;(p=c)===null||p===void 0||p()})}const v5=(n,e,t,i,r,s)=>{var l=d5(n,e);return t==null?()=>(r(Gt(Gt({},n),e)),()=>{}):t.isStepper===!0?m5(n,e,t,l,r,s):g5(n,e,t,i,l,r,s)};var th=1e-4,dD=(n,e)=>[0,3*n,3*e-6*n,3*n-3*e+1],fD=(n,e)=>n.map((t,i)=>t*e**i).reduce((t,i)=>t+i),KO=(n,e)=>t=>{var i=dD(n,e);return fD(i,t)},y5=(n,e)=>t=>{var i=dD(n,e),r=[...i.map((s,l)=>s*l).slice(1),0];return fD(r,t)},b5=n=>{var e,t=n.split("(");if(t.length!==2||t[0]!=="cubic-bezier")return null;var i=(e=t[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(i==null||i.length!==4)return null;var r=i.map(s=>parseFloat(s));return[r[0],r[1],r[2],r[3]]},A5=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];if(t.length===1)switch(t[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var r=b5(t[0]);if(r)return r}}return t.length===4?t:[0,0,1,1]},S5=(n,e,t,i)=>{var r=KO(n,t),s=KO(e,i),l=y5(n,t),c=f=>f>1?1:f<0?0:f,d=f=>{for(var h=f>1?1:f,p=h,g=0;g<8;++g){var y=r(p)-h,S=l(p);if(Math.abs(y-h)<th||S<th)return s(p);p=c(p-y/S)}return s(p)};return d.isStepper=!1,d},WO=function(){return S5(...A5(...arguments))},x5=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:t=100,damping:i=8,dt:r=17}=e,s=(l,c,d)=>{var f=-(l-c)*t,h=d*i,p=d+(f-h)*r/1e3,g=d*r/1e3+l;return Math.abs(g-c)<th&&Math.abs(p)<th?[c,0]:[g,p]};return s.isStepper=!0,s.dt=r,s},E5=n=>{if(typeof n=="string")switch(n){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return WO(n);case"spring":return x5();default:if(n.split("(")[0]==="cubic-bezier")return WO(n)}return typeof n=="function"?n:null};function w5(n){var e,t=()=>null,i=!1,r=null,s=l=>{if(!i){if(Array.isArray(l)){if(!l.length)return;var c=l,[d,...f]=c;if(typeof d=="number"){r=n.setTimeout(s.bind(null,f),d);return}s(d),r=n.setTimeout(s.bind(null,f));return}typeof l=="string"&&(e=l,t(e)),typeof l=="object"&&(e=l,t(e)),typeof l=="function"&&l()}};return{stop:()=>{i=!0},start:l=>{i=!1,r&&(r(),r=null),s(l)},subscribe:l=>(t=l,()=>{t=()=>null}),getTimeoutController:()=>n}}class C5{setTimeout(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=performance.now(),r=null,s=l=>{l-i>=t?e(l):typeof requestAnimationFrame=="function"&&(r=requestAnimationFrame(s))};return r=requestAnimationFrame(s),()=>{r!=null&&cancelAnimationFrame(r)}}}function O5(){return w5(new C5)}var T5=C.createContext(O5);function M5(n,e){var t=C.useContext(T5);return C.useMemo(()=>e??t(n),[n,e,t])}var _5=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),op={isSsr:_5()},P5={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},ZO={t:0},hy={t:1};function lp(n){var e=An(n,P5),{isActive:t,canBegin:i,duration:r,easing:s,begin:l,onAnimationEnd:c,onAnimationStart:d,children:f}=e,h=t==="auto"?!op.isSsr:t,p=M5(e.animationId,e.animationManager),[g,y]=C.useState(h?ZO:hy),S=C.useRef(null);return C.useEffect(()=>{h||y(hy)},[h]),C.useEffect(()=>{if(!h||!i)return dl;var A=v5(ZO,hy,E5(s),r,y,p.getTimeoutController()),x=()=>{S.current=A()};return p.start([d,l,x,r,c]),()=>{p.stop(),S.current&&S.current(),c()}},[h,i,r,s,l,d,c,p]),f(g.t)}function cp(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",t=C.useRef(Vc(e)),i=C.useRef(n);return i.current!==n&&(t.current=Vc(e),i.current=n),t.current}var D5=["radius"],L5=["radius"],QO,JO,e2,t2,n2,i2,r2,a2,s2,o2;function l2(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function c2(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?l2(Object(t),!0).forEach(function(i){N5(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):l2(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function N5(n,e,t){return(e=R5(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function R5(n){var e=I5(n,"string");return typeof e=="symbol"?e:e+""}function I5(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function nh(){return nh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},nh.apply(null,arguments)}function u2(n,e){if(n==null)return{};var t,i,r=k5(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function k5(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function Ji(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}var d2=(n,e,t,i,r)=>{var s=za(t),l=za(i),c=Math.min(Math.abs(s)/2,Math.abs(l)/2),d=l>=0?1:-1,f=s>=0?1:-1,h=l>=0&&s>=0||l<0&&s<0?1:0,p;if(c>0&&Array.isArray(r)){for(var g=[0,0,0,0],y=0,S=4;y<S;y++){var A,x=(A=r[y])!==null&&A!==void 0?A:0;g[y]=x>c?c:x}p=Ot(QO||(QO=Ji(["M",",",""])),n,e+d*g[0]),g[0]>0&&(p+=Ot(JO||(JO=Ji(["A ",",",",0,0,",",",",",""])),g[0],g[0],h,n+f*g[0],e)),p+=Ot(e2||(e2=Ji(["L ",",",""])),n+t-f*g[1],e),g[1]>0&&(p+=Ot(t2||(t2=Ji(["A ",",",",0,0,",`,
        `,",",""])),g[1],g[1],h,n+t,e+d*g[1])),p+=Ot(n2||(n2=Ji(["L ",",",""])),n+t,e+i-d*g[2]),g[2]>0&&(p+=Ot(i2||(i2=Ji(["A ",",",",0,0,",`,
        `,",",""])),g[2],g[2],h,n+t-f*g[2],e+i)),p+=Ot(r2||(r2=Ji(["L ",",",""])),n+f*g[3],e+i),g[3]>0&&(p+=Ot(a2||(a2=Ji(["A ",",",",0,0,",`,
        `,",",""])),g[3],g[3],h,n,e+i-d*g[3])),p+="Z"}else if(c>0&&r===+r&&r>0){var E=Math.min(c,r);p=Ot(s2||(s2=Ji(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),n,e+d*E,E,E,h,n+f*E,e,n+t-f*E,e,E,E,h,n+t,e+d*E,n+t,e+i-d*E,E,E,h,n+t-f*E,e+i,n+f*E,e+i,E,E,h,n,e+i-d*E)}else p=Ot(o2||(o2=Ji(["M ",","," h "," v "," h "," Z"])),n,e,t,i,-t);return p},f2={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},hD=n=>{var e=An(n,f2),t=C.useRef(null),[i,r]=C.useState(-1);C.useEffect(()=>{if(t.current&&t.current.getTotalLength)try{var H=t.current.getTotalLength();H&&r(H)}catch{}},[]);var{x:s,y:l,width:c,height:d,radius:f,className:h}=e,{animationEasing:p,animationDuration:g,animationBegin:y,isAnimationActive:S,isUpdateAnimationActive:A}=e,x=C.useRef(c),E=C.useRef(d),O=C.useRef(s),T=C.useRef(l),P=C.useMemo(()=>({x:s,y:l,width:c,height:d,radius:f}),[s,l,c,d,f]),M=cp(P,"rectangle-");if(s!==+s||l!==+l||c!==+c||d!==+d||c===0||d===0)return null;var _=et("recharts-rectangle",h);if(!A){var N=Di(e),{radius:j}=N,F=u2(N,D5);return C.createElement("path",nh({},F,{x:za(s),y:za(l),width:za(c),height:za(d),radius:typeof f=="number"?f:void 0,className:_,d:d2(s,l,c,d,f)}))}var X=x.current,$=E.current,q=O.current,se=T.current,re="0px ".concat(i===-1?1:i,"px"),ce="".concat(i,"px 0px"),B=cD(["strokeDasharray"],g,typeof p=="string"?p:f2.animationEasing);return C.createElement(lp,{animationId:M,key:M,canBegin:i>0,duration:g,easing:p,isActive:A,begin:y},H=>{var ie=qt(X,c,H),le=qt($,d,H),pe=qt(q,s,H),I=qt(se,l,H);t.current&&(x.current=ie,E.current=le,O.current=pe,T.current=I);var K;S?H>0?K={transition:B,strokeDasharray:ce}:K={strokeDasharray:re}:K={strokeDasharray:ce};var ne=Di(e),{radius:oe}=ne,ve=u2(ne,L5);return C.createElement("path",nh({},ve,{radius:typeof f=="number"?f:void 0,className:_,d:d2(pe,I,ie,le,f),ref:t,style:c2(c2({},K),e.style)}))})};function h2(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function p2(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?h2(Object(t),!0).forEach(function(i){j5(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):h2(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function j5(n,e,t){return(e=B5(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function B5(n){var e=z5(n,"string");return typeof e=="symbol"?e:e+""}function z5(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var ih=Math.PI/180,F5=n=>n*180/Math.PI,Ft=(n,e,t,i)=>({x:n+Math.cos(-ih*i)*t,y:e+Math.sin(-ih*i)*t}),pD=function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(i.left||0)-(i.right||0)),Math.abs(t-(i.top||0)-(i.bottom||0)))/2},U5=(n,e)=>{var{x:t,y:i}=n,{x:r,y:s}=e;return Math.sqrt((t-r)**2+(i-s)**2)},H5=(n,e)=>{var{x:t,y:i}=n,{cx:r,cy:s}=e,l=U5({x:t,y:i},{x:r,y:s});if(l<=0)return{radius:l,angle:0};var c=(t-r)/l,d=Math.acos(c);return i>s&&(d=2*Math.PI-d),{radius:l,angle:F5(d),angleInRadian:d}},$5=n=>{var{startAngle:e,endAngle:t}=n,i=Math.floor(e/360),r=Math.floor(t/360),s=Math.min(i,r);return{startAngle:e-s*360,endAngle:t-s*360}},q5=(n,e)=>{var{startAngle:t,endAngle:i}=e,r=Math.floor(t/360),s=Math.floor(i/360),l=Math.min(r,s);return n+l*360},G5=(n,e)=>{var{chartX:t,chartY:i}=n,{radius:r,angle:s}=H5({x:t,y:i},e),{innerRadius:l,outerRadius:c}=e;if(r<l||r>c||r===0)return null;var{startAngle:d,endAngle:f}=$5(e),h=s,p;if(d<=f){for(;h>f;)h-=360;for(;h<d;)h+=360;p=h>=d&&h<=f}else{for(;h>d;)h-=360;for(;h<f;)h+=360;p=h>=f&&h<=d}return p?p2(p2({},e),{},{radius:r,angle:q5(h,e)}):null};function mD(n){var{cx:e,cy:t,radius:i,startAngle:r,endAngle:s}=n,l=Ft(e,t,i,r),c=Ft(e,t,i,s);return{points:[l,c],cx:e,cy:t,radius:i,startAngle:r,endAngle:s}}var m2,g2,v2,y2,b2,A2,S2;function L0(){return L0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},L0.apply(null,arguments)}function As(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}var V5=(n,e)=>{var t=bn(e-n),i=Math.min(Math.abs(e-n),359.999);return t*i},hf=n=>{var{cx:e,cy:t,radius:i,angle:r,sign:s,isExternal:l,cornerRadius:c,cornerIsExternal:d}=n,f=c*(l?1:-1)+i,h=Math.asin(c/f)/ih,p=d?r:r+s*h,g=Ft(e,t,f,p),y=Ft(e,t,i,p),S=d?r-s*h:r,A=Ft(e,t,f*Math.cos(h*ih),S);return{center:g,circleTangency:y,lineTangency:A,theta:h}},gD=n=>{var{cx:e,cy:t,innerRadius:i,outerRadius:r,startAngle:s,endAngle:l}=n,c=V5(s,l),d=s+c,f=Ft(e,t,r,s),h=Ft(e,t,r,d),p=Ot(m2||(m2=As(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),f.x,f.y,r,r,+(Math.abs(c)>180),+(s>d),h.x,h.y);if(i>0){var g=Ft(e,t,i,s),y=Ft(e,t,i,d);p+=Ot(g2||(g2=As(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),y.x,y.y,i,i,+(Math.abs(c)>180),+(s<=d),g.x,g.y)}else p+=Ot(v2||(v2=As(["L ",","," Z"])),e,t);return p},Y5=n=>{var{cx:e,cy:t,innerRadius:i,outerRadius:r,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:f}=n,h=bn(f-d),{circleTangency:p,lineTangency:g,theta:y}=hf({cx:e,cy:t,radius:r,angle:d,sign:h,cornerRadius:s,cornerIsExternal:c}),{circleTangency:S,lineTangency:A,theta:x}=hf({cx:e,cy:t,radius:r,angle:f,sign:-h,cornerRadius:s,cornerIsExternal:c}),E=c?Math.abs(d-f):Math.abs(d-f)-y-x;if(E<0)return l?Ot(y2||(y2=As(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),g.x,g.y,s,s,s*2,s,s,-s*2):gD({cx:e,cy:t,innerRadius:i,outerRadius:r,startAngle:d,endAngle:f});var O=Ot(b2||(b2=As(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),g.x,g.y,s,s,+(h<0),p.x,p.y,r,r,+(E>180),+(h<0),S.x,S.y,s,s,+(h<0),A.x,A.y);if(i>0){var{circleTangency:T,lineTangency:P,theta:M}=hf({cx:e,cy:t,radius:i,angle:d,sign:h,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),{circleTangency:_,lineTangency:N,theta:j}=hf({cx:e,cy:t,radius:i,angle:f,sign:-h,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),F=c?Math.abs(d-f):Math.abs(d-f)-M-j;if(F<0&&s===0)return"".concat(O,"L").concat(e,",").concat(t,"Z");O+=Ot(A2||(A2=As(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),N.x,N.y,s,s,+(h<0),_.x,_.y,i,i,+(F>180),+(h>0),T.x,T.y,s,s,+(h<0),P.x,P.y)}else O+=Ot(S2||(S2=As(["L",",","Z"])),e,t);return O},X5={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},vD=n=>{var e=An(n,X5),{cx:t,cy:i,innerRadius:r,outerRadius:s,cornerRadius:l,forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:h,className:p}=e;if(s<r||f===h)return null;var g=et("recharts-sector",p),y=s-r,S=Cn(l,y,0,!0),A;return S>0&&Math.abs(f-h)<360?A=Y5({cx:t,cy:i,innerRadius:r,outerRadius:s,cornerRadius:Math.min(S,y/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:h}):A=gD({cx:t,cy:i,innerRadius:r,outerRadius:s,startAngle:f,endAngle:h}),C.createElement("path",L0({},Di(e),{className:g,d:A}))};function K5(n,e,t){if(n==="horizontal")return[{x:e.x,y:t.top},{x:e.x,y:t.top+t.height}];if(n==="vertical")return[{x:t.left,y:e.y},{x:t.left+t.width,y:e.y}];if(Z_(e)){if(n==="centric"){var{cx:i,cy:r,innerRadius:s,outerRadius:l,angle:c}=e,d=Ft(i,r,s,c),f=Ft(i,r,l,c);return[{x:d.x,y:d.y},{x:f.x,y:f.y}]}return mD(e)}}var py={},my={},gy={},x2;function W5(){return x2||(x2=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=lP();function t(i){return e.isSymbol(i)?NaN:Number(i)}n.toNumber=t})(gy)),gy}var E2;function Z5(){return E2||(E2=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=W5();function t(i){return i?(i=e.toNumber(i),i===1/0||i===-1/0?(i<0?-1:1)*Number.MAX_VALUE:i===i?i:0):i===0?i:0}n.toFinite=t})(my)),my}var w2;function Q5(){return w2||(w2=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=cP(),t=Z5();function i(r,s,l){l&&typeof l!="number"&&e.isIterateeCall(r,s,l)&&(s=l=void 0),r=t.toFinite(r),s===void 0?(s=r,r=0):s=t.toFinite(s),l=l===void 0?r<s?1:-1:t.toFinite(l);const c=Math.max(Math.ceil((s-r)/(l||1)),0),d=new Array(c);for(let f=0;f<c;f++)d[f]=r,r+=l;return d}n.range=i})(py)),py}var vy,C2;function J5(){return C2||(C2=1,vy=Q5().range),vy}var eU=J5();const yD=Qr(eU);function Fa(n,e){return n==null||e==null?NaN:n<e?-1:n>e?1:n>=e?0:NaN}function tU(n,e){return n==null||e==null?NaN:e<n?-1:e>n?1:e>=n?0:NaN}function $b(n){let e,t,i;n.length!==2?(e=Fa,t=(c,d)=>Fa(n(c),d),i=(c,d)=>n(c)-d):(e=n===Fa||n===tU?n:nU,t=n,i=n);function r(c,d,f=0,h=c.length){if(f<h){if(e(d,d)!==0)return h;do{const p=f+h>>>1;t(c[p],d)<0?f=p+1:h=p}while(f<h)}return f}function s(c,d,f=0,h=c.length){if(f<h){if(e(d,d)!==0)return h;do{const p=f+h>>>1;t(c[p],d)<=0?f=p+1:h=p}while(f<h)}return f}function l(c,d,f=0,h=c.length){const p=r(c,d,f,h-1);return p>f&&i(c[p-1],d)>-i(c[p],d)?p-1:p}return{left:r,center:l,right:s}}function nU(){return 0}function bD(n){return n===null?NaN:+n}function*iU(n,e){for(let t of n)t!=null&&(t=+t)>=t&&(yield t)}const rU=$b(Fa),bu=rU.right;$b(bD).center;class O2 extends Map{constructor(e,t=oU){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),e!=null)for(const[i,r]of e)this.set(i,r)}get(e){return super.get(T2(this,e))}has(e){return super.has(T2(this,e))}set(e,t){return super.set(aU(this,e),t)}delete(e){return super.delete(sU(this,e))}}function T2({_intern:n,_key:e},t){const i=e(t);return n.has(i)?n.get(i):t}function aU({_intern:n,_key:e},t){const i=e(t);return n.has(i)?n.get(i):(n.set(i,t),t)}function sU({_intern:n,_key:e},t){const i=e(t);return n.has(i)&&(t=n.get(i),n.delete(i)),t}function oU(n){return n!==null&&typeof n=="object"?n.valueOf():n}function lU(n=Fa){if(n===Fa)return AD;if(typeof n!="function")throw new TypeError("compare is not a function");return(e,t)=>{const i=n(e,t);return i||i===0?i:(n(t,t)===0)-(n(e,e)===0)}}function AD(n,e){return(n==null||!(n>=n))-(e==null||!(e>=e))||(n<e?-1:n>e?1:0)}const cU=Math.sqrt(50),uU=Math.sqrt(10),dU=Math.sqrt(2);function rh(n,e,t){const i=(e-n)/Math.max(0,t),r=Math.floor(Math.log10(i)),s=i/Math.pow(10,r),l=s>=cU?10:s>=uU?5:s>=dU?2:1;let c,d,f;return r<0?(f=Math.pow(10,-r)/l,c=Math.round(n*f),d=Math.round(e*f),c/f<n&&++c,d/f>e&&--d,f=-f):(f=Math.pow(10,r)*l,c=Math.round(n/f),d=Math.round(e/f),c*f<n&&++c,d*f>e&&--d),d<c&&.5<=t&&t<2?rh(n,e,t*2):[c,d,f]}function N0(n,e,t){if(e=+e,n=+n,t=+t,!(t>0))return[];if(n===e)return[n];const i=e<n,[r,s,l]=i?rh(e,n,t):rh(n,e,t);if(!(s>=r))return[];const c=s-r+1,d=new Array(c);if(i)if(l<0)for(let f=0;f<c;++f)d[f]=(s-f)/-l;else for(let f=0;f<c;++f)d[f]=(s-f)*l;else if(l<0)for(let f=0;f<c;++f)d[f]=(r+f)/-l;else for(let f=0;f<c;++f)d[f]=(r+f)*l;return d}function R0(n,e,t){return e=+e,n=+n,t=+t,rh(n,e,t)[2]}function I0(n,e,t){e=+e,n=+n,t=+t;const i=e<n,r=i?R0(e,n,t):R0(n,e,t);return(i?-1:1)*(r<0?1/-r:r)}function M2(n,e){let t;for(const i of n)i!=null&&(t<i||t===void 0&&i>=i)&&(t=i);return t}function _2(n,e){let t;for(const i of n)i!=null&&(t>i||t===void 0&&i>=i)&&(t=i);return t}function SD(n,e,t=0,i=1/0,r){if(e=Math.floor(e),t=Math.floor(Math.max(0,t)),i=Math.floor(Math.min(n.length-1,i)),!(t<=e&&e<=i))return n;for(r=r===void 0?AD:lU(r);i>t;){if(i-t>600){const d=i-t+1,f=e-t+1,h=Math.log(d),p=.5*Math.exp(2*h/3),g=.5*Math.sqrt(h*p*(d-p)/d)*(f-d/2<0?-1:1),y=Math.max(t,Math.floor(e-f*p/d+g)),S=Math.min(i,Math.floor(e+(d-f)*p/d+g));SD(n,e,y,S,r)}const s=n[e];let l=t,c=i;for(Oc(n,t,e),r(n[i],s)>0&&Oc(n,t,i);l<c;){for(Oc(n,l,c),++l,--c;r(n[l],s)<0;)++l;for(;r(n[c],s)>0;)--c}r(n[t],s)===0?Oc(n,t,c):(++c,Oc(n,c,i)),c<=e&&(t=c+1),e<=c&&(i=c-1)}return n}function Oc(n,e,t){const i=n[e];n[e]=n[t],n[t]=i}function fU(n,e,t){if(n=Float64Array.from(iU(n)),!(!(i=n.length)||isNaN(e=+e))){if(e<=0||i<2)return _2(n);if(e>=1)return M2(n);var i,r=(i-1)*e,s=Math.floor(r),l=M2(SD(n,s).subarray(0,s+1)),c=_2(n.subarray(s+1));return l+(c-l)*(r-s)}}function hU(n,e,t=bD){if(!(!(i=n.length)||isNaN(e=+e))){if(e<=0||i<2)return+t(n[0],0,n);if(e>=1)return+t(n[i-1],i-1,n);var i,r=(i-1)*e,s=Math.floor(r),l=+t(n[s],s,n),c=+t(n[s+1],s+1,n);return l+(c-l)*(r-s)}}function pU(n,e,t){n=+n,e=+e,t=(r=arguments.length)<2?(e=n,n=0,1):r<3?1:+t;for(var i=-1,r=Math.max(0,Math.ceil((e-n)/t))|0,s=new Array(r);++i<r;)s[i]=n+i*t;return s}function Ri(n,e){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(e).domain(n);break}return this}function ta(n,e){switch(arguments.length){case 0:break;case 1:{typeof n=="function"?this.interpolator(n):this.range(n);break}default:{this.domain(n),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const k0=Symbol("implicit");function qb(){var n=new O2,e=[],t=[],i=k0;function r(s){let l=n.get(s);if(l===void 0){if(i!==k0)return i;n.set(s,l=e.push(s)-1)}return t[l%t.length]}return r.domain=function(s){if(!arguments.length)return e.slice();e=[],n=new O2;for(const l of s)n.has(l)||n.set(l,e.push(l)-1);return r},r.range=function(s){return arguments.length?(t=Array.from(s),r):t.slice()},r.unknown=function(s){return arguments.length?(i=s,r):i},r.copy=function(){return qb(e,t).unknown(i)},Ri.apply(r,arguments),r}function Gb(){var n=qb().unknown(void 0),e=n.domain,t=n.range,i=0,r=1,s,l,c=!1,d=0,f=0,h=.5;delete n.unknown;function p(){var g=e().length,y=r<i,S=y?r:i,A=y?i:r;s=(A-S)/Math.max(1,g-d+f*2),c&&(s=Math.floor(s)),S+=(A-S-s*(g-d))*h,l=s*(1-d),c&&(S=Math.round(S),l=Math.round(l));var x=pU(g).map(function(E){return S+s*E});return t(y?x.reverse():x)}return n.domain=function(g){return arguments.length?(e(g),p()):e()},n.range=function(g){return arguments.length?([i,r]=g,i=+i,r=+r,p()):[i,r]},n.rangeRound=function(g){return[i,r]=g,i=+i,r=+r,c=!0,p()},n.bandwidth=function(){return l},n.step=function(){return s},n.round=function(g){return arguments.length?(c=!!g,p()):c},n.padding=function(g){return arguments.length?(d=Math.min(1,f=+g),p()):d},n.paddingInner=function(g){return arguments.length?(d=Math.min(1,g),p()):d},n.paddingOuter=function(g){return arguments.length?(f=+g,p()):f},n.align=function(g){return arguments.length?(h=Math.max(0,Math.min(1,g)),p()):h},n.copy=function(){return Gb(e(),[i,r]).round(c).paddingInner(d).paddingOuter(f).align(h)},Ri.apply(p(),arguments)}function xD(n){var e=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,delete n.paddingOuter,n.copy=function(){return xD(e())},n}function mU(){return xD(Gb.apply(null,arguments).paddingInner(1))}function Vb(n,e,t){n.prototype=e.prototype=t,t.constructor=n}function ED(n,e){var t=Object.create(n.prototype);for(var i in e)t[i]=e[i];return t}function Au(){}var eu=.7,ah=1/eu,Jo="\\s*([+-]?\\d+)\\s*",tu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",or="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",gU=/^#([0-9a-f]{3,8})$/,vU=new RegExp(`^rgb\\(${Jo},${Jo},${Jo}\\)$`),yU=new RegExp(`^rgb\\(${or},${or},${or}\\)$`),bU=new RegExp(`^rgba\\(${Jo},${Jo},${Jo},${tu}\\)$`),AU=new RegExp(`^rgba\\(${or},${or},${or},${tu}\\)$`),SU=new RegExp(`^hsl\\(${tu},${or},${or}\\)$`),xU=new RegExp(`^hsla\\(${tu},${or},${or},${tu}\\)$`),P2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Vb(Au,nu,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:D2,formatHex:D2,formatHex8:EU,formatHsl:wU,formatRgb:L2,toString:L2});function D2(){return this.rgb().formatHex()}function EU(){return this.rgb().formatHex8()}function wU(){return wD(this).formatHsl()}function L2(){return this.rgb().formatRgb()}function nu(n){var e,t;return n=(n+"").trim().toLowerCase(),(e=gU.exec(n))?(t=e[1].length,e=parseInt(e[1],16),t===6?N2(e):t===3?new qn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):t===8?pf(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):t===4?pf(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=vU.exec(n))?new qn(e[1],e[2],e[3],1):(e=yU.exec(n))?new qn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=bU.exec(n))?pf(e[1],e[2],e[3],e[4]):(e=AU.exec(n))?pf(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=SU.exec(n))?k2(e[1],e[2]/100,e[3]/100,1):(e=xU.exec(n))?k2(e[1],e[2]/100,e[3]/100,e[4]):P2.hasOwnProperty(n)?N2(P2[n]):n==="transparent"?new qn(NaN,NaN,NaN,0):null}function N2(n){return new qn(n>>16&255,n>>8&255,n&255,1)}function pf(n,e,t,i){return i<=0&&(n=e=t=NaN),new qn(n,e,t,i)}function CU(n){return n instanceof Au||(n=nu(n)),n?(n=n.rgb(),new qn(n.r,n.g,n.b,n.opacity)):new qn}function j0(n,e,t,i){return arguments.length===1?CU(n):new qn(n,e,t,i??1)}function qn(n,e,t,i){this.r=+n,this.g=+e,this.b=+t,this.opacity=+i}Vb(qn,j0,ED(Au,{brighter(n){return n=n==null?ah:Math.pow(ah,n),new qn(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?eu:Math.pow(eu,n),new qn(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new qn(Ts(this.r),Ts(this.g),Ts(this.b),sh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:R2,formatHex:R2,formatHex8:OU,formatRgb:I2,toString:I2}));function R2(){return`#${Ss(this.r)}${Ss(this.g)}${Ss(this.b)}`}function OU(){return`#${Ss(this.r)}${Ss(this.g)}${Ss(this.b)}${Ss((isNaN(this.opacity)?1:this.opacity)*255)}`}function I2(){const n=sh(this.opacity);return`${n===1?"rgb(":"rgba("}${Ts(this.r)}, ${Ts(this.g)}, ${Ts(this.b)}${n===1?")":`, ${n})`}`}function sh(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function Ts(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function Ss(n){return n=Ts(n),(n<16?"0":"")+n.toString(16)}function k2(n,e,t,i){return i<=0?n=e=t=NaN:t<=0||t>=1?n=e=NaN:e<=0&&(n=NaN),new Ui(n,e,t,i)}function wD(n){if(n instanceof Ui)return new Ui(n.h,n.s,n.l,n.opacity);if(n instanceof Au||(n=nu(n)),!n)return new Ui;if(n instanceof Ui)return n;n=n.rgb();var e=n.r/255,t=n.g/255,i=n.b/255,r=Math.min(e,t,i),s=Math.max(e,t,i),l=NaN,c=s-r,d=(s+r)/2;return c?(e===s?l=(t-i)/c+(t<i)*6:t===s?l=(i-e)/c+2:l=(e-t)/c+4,c/=d<.5?s+r:2-s-r,l*=60):c=d>0&&d<1?0:l,new Ui(l,c,d,n.opacity)}function TU(n,e,t,i){return arguments.length===1?wD(n):new Ui(n,e,t,i??1)}function Ui(n,e,t,i){this.h=+n,this.s=+e,this.l=+t,this.opacity=+i}Vb(Ui,TU,ED(Au,{brighter(n){return n=n==null?ah:Math.pow(ah,n),new Ui(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?eu:Math.pow(eu,n),new Ui(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,e=isNaN(n)||isNaN(this.s)?0:this.s,t=this.l,i=t+(t<.5?t:1-t)*e,r=2*t-i;return new qn(yy(n>=240?n-240:n+120,r,i),yy(n,r,i),yy(n<120?n+240:n-120,r,i),this.opacity)},clamp(){return new Ui(j2(this.h),mf(this.s),mf(this.l),sh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=sh(this.opacity);return`${n===1?"hsl(":"hsla("}${j2(this.h)}, ${mf(this.s)*100}%, ${mf(this.l)*100}%${n===1?")":`, ${n})`}`}}));function j2(n){return n=(n||0)%360,n<0?n+360:n}function mf(n){return Math.max(0,Math.min(1,n||0))}function yy(n,e,t){return(n<60?e+(t-e)*n/60:n<180?t:n<240?e+(t-e)*(240-n)/60:e)*255}const Yb=n=>()=>n;function MU(n,e){return function(t){return n+t*e}}function _U(n,e,t){return n=Math.pow(n,t),e=Math.pow(e,t)-n,t=1/t,function(i){return Math.pow(n+i*e,t)}}function PU(n){return(n=+n)==1?CD:function(e,t){return t-e?_U(e,t,n):Yb(isNaN(e)?t:e)}}function CD(n,e){var t=e-n;return t?MU(n,t):Yb(isNaN(n)?e:n)}const B2=(function n(e){var t=PU(e);function i(r,s){var l=t((r=j0(r)).r,(s=j0(s)).r),c=t(r.g,s.g),d=t(r.b,s.b),f=CD(r.opacity,s.opacity);return function(h){return r.r=l(h),r.g=c(h),r.b=d(h),r.opacity=f(h),r+""}}return i.gamma=n,i})(1);function DU(n,e){e||(e=[]);var t=n?Math.min(e.length,n.length):0,i=e.slice(),r;return function(s){for(r=0;r<t;++r)i[r]=n[r]*(1-s)+e[r]*s;return i}}function LU(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function NU(n,e){var t=e?e.length:0,i=n?Math.min(t,n.length):0,r=new Array(i),s=new Array(t),l;for(l=0;l<i;++l)r[l]=hl(n[l],e[l]);for(;l<t;++l)s[l]=e[l];return function(c){for(l=0;l<i;++l)s[l]=r[l](c);return s}}function RU(n,e){var t=new Date;return n=+n,e=+e,function(i){return t.setTime(n*(1-i)+e*i),t}}function oh(n,e){return n=+n,e=+e,function(t){return n*(1-t)+e*t}}function IU(n,e){var t={},i={},r;(n===null||typeof n!="object")&&(n={}),(e===null||typeof e!="object")&&(e={});for(r in e)r in n?t[r]=hl(n[r],e[r]):i[r]=e[r];return function(s){for(r in t)i[r]=t[r](s);return i}}var B0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,by=new RegExp(B0.source,"g");function kU(n){return function(){return n}}function jU(n){return function(e){return n(e)+""}}function BU(n,e){var t=B0.lastIndex=by.lastIndex=0,i,r,s,l=-1,c=[],d=[];for(n=n+"",e=e+"";(i=B0.exec(n))&&(r=by.exec(e));)(s=r.index)>t&&(s=e.slice(t,s),c[l]?c[l]+=s:c[++l]=s),(i=i[0])===(r=r[0])?c[l]?c[l]+=r:c[++l]=r:(c[++l]=null,d.push({i:l,x:oh(i,r)})),t=by.lastIndex;return t<e.length&&(s=e.slice(t),c[l]?c[l]+=s:c[++l]=s),c.length<2?d[0]?jU(d[0].x):kU(e):(e=d.length,function(f){for(var h=0,p;h<e;++h)c[(p=d[h]).i]=p.x(f);return c.join("")})}function hl(n,e){var t=typeof e,i;return e==null||t==="boolean"?Yb(e):(t==="number"?oh:t==="string"?(i=nu(e))?(e=i,B2):BU:e instanceof nu?B2:e instanceof Date?RU:LU(e)?DU:Array.isArray(e)?NU:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?IU:oh)(n,e)}function Xb(n,e){return n=+n,e=+e,function(t){return Math.round(n*(1-t)+e*t)}}function zU(n,e){e===void 0&&(e=n,n=hl);for(var t=0,i=e.length-1,r=e[0],s=new Array(i<0?0:i);t<i;)s[t]=n(r,r=e[++t]);return function(l){var c=Math.max(0,Math.min(i-1,Math.floor(l*=i)));return s[c](l-c)}}function FU(n){return function(){return n}}function lh(n){return+n}var z2=[0,1];function _n(n){return n}function z0(n,e){return(e-=n=+n)?function(t){return(t-n)/e}:FU(isNaN(e)?NaN:.5)}function UU(n,e){var t;return n>e&&(t=n,n=e,e=t),function(i){return Math.max(n,Math.min(e,i))}}function HU(n,e,t){var i=n[0],r=n[1],s=e[0],l=e[1];return r<i?(i=z0(r,i),s=t(l,s)):(i=z0(i,r),s=t(s,l)),function(c){return s(i(c))}}function $U(n,e,t){var i=Math.min(n.length,e.length)-1,r=new Array(i),s=new Array(i),l=-1;for(n[i]<n[0]&&(n=n.slice().reverse(),e=e.slice().reverse());++l<i;)r[l]=z0(n[l],n[l+1]),s[l]=t(e[l],e[l+1]);return function(c){var d=bu(n,c,1,i)-1;return s[d](r[d](c))}}function Su(n,e){return e.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function up(){var n=z2,e=z2,t=hl,i,r,s,l=_n,c,d,f;function h(){var g=Math.min(n.length,e.length);return l!==_n&&(l=UU(n[0],n[g-1])),c=g>2?$U:HU,d=f=null,p}function p(g){return g==null||isNaN(g=+g)?s:(d||(d=c(n.map(i),e,t)))(i(l(g)))}return p.invert=function(g){return l(r((f||(f=c(e,n.map(i),oh)))(g)))},p.domain=function(g){return arguments.length?(n=Array.from(g,lh),h()):n.slice()},p.range=function(g){return arguments.length?(e=Array.from(g),h()):e.slice()},p.rangeRound=function(g){return e=Array.from(g),t=Xb,h()},p.clamp=function(g){return arguments.length?(l=g?!0:_n,h()):l!==_n},p.interpolate=function(g){return arguments.length?(t=g,h()):t},p.unknown=function(g){return arguments.length?(s=g,p):s},function(g,y){return i=g,r=y,h()}}function Kb(){return up()(_n,_n)}function qU(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function ch(n,e){if(!isFinite(n)||n===0)return null;var t=(n=e?n.toExponential(e-1):n.toExponential()).indexOf("e"),i=n.slice(0,t);return[i.length>1?i[0]+i.slice(2):i,+n.slice(t+1)]}function al(n){return n=ch(Math.abs(n)),n?n[1]:NaN}function GU(n,e){return function(t,i){for(var r=t.length,s=[],l=0,c=n[0],d=0;r>0&&c>0&&(d+c+1>i&&(c=Math.max(1,i-d)),s.push(t.substring(r-=c,r+c)),!((d+=c+1)>i));)c=n[l=(l+1)%n.length];return s.reverse().join(e)}}function VU(n){return function(e){return e.replace(/[0-9]/g,function(t){return n[+t]})}}var YU=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function iu(n){if(!(e=YU.exec(n)))throw new Error("invalid format: "+n);var e;return new Wb({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}iu.prototype=Wb.prototype;function Wb(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}Wb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function XU(n){e:for(var e=n.length,t=1,i=-1,r;t<e;++t)switch(n[t]){case".":i=r=t;break;case"0":i===0&&(i=t),r=t;break;default:if(!+n[t])break e;i>0&&(i=0);break}return i>0?n.slice(0,i)+n.slice(r+1):n}var uh;function KU(n,e){var t=ch(n,e);if(!t)return uh=void 0,n.toPrecision(e);var i=t[0],r=t[1],s=r-(uh=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,l=i.length;return s===l?i:s>l?i+new Array(s-l+1).join("0"):s>0?i.slice(0,s)+"."+i.slice(s):"0."+new Array(1-s).join("0")+ch(n,Math.max(0,e+s-1))[0]}function F2(n,e){var t=ch(n,e);if(!t)return n+"";var i=t[0],r=t[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}const U2={"%":(n,e)=>(n*100).toFixed(e),b:n=>Math.round(n).toString(2),c:n=>n+"",d:qU,e:(n,e)=>n.toExponential(e),f:(n,e)=>n.toFixed(e),g:(n,e)=>n.toPrecision(e),o:n=>Math.round(n).toString(8),p:(n,e)=>F2(n*100,e),r:F2,s:KU,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function H2(n){return n}var $2=Array.prototype.map,q2=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function WU(n){var e=n.grouping===void 0||n.thousands===void 0?H2:GU($2.call(n.grouping,Number),n.thousands+""),t=n.currency===void 0?"":n.currency[0]+"",i=n.currency===void 0?"":n.currency[1]+"",r=n.decimal===void 0?".":n.decimal+"",s=n.numerals===void 0?H2:VU($2.call(n.numerals,String)),l=n.percent===void 0?"%":n.percent+"",c=n.minus===void 0?"":n.minus+"",d=n.nan===void 0?"NaN":n.nan+"";function f(p,g){p=iu(p);var y=p.fill,S=p.align,A=p.sign,x=p.symbol,E=p.zero,O=p.width,T=p.comma,P=p.precision,M=p.trim,_=p.type;_==="n"?(T=!0,_="g"):U2[_]||(P===void 0&&(P=12),M=!0,_="g"),(E||y==="0"&&S==="=")&&(E=!0,y="0",S="=");var N=(g&&g.prefix!==void 0?g.prefix:"")+(x==="$"?t:x==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():""),j=(x==="$"?i:/[%p]/.test(_)?l:"")+(g&&g.suffix!==void 0?g.suffix:""),F=U2[_],X=/[defgprs%]/.test(_);P=P===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,P)):Math.max(0,Math.min(20,P));function $(q){var se=N,re=j,ce,B,H;if(_==="c")re=F(q)+re,q="";else{q=+q;var ie=q<0||1/q<0;if(q=isNaN(q)?d:F(Math.abs(q),P),M&&(q=XU(q)),ie&&+q==0&&A!=="+"&&(ie=!1),se=(ie?A==="("?A:c:A==="-"||A==="("?"":A)+se,re=(_==="s"&&!isNaN(q)&&uh!==void 0?q2[8+uh/3]:"")+re+(ie&&A==="("?")":""),X){for(ce=-1,B=q.length;++ce<B;)if(H=q.charCodeAt(ce),48>H||H>57){re=(H===46?r+q.slice(ce+1):q.slice(ce))+re,q=q.slice(0,ce);break}}}T&&!E&&(q=e(q,1/0));var le=se.length+q.length+re.length,pe=le<O?new Array(O-le+1).join(y):"";switch(T&&E&&(q=e(pe+q,pe.length?O-re.length:1/0),pe=""),S){case"<":q=se+q+re+pe;break;case"=":q=se+pe+q+re;break;case"^":q=pe.slice(0,le=pe.length>>1)+se+q+re+pe.slice(le);break;default:q=pe+se+q+re;break}return s(q)}return $.toString=function(){return p+""},$}function h(p,g){var y=Math.max(-8,Math.min(8,Math.floor(al(g)/3)))*3,S=Math.pow(10,-y),A=f((p=iu(p),p.type="f",p),{suffix:q2[8+y/3]});return function(x){return A(S*x)}}return{format:f,formatPrefix:h}}var gf,Zb,OD;ZU({thousands:",",grouping:[3],currency:["$",""]});function ZU(n){return gf=WU(n),Zb=gf.format,OD=gf.formatPrefix,gf}function QU(n){return Math.max(0,-al(Math.abs(n)))}function JU(n,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(al(e)/3)))*3-al(Math.abs(n)))}function eH(n,e){return n=Math.abs(n),e=Math.abs(e)-n,Math.max(0,al(e)-al(n))+1}function TD(n,e,t,i){var r=I0(n,e,t),s;switch(i=iu(i??",f"),i.type){case"s":{var l=Math.max(Math.abs(n),Math.abs(e));return i.precision==null&&!isNaN(s=JU(r,l))&&(i.precision=s),OD(i,l)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(s=eH(r,Math.max(Math.abs(n),Math.abs(e))))&&(i.precision=s-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(s=QU(r))&&(i.precision=s-(i.type==="%")*2);break}}return Zb(i)}function Ya(n){var e=n.domain;return n.ticks=function(t){var i=e();return N0(i[0],i[i.length-1],t??10)},n.tickFormat=function(t,i){var r=e();return TD(r[0],r[r.length-1],t??10,i)},n.nice=function(t){t==null&&(t=10);var i=e(),r=0,s=i.length-1,l=i[r],c=i[s],d,f,h=10;for(c<l&&(f=l,l=c,c=f,f=r,r=s,s=f);h-- >0;){if(f=R0(l,c,t),f===d)return i[r]=l,i[s]=c,e(i);if(f>0)l=Math.floor(l/f)*f,c=Math.ceil(c/f)*f;else if(f<0)l=Math.ceil(l*f)/f,c=Math.floor(c*f)/f;else break;d=f}return n},n}function MD(){var n=Kb();return n.copy=function(){return Su(n,MD())},Ri.apply(n,arguments),Ya(n)}function _D(n){var e;function t(i){return i==null||isNaN(i=+i)?e:i}return t.invert=t,t.domain=t.range=function(i){return arguments.length?(n=Array.from(i,lh),t):n.slice()},t.unknown=function(i){return arguments.length?(e=i,t):e},t.copy=function(){return _D(n).unknown(e)},n=arguments.length?Array.from(n,lh):[0,1],Ya(t)}function PD(n,e){n=n.slice();var t=0,i=n.length-1,r=n[t],s=n[i],l;return s<r&&(l=t,t=i,i=l,l=r,r=s,s=l),n[t]=e.floor(r),n[i]=e.ceil(s),n}function G2(n){return Math.log(n)}function V2(n){return Math.exp(n)}function tH(n){return-Math.log(-n)}function nH(n){return-Math.exp(-n)}function iH(n){return isFinite(n)?+("1e"+n):n<0?0:n}function rH(n){return n===10?iH:n===Math.E?Math.exp:e=>Math.pow(n,e)}function aH(n){return n===Math.E?Math.log:n===10&&Math.log10||n===2&&Math.log2||(n=Math.log(n),e=>Math.log(e)/n)}function Y2(n){return(e,t)=>-n(-e,t)}function Qb(n){const e=n(G2,V2),t=e.domain;let i=10,r,s;function l(){return r=aH(i),s=rH(i),t()[0]<0?(r=Y2(r),s=Y2(s),n(tH,nH)):n(G2,V2),e}return e.base=function(c){return arguments.length?(i=+c,l()):i},e.domain=function(c){return arguments.length?(t(c),l()):t()},e.ticks=c=>{const d=t();let f=d[0],h=d[d.length-1];const p=h<f;p&&([f,h]=[h,f]);let g=r(f),y=r(h),S,A;const x=c==null?10:+c;let E=[];if(!(i%1)&&y-g<x){if(g=Math.floor(g),y=Math.ceil(y),f>0){for(;g<=y;++g)for(S=1;S<i;++S)if(A=g<0?S/s(-g):S*s(g),!(A<f)){if(A>h)break;E.push(A)}}else for(;g<=y;++g)for(S=i-1;S>=1;--S)if(A=g>0?S/s(-g):S*s(g),!(A<f)){if(A>h)break;E.push(A)}E.length*2<x&&(E=N0(f,h,x))}else E=N0(g,y,Math.min(y-g,x)).map(s);return p?E.reverse():E},e.tickFormat=(c,d)=>{if(c==null&&(c=10),d==null&&(d=i===10?"s":","),typeof d!="function"&&(!(i%1)&&(d=iu(d)).precision==null&&(d.trim=!0),d=Zb(d)),c===1/0)return d;const f=Math.max(1,i*c/e.ticks().length);return h=>{let p=h/s(Math.round(r(h)));return p*i<i-.5&&(p*=i),p<=f?d(h):""}},e.nice=()=>t(PD(t(),{floor:c=>s(Math.floor(r(c))),ceil:c=>s(Math.ceil(r(c)))})),e}function DD(){const n=Qb(up()).domain([1,10]);return n.copy=()=>Su(n,DD()).base(n.base()),Ri.apply(n,arguments),n}function X2(n){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/n))}}function K2(n){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*n}}function Jb(n){var e=1,t=n(X2(e),K2(e));return t.constant=function(i){return arguments.length?n(X2(e=+i),K2(e)):e},Ya(t)}function LD(){var n=Jb(up());return n.copy=function(){return Su(n,LD()).constant(n.constant())},Ri.apply(n,arguments)}function W2(n){return function(e){return e<0?-Math.pow(-e,n):Math.pow(e,n)}}function sH(n){return n<0?-Math.sqrt(-n):Math.sqrt(n)}function oH(n){return n<0?-n*n:n*n}function eA(n){var e=n(_n,_n),t=1;function i(){return t===1?n(_n,_n):t===.5?n(sH,oH):n(W2(t),W2(1/t))}return e.exponent=function(r){return arguments.length?(t=+r,i()):t},Ya(e)}function tA(){var n=eA(up());return n.copy=function(){return Su(n,tA()).exponent(n.exponent())},Ri.apply(n,arguments),n}function lH(){return tA.apply(null,arguments).exponent(.5)}function Z2(n){return Math.sign(n)*n*n}function cH(n){return Math.sign(n)*Math.sqrt(Math.abs(n))}function ND(){var n=Kb(),e=[0,1],t=!1,i;function r(s){var l=cH(n(s));return isNaN(l)?i:t?Math.round(l):l}return r.invert=function(s){return n.invert(Z2(s))},r.domain=function(s){return arguments.length?(n.domain(s),r):n.domain()},r.range=function(s){return arguments.length?(n.range((e=Array.from(s,lh)).map(Z2)),r):e.slice()},r.rangeRound=function(s){return r.range(s).round(!0)},r.round=function(s){return arguments.length?(t=!!s,r):t},r.clamp=function(s){return arguments.length?(n.clamp(s),r):n.clamp()},r.unknown=function(s){return arguments.length?(i=s,r):i},r.copy=function(){return ND(n.domain(),e).round(t).clamp(n.clamp()).unknown(i)},Ri.apply(r,arguments),Ya(r)}function RD(){var n=[],e=[],t=[],i;function r(){var l=0,c=Math.max(1,e.length);for(t=new Array(c-1);++l<c;)t[l-1]=hU(n,l/c);return s}function s(l){return l==null||isNaN(l=+l)?i:e[bu(t,l)]}return s.invertExtent=function(l){var c=e.indexOf(l);return c<0?[NaN,NaN]:[c>0?t[c-1]:n[0],c<t.length?t[c]:n[n.length-1]]},s.domain=function(l){if(!arguments.length)return n.slice();n=[];for(let c of l)c!=null&&!isNaN(c=+c)&&n.push(c);return n.sort(Fa),r()},s.range=function(l){return arguments.length?(e=Array.from(l),r()):e.slice()},s.unknown=function(l){return arguments.length?(i=l,s):i},s.quantiles=function(){return t.slice()},s.copy=function(){return RD().domain(n).range(e).unknown(i)},Ri.apply(s,arguments)}function ID(){var n=0,e=1,t=1,i=[.5],r=[0,1],s;function l(d){return d!=null&&d<=d?r[bu(i,d,0,t)]:s}function c(){var d=-1;for(i=new Array(t);++d<t;)i[d]=((d+1)*e-(d-t)*n)/(t+1);return l}return l.domain=function(d){return arguments.length?([n,e]=d,n=+n,e=+e,c()):[n,e]},l.range=function(d){return arguments.length?(t=(r=Array.from(d)).length-1,c()):r.slice()},l.invertExtent=function(d){var f=r.indexOf(d);return f<0?[NaN,NaN]:f<1?[n,i[0]]:f>=t?[i[t-1],e]:[i[f-1],i[f]]},l.unknown=function(d){return arguments.length&&(s=d),l},l.thresholds=function(){return i.slice()},l.copy=function(){return ID().domain([n,e]).range(r).unknown(s)},Ri.apply(Ya(l),arguments)}function kD(){var n=[.5],e=[0,1],t,i=1;function r(s){return s!=null&&s<=s?e[bu(n,s,0,i)]:t}return r.domain=function(s){return arguments.length?(n=Array.from(s),i=Math.min(n.length,e.length-1),r):n.slice()},r.range=function(s){return arguments.length?(e=Array.from(s),i=Math.min(n.length,e.length-1),r):e.slice()},r.invertExtent=function(s){var l=e.indexOf(s);return[n[l-1],n[l]]},r.unknown=function(s){return arguments.length?(t=s,r):t},r.copy=function(){return kD().domain(n).range(e).unknown(t)},Ri.apply(r,arguments)}const Ay=new Date,Sy=new Date;function Xt(n,e,t,i){function r(s){return n(s=arguments.length===0?new Date:new Date(+s)),s}return r.floor=s=>(n(s=new Date(+s)),s),r.ceil=s=>(n(s=new Date(s-1)),e(s,1),n(s),s),r.round=s=>{const l=r(s),c=r.ceil(s);return s-l<c-s?l:c},r.offset=(s,l)=>(e(s=new Date(+s),l==null?1:Math.floor(l)),s),r.range=(s,l,c)=>{const d=[];if(s=r.ceil(s),c=c==null?1:Math.floor(c),!(s<l)||!(c>0))return d;let f;do d.push(f=new Date(+s)),e(s,c),n(s);while(f<s&&s<l);return d},r.filter=s=>Xt(l=>{if(l>=l)for(;n(l),!s(l);)l.setTime(l-1)},(l,c)=>{if(l>=l)if(c<0)for(;++c<=0;)for(;e(l,-1),!s(l););else for(;--c>=0;)for(;e(l,1),!s(l););}),t&&(r.count=(s,l)=>(Ay.setTime(+s),Sy.setTime(+l),n(Ay),n(Sy),Math.floor(t(Ay,Sy))),r.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?r.filter(i?l=>i(l)%s===0:l=>r.count(0,l)%s===0):r)),r}const dh=Xt(()=>{},(n,e)=>{n.setTime(+n+e)},(n,e)=>e-n);dh.every=n=>(n=Math.floor(n),!isFinite(n)||!(n>0)?null:n>1?Xt(e=>{e.setTime(Math.floor(e/n)*n)},(e,t)=>{e.setTime(+e+t*n)},(e,t)=>(t-e)/n):dh);dh.range;const Hr=1e3,_i=Hr*60,$r=_i*60,Vr=$r*24,nA=Vr*7,Q2=Vr*30,xy=Vr*365,xs=Xt(n=>{n.setTime(n-n.getMilliseconds())},(n,e)=>{n.setTime(+n+e*Hr)},(n,e)=>(e-n)/Hr,n=>n.getUTCSeconds());xs.range;const iA=Xt(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*Hr)},(n,e)=>{n.setTime(+n+e*_i)},(n,e)=>(e-n)/_i,n=>n.getMinutes());iA.range;const rA=Xt(n=>{n.setUTCSeconds(0,0)},(n,e)=>{n.setTime(+n+e*_i)},(n,e)=>(e-n)/_i,n=>n.getUTCMinutes());rA.range;const aA=Xt(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*Hr-n.getMinutes()*_i)},(n,e)=>{n.setTime(+n+e*$r)},(n,e)=>(e-n)/$r,n=>n.getHours());aA.range;const sA=Xt(n=>{n.setUTCMinutes(0,0,0)},(n,e)=>{n.setTime(+n+e*$r)},(n,e)=>(e-n)/$r,n=>n.getUTCHours());sA.range;const xu=Xt(n=>n.setHours(0,0,0,0),(n,e)=>n.setDate(n.getDate()+e),(n,e)=>(e-n-(e.getTimezoneOffset()-n.getTimezoneOffset())*_i)/Vr,n=>n.getDate()-1);xu.range;const dp=Xt(n=>{n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e)},(n,e)=>(e-n)/Vr,n=>n.getUTCDate()-1);dp.range;const jD=Xt(n=>{n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e)},(n,e)=>(e-n)/Vr,n=>Math.floor(n/Vr));jD.range;function $s(n){return Xt(e=>{e.setDate(e.getDate()-(e.getDay()+7-n)%7),e.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+t*7)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*_i)/nA)}const fp=$s(0),fh=$s(1),uH=$s(2),dH=$s(3),sl=$s(4),fH=$s(5),hH=$s(6);fp.range;fh.range;uH.range;dH.range;sl.range;fH.range;hH.range;function qs(n){return Xt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-n)%7),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t*7)},(e,t)=>(t-e)/nA)}const hp=qs(0),hh=qs(1),pH=qs(2),mH=qs(3),ol=qs(4),gH=qs(5),vH=qs(6);hp.range;hh.range;pH.range;mH.range;ol.range;gH.range;vH.range;const oA=Xt(n=>{n.setDate(1),n.setHours(0,0,0,0)},(n,e)=>{n.setMonth(n.getMonth()+e)},(n,e)=>e.getMonth()-n.getMonth()+(e.getFullYear()-n.getFullYear())*12,n=>n.getMonth());oA.range;const lA=Xt(n=>{n.setUTCDate(1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCMonth(n.getUTCMonth()+e)},(n,e)=>e.getUTCMonth()-n.getUTCMonth()+(e.getUTCFullYear()-n.getUTCFullYear())*12,n=>n.getUTCMonth());lA.range;const Yr=Xt(n=>{n.setMonth(0,1),n.setHours(0,0,0,0)},(n,e)=>{n.setFullYear(n.getFullYear()+e)},(n,e)=>e.getFullYear()-n.getFullYear(),n=>n.getFullYear());Yr.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:Xt(e=>{e.setFullYear(Math.floor(e.getFullYear()/n)*n),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t*n)});Yr.range;const Xr=Xt(n=>{n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCFullYear(n.getUTCFullYear()+e)},(n,e)=>e.getUTCFullYear()-n.getUTCFullYear(),n=>n.getUTCFullYear());Xr.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:Xt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/n)*n),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t*n)});Xr.range;function BD(n,e,t,i,r,s){const l=[[xs,1,Hr],[xs,5,5*Hr],[xs,15,15*Hr],[xs,30,30*Hr],[s,1,_i],[s,5,5*_i],[s,15,15*_i],[s,30,30*_i],[r,1,$r],[r,3,3*$r],[r,6,6*$r],[r,12,12*$r],[i,1,Vr],[i,2,2*Vr],[t,1,nA],[e,1,Q2],[e,3,3*Q2],[n,1,xy]];function c(f,h,p){const g=h<f;g&&([f,h]=[h,f]);const y=p&&typeof p.range=="function"?p:d(f,h,p),S=y?y.range(f,+h+1):[];return g?S.reverse():S}function d(f,h,p){const g=Math.abs(h-f)/p,y=$b(([,,x])=>x).right(l,g);if(y===l.length)return n.every(I0(f/xy,h/xy,p));if(y===0)return dh.every(Math.max(I0(f,h,p),1));const[S,A]=l[g/l[y-1][2]<l[y][2]/g?y-1:y];return S.every(A)}return[c,d]}const[yH,bH]=BD(Xr,lA,hp,jD,sA,rA),[AH,SH]=BD(Yr,oA,fp,xu,aA,iA);function Ey(n){if(0<=n.y&&n.y<100){var e=new Date(-1,n.m,n.d,n.H,n.M,n.S,n.L);return e.setFullYear(n.y),e}return new Date(n.y,n.m,n.d,n.H,n.M,n.S,n.L)}function wy(n){if(0<=n.y&&n.y<100){var e=new Date(Date.UTC(-1,n.m,n.d,n.H,n.M,n.S,n.L));return e.setUTCFullYear(n.y),e}return new Date(Date.UTC(n.y,n.m,n.d,n.H,n.M,n.S,n.L))}function Tc(n,e,t){return{y:n,m:e,d:t,H:0,M:0,S:0,L:0}}function xH(n){var e=n.dateTime,t=n.date,i=n.time,r=n.periods,s=n.days,l=n.shortDays,c=n.months,d=n.shortMonths,f=Mc(r),h=_c(r),p=Mc(s),g=_c(s),y=Mc(l),S=_c(l),A=Mc(c),x=_c(c),E=Mc(d),O=_c(d),T={a:H,A:ie,b:le,B:pe,c:null,d:rT,e:rT,f:GH,g:t8,G:i8,H:HH,I:$H,j:qH,L:zD,m:VH,M:YH,p:I,q:K,Q:oT,s:lT,S:XH,u:KH,U:WH,V:ZH,w:QH,W:JH,x:null,X:null,y:e8,Y:n8,Z:r8,"%":sT},P={a:ne,A:oe,b:ve,B:xe,c:null,d:aT,e:aT,f:l8,g:y8,G:A8,H:a8,I:s8,j:o8,L:UD,m:c8,M:u8,p:de,q:ut,Q:oT,s:lT,S:d8,u:f8,U:h8,V:p8,w:m8,W:g8,x:null,X:null,y:v8,Y:b8,Z:S8,"%":sT},M={a:X,A:$,b:q,B:se,c:re,d:nT,e:nT,f:BH,g:tT,G:eT,H:iT,I:iT,j:RH,L:jH,m:NH,M:IH,p:F,q:LH,Q:FH,s:UH,S:kH,u:TH,U:MH,V:_H,w:OH,W:PH,x:ce,X:B,y:tT,Y:eT,Z:DH,"%":zH};T.x=_(t,T),T.X=_(i,T),T.c=_(e,T),P.x=_(t,P),P.X=_(i,P),P.c=_(e,P);function _(J,Oe){return function(Pe){var ae=[],Nt=-1,Ie=0,on=J.length,ln,pr,xl;for(Pe instanceof Date||(Pe=new Date(+Pe));++Nt<on;)J.charCodeAt(Nt)===37&&(ae.push(J.slice(Ie,Nt)),(pr=J2[ln=J.charAt(++Nt)])!=null?ln=J.charAt(++Nt):pr=ln==="e"?" ":"0",(xl=Oe[ln])&&(ln=xl(Pe,pr)),ae.push(ln),Ie=Nt+1);return ae.push(J.slice(Ie,Nt)),ae.join("")}}function N(J,Oe){return function(Pe){var ae=Tc(1900,void 0,1),Nt=j(ae,J,Pe+="",0),Ie,on;if(Nt!=Pe.length)return null;if("Q"in ae)return new Date(ae.Q);if("s"in ae)return new Date(ae.s*1e3+("L"in ae?ae.L:0));if(Oe&&!("Z"in ae)&&(ae.Z=0),"p"in ae&&(ae.H=ae.H%12+ae.p*12),ae.m===void 0&&(ae.m="q"in ae?ae.q:0),"V"in ae){if(ae.V<1||ae.V>53)return null;"w"in ae||(ae.w=1),"Z"in ae?(Ie=wy(Tc(ae.y,0,1)),on=Ie.getUTCDay(),Ie=on>4||on===0?hh.ceil(Ie):hh(Ie),Ie=dp.offset(Ie,(ae.V-1)*7),ae.y=Ie.getUTCFullYear(),ae.m=Ie.getUTCMonth(),ae.d=Ie.getUTCDate()+(ae.w+6)%7):(Ie=Ey(Tc(ae.y,0,1)),on=Ie.getDay(),Ie=on>4||on===0?fh.ceil(Ie):fh(Ie),Ie=xu.offset(Ie,(ae.V-1)*7),ae.y=Ie.getFullYear(),ae.m=Ie.getMonth(),ae.d=Ie.getDate()+(ae.w+6)%7)}else("W"in ae||"U"in ae)&&("w"in ae||(ae.w="u"in ae?ae.u%7:"W"in ae?1:0),on="Z"in ae?wy(Tc(ae.y,0,1)).getUTCDay():Ey(Tc(ae.y,0,1)).getDay(),ae.m=0,ae.d="W"in ae?(ae.w+6)%7+ae.W*7-(on+5)%7:ae.w+ae.U*7-(on+6)%7);return"Z"in ae?(ae.H+=ae.Z/100|0,ae.M+=ae.Z%100,wy(ae)):Ey(ae)}}function j(J,Oe,Pe,ae){for(var Nt=0,Ie=Oe.length,on=Pe.length,ln,pr;Nt<Ie;){if(ae>=on)return-1;if(ln=Oe.charCodeAt(Nt++),ln===37){if(ln=Oe.charAt(Nt++),pr=M[ln in J2?Oe.charAt(Nt++):ln],!pr||(ae=pr(J,Pe,ae))<0)return-1}else if(ln!=Pe.charCodeAt(ae++))return-1}return ae}function F(J,Oe,Pe){var ae=f.exec(Oe.slice(Pe));return ae?(J.p=h.get(ae[0].toLowerCase()),Pe+ae[0].length):-1}function X(J,Oe,Pe){var ae=y.exec(Oe.slice(Pe));return ae?(J.w=S.get(ae[0].toLowerCase()),Pe+ae[0].length):-1}function $(J,Oe,Pe){var ae=p.exec(Oe.slice(Pe));return ae?(J.w=g.get(ae[0].toLowerCase()),Pe+ae[0].length):-1}function q(J,Oe,Pe){var ae=E.exec(Oe.slice(Pe));return ae?(J.m=O.get(ae[0].toLowerCase()),Pe+ae[0].length):-1}function se(J,Oe,Pe){var ae=A.exec(Oe.slice(Pe));return ae?(J.m=x.get(ae[0].toLowerCase()),Pe+ae[0].length):-1}function re(J,Oe,Pe){return j(J,e,Oe,Pe)}function ce(J,Oe,Pe){return j(J,t,Oe,Pe)}function B(J,Oe,Pe){return j(J,i,Oe,Pe)}function H(J){return l[J.getDay()]}function ie(J){return s[J.getDay()]}function le(J){return d[J.getMonth()]}function pe(J){return c[J.getMonth()]}function I(J){return r[+(J.getHours()>=12)]}function K(J){return 1+~~(J.getMonth()/3)}function ne(J){return l[J.getUTCDay()]}function oe(J){return s[J.getUTCDay()]}function ve(J){return d[J.getUTCMonth()]}function xe(J){return c[J.getUTCMonth()]}function de(J){return r[+(J.getUTCHours()>=12)]}function ut(J){return 1+~~(J.getUTCMonth()/3)}return{format:function(J){var Oe=_(J+="",T);return Oe.toString=function(){return J},Oe},parse:function(J){var Oe=N(J+="",!1);return Oe.toString=function(){return J},Oe},utcFormat:function(J){var Oe=_(J+="",P);return Oe.toString=function(){return J},Oe},utcParse:function(J){var Oe=N(J+="",!0);return Oe.toString=function(){return J},Oe}}}var J2={"-":"",_:" ",0:"0"},an=/^\s*\d+/,EH=/^%/,wH=/[\\^$*+?|[\]().{}]/g;function He(n,e,t){var i=n<0?"-":"",r=(i?-n:n)+"",s=r.length;return i+(s<t?new Array(t-s+1).join(e)+r:r)}function CH(n){return n.replace(wH,"\\$&")}function Mc(n){return new RegExp("^(?:"+n.map(CH).join("|")+")","i")}function _c(n){return new Map(n.map((e,t)=>[e.toLowerCase(),t]))}function OH(n,e,t){var i=an.exec(e.slice(t,t+1));return i?(n.w=+i[0],t+i[0].length):-1}function TH(n,e,t){var i=an.exec(e.slice(t,t+1));return i?(n.u=+i[0],t+i[0].length):-1}function MH(n,e,t){var i=an.exec(e.slice(t,t+2));return i?(n.U=+i[0],t+i[0].length):-1}function _H(n,e,t){var i=an.exec(e.slice(t,t+2));return i?(n.V=+i[0],t+i[0].length):-1}function PH(n,e,t){var i=an.exec(e.slice(t,t+2));return i?(n.W=+i[0],t+i[0].length):-1}function eT(n,e,t){var i=an.exec(e.slice(t,t+4));return i?(n.y=+i[0],t+i[0].length):-1}function tT(n,e,t){var i=an.exec(e.slice(t,t+2));return i?(n.y=+i[0]+(+i[0]>68?1900:2e3),t+i[0].length):-1}function DH(n,e,t){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(t,t+6));return i?(n.Z=i[1]?0:-(i[2]+(i[3]||"00")),t+i[0].length):-1}function LH(n,e,t){var i=an.exec(e.slice(t,t+1));return i?(n.q=i[0]*3-3,t+i[0].length):-1}function NH(n,e,t){var i=an.exec(e.slice(t,t+2));return i?(n.m=i[0]-1,t+i[0].length):-1}function nT(n,e,t){var i=an.exec(e.slice(t,t+2));return i?(n.d=+i[0],t+i[0].length):-1}function RH(n,e,t){var i=an.exec(e.slice(t,t+3));return i?(n.m=0,n.d=+i[0],t+i[0].length):-1}function iT(n,e,t){var i=an.exec(e.slice(t,t+2));return i?(n.H=+i[0],t+i[0].length):-1}function IH(n,e,t){var i=an.exec(e.slice(t,t+2));return i?(n.M=+i[0],t+i[0].length):-1}function kH(n,e,t){var i=an.exec(e.slice(t,t+2));return i?(n.S=+i[0],t+i[0].length):-1}function jH(n,e,t){var i=an.exec(e.slice(t,t+3));return i?(n.L=+i[0],t+i[0].length):-1}function BH(n,e,t){var i=an.exec(e.slice(t,t+6));return i?(n.L=Math.floor(i[0]/1e3),t+i[0].length):-1}function zH(n,e,t){var i=EH.exec(e.slice(t,t+1));return i?t+i[0].length:-1}function FH(n,e,t){var i=an.exec(e.slice(t));return i?(n.Q=+i[0],t+i[0].length):-1}function UH(n,e,t){var i=an.exec(e.slice(t));return i?(n.s=+i[0],t+i[0].length):-1}function rT(n,e){return He(n.getDate(),e,2)}function HH(n,e){return He(n.getHours(),e,2)}function $H(n,e){return He(n.getHours()%12||12,e,2)}function qH(n,e){return He(1+xu.count(Yr(n),n),e,3)}function zD(n,e){return He(n.getMilliseconds(),e,3)}function GH(n,e){return zD(n,e)+"000"}function VH(n,e){return He(n.getMonth()+1,e,2)}function YH(n,e){return He(n.getMinutes(),e,2)}function XH(n,e){return He(n.getSeconds(),e,2)}function KH(n){var e=n.getDay();return e===0?7:e}function WH(n,e){return He(fp.count(Yr(n)-1,n),e,2)}function FD(n){var e=n.getDay();return e>=4||e===0?sl(n):sl.ceil(n)}function ZH(n,e){return n=FD(n),He(sl.count(Yr(n),n)+(Yr(n).getDay()===4),e,2)}function QH(n){return n.getDay()}function JH(n,e){return He(fh.count(Yr(n)-1,n),e,2)}function e8(n,e){return He(n.getFullYear()%100,e,2)}function t8(n,e){return n=FD(n),He(n.getFullYear()%100,e,2)}function n8(n,e){return He(n.getFullYear()%1e4,e,4)}function i8(n,e){var t=n.getDay();return n=t>=4||t===0?sl(n):sl.ceil(n),He(n.getFullYear()%1e4,e,4)}function r8(n){var e=n.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+He(e/60|0,"0",2)+He(e%60,"0",2)}function aT(n,e){return He(n.getUTCDate(),e,2)}function a8(n,e){return He(n.getUTCHours(),e,2)}function s8(n,e){return He(n.getUTCHours()%12||12,e,2)}function o8(n,e){return He(1+dp.count(Xr(n),n),e,3)}function UD(n,e){return He(n.getUTCMilliseconds(),e,3)}function l8(n,e){return UD(n,e)+"000"}function c8(n,e){return He(n.getUTCMonth()+1,e,2)}function u8(n,e){return He(n.getUTCMinutes(),e,2)}function d8(n,e){return He(n.getUTCSeconds(),e,2)}function f8(n){var e=n.getUTCDay();return e===0?7:e}function h8(n,e){return He(hp.count(Xr(n)-1,n),e,2)}function HD(n){var e=n.getUTCDay();return e>=4||e===0?ol(n):ol.ceil(n)}function p8(n,e){return n=HD(n),He(ol.count(Xr(n),n)+(Xr(n).getUTCDay()===4),e,2)}function m8(n){return n.getUTCDay()}function g8(n,e){return He(hh.count(Xr(n)-1,n),e,2)}function v8(n,e){return He(n.getUTCFullYear()%100,e,2)}function y8(n,e){return n=HD(n),He(n.getUTCFullYear()%100,e,2)}function b8(n,e){return He(n.getUTCFullYear()%1e4,e,4)}function A8(n,e){var t=n.getUTCDay();return n=t>=4||t===0?ol(n):ol.ceil(n),He(n.getUTCFullYear()%1e4,e,4)}function S8(){return"+0000"}function sT(){return"%"}function oT(n){return+n}function lT(n){return Math.floor(+n/1e3)}var Ro,$D,qD;x8({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function x8(n){return Ro=xH(n),$D=Ro.format,Ro.parse,qD=Ro.utcFormat,Ro.utcParse,Ro}function E8(n){return new Date(n)}function w8(n){return n instanceof Date?+n:+new Date(+n)}function cA(n,e,t,i,r,s,l,c,d,f){var h=Kb(),p=h.invert,g=h.domain,y=f(".%L"),S=f(":%S"),A=f("%I:%M"),x=f("%I %p"),E=f("%a %d"),O=f("%b %d"),T=f("%B"),P=f("%Y");function M(_){return(d(_)<_?y:c(_)<_?S:l(_)<_?A:s(_)<_?x:i(_)<_?r(_)<_?E:O:t(_)<_?T:P)(_)}return h.invert=function(_){return new Date(p(_))},h.domain=function(_){return arguments.length?g(Array.from(_,w8)):g().map(E8)},h.ticks=function(_){var N=g();return n(N[0],N[N.length-1],_??10)},h.tickFormat=function(_,N){return N==null?M:f(N)},h.nice=function(_){var N=g();return(!_||typeof _.range!="function")&&(_=e(N[0],N[N.length-1],_??10)),_?g(PD(N,_)):h},h.copy=function(){return Su(h,cA(n,e,t,i,r,s,l,c,d,f))},h}function C8(){return Ri.apply(cA(AH,SH,Yr,oA,fp,xu,aA,iA,xs,$D).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function O8(){return Ri.apply(cA(yH,bH,Xr,lA,hp,dp,sA,rA,xs,qD).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function pp(){var n=0,e=1,t,i,r,s,l=_n,c=!1,d;function f(p){return p==null||isNaN(p=+p)?d:l(r===0?.5:(p=(s(p)-t)*r,c?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([n,e]=p,t=s(n=+n),i=s(e=+e),r=t===i?0:1/(i-t),f):[n,e]},f.clamp=function(p){return arguments.length?(c=!!p,f):c},f.interpolator=function(p){return arguments.length?(l=p,f):l};function h(p){return function(g){var y,S;return arguments.length?([y,S]=g,l=p(y,S),f):[l(0),l(1)]}}return f.range=h(hl),f.rangeRound=h(Xb),f.unknown=function(p){return arguments.length?(d=p,f):d},function(p){return s=p,t=p(n),i=p(e),r=t===i?0:1/(i-t),f}}function Xa(n,e){return e.domain(n.domain()).interpolator(n.interpolator()).clamp(n.clamp()).unknown(n.unknown())}function GD(){var n=Ya(pp()(_n));return n.copy=function(){return Xa(n,GD())},ta.apply(n,arguments)}function VD(){var n=Qb(pp()).domain([1,10]);return n.copy=function(){return Xa(n,VD()).base(n.base())},ta.apply(n,arguments)}function YD(){var n=Jb(pp());return n.copy=function(){return Xa(n,YD()).constant(n.constant())},ta.apply(n,arguments)}function uA(){var n=eA(pp());return n.copy=function(){return Xa(n,uA()).exponent(n.exponent())},ta.apply(n,arguments)}function T8(){return uA.apply(null,arguments).exponent(.5)}function XD(){var n=[],e=_n;function t(i){if(i!=null&&!isNaN(i=+i))return e((bu(n,i,1)-1)/(n.length-1))}return t.domain=function(i){if(!arguments.length)return n.slice();n=[];for(let r of i)r!=null&&!isNaN(r=+r)&&n.push(r);return n.sort(Fa),t},t.interpolator=function(i){return arguments.length?(e=i,t):e},t.range=function(){return n.map((i,r)=>e(r/(n.length-1)))},t.quantiles=function(i){return Array.from({length:i+1},(r,s)=>fU(n,s/i))},t.copy=function(){return XD(e).domain(n)},ta.apply(t,arguments)}function mp(){var n=0,e=.5,t=1,i=1,r,s,l,c,d,f=_n,h,p=!1,g;function y(A){return isNaN(A=+A)?g:(A=.5+((A=+h(A))-s)*(i*A<i*s?c:d),f(p?Math.max(0,Math.min(1,A)):A))}y.domain=function(A){return arguments.length?([n,e,t]=A,r=h(n=+n),s=h(e=+e),l=h(t=+t),c=r===s?0:.5/(s-r),d=s===l?0:.5/(l-s),i=s<r?-1:1,y):[n,e,t]},y.clamp=function(A){return arguments.length?(p=!!A,y):p},y.interpolator=function(A){return arguments.length?(f=A,y):f};function S(A){return function(x){var E,O,T;return arguments.length?([E,O,T]=x,f=zU(A,[E,O,T]),y):[f(0),f(.5),f(1)]}}return y.range=S(hl),y.rangeRound=S(Xb),y.unknown=function(A){return arguments.length?(g=A,y):g},function(A){return h=A,r=A(n),s=A(e),l=A(t),c=r===s?0:.5/(s-r),d=s===l?0:.5/(l-s),i=s<r?-1:1,y}}function KD(){var n=Ya(mp()(_n));return n.copy=function(){return Xa(n,KD())},ta.apply(n,arguments)}function WD(){var n=Qb(mp()).domain([.1,1,10]);return n.copy=function(){return Xa(n,WD()).base(n.base())},ta.apply(n,arguments)}function ZD(){var n=Jb(mp());return n.copy=function(){return Xa(n,ZD()).constant(n.constant())},ta.apply(n,arguments)}function dA(){var n=eA(mp());return n.copy=function(){return Xa(n,dA()).exponent(n.exponent())},ta.apply(n,arguments)}function M8(){return dA.apply(null,arguments).exponent(.5)}const kc=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Gb,scaleDiverging:KD,scaleDivergingLog:WD,scaleDivergingPow:dA,scaleDivergingSqrt:M8,scaleDivergingSymlog:ZD,scaleIdentity:_D,scaleImplicit:k0,scaleLinear:MD,scaleLog:DD,scaleOrdinal:qb,scalePoint:mU,scalePow:tA,scaleQuantile:RD,scaleQuantize:ID,scaleRadial:ND,scaleSequential:GD,scaleSequentialLog:VD,scaleSequentialPow:uA,scaleSequentialQuantile:XD,scaleSequentialSqrt:T8,scaleSequentialSymlog:YD,scaleSqrt:lH,scaleSymlog:LD,scaleThreshold:kD,scaleTime:C8,scaleUtc:O8,tickFormat:TD},Symbol.toStringTag,{value:"Module"}));var na=n=>n.chartData,gp=Y([na],n=>{var e=n.chartData!=null?n.chartData.length-1:0;return{chartData:n.chartData,computedData:n.computedData,dataEndIndex:e,dataStartIndex:0}}),QD=(n,e,t,i)=>i?gp(n):na(n),_8=(n,e,t)=>t?gp(n):na(n);function Kr(n){if(Array.isArray(n)&&n.length===2){var[e,t]=n;if(Ke(e)&&Ke(t))return!0}return!1}function cT(n,e,t){return t?n:[Math.min(n[0],e[0]),Math.max(n[1],e[1])]}function JD(n,e){if(e&&typeof n!="function"&&Array.isArray(n)&&n.length===2){var[t,i]=n,r,s;if(Ke(t))r=t;else if(typeof t=="function")return;if(Ke(i))s=i;else if(typeof i=="function")return;var l=[r,s];if(Kr(l))return l}}function P8(n,e,t){if(!(!t&&e==null)){if(typeof n=="function"&&e!=null)try{var i=n(e,t);if(Kr(i))return cT(i,e,t)}catch{}if(Array.isArray(n)&&n.length===2){var[r,s]=n,l,c;if(r==="auto")e!=null&&(l=Math.min(...e));else if(be(r))l=r;else if(typeof r=="function")try{e!=null&&(l=r(e?.[0]))}catch{}else if(typeof r=="string"&&yO.test(r)){var d=yO.exec(r);if(d==null||d[1]==null||e==null)l=void 0;else{var f=+d[1];l=e[0]-f}}else l=e?.[0];if(s==="auto")e!=null&&(c=Math.max(...e));else if(be(s))c=s;else if(typeof s=="function")try{e!=null&&(c=s(e?.[1]))}catch{}else if(typeof s=="string"&&bO.test(s)){var h=bO.exec(s);if(h==null||h[1]==null||e==null)c=void 0;else{var p=+h[1];c=e[1]+p}}else c=e?.[1];var g=[l,c];if(Kr(g))return e==null?g:cT(g,e,t)}}}var pl=1e9,D8={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},hA,bt=!0,Ni="[DecimalError] ",Ms=Ni+"Invalid argument: ",fA=Ni+"Exponent out of range: ",ml=Math.floor,ys=Math.pow,L8=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,si,nn=1e7,ht=7,eL=9007199254740991,ph=ml(eL/ht),he={};he.absoluteValue=he.abs=function(){var n=new this.constructor(this);return n.s&&(n.s=1),n};he.comparedTo=he.cmp=function(n){var e,t,i,r,s=this;if(n=new s.constructor(n),s.s!==n.s)return s.s||-n.s;if(s.e!==n.e)return s.e>n.e^s.s<0?1:-1;for(i=s.d.length,r=n.d.length,e=0,t=i<r?i:r;e<t;++e)if(s.d[e]!==n.d[e])return s.d[e]>n.d[e]^s.s<0?1:-1;return i===r?0:i>r^s.s<0?1:-1};he.decimalPlaces=he.dp=function(){var n=this,e=n.d.length-1,t=(e-n.e)*ht;if(e=n.d[e],e)for(;e%10==0;e/=10)t--;return t<0?0:t};he.dividedBy=he.div=function(n){return qr(this,new this.constructor(n))};he.dividedToIntegerBy=he.idiv=function(n){var e=this,t=e.constructor;return ot(qr(e,new t(n),0,1),t.precision)};he.equals=he.eq=function(n){return!this.cmp(n)};he.exponent=function(){return Ut(this)};he.greaterThan=he.gt=function(n){return this.cmp(n)>0};he.greaterThanOrEqualTo=he.gte=function(n){return this.cmp(n)>=0};he.isInteger=he.isint=function(){return this.e>this.d.length-2};he.isNegative=he.isneg=function(){return this.s<0};he.isPositive=he.ispos=function(){return this.s>0};he.isZero=function(){return this.s===0};he.lessThan=he.lt=function(n){return this.cmp(n)<0};he.lessThanOrEqualTo=he.lte=function(n){return this.cmp(n)<1};he.logarithm=he.log=function(n){var e,t=this,i=t.constructor,r=i.precision,s=r+5;if(n===void 0)n=new i(10);else if(n=new i(n),n.s<1||n.eq(si))throw Error(Ni+"NaN");if(t.s<1)throw Error(Ni+(t.s?"NaN":"-Infinity"));return t.eq(si)?new i(0):(bt=!1,e=qr(ru(t,s),ru(n,s),s),bt=!0,ot(e,r))};he.minus=he.sub=function(n){var e=this;return n=new e.constructor(n),e.s==n.s?iL(e,n):tL(e,(n.s=-n.s,n))};he.modulo=he.mod=function(n){var e,t=this,i=t.constructor,r=i.precision;if(n=new i(n),!n.s)throw Error(Ni+"NaN");return t.s?(bt=!1,e=qr(t,n,0,1).times(n),bt=!0,t.minus(e)):ot(new i(t),r)};he.naturalExponential=he.exp=function(){return nL(this)};he.naturalLogarithm=he.ln=function(){return ru(this)};he.negated=he.neg=function(){var n=new this.constructor(this);return n.s=-n.s||0,n};he.plus=he.add=function(n){var e=this;return n=new e.constructor(n),e.s==n.s?tL(e,n):iL(e,(n.s=-n.s,n))};he.precision=he.sd=function(n){var e,t,i,r=this;if(n!==void 0&&n!==!!n&&n!==1&&n!==0)throw Error(Ms+n);if(e=Ut(r)+1,i=r.d.length-1,t=i*ht+1,i=r.d[i],i){for(;i%10==0;i/=10)t--;for(i=r.d[0];i>=10;i/=10)t++}return n&&e>t?e:t};he.squareRoot=he.sqrt=function(){var n,e,t,i,r,s,l,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(Ni+"NaN")}for(n=Ut(c),bt=!1,r=Math.sqrt(+c),r==0||r==1/0?(e=sr(c.d),(e.length+n)%2==0&&(e+="0"),r=Math.sqrt(e),n=ml((n+1)/2)-(n<0||n%2),r==1/0?e="5e"+n:(e=r.toExponential(),e=e.slice(0,e.indexOf("e")+1)+n),i=new d(e)):i=new d(r.toString()),t=d.precision,r=l=t+3;;)if(s=i,i=s.plus(qr(c,s,l+2)).times(.5),sr(s.d).slice(0,l)===(e=sr(i.d)).slice(0,l)){if(e=e.slice(l-3,l+1),r==l&&e=="4999"){if(ot(s,t+1,0),s.times(s).eq(c)){i=s;break}}else if(e!="9999")break;l+=4}return bt=!0,ot(i,t)};he.times=he.mul=function(n){var e,t,i,r,s,l,c,d,f,h=this,p=h.constructor,g=h.d,y=(n=new p(n)).d;if(!h.s||!n.s)return new p(0);for(n.s*=h.s,t=h.e+n.e,d=g.length,f=y.length,d<f&&(s=g,g=y,y=s,l=d,d=f,f=l),s=[],l=d+f,i=l;i--;)s.push(0);for(i=f;--i>=0;){for(e=0,r=d+i;r>i;)c=s[r]+y[i]*g[r-i-1]+e,s[r--]=c%nn|0,e=c/nn|0;s[r]=(s[r]+e)%nn|0}for(;!s[--l];)s.pop();return e?++t:s.shift(),n.d=s,n.e=t,bt?ot(n,p.precision):n};he.toDecimalPlaces=he.todp=function(n,e){var t=this,i=t.constructor;return t=new i(t),n===void 0?t:(fr(n,0,pl),e===void 0?e=i.rounding:fr(e,0,8),ot(t,n+Ut(t)+1,e))};he.toExponential=function(n,e){var t,i=this,r=i.constructor;return n===void 0?t=Bs(i,!0):(fr(n,0,pl),e===void 0?e=r.rounding:fr(e,0,8),i=ot(new r(i),n+1,e),t=Bs(i,!0,n+1)),t};he.toFixed=function(n,e){var t,i,r=this,s=r.constructor;return n===void 0?Bs(r):(fr(n,0,pl),e===void 0?e=s.rounding:fr(e,0,8),i=ot(new s(r),n+Ut(r)+1,e),t=Bs(i.abs(),!1,n+Ut(i)+1),r.isneg()&&!r.isZero()?"-"+t:t)};he.toInteger=he.toint=function(){var n=this,e=n.constructor;return ot(new e(n),Ut(n)+1,e.rounding)};he.toNumber=function(){return+this};he.toPower=he.pow=function(n){var e,t,i,r,s,l,c=this,d=c.constructor,f=12,h=+(n=new d(n));if(!n.s)return new d(si);if(c=new d(c),!c.s){if(n.s<1)throw Error(Ni+"Infinity");return c}if(c.eq(si))return c;if(i=d.precision,n.eq(si))return ot(c,i);if(e=n.e,t=n.d.length-1,l=e>=t,s=c.s,l){if((t=h<0?-h:h)<=eL){for(r=new d(si),e=Math.ceil(i/ht+4),bt=!1;t%2&&(r=r.times(c),dT(r.d,e)),t=ml(t/2),t!==0;)c=c.times(c),dT(c.d,e);return bt=!0,n.s<0?new d(si).div(r):ot(r,i)}}else if(s<0)throw Error(Ni+"NaN");return s=s<0&&n.d[Math.max(e,t)]&1?-1:1,c.s=1,bt=!1,r=n.times(ru(c,i+f)),bt=!0,r=nL(r),r.s=s,r};he.toPrecision=function(n,e){var t,i,r=this,s=r.constructor;return n===void 0?(t=Ut(r),i=Bs(r,t<=s.toExpNeg||t>=s.toExpPos)):(fr(n,1,pl),e===void 0?e=s.rounding:fr(e,0,8),r=ot(new s(r),n,e),t=Ut(r),i=Bs(r,n<=t||t<=s.toExpNeg,n)),i};he.toSignificantDigits=he.tosd=function(n,e){var t=this,i=t.constructor;return n===void 0?(n=i.precision,e=i.rounding):(fr(n,1,pl),e===void 0?e=i.rounding:fr(e,0,8)),ot(new i(t),n,e)};he.toString=he.valueOf=he.val=he.toJSON=he[Symbol.for("nodejs.util.inspect.custom")]=function(){var n=this,e=Ut(n),t=n.constructor;return Bs(n,e<=t.toExpNeg||e>=t.toExpPos)};function tL(n,e){var t,i,r,s,l,c,d,f,h=n.constructor,p=h.precision;if(!n.s||!e.s)return e.s||(e=new h(n)),bt?ot(e,p):e;if(d=n.d,f=e.d,l=n.e,r=e.e,d=d.slice(),s=l-r,s){for(s<0?(i=d,s=-s,c=f.length):(i=f,r=l,c=d.length),l=Math.ceil(p/ht),c=l>c?l+1:c+1,s>c&&(s=c,i.length=1),i.reverse();s--;)i.push(0);i.reverse()}for(c=d.length,s=f.length,c-s<0&&(s=c,i=f,f=d,d=i),t=0;s;)t=(d[--s]=d[s]+f[s]+t)/nn|0,d[s]%=nn;for(t&&(d.unshift(t),++r),c=d.length;d[--c]==0;)d.pop();return e.d=d,e.e=r,bt?ot(e,p):e}function fr(n,e,t){if(n!==~~n||n<e||n>t)throw Error(Ms+n)}function sr(n){var e,t,i,r=n.length-1,s="",l=n[0];if(r>0){for(s+=l,e=1;e<r;e++)i=n[e]+"",t=ht-i.length,t&&(s+=Ra(t)),s+=i;l=n[e],i=l+"",t=ht-i.length,t&&(s+=Ra(t))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}var qr=(function(){function n(i,r){var s,l=0,c=i.length;for(i=i.slice();c--;)s=i[c]*r+l,i[c]=s%nn|0,l=s/nn|0;return l&&i.unshift(l),i}function e(i,r,s,l){var c,d;if(s!=l)d=s>l?1:-1;else for(c=d=0;c<s;c++)if(i[c]!=r[c]){d=i[c]>r[c]?1:-1;break}return d}function t(i,r,s){for(var l=0;s--;)i[s]-=l,l=i[s]<r[s]?1:0,i[s]=l*nn+i[s]-r[s];for(;!i[0]&&i.length>1;)i.shift()}return function(i,r,s,l){var c,d,f,h,p,g,y,S,A,x,E,O,T,P,M,_,N,j,F=i.constructor,X=i.s==r.s?1:-1,$=i.d,q=r.d;if(!i.s)return new F(i);if(!r.s)throw Error(Ni+"Division by zero");for(d=i.e-r.e,N=q.length,M=$.length,y=new F(X),S=y.d=[],f=0;q[f]==($[f]||0);)++f;if(q[f]>($[f]||0)&&--d,s==null?O=s=F.precision:l?O=s+(Ut(i)-Ut(r))+1:O=s,O<0)return new F(0);if(O=O/ht+2|0,f=0,N==1)for(h=0,q=q[0],O++;(f<M||h)&&O--;f++)T=h*nn+($[f]||0),S[f]=T/q|0,h=T%q|0;else{for(h=nn/(q[0]+1)|0,h>1&&(q=n(q,h),$=n($,h),N=q.length,M=$.length),P=N,A=$.slice(0,N),x=A.length;x<N;)A[x++]=0;j=q.slice(),j.unshift(0),_=q[0],q[1]>=nn/2&&++_;do h=0,c=e(q,A,N,x),c<0?(E=A[0],N!=x&&(E=E*nn+(A[1]||0)),h=E/_|0,h>1?(h>=nn&&(h=nn-1),p=n(q,h),g=p.length,x=A.length,c=e(p,A,g,x),c==1&&(h--,t(p,N<g?j:q,g))):(h==0&&(c=h=1),p=q.slice()),g=p.length,g<x&&p.unshift(0),t(A,p,x),c==-1&&(x=A.length,c=e(q,A,N,x),c<1&&(h++,t(A,N<x?j:q,x))),x=A.length):c===0&&(h++,A=[0]),S[f++]=h,c&&A[0]?A[x++]=$[P]||0:(A=[$[P]],x=1);while((P++<M||A[0]!==void 0)&&O--)}return S[0]||S.shift(),y.e=d,ot(y,l?s+Ut(y)+1:s)}})();function nL(n,e){var t,i,r,s,l,c,d=0,f=0,h=n.constructor,p=h.precision;if(Ut(n)>16)throw Error(fA+Ut(n));if(!n.s)return new h(si);for(bt=!1,c=p,l=new h(.03125);n.abs().gte(.1);)n=n.times(l),f+=5;for(i=Math.log(ys(2,f))/Math.LN10*2+5|0,c+=i,t=r=s=new h(si),h.precision=c;;){if(r=ot(r.times(n),c),t=t.times(++d),l=s.plus(qr(r,t,c)),sr(l.d).slice(0,c)===sr(s.d).slice(0,c)){for(;f--;)s=ot(s.times(s),c);return h.precision=p,e==null?(bt=!0,ot(s,p)):s}s=l}}function Ut(n){for(var e=n.e*ht,t=n.d[0];t>=10;t/=10)e++;return e}function Cy(n,e,t){if(e>n.LN10.sd())throw bt=!0,t&&(n.precision=t),Error(Ni+"LN10 precision limit exceeded");return ot(new n(n.LN10),e)}function Ra(n){for(var e="";n--;)e+="0";return e}function ru(n,e){var t,i,r,s,l,c,d,f,h,p=1,g=10,y=n,S=y.d,A=y.constructor,x=A.precision;if(y.s<1)throw Error(Ni+(y.s?"NaN":"-Infinity"));if(y.eq(si))return new A(0);if(e==null?(bt=!1,f=x):f=e,y.eq(10))return e==null&&(bt=!0),Cy(A,f);if(f+=g,A.precision=f,t=sr(S),i=t.charAt(0),s=Ut(y),Math.abs(s)<15e14){for(;i<7&&i!=1||i==1&&t.charAt(1)>3;)y=y.times(n),t=sr(y.d),i=t.charAt(0),p++;s=Ut(y),i>1?(y=new A("0."+t),s++):y=new A(i+"."+t.slice(1))}else return d=Cy(A,f+2,x).times(s+""),y=ru(new A(i+"."+t.slice(1)),f-g).plus(d),A.precision=x,e==null?(bt=!0,ot(y,x)):y;for(c=l=y=qr(y.minus(si),y.plus(si),f),h=ot(y.times(y),f),r=3;;){if(l=ot(l.times(h),f),d=c.plus(qr(l,new A(r),f)),sr(d.d).slice(0,f)===sr(c.d).slice(0,f))return c=c.times(2),s!==0&&(c=c.plus(Cy(A,f+2,x).times(s+""))),c=qr(c,new A(p),f),A.precision=x,e==null?(bt=!0,ot(c,x)):c;c=d,r+=2}}function uT(n,e){var t,i,r;for((t=e.indexOf("."))>-1&&(e=e.replace(".","")),(i=e.search(/e/i))>0?(t<0&&(t=i),t+=+e.slice(i+1),e=e.substring(0,i)):t<0&&(t=e.length),i=0;e.charCodeAt(i)===48;)++i;for(r=e.length;e.charCodeAt(r-1)===48;)--r;if(e=e.slice(i,r),e){if(r-=i,t=t-i-1,n.e=ml(t/ht),n.d=[],i=(t+1)%ht,t<0&&(i+=ht),i<r){for(i&&n.d.push(+e.slice(0,i)),r-=ht;i<r;)n.d.push(+e.slice(i,i+=ht));e=e.slice(i),i=ht-e.length}else i-=r;for(;i--;)e+="0";if(n.d.push(+e),bt&&(n.e>ph||n.e<-ph))throw Error(fA+t)}else n.s=0,n.e=0,n.d=[0];return n}function ot(n,e,t){var i,r,s,l,c,d,f,h,p=n.d;for(l=1,s=p[0];s>=10;s/=10)l++;if(i=e-l,i<0)i+=ht,r=e,f=p[h=0];else{if(h=Math.ceil((i+1)/ht),s=p.length,h>=s)return n;for(f=s=p[h],l=1;s>=10;s/=10)l++;i%=ht,r=i-ht+l}if(t!==void 0&&(s=ys(10,l-r-1),c=f/s%10|0,d=e<0||p[h+1]!==void 0||f%s,d=t<4?(c||d)&&(t==0||t==(n.s<0?3:2)):c>5||c==5&&(t==4||d||t==6&&(i>0?r>0?f/ys(10,l-r):0:p[h-1])%10&1||t==(n.s<0?8:7))),e<1||!p[0])return d?(s=Ut(n),p.length=1,e=e-s-1,p[0]=ys(10,(ht-e%ht)%ht),n.e=ml(-e/ht)||0):(p.length=1,p[0]=n.e=n.s=0),n;if(i==0?(p.length=h,s=1,h--):(p.length=h+1,s=ys(10,ht-i),p[h]=r>0?(f/ys(10,l-r)%ys(10,r)|0)*s:0),d)for(;;)if(h==0){(p[0]+=s)==nn&&(p[0]=1,++n.e);break}else{if(p[h]+=s,p[h]!=nn)break;p[h--]=0,s=1}for(i=p.length;p[--i]===0;)p.pop();if(bt&&(n.e>ph||n.e<-ph))throw Error(fA+Ut(n));return n}function iL(n,e){var t,i,r,s,l,c,d,f,h,p,g=n.constructor,y=g.precision;if(!n.s||!e.s)return e.s?e.s=-e.s:e=new g(n),bt?ot(e,y):e;if(d=n.d,p=e.d,i=e.e,f=n.e,d=d.slice(),l=f-i,l){for(h=l<0,h?(t=d,l=-l,c=p.length):(t=p,i=f,c=d.length),r=Math.max(Math.ceil(y/ht),c)+2,l>r&&(l=r,t.length=1),t.reverse(),r=l;r--;)t.push(0);t.reverse()}else{for(r=d.length,c=p.length,h=r<c,h&&(c=r),r=0;r<c;r++)if(d[r]!=p[r]){h=d[r]<p[r];break}l=0}for(h&&(t=d,d=p,p=t,e.s=-e.s),c=d.length,r=p.length-c;r>0;--r)d[c++]=0;for(r=p.length;r>l;){if(d[--r]<p[r]){for(s=r;s&&d[--s]===0;)d[s]=nn-1;--d[s],d[r]+=nn}d[r]-=p[r]}for(;d[--c]===0;)d.pop();for(;d[0]===0;d.shift())--i;return d[0]?(e.d=d,e.e=i,bt?ot(e,y):e):new g(0)}function Bs(n,e,t){var i,r=Ut(n),s=sr(n.d),l=s.length;return e?(t&&(i=t-l)>0?s=s.charAt(0)+"."+s.slice(1)+Ra(i):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(r<0?"e":"e+")+r):r<0?(s="0."+Ra(-r-1)+s,t&&(i=t-l)>0&&(s+=Ra(i))):r>=l?(s+=Ra(r+1-l),t&&(i=t-r-1)>0&&(s=s+"."+Ra(i))):((i=r+1)<l&&(s=s.slice(0,i)+"."+s.slice(i)),t&&(i=t-l)>0&&(r+1===l&&(s+="."),s+=Ra(i))),n.s<0?"-"+s:s}function dT(n,e){if(n.length>e)return n.length=e,!0}function rL(n){var e,t,i;function r(s){var l=this;if(!(l instanceof r))return new r(s);if(l.constructor=r,s instanceof r){l.s=s.s,l.e=s.e,l.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Ms+s);if(s>0)l.s=1;else if(s<0)s=-s,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(s===~~s&&s<1e7){l.e=0,l.d=[s];return}return uT(l,s.toString())}else if(typeof s!="string")throw Error(Ms+s);if(s.charCodeAt(0)===45?(s=s.slice(1),l.s=-1):l.s=1,L8.test(s))uT(l,s);else throw Error(Ms+s)}if(r.prototype=he,r.ROUND_UP=0,r.ROUND_DOWN=1,r.ROUND_CEIL=2,r.ROUND_FLOOR=3,r.ROUND_HALF_UP=4,r.ROUND_HALF_DOWN=5,r.ROUND_HALF_EVEN=6,r.ROUND_HALF_CEIL=7,r.ROUND_HALF_FLOOR=8,r.clone=rL,r.config=r.set=N8,n===void 0&&(n={}),n)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<i.length;)n.hasOwnProperty(t=i[e++])||(n[t]=this[t]);return r.config(n),r}function N8(n){if(!n||typeof n!="object")throw Error(Ni+"Object expected");var e,t,i,r=["precision",1,pl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<r.length;e+=3)if((i=n[t=r[e]])!==void 0)if(ml(i)===i&&i>=r[e+1]&&i<=r[e+2])this[t]=i;else throw Error(Ms+t+": "+i);if((i=n[t="LN10"])!==void 0)if(i==Math.LN10)this[t]=new this(i);else throw Error(Ms+t+": "+i);return this}var hA=rL(D8);si=new hA(1);const Je=hA;function aL(n){var e;return n===0?e=1:e=Math.floor(new Je(n).abs().log(10).toNumber())+1,e}function sL(n,e,t){for(var i=new Je(n),r=0,s=[];i.lt(e)&&r<1e5;)s.push(i.toNumber()),i=i.add(t),r++;return s}var oL=n=>{var[e,t]=n,[i,r]=[e,t];return e>t&&([i,r]=[t,e]),[i,r]},lL=(n,e,t)=>{if(n.lte(0))return new Je(0);var i=aL(n.toNumber()),r=new Je(10).pow(i),s=n.div(r),l=i!==1?.05:.1,c=new Je(Math.ceil(s.div(l).toNumber())).add(t).mul(l),d=c.mul(r);return e?new Je(d.toNumber()):new Je(Math.ceil(d.toNumber()))},R8=(n,e,t)=>{var i=new Je(1),r=new Je(n);if(!r.isint()&&t){var s=Math.abs(n);s<1?(i=new Je(10).pow(aL(n)-1),r=new Je(Math.floor(r.div(i).toNumber())).mul(i)):s>1&&(r=new Je(Math.floor(n)))}else n===0?r=new Je(Math.floor((e-1)/2)):t||(r=new Je(Math.floor(n)));for(var l=Math.floor((e-1)/2),c=[],d=0;d<e;d++)c.push(r.add(new Je(d-l).mul(i)).toNumber());return c},cL=function(e,t,i,r){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(i-1)))return{step:new Je(0),tickMin:new Je(0),tickMax:new Je(0)};var l=lL(new Je(t).sub(e).div(i-1),r,s),c;e<=0&&t>=0?c=new Je(0):(c=new Je(e).add(t).div(2),c=c.sub(new Je(c).mod(l)));var d=Math.ceil(c.sub(e).div(l).toNumber()),f=Math.ceil(new Je(t).sub(c).div(l).toNumber()),h=d+f+1;return h>i?cL(e,t,i,r,s+1):(h<i&&(f=t>0?f+(i-h):f,d=t>0?d:d+(i-h)),{step:l,tickMin:c.sub(new Je(d).mul(l)),tickMax:c.add(new Je(f).mul(l))})},I8=function(e){var[t,i]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(r,2),[c,d]=oL([t,i]);if(c===-1/0||d===1/0){var f=d===1/0?[c,...Array(r-1).fill(1/0)]:[...Array(r-1).fill(-1/0),d];return t>i?f.reverse():f}if(c===d)return R8(c,r,s);var{step:h,tickMin:p,tickMax:g}=cL(c,d,l,s,0),y=sL(p,g.add(new Je(.1).mul(h)),h);return t>i?y.reverse():y},k8=function(e,t){var[i,r]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,c]=oL([i,r]);if(l===-1/0||c===1/0)return[i,r];if(l===c)return[l];var d=Math.max(t,2),f=lL(new Je(c).sub(l).div(d-1),s,0),h=[...sL(new Je(l),new Je(c),f),c];return s===!1&&(h=h.map(p=>Math.round(p))),i>r?h.reverse():h},uL=n=>n.rootProps.maxBarSize,j8=n=>n.rootProps.barGap,dL=n=>n.rootProps.barCategoryGap,B8=n=>n.rootProps.barSize,Eu=n=>n.rootProps.stackOffset,fL=n=>n.rootProps.reverseStackOrder,pA=n=>n.options.chartName,mA=n=>n.rootProps.syncId,hL=n=>n.rootProps.syncMethod,gA=n=>n.options.eventEmitter,wn={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},ps={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},er={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},vp=(n,e)=>{if(!(!n||!e))return n!=null&&n.reversed?[e[1],e[0]]:e};function yp(n,e,t){if(t!=="auto")return t;if(n!=null)return Va(n,e)?"category":"number"}function fT(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function mh(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?fT(Object(t),!0).forEach(function(i){z8(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):fT(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function z8(n,e,t){return(e=F8(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function F8(n){var e=U8(n,"string");return typeof e=="symbol"?e:e+""}function U8(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var hT={allowDataOverflow:ps.allowDataOverflow,allowDecimals:ps.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ps.angleAxisId,includeHidden:!1,name:void 0,reversed:ps.reversed,scale:ps.scale,tick:ps.tick,tickCount:void 0,ticks:void 0,type:ps.type,unit:void 0},pT={allowDataOverflow:er.allowDataOverflow,allowDecimals:er.allowDecimals,allowDuplicatedCategory:er.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:er.radiusAxisId,includeHidden:er.includeHidden,name:void 0,reversed:er.reversed,scale:er.scale,tick:er.tick,tickCount:er.tickCount,ticks:void 0,type:er.type,unit:void 0},H8=(n,e)=>{if(e!=null)return n.polarAxis.angleAxis[e]},vA=Y([H8,ZP],(n,e)=>{var t;if(n!=null)return n;var i=(t=yp(e,"angleAxis",hT.type))!==null&&t!==void 0?t:"category";return mh(mh({},hT),{},{type:i})}),$8=(n,e)=>n.polarAxis.radiusAxis[e],yA=Y([$8,ZP],(n,e)=>{var t;if(n!=null)return n;var i=(t=yp(e,"radiusAxis",pT.type))!==null&&t!==void 0?t:"category";return mh(mh({},pT),{},{type:i})}),bp=n=>n.polarOptions,bA=Y([Jr,ea,Yt],pD),pL=Y([bp,bA],(n,e)=>{if(n!=null)return Cn(n.innerRadius,e,0)}),mL=Y([bp,bA],(n,e)=>{if(n!=null)return Cn(n.outerRadius,e,e*.8)}),q8=n=>{if(n==null)return[0,0];var{startAngle:e,endAngle:t}=n;return[e,t]},gL=Y([bp],q8);Y([vA,gL],vp);var vL=Y([bA,pL,mL],(n,e,t)=>{if(!(n==null||e==null||t==null))return[e,t]});Y([yA,vL],vp);var yL=Y([We,bp,pL,mL,Jr,ea],(n,e,t,i,r,s)=>{if(!(n!=="centric"&&n!=="radial"||e==null||t==null||i==null)){var{cx:l,cy:c,startAngle:d,endAngle:f}=e;return{cx:Cn(l,r,r/2),cy:Cn(c,s,s/2),innerRadius:t,outerRadius:i,startAngle:d,endAngle:f,clockWise:!1}}}),xt=(n,e)=>e,wu=(n,e,t)=>t;function AA(n){return n?.id}function bL(n,e,t){var{chartData:i=[]}=e,{allowDuplicatedCategory:r,dataKey:s}=t,l=new Map;return n.forEach(c=>{var d,f=(d=c.data)!==null&&d!==void 0?d:i;if(!(f==null||f.length===0)){var h=AA(c);f.forEach((p,g)=>{var y=s==null||r?g:String(pt(p,s,null)),S=pt(p,c.dataKey,0),A;l.has(y)?A=l.get(y):A={},Object.assign(A,{[h]:S}),l.set(y,A)})}}),Array.from(l.values())}function Ap(n){return"stackId"in n&&n.stackId!=null&&n.dataKey!=null}var Sp=(n,e)=>n===e?!0:n==null||e==null?!1:n[0]===e[0]&&n[1]===e[1];function xp(n,e){return Array.isArray(n)&&Array.isArray(e)&&n.length===0&&e.length===0?!0:n===e}function G8(n,e){if(n.length===e.length){for(var t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}return!1}var sn=n=>{var e=We(n);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},gl=n=>n.tooltip.settings.axisId;function V8(n){if(n in kc)return kc[n]();var e="scale".concat(fu(n));if(e in kc)return kc[e]()}function mT(n){var e=n.ticks,t=n.bandwidth,i=n.range(),r=[Math.min(...i),Math.max(...i)];return{domain:()=>n.domain(),range:(function(s){function l(){return s.apply(this,arguments)}return l.toString=function(){return s.toString()},l})(()=>r),rangeMin:()=>r[0],rangeMax:()=>r[1],isInRange(s){var l=r[0],c=r[1];return l<=c?s>=l&&s<=c:s>=c&&s<=l},bandwidth:t?()=>t.call(n):void 0,ticks:e?s=>e.call(n,s):void 0,map:(s,l)=>{var c=n(s);if(c!=null){if(n.bandwidth&&l!==null&&l!==void 0&&l.position){var d=n.bandwidth();switch(l.position){case"middle":c+=d/2;break;case"end":c+=d;break}}return c}}}}function gT(n,e,t){if(typeof n=="function")return mT(n.copy().domain(e).range(t));if(n!=null){var i=V8(n);if(i!=null)return i.domain(e).range(t),mT(i)}}var AL=(n,e)=>{if(e!=null)switch(n){case"linear":{if(!Kr(e)){for(var t,i,r=0;r<e.length;r++){var s=e[r];Ke(s)&&((t===void 0||s<t)&&(t=s),(i===void 0||s>i)&&(i=s))}return t!==void 0&&i!==void 0?[t,i]:void 0}return e}default:return e}};function vT(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function gh(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?vT(Object(t),!0).forEach(function(i){Y8(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):vT(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Y8(n,e,t){return(e=X8(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function X8(n){var e=K8(n,"string");return typeof e=="symbol"?e:e+""}function K8(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var F0=[0,"auto"],en={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},SL=(n,e)=>n.cartesianAxis.xAxis[e],ia=(n,e)=>{var t=SL(n,e);return t??en},tn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:F0,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:gu},xL=(n,e)=>n.cartesianAxis.yAxis[e],ra=(n,e)=>{var t=xL(n,e);return t??tn},W8={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},SA=(n,e)=>{var t=n.cartesianAxis.zAxis[e];return t??W8},_t=(n,e,t)=>{switch(e){case"xAxis":return ia(n,t);case"yAxis":return ra(n,t);case"zAxis":return SA(n,t);case"angleAxis":return vA(n,t);case"radiusAxis":return yA(n,t);default:throw new Error("Unexpected axis type: ".concat(e))}},Z8=(n,e,t)=>{switch(e){case"xAxis":return ia(n,t);case"yAxis":return ra(n,t);default:throw new Error("Unexpected axis type: ".concat(e))}},vl=(n,e,t)=>{switch(e){case"xAxis":return ia(n,t);case"yAxis":return ra(n,t);case"angleAxis":return vA(n,t);case"radiusAxis":return yA(n,t);default:throw new Error("Unexpected axis type: ".concat(e))}},EL=n=>n.graphicalItems.cartesianItems.some(e=>e.type==="bar")||n.graphicalItems.polarItems.some(e=>e.type==="radialBar");function xA(n,e){return t=>{switch(n){case"xAxis":return"xAxisId"in t&&t.xAxisId===e;case"yAxis":return"yAxisId"in t&&t.yAxisId===e;case"zAxis":return"zAxisId"in t&&t.zAxisId===e;case"angleAxis":return"angleAxisId"in t&&t.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in t&&t.radiusAxisId===e;default:return!1}}}var EA=n=>n.graphicalItems.cartesianItems,Q8=Y([xt,wu],xA),wA=(n,e,t)=>n.filter(t).filter(i=>e?.includeHidden===!0?!0:!i.hide),Cu=Y([EA,_t,Q8],wA,{memoizeOptions:{resultEqualityCheck:xp}}),wL=Y([Cu],n=>n.filter(e=>e.type==="area"||e.type==="bar").filter(Ap)),CL=n=>n.filter(e=>!("stackId"in e)||e.stackId===void 0),J8=Y([Cu],CL),CA=n=>n.map(e=>e.data).filter(Boolean).flat(1),e7=Y([Cu],CA,{memoizeOptions:{resultEqualityCheck:xp}}),OA=(n,e)=>{var{chartData:t=[],dataStartIndex:i,dataEndIndex:r}=e;return n.length>0?n:t.slice(i,r+1)},TA=Y([e7,QD],OA),MA=(n,e,t)=>e?.dataKey!=null?n.map(i=>({value:pt(i,e.dataKey)})):t.length>0?t.map(i=>i.dataKey).flatMap(i=>n.map(r=>({value:pt(r,i)}))):n.map(i=>({value:i})),Ep=Y([TA,_t,Cu],MA);function OL(n,e){switch(n){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Tf(n){if(dr(n)||n instanceof Date){var e=Number(n);if(Ke(e))return e}}function yT(n){if(Array.isArray(n)){var e=[Tf(n[0]),Tf(n[1])];return Kr(e)?e:void 0}var t=Tf(n);if(t!=null)return[t,t]}function Wr(n){return n.map(Tf).filter(rr)}function t7(n,e,t){return!t||typeof e!="number"||ur(e)?[]:t.length?Wr(t.flatMap(i=>{var r=pt(n,i.dataKey),s,l;if(Array.isArray(r)?[s,l]=r:s=l=r,!(!Ke(s)||!Ke(l)))return[e-s,e+l]})):[]}var Kt=n=>{var e=sn(n),t=gl(n);return vl(n,e,t)},Ou=Y([Kt],n=>n?.dataKey),n7=Y([wL,QD,Kt],bL),TL=(n,e,t,i)=>{var r={},s=e.reduce((l,c)=>{if(c.stackId==null)return l;var d=l[c.stackId];return d==null&&(d=[]),d.push(c),l[c.stackId]=d,l},r);return Object.fromEntries(Object.entries(s).map(l=>{var[c,d]=l,f=i?[...d].reverse():d,h=f.map(AA);return[c,{stackedData:S6(n,h,t),graphicalItems:f}]}))},U0=Y([n7,wL,Eu,fL],TL),ML=(n,e,t,i)=>{var{dataStartIndex:r,dataEndIndex:s}=e;if(i==null&&t!=="zAxis"){var l=O6(n,r,s);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},i7=Y([_t],n=>n.allowDataOverflow),_A=n=>{var e;if(n==null||!("domain"in n))return F0;if(n.domain!=null)return n.domain;if("ticks"in n&&n.ticks!=null){if(n.type==="number"){var t=Wr(n.ticks);return[Math.min(...t),Math.max(...t)]}if(n.type==="category")return n.ticks.map(String)}return(e=n?.domain)!==null&&e!==void 0?e:F0},PA=Y([_t],_A),DA=Y([PA,i7],JD),r7=Y([U0,na,xt,DA],ML,{memoizeOptions:{resultEqualityCheck:Sp}}),wp=n=>n.errorBars,a7=(n,e,t)=>n.flatMap(i=>e[i.id]).filter(Boolean).filter(i=>OL(t,i)),vh=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var r=t.filter(Boolean);if(r.length!==0){var s=r.flat(),l=Math.min(...s),c=Math.max(...s);return[l,c]}},LA=(n,e,t,i,r)=>{var s,l;if(t.length>0&&n.forEach(c=>{t.forEach(d=>{var f,h,p=(f=i[d.id])===null||f===void 0?void 0:f.filter(E=>OL(r,E)),g=pt(c,(h=e.dataKey)!==null&&h!==void 0?h:d.dataKey),y=t7(c,g,p);if(y.length>=2){var S=Math.min(...y),A=Math.max(...y);(s==null||S<s)&&(s=S),(l==null||A>l)&&(l=A)}var x=yT(g);x!=null&&(s=s==null?x[0]:Math.min(s,x[0]),l=l==null?x[1]:Math.max(l,x[1]))})}),e?.dataKey!=null&&n.forEach(c=>{var d=yT(pt(c,e.dataKey));d!=null&&(s=s==null?d[0]:Math.min(s,d[0]),l=l==null?d[1]:Math.max(l,d[1]))}),Ke(s)&&Ke(l))return[s,l]},s7=Y([TA,_t,J8,wp,xt],LA,{memoizeOptions:{resultEqualityCheck:Sp}});function o7(n){var{value:e}=n;if(dr(e)||e instanceof Date)return e}var l7=(n,e,t)=>{var i=n.map(o7).filter(r=>r!=null);return t&&(e.dataKey==null||e.allowDuplicatedCategory&&K_(i))?yD(0,n.length):e.allowDuplicatedCategory?i:Array.from(new Set(i))},_L=n=>n.referenceElements.dots,yl=(n,e,t)=>n.filter(i=>i.ifOverflow==="extendDomain").filter(i=>e==="xAxis"?i.xAxisId===t:i.yAxisId===t),c7=Y([_L,xt,wu],yl),PL=n=>n.referenceElements.areas,u7=Y([PL,xt,wu],yl),DL=n=>n.referenceElements.lines,d7=Y([DL,xt,wu],yl),LL=(n,e)=>{if(n!=null){var t=Wr(n.map(i=>e==="xAxis"?i.x:i.y));if(t.length!==0)return[Math.min(...t),Math.max(...t)]}},f7=Y(c7,xt,LL),NL=(n,e)=>{if(n!=null){var t=Wr(n.flatMap(i=>[e==="xAxis"?i.x1:i.y1,e==="xAxis"?i.x2:i.y2]));if(t.length!==0)return[Math.min(...t),Math.max(...t)]}},h7=Y([u7,xt],NL);function p7(n){var e;if(n.x!=null)return Wr([n.x]);var t=(e=n.segment)===null||e===void 0?void 0:e.map(i=>i.x);return t==null||t.length===0?[]:Wr(t)}function m7(n){var e;if(n.y!=null)return Wr([n.y]);var t=(e=n.segment)===null||e===void 0?void 0:e.map(i=>i.y);return t==null||t.length===0?[]:Wr(t)}var RL=(n,e)=>{if(n!=null){var t=n.flatMap(i=>e==="xAxis"?p7(i):m7(i));if(t.length!==0)return[Math.min(...t),Math.max(...t)]}},g7=Y([d7,xt],RL),v7=Y(f7,g7,h7,(n,e,t)=>vh(n,t,e)),NA=(n,e,t,i,r,s,l,c)=>{if(t!=null)return t;var d=l==="vertical"&&c==="xAxis"||l==="horizontal"&&c==="yAxis",f=d?vh(i,s,r):vh(s,r);return P8(e,f,n.allowDataOverflow)},y7=Y([_t,PA,DA,r7,s7,v7,We,xt],NA,{memoizeOptions:{resultEqualityCheck:Sp}}),b7=[0,1],RA=(n,e,t,i,r,s,l)=>{if(!((n==null||t==null||t.length===0)&&l===void 0)){var{dataKey:c,type:d}=n,f=Va(e,s);if(f&&c==null){var h;return yD(0,(h=t?.length)!==null&&h!==void 0?h:0)}return d==="category"?l7(i,n,f):r==="expand"?b7:l}},IA=Y([_t,We,TA,Ep,Eu,xt,y7],RA);function A7(n){return n in kc}var IL=(n,e,t)=>{if(n!=null){var{scale:i,type:r}=n;if(i==="auto")return r==="category"&&t&&(t.indexOf("LineChart")>=0||t.indexOf("AreaChart")>=0||t.indexOf("ComposedChart")>=0&&!e)?"point":r==="category"?"band":"linear";if(typeof i=="string"){var s="scale".concat(fu(i));return A7(s)?s:"point"}}},Ka=Y([_t,EL,pA],IL);function kA(n,e,t,i){if(!(t==null||i==null))return typeof n.scale=="function"?gT(n.scale,t,i):gT(e,t,i)}var jA=(n,e,t)=>{var i=_A(e);if(!(t!=="auto"&&t!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(i)&&(i[0]==="auto"||i[1]==="auto")&&Kr(n))return I8(n,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Kr(n))return k8(n,e.tickCount,e.allowDecimals)}},BA=Y([IA,vl,Ka],jA),zA=(n,e,t,i)=>{if(i!=="angleAxis"&&n?.type==="number"&&Kr(e)&&Array.isArray(t)&&t.length>0){var r,s,l=e[0],c=(r=t[0])!==null&&r!==void 0?r:0,d=e[1],f=(s=t[t.length-1])!==null&&s!==void 0?s:0;return[Math.min(l,c),Math.max(d,f)]}return e},S7=Y([_t,IA,BA,xt],zA),x7=Y(Ep,_t,(n,e)=>{if(!(!e||e.type!=="number")){var t=1/0,i=Array.from(Wr(n.map(p=>p.value))).sort((p,g)=>p-g),r=i[0],s=i[i.length-1];if(r==null||s==null)return 1/0;var l=s-r;if(l===0)return 1/0;for(var c=0;c<i.length-1;c++){var d=i[c],f=i[c+1];if(!(d==null||f==null)){var h=f-d;t=Math.min(t,h)}}return t/l}}),kL=Y(x7,We,dL,Yt,(n,e,t,i,r)=>r,(n,e,t,i,r)=>{if(!Ke(n))return 0;var s=e==="vertical"?i.height:i.width;if(r==="gap")return n*s/2;if(r==="no-gap"){var l=Cn(t,n*s),c=n*s/2;return c-l-(c-l)/s*l}return 0}),E7=(n,e,t)=>{var i=ia(n,e);return i==null||typeof i.padding!="string"?0:kL(n,"xAxis",e,t,i.padding)},w7=(n,e,t)=>{var i=ra(n,e);return i==null||typeof i.padding!="string"?0:kL(n,"yAxis",e,t,i.padding)},C7=Y(ia,E7,(n,e)=>{var t,i;if(n==null)return{left:0,right:0};var{padding:r}=n;return typeof r=="string"?{left:e,right:e}:{left:((t=r.left)!==null&&t!==void 0?t:0)+e,right:((i=r.right)!==null&&i!==void 0?i:0)+e}}),O7=Y(ra,w7,(n,e)=>{var t,i;if(n==null)return{top:0,bottom:0};var{padding:r}=n;return typeof r=="string"?{top:e,bottom:e}:{top:((t=r.top)!==null&&t!==void 0?t:0)+e,bottom:((i=r.bottom)!==null&&i!==void 0?i:0)+e}}),T7=Y([Yt,C7,np,tp,(n,e,t)=>t],(n,e,t,i,r)=>{var{padding:s}=i;return r?[s.left,t.width-s.right]:[n.left+e.left,n.left+n.width-e.right]}),M7=Y([Yt,We,O7,np,tp,(n,e,t)=>t],(n,e,t,i,r,s)=>{var{padding:l}=r;return s?[i.height-l.bottom,l.top]:e==="horizontal"?[n.top+n.height-t.bottom,n.top+t.top]:[n.top+t.top,n.top+n.height-t.bottom]}),Tu=(n,e,t,i)=>{var r;switch(e){case"xAxis":return T7(n,t,i);case"yAxis":return M7(n,t,i);case"zAxis":return(r=SA(n,t))===null||r===void 0?void 0:r.range;case"angleAxis":return gL(n);case"radiusAxis":return vL(n,t);default:return}},jL=Y([_t,Tu],vp),_7=Y([Ka,S7],AL),Cp=Y([_t,Ka,_7,jL],kA);Y([Cu,wp,xt],a7);function BL(n,e){return n.id<e.id?-1:n.id>e.id?1:0}var Op=(n,e)=>e,Tp=(n,e,t)=>t,P7=Y(Jh,Op,Tp,(n,e,t)=>n.filter(i=>i.orientation===e).filter(i=>i.mirror===t).sort(BL)),D7=Y(ep,Op,Tp,(n,e,t)=>n.filter(i=>i.orientation===e).filter(i=>i.mirror===t).sort(BL)),zL=(n,e)=>({width:n.width,height:e.height}),L7=(n,e)=>{var t=typeof e.width=="number"?e.width:gu;return{width:t,height:n.height}},FL=Y(Yt,ia,zL),N7=(n,e,t)=>{switch(e){case"top":return n.top;case"bottom":return t-n.bottom;default:return 0}},R7=(n,e,t)=>{switch(e){case"left":return n.left;case"right":return t-n.right;default:return 0}},I7=Y(ea,Yt,P7,Op,Tp,(n,e,t,i,r)=>{var s={},l;return t.forEach(c=>{var d=zL(e,c);l==null&&(l=N7(e,i,n));var f=i==="top"&&!r||i==="bottom"&&r;s[c.id]=l-Number(f)*d.height,l+=(f?-1:1)*d.height}),s}),k7=Y(Jr,Yt,D7,Op,Tp,(n,e,t,i,r)=>{var s={},l;return t.forEach(c=>{var d=L7(e,c);l==null&&(l=R7(e,i,n));var f=i==="left"&&!r||i==="right"&&r;s[c.id]=l-Number(f)*d.width,l+=(f?-1:1)*d.width}),s}),j7=(n,e)=>{var t=ia(n,e);if(t!=null)return I7(n,t.orientation,t.mirror)},B7=Y([Yt,ia,j7,(n,e)=>e],(n,e,t,i)=>{if(e!=null){var r=t?.[i];return r==null?{x:n.left,y:0}:{x:n.left,y:r}}}),z7=(n,e)=>{var t=ra(n,e);if(t!=null)return k7(n,t.orientation,t.mirror)},F7=Y([Yt,ra,z7,(n,e)=>e],(n,e,t,i)=>{if(e!=null){var r=t?.[i];return r==null?{x:0,y:n.top}:{x:r,y:n.top}}}),UL=Y(Yt,ra,(n,e)=>{var t=typeof e.width=="number"?e.width:gu;return{width:t,height:n.height}}),bT=(n,e,t)=>{switch(e){case"xAxis":return FL(n,t).width;case"yAxis":return UL(n,t).height;default:return}},HL=(n,e,t,i)=>{if(t!=null){var{allowDuplicatedCategory:r,type:s,dataKey:l}=t,c=Va(n,i),d=e.map(f=>f.value);if(l&&c&&s==="category"&&r&&K_(d))return d}},FA=Y([We,Ep,_t,xt],HL),$L=(n,e,t,i)=>{if(!(t==null||t.dataKey==null)){var{type:r,scale:s}=t,l=Va(n,i);if(l&&(r==="number"||s!=="auto"))return e.map(c=>c.value)}},UA=Y([We,Ep,vl,xt],$L);Y([We,Z8,Ka,Cp,FA,UA,Tu,BA,xt],(n,e,t,i,r,s,l,c,d)=>{if(e!=null){var f=Va(n,d);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:d,categoricalDomain:s,duplicateDomain:r,isCategorical:f,niceTicks:c,range:l,realScaleType:t,scale:i}}});var U7=(n,e,t,i,r,s,l,c,d)=>{if(!(e==null||i==null)){var f=Va(n,d),{type:h,ticks:p,tickCount:g}=e,y=t==="scaleBand"&&typeof i.bandwidth=="function"?i.bandwidth()/2:2,S=h==="category"&&i.bandwidth?i.bandwidth()/y:0;S=d==="angleAxis"&&s!=null&&s.length>=2?bn(s[0]-s[1])*2*S:S;var A=p||r;return A?A.map((x,E)=>{var O=l?l.indexOf(x):x,T=i.map(O);return Ke(T)?{index:E,coordinate:T+S,value:x,offset:S}:null}).filter(rr):f&&c?c.map((x,E)=>{var O=i.map(x);return Ke(O)?{coordinate:O+S,value:x,index:E,offset:S}:null}).filter(rr):i.ticks?i.ticks(g).map((x,E)=>{var O=i.map(x);return Ke(O)?{coordinate:O+S,value:x,index:E,offset:S}:null}).filter(rr):i.domain().map((x,E)=>{var O=i.map(x);return Ke(O)?{coordinate:O+S,value:l?l[x]:x,index:E,offset:S}:null}).filter(rr)}},qL=Y([We,vl,Ka,Cp,BA,Tu,FA,UA,xt],U7),H7=(n,e,t,i,r,s,l)=>{if(!(e==null||t==null||i==null||i[0]===i[1])){var c=Va(n,l),{tickCount:d}=e,f=0;return f=l==="angleAxis"&&i?.length>=2?bn(i[0]-i[1])*2*f:f,c&&s?s.map((h,p)=>{var g=t.map(h);return Ke(g)?{coordinate:g+f,value:h,index:p,offset:f}:null}).filter(rr):t.ticks?t.ticks(d).map((h,p)=>{var g=t.map(h);return Ke(g)?{coordinate:g+f,value:h,index:p,offset:f}:null}).filter(rr):t.domain().map((h,p)=>{var g=t.map(h);return Ke(g)?{coordinate:g+f,value:r?r[h]:h,index:p,offset:f}:null}).filter(rr)}},ll=Y([We,vl,Cp,Tu,FA,UA,xt],H7),cl=Y(_t,Cp,(n,e)=>{if(!(n==null||e==null))return gh(gh({},n),{},{scale:e})}),$7=Y([_t,Ka,IA,jL],kA);Y((n,e,t)=>SA(n,t),$7,(n,e)=>{if(!(n==null||e==null))return gh(gh({},n),{},{scale:e})});var q7=Y([We,Jh,ep],(n,e,t)=>{switch(n){case"horizontal":return e.some(i=>i.reversed)?"right-to-left":"left-to-right";case"vertical":return t.some(i=>i.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),GL=n=>n.options.defaultTooltipEventType,VL=n=>n.options.validateTooltipEventTypes;function YL(n,e,t){if(n==null)return e;var i=n?"axis":"item";return t==null?e:t.includes(i)?i:e}function HA(n,e){var t=GL(n),i=VL(n);return YL(e,t,i)}function G7(n){return ye(e=>HA(e,n))}var XL=(n,e)=>{var t,i=Number(e);if(!(ur(i)||e==null))return i>=0?n==null||(t=n[i])===null||t===void 0?void 0:t.value:void 0},V7=n=>n.tooltip.settings,ja={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},Y7={itemInteraction:{click:ja,hover:ja},axisInteraction:{click:ja,hover:ja},keyboardInteraction:ja,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},KL=Gn({name:"tooltip",initialState:Y7,reducers:{addTooltipEntrySettings:{reducer(n,e){n.tooltipItemPayloads.push(e.payload)},prepare:yt()},replaceTooltipEntrySettings:{reducer(n,e){var{prev:t,next:i}=e.payload,r=Hi(n).tooltipItemPayloads.indexOf(t);r>-1&&(n.tooltipItemPayloads[r]=i)},prepare:yt()},removeTooltipEntrySettings:{reducer(n,e){var t=Hi(n).tooltipItemPayloads.indexOf(e.payload);t>-1&&n.tooltipItemPayloads.splice(t,1)},prepare:yt()},setTooltipSettingsState(n,e){n.settings=e.payload},setActiveMouseOverItemIndex(n,e){n.syncInteraction.active=!1,n.keyboardInteraction.active=!1,n.itemInteraction.hover.active=!0,n.itemInteraction.hover.index=e.payload.activeIndex,n.itemInteraction.hover.dataKey=e.payload.activeDataKey,n.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,n.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(n){n.itemInteraction.hover.active=!1,n.axisInteraction.hover.active=!1},mouseLeaveItem(n){n.itemInteraction.hover.active=!1},setActiveClickItemIndex(n,e){n.syncInteraction.active=!1,n.itemInteraction.click.active=!0,n.keyboardInteraction.active=!1,n.itemInteraction.click.index=e.payload.activeIndex,n.itemInteraction.click.dataKey=e.payload.activeDataKey,n.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,n.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(n,e){n.syncInteraction.active=!1,n.axisInteraction.hover.active=!0,n.keyboardInteraction.active=!1,n.axisInteraction.hover.index=e.payload.activeIndex,n.axisInteraction.hover.dataKey=e.payload.activeDataKey,n.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(n,e){n.syncInteraction.active=!1,n.keyboardInteraction.active=!1,n.axisInteraction.click.active=!0,n.axisInteraction.click.index=e.payload.activeIndex,n.axisInteraction.click.dataKey=e.payload.activeDataKey,n.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(n,e){n.syncInteraction=e.payload},setKeyboardInteraction(n,e){n.keyboardInteraction.active=e.payload.active,n.keyboardInteraction.index=e.payload.activeIndex,n.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:X7,replaceTooltipEntrySettings:K7,removeTooltipEntrySettings:W7,setTooltipSettingsState:Z7,setActiveMouseOverItemIndex:WL,mouseLeaveItem:Q7,mouseLeaveChart:ZL,setActiveClickItemIndex:J7,setMouseOverAxisIndex:QL,setMouseClickAxisIndex:e$,setSyncInteraction:H0,setKeyboardInteraction:$0}=KL.actions,t$=KL.reducer;function AT(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function vf(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?AT(Object(t),!0).forEach(function(i){n$(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):AT(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function n$(n,e,t){return(e=i$(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function i$(n){var e=r$(n,"string");return typeof e=="symbol"?e:e+""}function r$(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function a$(n,e,t){return e==="axis"?t==="click"?n.axisInteraction.click:n.axisInteraction.hover:t==="click"?n.itemInteraction.click:n.itemInteraction.hover}function s$(n){return n.index!=null}var JL=(n,e,t,i)=>{if(e==null)return ja;var r=a$(n,e,t);if(r==null)return ja;if(r.active)return r;if(n.keyboardInteraction.active)return n.keyboardInteraction;if(n.syncInteraction.active&&n.syncInteraction.index!=null)return n.syncInteraction;var s=n.settings.active===!0;if(s$(r)){if(s)return vf(vf({},r),{},{active:!0})}else if(i!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:i,graphicalItemId:void 0};return vf(vf({},ja),{},{coordinate:r.coordinate})};function o$(n){if(typeof n=="number")return Number.isFinite(n)?n:void 0;if(n instanceof Date){var e=n.valueOf();return Number.isFinite(e)?e:void 0}var t=Number(n);return Number.isFinite(t)?t:void 0}function l$(n,e){var t=o$(n),i=e[0],r=e[1];if(t===void 0)return!1;var s=Math.min(i,r),l=Math.max(i,r);return t>=s&&t<=l}function c$(n,e,t){if(t==null||e==null)return!0;var i=pt(n,e);return i==null||!Kr(t)?!0:l$(i,t)}var $A=(n,e,t,i)=>{var r=n?.index;if(r==null)return null;var s=Number(r);if(!Ke(s))return r;var l=0,c=1/0;e.length>0&&(c=e.length-1);var d=Math.max(l,Math.min(s,c)),f=e[d];return f==null||c$(f,t,i)?String(d):null},eN=(n,e,t,i,r,s,l)=>{if(s!=null){var c=l[0],d=c?.getPosition(s);if(d!=null)return d;var f=r?.[Number(s)];if(f)return t==="horizontal"?{x:f.coordinate,y:(i.top+e)/2}:{x:(i.left+n)/2,y:f.coordinate}}},tN=(n,e,t,i)=>{if(e==="axis")return n.tooltipItemPayloads;if(n.tooltipItemPayloads.length===0)return[];var r;if(t==="hover"?r=n.itemInteraction.hover.graphicalItemId:r=n.itemInteraction.click.graphicalItemId,r==null&&i!=null){var s=n.tooltipItemPayloads[0];return s!=null?[s]:[]}return n.tooltipItemPayloads.filter(l=>{var c;return((c=l.settings)===null||c===void 0?void 0:c.graphicalItemId)===r})},nN=n=>n.options.tooltipPayloadSearcher,bl=n=>n.tooltip;function ST(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function xT(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ST(Object(t),!0).forEach(function(i){u$(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ST(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function u$(n,e,t){return(e=d$(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function d$(n){var e=f$(n,"string");return typeof e=="symbol"?e:e+""}function f$(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function h$(n,e){return n??e}var iN=(n,e,t,i,r,s,l)=>{if(!(e==null||s==null)){var{chartData:c,computedData:d,dataStartIndex:f,dataEndIndex:h}=t,p=[];return n.reduce((g,y)=>{var S,{dataDefinedOnItem:A,settings:x}=y,E=h$(A,c),O=Array.isArray(E)?UP(E,f,h):E,T=(S=x?.dataKey)!==null&&S!==void 0?S:i,P=x?.nameKey,M;if(i&&Array.isArray(O)&&!Array.isArray(O[0])&&l==="axis"?M=Y3(O,i,r):M=s(O,e,d,P),Array.isArray(M))M.forEach(N=>{var j=xT(xT({},x),{},{name:N.name,unit:N.unit,color:void 0,fill:void 0});g.push(AO({tooltipEntrySettings:j,dataKey:N.dataKey,payload:N.payload,value:pt(N.payload,N.dataKey),name:N.name}))});else{var _;g.push(AO({tooltipEntrySettings:x,dataKey:T,payload:M,value:pt(M,T),name:(_=pt(M,P))!==null&&_!==void 0?_:x?.name}))}return g},p)}},qA=Y([Kt,EL,pA],IL),p$=Y([n=>n.graphicalItems.cartesianItems,n=>n.graphicalItems.polarItems],(n,e)=>[...n,...e]),m$=Y([sn,gl],xA),Al=Y([p$,Kt,m$],wA,{memoizeOptions:{resultEqualityCheck:xp}}),g$=Y([Al],n=>n.filter(Ap)),v$=Y([Al],CA,{memoizeOptions:{resultEqualityCheck:xp}}),Sl=Y([v$,na],OA),y$=Y([g$,na,Kt],bL),GA=Y([Sl,Kt,Al],MA),rN=Y([Kt],_A),b$=Y([Kt],n=>n.allowDataOverflow),aN=Y([rN,b$],JD),A$=Y([Al],n=>n.filter(Ap)),S$=Y([y$,A$,Eu,fL],TL),x$=Y([S$,na,sn,aN],ML),E$=Y([Al],CL),w$=Y([Sl,Kt,E$,wp,sn],LA,{memoizeOptions:{resultEqualityCheck:Sp}}),C$=Y([_L,sn,gl],yl),O$=Y([C$,sn],LL),T$=Y([PL,sn,gl],yl),M$=Y([T$,sn],NL),_$=Y([DL,sn,gl],yl),P$=Y([_$,sn],RL),D$=Y([O$,P$,M$],vh),L$=Y([Kt,rN,aN,x$,w$,D$,We,sn],NA),Mu=Y([Kt,We,Sl,GA,Eu,sn,L$],RA),N$=Y([Mu,Kt,qA],jA),R$=Y([Kt,Mu,N$,sn],zA),sN=n=>{var e=sn(n),t=gl(n),i=!1;return Tu(n,e,t,i)},oN=Y([Kt,sN],vp),lN=Y([Kt,qA,R$,oN],kA),I$=Y([We,GA,Kt,sn],HL),k$=Y([We,GA,Kt,sn],$L),j$=(n,e,t,i,r,s,l,c)=>{if(e){var{type:d}=e,f=Va(n,c);if(i){var h=t==="scaleBand"&&i.bandwidth?i.bandwidth()/2:2,p=d==="category"&&i.bandwidth?i.bandwidth()/h:0;return p=c==="angleAxis"&&r!=null&&r?.length>=2?bn(r[0]-r[1])*2*p:p,f&&l?l.map((g,y)=>{var S=i.map(g);return Ke(S)?{coordinate:S+p,value:g,index:y,offset:p}:null}).filter(rr):i.domain().map((g,y)=>{var S=i.map(g);return Ke(S)?{coordinate:S+p,value:s?s[g]:g,index:y,offset:p}:null}).filter(rr)}}},aa=Y([We,Kt,qA,lN,sN,I$,k$,sn],j$),VA=Y([GL,VL,V7],(n,e,t)=>YL(t.shared,n,e)),cN=n=>n.tooltip.settings.trigger,YA=n=>n.tooltip.settings.defaultIndex,_u=Y([bl,VA,cN,YA],JL),zs=Y([_u,Sl,Ou,Mu],$A),uN=Y([aa,zs],XL),XA=Y([_u],n=>{if(n)return n.dataKey}),B$=Y([_u],n=>{if(n)return n.graphicalItemId}),dN=Y([bl,VA,cN,YA],tN),z$=Y([Jr,ea,We,Yt,aa,YA,dN],eN),F$=Y([_u,z$],(n,e)=>n!=null&&n.coordinate?n.coordinate:e),U$=Y([_u],n=>{var e;return(e=n?.active)!==null&&e!==void 0?e:!1}),H$=Y([dN,zs,na,Ou,uN,nN,VA],iN);Y([H$],n=>{if(n!=null){var e=n.map(t=>t.payload).filter(t=>t!=null);return Array.from(new Set(e))}});function ET(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function wT(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ET(Object(t),!0).forEach(function(i){$$(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ET(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function $$(n,e,t){return(e=q$(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function q$(n){var e=G$(n,"string");return typeof e=="symbol"?e:e+""}function G$(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var V$=()=>ye(Kt),Y$=()=>{var n=V$(),e=ye(aa),t=ye(lN);return Kf(!n||!t?void 0:wT(wT({},n),{},{scale:t}),e)};function CT(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Io(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?CT(Object(t),!0).forEach(function(i){X$(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):CT(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function X$(n,e,t){return(e=K$(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function K$(n){var e=W$(n,"string");return typeof e=="symbol"?e:e+""}function W$(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Z$=(n,e,t,i)=>{var r=e.find(s=>s&&s.index===t);if(r){if(n==="horizontal")return{x:r.coordinate,y:i.chartY};if(n==="vertical")return{x:i.chartX,y:r.coordinate}}return{x:0,y:0}},Q$=(n,e,t,i)=>{var r=e.find(f=>f&&f.index===t);if(r){if(n==="centric"){var s=r.coordinate,{radius:l}=i;return Io(Io(Io({},i),Ft(i.cx,i.cy,l,s)),{},{angle:s,radius:l})}var c=r.coordinate,{angle:d}=i;return Io(Io(Io({},i),Ft(i.cx,i.cy,c,d)),{},{angle:d,radius:c})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function J$(n,e){var{chartX:t,chartY:i}=n;return t>=e.left&&t<=e.left+e.width&&i>=e.top&&i<=e.top+e.height}var fN=(n,e,t,i,r)=>{var s,l=(s=e?.length)!==null&&s!==void 0?s:0;if(l<=1||n==null)return 0;if(i==="angleAxis"&&r!=null&&Math.abs(Math.abs(r[1]-r[0])-360)<=1e-6)for(var c=0;c<l;c++){var d,f,h,p,g,y=c>0?(d=t[c-1])===null||d===void 0?void 0:d.coordinate:(f=t[l-1])===null||f===void 0?void 0:f.coordinate,S=(h=t[c])===null||h===void 0?void 0:h.coordinate,A=c>=l-1?(p=t[0])===null||p===void 0?void 0:p.coordinate:(g=t[c+1])===null||g===void 0?void 0:g.coordinate,x=void 0;if(!(y==null||S==null||A==null))if(bn(S-y)!==bn(A-S)){var E=[];if(bn(A-S)===bn(r[1]-r[0])){x=A;var O=S+r[1]-r[0];E[0]=Math.min(O,(O+y)/2),E[1]=Math.max(O,(O+y)/2)}else{x=y;var T=A+r[1]-r[0];E[0]=Math.min(S,(T+S)/2),E[1]=Math.max(S,(T+S)/2)}var P=[Math.min(S,(x+S)/2),Math.max(S,(x+S)/2)];if(n>P[0]&&n<=P[1]||n>=E[0]&&n<=E[1]){var M;return(M=t[c])===null||M===void 0?void 0:M.index}}else{var _=Math.min(y,A),N=Math.max(y,A);if(n>(_+S)/2&&n<=(N+S)/2){var j;return(j=t[c])===null||j===void 0?void 0:j.index}}}else if(e)for(var F=0;F<l;F++){var X=e[F];if(X!=null){var $=e[F+1],q=e[F-1];if(F===0&&$!=null&&n<=(X.coordinate+$.coordinate)/2||F===l-1&&q!=null&&n>(X.coordinate+q.coordinate)/2||F>0&&F<l-1&&q!=null&&$!=null&&n>(X.coordinate+q.coordinate)/2&&n<=(X.coordinate+$.coordinate)/2)return X.index}}return-1},eq=()=>ye(pA),KA=(n,e)=>e,hN=(n,e,t)=>t,WA=(n,e,t,i)=>i,tq=Y(aa,n=>Hh(n,e=>e.coordinate)),ZA=Y([bl,KA,hN,WA],JL),QA=Y([ZA,Sl,Ou,Mu],$A),nq=(n,e,t)=>{if(e!=null){var i=bl(n);return e==="axis"?t==="hover"?i.axisInteraction.hover.dataKey:i.axisInteraction.click.dataKey:t==="hover"?i.itemInteraction.hover.dataKey:i.itemInteraction.click.dataKey}},pN=Y([bl,KA,hN,WA],tN),yh=Y([Jr,ea,We,Yt,aa,WA,pN],eN),iq=Y([ZA,yh],(n,e)=>{var t;return(t=n.coordinate)!==null&&t!==void 0?t:e}),mN=Y([aa,QA],XL),rq=Y([pN,QA,na,Ou,mN,nN,KA],iN),aq=Y([ZA,QA],(n,e)=>({isActive:n.active&&e!=null,activeIndex:e})),sq=(n,e,t,i,r,s,l)=>{if(!(!n||!t||!i||!r)&&J$(n,l)){var c=T6(n,e),d=fN(c,s,r,t,i),f=Z$(e,r,d,n);return{activeIndex:String(d),activeCoordinate:f}}},oq=(n,e,t,i,r,s,l)=>{if(!(!n||!i||!r||!s||!t)){var c=G5(n,t);if(c){var d=M6(c,e),f=fN(d,l,s,i,r),h=Q$(e,s,f,c);return{activeIndex:String(f),activeCoordinate:h}}}},lq=(n,e,t,i,r,s,l,c)=>{if(!(!n||!e||!i||!r||!s))return e==="horizontal"||e==="vertical"?sq(n,e,i,r,s,l,c):oq(n,e,t,i,r,s,l)},cq=Y(n=>n.zIndex.zIndexMap,(n,e)=>e,(n,e,t)=>t,(n,e,t)=>{if(e!=null){var i=n[e];if(i!=null)return t?i.panoramaElement:i.element}}),uq=Y(n=>n.zIndex.zIndexMap,n=>{var e=Object.keys(n).map(i=>parseInt(i,10)).concat(Object.values(wn)),t=Array.from(new Set(e));return t.sort((i,r)=>i-r)},{memoizeOptions:{resultEqualityCheck:G8}});function OT(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function TT(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?OT(Object(t),!0).forEach(function(i){dq(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):OT(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function dq(n,e,t){return(e=fq(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function fq(n){var e=hq(n,"string");return typeof e=="symbol"?e:e+""}function hq(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var pq={},mq={zIndexMap:Object.values(wn).reduce((n,e)=>TT(TT({},n),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),pq)},gq=new Set(Object.values(wn));function vq(n){return gq.has(n)}var gN=Gn({name:"zIndex",initialState:mq,reducers:{registerZIndexPortal:{reducer:(n,e)=>{var{zIndex:t}=e.payload;n.zIndexMap[t]?n.zIndexMap[t].consumers+=1:n.zIndexMap[t]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:yt()},unregisterZIndexPortal:{reducer:(n,e)=>{var{zIndex:t}=e.payload;n.zIndexMap[t]&&(n.zIndexMap[t].consumers-=1,n.zIndexMap[t].consumers<=0&&!vq(t)&&delete n.zIndexMap[t])},prepare:yt()},registerZIndexPortalElement:{reducer:(n,e)=>{var{zIndex:t,element:i,isPanorama:r}=e.payload;n.zIndexMap[t]?r?n.zIndexMap[t].panoramaElement=i:n.zIndexMap[t].element=i:n.zIndexMap[t]={consumers:0,element:r?void 0:i,panoramaElement:r?i:void 0}},prepare:yt()},unregisterZIndexPortalElement:{reducer:(n,e)=>{var{zIndex:t}=e.payload;n.zIndexMap[t]&&(e.payload.isPanorama?n.zIndexMap[t].panoramaElement=void 0:n.zIndexMap[t].element=void 0)},prepare:yt()}}}),{registerZIndexPortal:yq,unregisterZIndexPortal:bq,registerZIndexPortalElement:Aq,unregisterZIndexPortalElement:Sq}=gN.actions,xq=gN.reducer;function hr(n){var{zIndex:e,children:t}=n,i=sF(),r=i&&e!==void 0&&e!==0,s=ui(),l=ct();C.useLayoutEffect(()=>r?(l(yq({zIndex:e})),()=>{l(bq({zIndex:e}))}):dl,[l,e,r]);var c=ye(d=>cq(d,e,s));return r?c?Ab.createPortal(t,c):null:t}function q0(){return q0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},q0.apply(null,arguments)}function MT(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function yf(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?MT(Object(t),!0).forEach(function(i){Eq(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):MT(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Eq(n,e,t){return(e=wq(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function wq(n){var e=Cq(n,"string");return typeof e=="symbol"?e:e+""}function Cq(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Oq(n){var{cursor:e,cursorComp:t,cursorProps:i}=n;return C.isValidElement(e)?C.cloneElement(e,i):C.createElement(t,i)}function Tq(n){var e,{coordinate:t,payload:i,index:r,offset:s,tooltipAxisBandSize:l,layout:c,cursor:d,tooltipEventType:f,chartName:h}=n,p=t,g=i,y=r;if(!d||!p||h!=="ScatterChart"&&f!=="axis")return null;var S,A,x;if(h==="ScatterChart")S=p,A=a5,x=wn.cursorLine;else if(h==="BarChart")S=s5(c,p,s,l),A=hD,x=wn.cursorRectangle;else if(c==="radial"&&Z_(p)){var{cx:E,cy:O,radius:T,startAngle:P,endAngle:M}=mD(p);S={cx:E,cy:O,startAngle:P,endAngle:M,innerRadius:T,outerRadius:T},A=vD,x=wn.cursorLine}else S={points:K5(c,p,s)},A=Hb,x=wn.cursorLine;var _=typeof d=="object"&&"className"in d?d.className:void 0,N=yf(yf(yf(yf({stroke:"#ccc",pointerEvents:"none"},s),S),Gc(d)),{},{payload:g,payloadIndex:y,className:et("recharts-tooltip-cursor",_)});return C.createElement(hr,{zIndex:(e=n.zIndex)!==null&&e!==void 0?e:x},C.createElement(Oq,{cursor:d,cursorComp:A,cursorProps:N}))}function Mq(n){var e=Y$(),t=rF(),i=fl(),r=eq();return e==null||t==null||i==null||r==null?null:C.createElement(Tq,q0({},n,{offset:t,layout:i,tooltipAxisBandSize:e,chartName:r}))}var vN=C.createContext(null),_q=()=>C.useContext(vN),Oy={exports:{}},_T;function Pq(){return _T||(_T=1,(function(n){var e=Object.prototype.hasOwnProperty,t="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(t=!1));function r(d,f,h){this.fn=d,this.context=f,this.once=h||!1}function s(d,f,h,p,g){if(typeof h!="function")throw new TypeError("The listener must be a function");var y=new r(h,p||d,g),S=t?t+f:f;return d._events[S]?d._events[S].fn?d._events[S]=[d._events[S],y]:d._events[S].push(y):(d._events[S]=y,d._eventsCount++),d}function l(d,f){--d._eventsCount===0?d._events=new i:delete d._events[f]}function c(){this._events=new i,this._eventsCount=0}c.prototype.eventNames=function(){var f=[],h,p;if(this._eventsCount===0)return f;for(p in h=this._events)e.call(h,p)&&f.push(t?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},c.prototype.listeners=function(f){var h=t?t+f:f,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var g=0,y=p.length,S=new Array(y);g<y;g++)S[g]=p[g].fn;return S},c.prototype.listenerCount=function(f){var h=t?t+f:f,p=this._events[h];return p?p.fn?1:p.length:0},c.prototype.emit=function(f,h,p,g,y,S){var A=t?t+f:f;if(!this._events[A])return!1;var x=this._events[A],E=arguments.length,O,T;if(x.fn){switch(x.once&&this.removeListener(f,x.fn,void 0,!0),E){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,h),!0;case 3:return x.fn.call(x.context,h,p),!0;case 4:return x.fn.call(x.context,h,p,g),!0;case 5:return x.fn.call(x.context,h,p,g,y),!0;case 6:return x.fn.call(x.context,h,p,g,y,S),!0}for(T=1,O=new Array(E-1);T<E;T++)O[T-1]=arguments[T];x.fn.apply(x.context,O)}else{var P=x.length,M;for(T=0;T<P;T++)switch(x[T].once&&this.removeListener(f,x[T].fn,void 0,!0),E){case 1:x[T].fn.call(x[T].context);break;case 2:x[T].fn.call(x[T].context,h);break;case 3:x[T].fn.call(x[T].context,h,p);break;case 4:x[T].fn.call(x[T].context,h,p,g);break;default:if(!O)for(M=1,O=new Array(E-1);M<E;M++)O[M-1]=arguments[M];x[T].fn.apply(x[T].context,O)}}return!0},c.prototype.on=function(f,h,p){return s(this,f,h,p,!1)},c.prototype.once=function(f,h,p){return s(this,f,h,p,!0)},c.prototype.removeListener=function(f,h,p,g){var y=t?t+f:f;if(!this._events[y])return this;if(!h)return l(this,y),this;var S=this._events[y];if(S.fn)S.fn===h&&(!g||S.once)&&(!p||S.context===p)&&l(this,y);else{for(var A=0,x=[],E=S.length;A<E;A++)(S[A].fn!==h||g&&!S[A].once||p&&S[A].context!==p)&&x.push(S[A]);x.length?this._events[y]=x.length===1?x[0]:x:l(this,y)}return this},c.prototype.removeAllListeners=function(f){var h;return f?(h=t?t+f:f,this._events[h]&&l(this,h)):(this._events=new i,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=t,c.EventEmitter=c,n.exports=c})(Oy)),Oy.exports}var Dq=Pq();const Lq=Qr(Dq);var au=new Lq,G0="recharts.syncEvent.tooltip",PT="recharts.syncEvent.brush",yN=(n,e)=>{if(e&&Array.isArray(n)){var t=Number.parseInt(e,10);if(!ur(t))return n[t]}},Nq={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},bN=Gn({name:"options",initialState:Nq,reducers:{createEventEmitter:n=>{n.eventEmitter==null&&(n.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Rq=bN.reducer,{createEventEmitter:Iq}=bN.actions;function kq(n){return n.tooltip.syncInteraction}var jq={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},AN=Gn({name:"chartData",initialState:jq,reducers:{setChartData(n,e){if(n.chartData=e.payload,e.payload==null){n.dataStartIndex=0,n.dataEndIndex=0;return}e.payload.length>0&&n.dataEndIndex!==e.payload.length-1&&(n.dataEndIndex=e.payload.length-1)},setComputedData(n,e){n.computedData=e.payload},setDataStartEndIndexes(n,e){var{startIndex:t,endIndex:i}=e.payload;t!=null&&(n.dataStartIndex=t),i!=null&&(n.dataEndIndex=i)}}}),{setChartData:DT,setDataStartEndIndexes:Bq,setComputedData:RW}=AN.actions,zq=AN.reducer,Fq=["x","y"];function LT(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function ko(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?LT(Object(t),!0).forEach(function(i){Uq(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):LT(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Uq(n,e,t){return(e=Hq(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Hq(n){var e=$q(n,"string");return typeof e=="symbol"?e:e+""}function $q(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function qq(n,e){if(n==null)return{};var t,i,r=Gq(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function Gq(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function Vq(){var n=ye(mA),e=ye(gA),t=ct(),i=ye(hL),r=ye(aa),s=fl(),l=ip(),c=ye(d=>d.rootProps.className);C.useEffect(()=>{if(n==null)return dl;var d=(f,h,p)=>{if(e!==p&&n===f){if(i==="index"){var g;if(l&&h!==null&&h!==void 0&&(g=h.payload)!==null&&g!==void 0&&g.coordinate&&h.payload.sourceViewBox){var y=h.payload.coordinate,{x:S,y:A}=y,x=qq(y,Fq),{x:E,y:O,width:T,height:P}=h.payload.sourceViewBox,M=ko(ko({},x),{},{x:l.x+(T?(S-E)/T:0)*l.width,y:l.y+(P?(A-O)/P:0)*l.height});t(ko(ko({},h),{},{payload:ko(ko({},h.payload),{},{coordinate:M})}))}else t(h);return}if(r!=null){var _;if(typeof i=="function"){var N={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},j=i(r,N);_=r[j]}else i==="value"&&(_=r.find(B=>String(B.value)===h.payload.label));var{coordinate:F}=h.payload;if(_==null||h.payload.active===!1||F==null||l==null){t(H0({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:X,y:$}=F,q=Math.min(X,l.x+l.width),se=Math.min($,l.y+l.height),re={x:s==="horizontal"?_.coordinate:q,y:s==="horizontal"?se:_.coordinate},ce=H0({active:h.payload.active,coordinate:re,dataKey:h.payload.dataKey,index:String(_.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox,graphicalItemId:h.payload.graphicalItemId});t(ce)}}};return au.on(G0,d),()=>{au.off(G0,d)}},[c,t,e,n,i,r,s,l])}function Yq(){var n=ye(mA),e=ye(gA),t=ct();C.useEffect(()=>{if(n==null)return dl;var i=(r,s,l)=>{e!==l&&n===r&&t(Bq(s))};return au.on(PT,i),()=>{au.off(PT,i)}},[t,e,n])}function Xq(){var n=ct();C.useEffect(()=>{n(Iq())},[n]),Vq(),Yq()}function Kq(n,e,t,i,r,s){var l=ye(y=>nq(y,n,e)),c=ye(gA),d=ye(mA),f=ye(hL),h=ye(kq),p=h?.active,g=ip();C.useEffect(()=>{if(!p&&d!=null&&c!=null){var y=H0({active:s,coordinate:t,dataKey:l,index:r,label:typeof i=="number"?String(i):i,sourceViewBox:g,graphicalItemId:void 0});au.emit(G0,d,y,c)}},[p,t,l,r,i,c,d,f,s,g])}function NT(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function RT(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?NT(Object(t),!0).forEach(function(i){Wq(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):NT(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Wq(n,e,t){return(e=Zq(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Zq(n){var e=Qq(n,"string");return typeof e=="symbol"?e:e+""}function Qq(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Jq(n){return n.dataKey}function eG(n,e){return C.isValidElement(n)?C.cloneElement(n,e):typeof n=="function"?C.createElement(n,e):C.createElement(BF,e)}var IT=[],tG={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Rr(n){var e,t,i=An(n,tG),{active:r,allowEscapeViewBox:s,animationDuration:l,animationEasing:c,content:d,filterNull:f,isAnimationActive:h,offset:p,payloadUniqBy:g,position:y,reverseDirection:S,useTranslate3d:A,wrapperStyle:x,cursor:E,shared:O,trigger:T,defaultIndex:P,portal:M,axisId:_}=i,N=ct(),j=typeof P=="number"?String(P):P;C.useEffect(()=>{N(Z7({shared:O,trigger:T,axisId:_,active:r,defaultIndex:j}))},[N,O,T,_,r,j]);var F=ip(),X=lD(),$=G7(O),{activeIndex:q,isActive:se}=(e=ye(de=>aq(de,$,T,j)))!==null&&e!==void 0?e:{},re=ye(de=>rq(de,$,T,j)),ce=ye(de=>mN(de,$,T,j)),B=ye(de=>iq(de,$,T,j)),H=re,ie=_q(),le=(t=r??se)!==null&&t!==void 0?t:!1,[pe,I]=dP([H,le]),K=$==="axis"?ce:void 0;Kq($,T,B,K,q,le);var ne=M??ie;if(ne==null||F==null||$==null)return null;var oe=H??IT;le||(oe=IT),f&&oe.length&&(oe=sP(oe.filter(de=>de.value!=null&&(de.hide!==!0||i.includeHidden)),g,Jq));var ve=oe.length>0,xe=C.createElement(GF,{allowEscapeViewBox:s,animationDuration:l,animationEasing:c,isAnimationActive:h,active:le,coordinate:B,hasPayload:ve,offset:p,position:y,reverseDirection:S,useTranslate3d:A,viewBox:F,wrapperStyle:x,lastBoundingBox:pe,innerRef:I,hasPortalFromProps:!!M},eG(d,RT(RT({},i),{},{payload:oe,label:K,active:le,activeIndex:q,coordinate:B,accessibilityLayer:X})));return C.createElement(C.Fragment,null,Ab.createPortal(xe,ne),le&&C.createElement(Mq,{cursor:E,tooltipEventType:$,coordinate:B,payload:oe,index:q}))}var ri=n=>null;ri.displayName="Cell";function nG(n,e,t){return(e=iG(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function iG(n){var e=rG(n,"string");return typeof e=="symbol"?e:e+""}function rG(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class aG{constructor(e){nG(this,"cache",new Map),this.maxSize=e}get(e){var t=this.cache.get(e);return t!==void 0&&(this.cache.delete(e),this.cache.set(e,t)),t}set(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var i=this.cache.keys().next().value;i!=null&&this.cache.delete(i)}this.cache.set(e,t)}clear(){this.cache.clear()}size(){return this.cache.size}}function kT(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function sG(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?kT(Object(t),!0).forEach(function(i){oG(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):kT(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function oG(n,e,t){return(e=lG(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function lG(n){var e=cG(n,"string");return typeof e=="symbol"?e:e+""}function cG(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var uG={cacheSize:2e3,enableCache:!0},SN=sG({},uG),jT=new aG(SN.cacheSize),dG={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},BT="recharts_measurement_span";function fG(n,e){var t=e.fontSize||"",i=e.fontFamily||"",r=e.fontWeight||"",s=e.fontStyle||"",l=e.letterSpacing||"",c=e.textTransform||"";return"".concat(n,"|").concat(t,"|").concat(i,"|").concat(r,"|").concat(s,"|").concat(l,"|").concat(c)}var zT=(n,e)=>{try{var t=document.getElementById(BT);t||(t=document.createElement("span"),t.setAttribute("id",BT),t.setAttribute("aria-hidden","true"),document.body.appendChild(t)),Object.assign(t.style,dG,e),t.textContent="".concat(n);var i=t.getBoundingClientRect();return{width:i.width,height:i.height}}catch{return{width:0,height:0}}},zc=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||op.isSsr)return{width:0,height:0};if(!SN.enableCache)return zT(e,t);var i=fG(e,t),r=jT.get(i);if(r)return r;var s=zT(e,t);return jT.set(i,s),s},xN;function hG(n,e,t){return(e=pG(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function pG(n){var e=mG(n,"string");return typeof e=="symbol"?e:e+""}function mG(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var FT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,UT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,gG=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,vG=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,yG={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},bG=["cm","mm","pt","pc","in","Q","px"];function AG(n){return bG.includes(n)}var Yo="NaN";function SG(n,e){return n*yG[e]}class vn{static parse(e){var t,[,i,r]=(t=vG.exec(e))!==null&&t!==void 0?t:[];return i==null?vn.NaN:new vn(parseFloat(i),r??"")}constructor(e,t){this.num=e,this.unit=t,this.num=e,this.unit=t,ur(e)&&(this.unit=""),t!==""&&!gG.test(t)&&(this.num=NaN,this.unit=""),AG(t)&&(this.num=SG(e,t),this.unit="px")}add(e){return this.unit!==e.unit?new vn(NaN,""):new vn(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new vn(NaN,""):new vn(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new vn(NaN,""):new vn(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new vn(NaN,""):new vn(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ur(this.num)}}xN=vn;hG(vn,"NaN",new xN(NaN,""));function EN(n){if(n==null||n.includes(Yo))return Yo;for(var e=n;e.includes("*")||e.includes("/");){var t,[,i,r,s]=(t=FT.exec(e))!==null&&t!==void 0?t:[],l=vn.parse(i??""),c=vn.parse(s??""),d=r==="*"?l.multiply(c):l.divide(c);if(d.isNaN())return Yo;e=e.replace(FT,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,[,h,p,g]=(f=UT.exec(e))!==null&&f!==void 0?f:[],y=vn.parse(h??""),S=vn.parse(g??""),A=p==="+"?y.add(S):y.subtract(S);if(A.isNaN())return Yo;e=e.replace(UT,A.toString())}return e}var HT=/\(([^()]*)\)/;function xG(n){for(var e=n,t;(t=HT.exec(e))!=null;){var[,i]=t;e=e.replace(HT,EN(i))}return e}function EG(n){var e=n.replace(/\s+/g,"");return e=xG(e),e=EN(e),e}function wG(n){try{return EG(n)}catch{return Yo}}function Ty(n){var e=wG(n.slice(5,-1));return e===Yo?"":e}var CG=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],OG=["dx","dy","angle","className","breakAll"];function V0(){return V0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},V0.apply(null,arguments)}function $T(n,e){if(n==null)return{};var t,i,r=TG(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function TG(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var wN=/[ \f\n\r\t\v\u2028\u2029]+/,CN=n=>{var{children:e,breakAll:t,style:i}=n;try{var r=[];rn(e)||(t?r=e.toString().split(""):r=e.toString().split(wN));var s=r.map(c=>({word:c,width:zc(c,i).width})),l=t?0:zc("",i).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}};function MG(n){return n==="start"||n==="middle"||n==="end"||n==="inherit"}var ON=(n,e,t,i)=>n.reduce((r,s)=>{var{word:l,width:c}=s,d=r[r.length-1];if(d&&c!=null&&(e==null||i||d.width+c+t<Number(e)))d.words.push(l),d.width+=c+t;else{var f={words:[l],width:c};r.push(f)}return r},[]),TN=n=>n.reduce((e,t)=>e.width>t.width?e:t),_G="",qT=(n,e,t,i,r,s,l,c)=>{var d=n.slice(0,e),f=CN({breakAll:t,style:i,children:d+_G});if(!f)return[!1,[]];var h=ON(f.wordsWithComputedWidth,s,l,c),p=h.length>r||TN(h).width>Number(s);return[p,h]},PG=(n,e,t,i,r)=>{var{maxLines:s,children:l,style:c,breakAll:d}=n,f=be(s),h=String(l),p=ON(e,i,t,r);if(!f||r)return p;var g=p.length>s||TN(p).width>Number(i);if(!g)return p;for(var y=0,S=h.length-1,A=0,x;y<=S&&A<=h.length-1;){var E=Math.floor((y+S)/2),O=E-1,[T,P]=qT(h,O,d,c,s,i,t,r),[M]=qT(h,E,d,c,s,i,t,r);if(!T&&!M&&(y=E+1),T&&M&&(S=E-1),!T&&M){x=P;break}A++}return x||p},GT=n=>{var e=rn(n)?[]:n.toString().split(wN);return[{words:e,width:void 0}]},DG=n=>{var{width:e,scaleToFit:t,children:i,style:r,breakAll:s,maxLines:l}=n;if((e||t)&&!op.isSsr){var c,d,f=CN({breakAll:s,children:i,style:r});if(f){var{wordsWithComputedWidth:h,spaceWidth:p}=f;c=h,d=p}else return GT(i);return PG({breakAll:s,children:i,maxLines:l,style:r},c,d,e,!!t)}return GT(i)},MN="#808080",LG={angle:0,breakAll:!1,capHeight:"0.71em",fill:MN,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Mp=C.forwardRef((n,e)=>{var t=An(n,LG),{x:i,y:r,lineHeight:s,capHeight:l,fill:c,scaleToFit:d,textAnchor:f,verticalAnchor:h}=t,p=$T(t,CG),g=C.useMemo(()=>DG({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:d,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,d,p.style,p.width]),{dx:y,dy:S,angle:A,className:x,breakAll:E}=p,O=$T(p,OG);if(!dr(i)||!dr(r)||g.length===0)return null;var T=Number(i)+(be(y)?y:0),P=Number(r)+(be(S)?S:0);if(!Ke(T)||!Ke(P))return null;var M;switch(h){case"start":M=Ty("calc(".concat(l,")"));break;case"middle":M=Ty("calc(".concat((g.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:M=Ty("calc(".concat(g.length-1," * -").concat(s,")"));break}var _=[],N=g[0];if(d&&N!=null){var j=N.width,{width:F}=p;_.push("scale(".concat(be(F)&&be(j)?F/j:1,")"))}return A&&_.push("rotate(".concat(A,", ").concat(T,", ").concat(P,")")),_.length&&(O.transform=_.join(" ")),C.createElement("text",V0({},Di(O),{ref:e,x:T,y:P,className:et("recharts-text",x),textAnchor:f,fill:c.includes("url")?MN:c}),g.map((X,$)=>{var q=X.words.join(E?"":" ");return C.createElement("tspan",{x:T,dy:$===0?M:s,key:"".concat(q,"-").concat($)},q)}))});Mp.displayName="Text";function VT(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function tr(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?VT(Object(t),!0).forEach(function(i){NG(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):VT(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function NG(n,e,t){return(e=RG(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function RG(n){var e=IG(n,"string");return typeof e=="symbol"?e:e+""}function IG(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var kG=n=>{var{viewBox:e,position:t,offset:i=0,parentViewBox:r}=n,{x:s,y:l,height:c,upperWidth:d,lowerWidth:f}=zb(e),h=s,p=s+(d-f)/2,g=(h+p)/2,y=(d+f)/2,S=h+d/2,A=c>=0?1:-1,x=A*i,E=A>0?"end":"start",O=A>0?"start":"end",T=d>=0?1:-1,P=T*i,M=T>0?"end":"start",_=T>0?"start":"end",N=r;if(t==="top"){var j={x:h+d/2,y:l-x,horizontalAnchor:"middle",verticalAnchor:E};return N&&(j.height=Math.max(l-N.y,0),j.width=d),j}if(t==="bottom"){var F={x:p+f/2,y:l+c+x,horizontalAnchor:"middle",verticalAnchor:O};return N&&(F.height=Math.max(N.y+N.height-(l+c),0),F.width=f),F}if(t==="left"){var X={x:g-P,y:l+c/2,horizontalAnchor:M,verticalAnchor:"middle"};return N&&(X.width=Math.max(X.x-N.x,0),X.height=c),X}if(t==="right"){var $={x:g+y+P,y:l+c/2,horizontalAnchor:_,verticalAnchor:"middle"};return N&&($.width=Math.max(N.x+N.width-$.x,0),$.height=c),$}var q=N?{width:y,height:c}:{};return t==="insideLeft"?tr({x:g+P,y:l+c/2,horizontalAnchor:_,verticalAnchor:"middle"},q):t==="insideRight"?tr({x:g+y-P,y:l+c/2,horizontalAnchor:M,verticalAnchor:"middle"},q):t==="insideTop"?tr({x:h+d/2,y:l+x,horizontalAnchor:"middle",verticalAnchor:O},q):t==="insideBottom"?tr({x:p+f/2,y:l+c-x,horizontalAnchor:"middle",verticalAnchor:E},q):t==="insideTopLeft"?tr({x:h+P,y:l+x,horizontalAnchor:_,verticalAnchor:O},q):t==="insideTopRight"?tr({x:h+d-P,y:l+x,horizontalAnchor:M,verticalAnchor:O},q):t==="insideBottomLeft"?tr({x:p+P,y:l+c-x,horizontalAnchor:_,verticalAnchor:E},q):t==="insideBottomRight"?tr({x:p+f-P,y:l+c-x,horizontalAnchor:M,verticalAnchor:E},q):t&&typeof t=="object"&&(be(t.x)||Rs(t.x))&&(be(t.y)||Rs(t.y))?tr({x:s+Cn(t.x,y),y:l+Cn(t.y,c),horizontalAnchor:"end",verticalAnchor:"end"},q):tr({x:S,y:l+c/2,horizontalAnchor:"middle",verticalAnchor:"middle"},q)},jG=["labelRef"],BG=["content"];function YT(n,e){if(n==null)return{};var t,i,r=zG(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function zG(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function XT(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function jc(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?XT(Object(t),!0).forEach(function(i){FG(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):XT(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function FG(n,e,t){return(e=UG(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function UG(n){var e=HG(n,"string");return typeof e=="symbol"?e:e+""}function HG(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Ur(){return Ur=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Ur.apply(null,arguments)}var _N=C.createContext(null),$G=n=>{var{x:e,y:t,upperWidth:i,lowerWidth:r,width:s,height:l,children:c}=n,d=C.useMemo(()=>({x:e,y:t,upperWidth:i,lowerWidth:r,width:s,height:l}),[e,t,i,r,s,l]);return C.createElement(_N.Provider,{value:d},c)},PN=()=>{var n=C.useContext(_N),e=ip();return n||(e?zb(e):void 0)},qG=C.createContext(null),GG=()=>{var n=C.useContext(qG),e=ye(yL);return n||e},VG=n=>{var{value:e,formatter:t}=n,i=rn(n.children)?e:n.children;return typeof t=="function"?t(i):i},JA=n=>n!=null&&typeof n=="function",YG=(n,e)=>{var t=bn(e-n),i=Math.min(Math.abs(e-n),360);return t*i},XG=(n,e,t,i,r)=>{var{offset:s,className:l}=n,{cx:c,cy:d,innerRadius:f,outerRadius:h,startAngle:p,endAngle:g,clockWise:y}=r,S=(f+h)/2,A=YG(p,g),x=A>=0?1:-1,E,O;switch(e){case"insideStart":E=p+x*s,O=y;break;case"insideEnd":E=g-x*s,O=!y;break;case"end":E=g+x*s,O=y;break;default:throw new Error("Unsupported position ".concat(e))}O=A<=0?O:!O;var T=Ft(c,d,S,E),P=Ft(c,d,S,E+(O?1:-1)*359),M="M".concat(T.x,",").concat(T.y,`
    A`).concat(S,",").concat(S,",0,1,").concat(O?0:1,`,
    `).concat(P.x,",").concat(P.y),_=rn(n.id)?Vc("recharts-radial-line-"):n.id;return C.createElement("text",Ur({},i,{dominantBaseline:"central",className:et("recharts-radial-bar-label",l)}),C.createElement("defs",null,C.createElement("path",{id:_,d:M})),C.createElement("textPath",{xlinkHref:"#".concat(_)},t))},KG=(n,e,t)=>{var{cx:i,cy:r,innerRadius:s,outerRadius:l,startAngle:c,endAngle:d}=n,f=(c+d)/2;if(t==="outside"){var{x:h,y:p}=Ft(i,r,l+e,f);return{x:h,y:p,textAnchor:h>=i?"start":"end",verticalAnchor:"middle"}}if(t==="center")return{x:i,y:r,textAnchor:"middle",verticalAnchor:"middle"};if(t==="centerTop")return{x:i,y:r,textAnchor:"middle",verticalAnchor:"start"};if(t==="centerBottom")return{x:i,y:r,textAnchor:"middle",verticalAnchor:"end"};var g=(s+l)/2,{x:y,y:S}=Ft(i,r,g,f);return{x:y,y:S,textAnchor:"middle",verticalAnchor:"middle"}},Mf=n=>n!=null&&"cx"in n&&be(n.cx),WG={angle:0,offset:5,zIndex:wn.label,position:"middle",textBreakAll:!1};function ZG(n){if(!Mf(n))return n;var{cx:e,cy:t,outerRadius:i}=n,r=i*2;return{x:e-i,y:t-i,width:r,upperWidth:r,lowerWidth:r,height:r}}function Ia(n){var e=An(n,WG),{viewBox:t,parentViewBox:i,position:r,value:s,children:l,content:c,className:d="",textBreakAll:f,labelRef:h}=e,p=GG(),g=PN(),y=r==="center"?g:p??g,S,A,x;t==null?S=y:Mf(t)?S=t:S=zb(t);var E=ZG(S);if(!S||rn(s)&&rn(l)&&!C.isValidElement(c)&&typeof c!="function")return null;var O=jc(jc({},e),{},{viewBox:S});if(C.isValidElement(c)){var{labelRef:T}=O,P=YT(O,jG);return C.cloneElement(c,P)}if(typeof c=="function"){var{content:M}=O,_=YT(O,BG);if(A=C.createElement(c,_),C.isValidElement(A))return A}else A=VG(e);var N=Di(e);if(Mf(S)){if(r==="insideStart"||r==="insideEnd"||r==="end")return XG(e,r,A,N,S);x=KG(S,e.offset,e.position)}else{if(!E)return null;var j=kG({viewBox:E,position:r,offset:e.offset,parentViewBox:Mf(i)?void 0:i});x=jc(jc({x:j.x,y:j.y,textAnchor:j.horizontalAnchor,verticalAnchor:j.verticalAnchor},j.width!==void 0?{width:j.width}:{}),j.height!==void 0?{height:j.height}:{})}return C.createElement(hr,{zIndex:e.zIndex},C.createElement(Mp,Ur({ref:h,className:et("recharts-label",d)},N,x,{textAnchor:MG(N.textAnchor)?N.textAnchor:x.textAnchor,breakAll:f}),A))}Ia.displayName="Label";var QG=(n,e,t)=>{if(!n)return null;var i={viewBox:e,labelRef:t};return n===!0?C.createElement(Ia,Ur({key:"label-implicit"},i)):dr(n)?C.createElement(Ia,Ur({key:"label-implicit",value:n},i)):C.isValidElement(n)?n.type===Ia?C.cloneElement(n,jc({key:"label-implicit"},i)):C.createElement(Ia,Ur({key:"label-implicit",content:n},i)):JA(n)?C.createElement(Ia,Ur({key:"label-implicit",content:n},i)):n&&typeof n=="object"?C.createElement(Ia,Ur({},n,{key:"label-implicit"},i)):null};function JG(n){var{label:e,labelRef:t}=n,i=PN();return QG(e,i,t)||null}var My={},_y={},KT;function eV(){return KT||(KT=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t[t.length-1]}n.last=e})(_y)),_y}var Py={},WT;function tV(){return WT||(WT=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return Array.isArray(t)?t:Array.from(t)}n.toArray=e})(Py)),Py}var ZT;function nV(){return ZT||(ZT=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=eV(),t=tV(),i=Mb();function r(s){if(i.isArrayLike(s))return e.last(t.toArray(s))}n.last=r})(My)),My}var Dy,QT;function iV(){return QT||(QT=1,Dy=nV().last),Dy}var rV=iV();const aV=Qr(rV);var sV=["valueAccessor"],oV=["dataKey","clockWise","id","textBreakAll","zIndex"];function bh(){return bh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},bh.apply(null,arguments)}function JT(n,e){if(n==null)return{};var t,i,r=lV(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function lV(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var cV=n=>Array.isArray(n.value)?aV(n.value):n.value,DN=C.createContext(void 0),uV=DN.Provider,LN=C.createContext(void 0),dV=LN.Provider;function fV(){return C.useContext(DN)}function hV(){return C.useContext(LN)}function _f(n){var{valueAccessor:e=cV}=n,t=JT(n,sV),{dataKey:i,clockWise:r,id:s,textBreakAll:l,zIndex:c}=t,d=JT(t,oV),f=fV(),h=hV(),p=f||h;return!p||!p.length?null:C.createElement(hr,{zIndex:c??wn.label},C.createElement(Dn,{className:"recharts-label-list"},p.map((g,y)=>{var S,A=rn(i)?e(g,y):pt(g.payload,i),x=rn(s)?{}:{id:"".concat(s,"-").concat(y)};return C.createElement(Ia,bh({key:"label-".concat(y)},Di(g),d,x,{fill:(S=t.fill)!==null&&S!==void 0?S:g.fill,parentViewBox:g.parentViewBox,value:A,textBreakAll:l,viewBox:g.viewBox,index:y,zIndex:0}))})))}_f.displayName="LabelList";function NN(n){var{label:e}=n;return e?e===!0?C.createElement(_f,{key:"labelList-implicit"}):C.isValidElement(e)||JA(e)?C.createElement(_f,{key:"labelList-implicit",content:e}):typeof e=="object"?C.createElement(_f,bh({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var RN=n=>n.graphicalItems.polarItems,pV=Y([xt,wu],xA),_p=Y([RN,_t,pV],wA),mV=Y([_p],CA),Pp=Y([mV,gp],OA),gV=Y([Pp,_t,_p],MA);Y([Pp,_t,_p],(n,e,t)=>t.length>0?n.flatMap(i=>t.flatMap(r=>{var s,l=pt(i,(s=e.dataKey)!==null&&s!==void 0?s:r.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):e?.dataKey!=null?n.map(i=>({value:pt(i,e.dataKey),errorDomain:[]})):n.map(i=>({value:i,errorDomain:[]})));var eM=()=>{},vV=Y([Pp,_t,_p,wp,xt],LA),yV=Y([_t,PA,DA,eM,vV,eM,We,xt],NA),IN=Y([_t,We,Pp,gV,Eu,xt,yV],RA),bV=Y([IN,vl,Ka],jA),AV=Y([_t,IN,bV,xt],zA);Y([Ka,AV],AL);var SV={radiusAxis:{},angleAxis:{}},kN=Gn({name:"polarAxis",initialState:SV,reducers:{addRadiusAxis(n,e){n.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(n,e){delete n.radiusAxis[e.payload.id]},addAngleAxis(n,e){n.angleAxis[e.payload.id]=e.payload},removeAngleAxis(n,e){delete n.angleAxis[e.payload.id]}}}),{addRadiusAxis:IW,removeRadiusAxis:kW,addAngleAxis:jW,removeAngleAxis:BW}=kN.actions,xV=kN.reducer;function jN(n){return n&&typeof n=="object"&&"className"in n&&typeof n.className=="string"?n.className:""}function tM(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function nM(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?tM(Object(t),!0).forEach(function(i){EV(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):tM(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function EV(n,e,t){return(e=wV(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function wV(n){var e=CV(n,"string");return typeof e=="symbol"?e:e+""}function CV(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var OV=(n,e)=>e,e1=Y([RN,OV],(n,e)=>n.filter(t=>t.type==="pie").find(t=>t.id===e)),TV=[],t1=(n,e,t)=>t?.length===0?TV:t,BN=Y([gp,e1,t1],(n,e,t)=>{var{chartData:i}=n;if(e!=null){var r;if(e?.data!=null&&e.data.length>0?r=e.data:r=i,(!r||!r.length)&&t!=null&&(r=t.map(s=>nM(nM({},e.presentationProps),s.props))),r!=null)return r}}),MV=Y([BN,e1,t1],(n,e,t)=>{if(!(n==null||e==null))return n.map((i,r)=>{var s,l=pt(i,e.nameKey,e.name),c;return t!=null&&(s=t[r])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?c=t[r].props.fill:typeof i=="object"&&i!=null&&"fill"in i?c=i.fill:c=e.fill,{value:Qh(l,e.dataKey),color:c,payload:i,type:e.legendType}})}),_V=Y([BN,e1,t1,Yt],(n,e,t,i)=>{if(!(e==null||n==null))return L9({offset:i,pieSettings:e,displayedData:n,cells:t})}),Ly={exports:{}},rt={};var iM;function PV(){if(iM)return rt;iM=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.view_transition"),y=Symbol.for("react.client.reference");function S(A){if(typeof A=="object"&&A!==null){var x=A.$$typeof;switch(x){case n:switch(A=A.type,A){case t:case r:case i:case d:case f:case g:return A;default:switch(A=A&&A.$$typeof,A){case l:case c:case p:case h:return A;case s:return A;default:return x}}case e:return x}}}return rt.ContextConsumer=s,rt.ContextProvider=l,rt.Element=n,rt.ForwardRef=c,rt.Fragment=t,rt.Lazy=p,rt.Memo=h,rt.Portal=e,rt.Profiler=r,rt.StrictMode=i,rt.Suspense=d,rt.SuspenseList=f,rt.isContextConsumer=function(A){return S(A)===s},rt.isContextProvider=function(A){return S(A)===l},rt.isElement=function(A){return typeof A=="object"&&A!==null&&A.$$typeof===n},rt.isForwardRef=function(A){return S(A)===c},rt.isFragment=function(A){return S(A)===t},rt.isLazy=function(A){return S(A)===p},rt.isMemo=function(A){return S(A)===h},rt.isPortal=function(A){return S(A)===e},rt.isProfiler=function(A){return S(A)===r},rt.isStrictMode=function(A){return S(A)===i},rt.isSuspense=function(A){return S(A)===d},rt.isSuspenseList=function(A){return S(A)===f},rt.isValidElementType=function(A){return typeof A=="string"||typeof A=="function"||A===t||A===r||A===i||A===d||A===f||typeof A=="object"&&A!==null&&(A.$$typeof===p||A.$$typeof===h||A.$$typeof===l||A.$$typeof===s||A.$$typeof===c||A.$$typeof===y||A.getModuleId!==void 0)},rt.typeOf=S,rt}var rM;function DV(){return rM||(rM=1,Ly.exports=PV()),Ly.exports}var LV=DV(),aM=n=>typeof n=="string"?n:n?n.displayName||n.name||"Component":"",sM=null,Ny=null,zN=n=>{if(n===sM&&Array.isArray(Ny))return Ny;var e=[];return C.Children.forEach(n,t=>{rn(t)||(LV.isFragment(t)?e=e.concat(zN(t.props.children)):e.push(t))}),Ny=e,sM=n,e};function n1(n,e){var t=[],i=[];return Array.isArray(e)?i=e.map(r=>aM(r)):i=[aM(e)],zN(n).forEach(r=>{var s=Ns(r,"type.displayName")||Ns(r,"type.name");s&&i.indexOf(s)!==-1&&t.push(r)}),t}var Ry={},oM;function NV(){return oM||(oM=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const r=t[Symbol.toStringTag];return r==null||!Object.getOwnPropertyDescriptor(t,Symbol.toStringTag)?.writable?!1:t.toString()===`[object ${r}]`}let i=t;for(;Object.getPrototypeOf(i)!==null;)i=Object.getPrototypeOf(i);return Object.getPrototypeOf(t)===i}n.isPlainObject=e})(Ry)),Ry}var Iy,lM;function RV(){return lM||(lM=1,Iy=NV().isPlainObject),Iy}var IV=RV();const kV=Qr(IV);var cM,uM,dM,fM,hM;function pM(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function mM(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?pM(Object(t),!0).forEach(function(i){jV(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):pM(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function jV(n,e,t){return(e=BV(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function BV(n){var e=zV(n,"string");return typeof e=="symbol"?e:e+""}function zV(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Ah(){return Ah=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Ah.apply(null,arguments)}function Pc(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}var gM=(n,e,t,i,r)=>{var s=t-i,l;return l=Ot(cM||(cM=Pc(["M ",",",""])),n,e),l+=Ot(uM||(uM=Pc(["L ",",",""])),n+t,e),l+=Ot(dM||(dM=Pc(["L ",",",""])),n+t-s/2,e+r),l+=Ot(fM||(fM=Pc(["L ",",",""])),n+t-s/2-i,e+r),l+=Ot(hM||(hM=Pc(["L ",","," Z"])),n,e),l},FV={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},UV=n=>{var e=An(n,FV),{x:t,y:i,upperWidth:r,lowerWidth:s,height:l,className:c}=e,{animationEasing:d,animationDuration:f,animationBegin:h,isUpdateAnimationActive:p}=e,g=C.useRef(null),[y,S]=C.useState(-1),A=C.useRef(r),x=C.useRef(s),E=C.useRef(l),O=C.useRef(t),T=C.useRef(i),P=cp(n,"trapezoid-");if(C.useEffect(()=>{if(g.current&&g.current.getTotalLength)try{var re=g.current.getTotalLength();re&&S(re)}catch{}},[]),t!==+t||i!==+i||r!==+r||s!==+s||l!==+l||r===0&&s===0||l===0)return null;var M=et("recharts-trapezoid",c);if(!p)return C.createElement("g",null,C.createElement("path",Ah({},Di(e),{className:M,d:gM(t,i,r,s,l)})));var _=A.current,N=x.current,j=E.current,F=O.current,X=T.current,$="0px ".concat(y===-1?1:y,"px"),q="".concat(y,"px 0px"),se=cD(["strokeDasharray"],f,d);return C.createElement(lp,{animationId:P,key:P,canBegin:y>0,duration:f,easing:d,isActive:p,begin:h},re=>{var ce=qt(_,r,re),B=qt(N,s,re),H=qt(j,l,re),ie=qt(F,t,re),le=qt(X,i,re);g.current&&(A.current=ce,x.current=B,E.current=H,O.current=ie,T.current=le);var pe=re>0?{transition:se,strokeDasharray:q}:{strokeDasharray:$};return C.createElement("path",Ah({},Di(e),{className:M,d:gM(ie,le,ce,B,H),ref:g,style:mM(mM({},pe),e.style)}))})},HV=["option","shapeType","activeClassName"];function $V(n,e){if(n==null)return{};var t,i,r=qV(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function qV(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function vM(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Sh(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?vM(Object(t),!0).forEach(function(i){GV(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):vM(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function GV(n,e,t){return(e=VV(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function VV(n){var e=YV(n,"string");return typeof e=="symbol"?e:e+""}function YV(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function XV(n,e){return Sh(Sh({},e),n)}function KV(n,e){return n==="symbols"}function yM(n){var{shapeType:e,elementProps:t}=n;switch(e){case"rectangle":return C.createElement(hD,t);case"trapezoid":return C.createElement(UV,t);case"sector":return C.createElement(vD,t);case"symbols":if(KV(e))return C.createElement(Tb,t);break;case"curve":return C.createElement(Hb,t);default:return null}}function WV(n){return C.isValidElement(n)?n.props:n}function FN(n){var{option:e,shapeType:t,activeClassName:i="recharts-active-shape"}=n,r=$V(n,HV),s;if(C.isValidElement(e))s=C.cloneElement(e,Sh(Sh({},r),WV(e)));else if(typeof e=="function")s=e(r,r.index);else if(kV(e)&&typeof e!="boolean"){var l=XV(e,r);s=C.createElement(yM,{shapeType:t,elementProps:l})}else{var c=r;s=C.createElement(yM,{shapeType:t,elementProps:c})}return r.isActive?C.createElement(Dn,{className:i},s):s}var i1=(n,e,t)=>{var i=ct();return(r,s)=>l=>{n?.(r,s,l),i(WL({activeIndex:String(s),activeDataKey:e,activeCoordinate:r.tooltipPosition,activeGraphicalItemId:t}))}},r1=n=>{var e=ct();return(t,i)=>r=>{n?.(t,i,r),e(Q7())}},a1=(n,e,t)=>{var i=ct();return(r,s)=>l=>{n?.(r,s,l),i(J7({activeIndex:String(s),activeDataKey:e,activeCoordinate:r.tooltipPosition,activeGraphicalItemId:t}))}};function UN(n){var{tooltipEntrySettings:e}=n,t=ct(),i=ui(),r=C.useRef(null);return C.useLayoutEffect(()=>{i||(r.current===null?t(X7(e)):r.current!==e&&t(K7({prev:r.current,next:e})),r.current=e)},[e,t,i]),C.useLayoutEffect(()=>()=>{r.current&&(t(W7(r.current)),r.current=null)},[t]),null}function ZV(n){var{legendPayload:e}=n,t=ct(),i=ui(),r=C.useRef(null);return C.useLayoutEffect(()=>{i||(r.current===null?t(aD(e)):r.current!==e&&t(sD({prev:r.current,next:e})),r.current=e)},[t,i,e]),C.useLayoutEffect(()=>()=>{r.current&&(t(oD(r.current)),r.current=null)},[t]),null}function QV(n){var{legendPayload:e}=n,t=ct(),i=ye(We),r=C.useRef(null);return C.useLayoutEffect(()=>{i!=="centric"&&i!=="radial"||(r.current===null?t(aD(e)):r.current!==e&&t(sD({prev:r.current,next:e})),r.current=e)},[t,i,e]),C.useLayoutEffect(()=>()=>{r.current&&(t(oD(r.current)),r.current=null)},[t]),null}var ky,JV=()=>{var[n]=C.useState(()=>Vc("uid-"));return n},e9=(ky=Yk.useId)!==null&&ky!==void 0?ky:JV;function t9(n,e){var t=e9();return e||(n?"".concat(n,"-").concat(t):t)}var n9=C.createContext(void 0),HN=n=>{var{id:e,type:t,children:i}=n,r=t9("recharts-".concat(t),e);return C.createElement(n9.Provider,{value:r},i(r))},i9={cartesianItems:[],polarItems:[]},$N=Gn({name:"graphicalItems",initialState:i9,reducers:{addCartesianGraphicalItem:{reducer(n,e){n.cartesianItems.push(e.payload)},prepare:yt()},replaceCartesianGraphicalItem:{reducer(n,e){var{prev:t,next:i}=e.payload,r=Hi(n).cartesianItems.indexOf(t);r>-1&&(n.cartesianItems[r]=i)},prepare:yt()},removeCartesianGraphicalItem:{reducer(n,e){var t=Hi(n).cartesianItems.indexOf(e.payload);t>-1&&n.cartesianItems.splice(t,1)},prepare:yt()},addPolarGraphicalItem:{reducer(n,e){n.polarItems.push(e.payload)},prepare:yt()},removePolarGraphicalItem:{reducer(n,e){var t=Hi(n).polarItems.indexOf(e.payload);t>-1&&n.polarItems.splice(t,1)},prepare:yt()}}}),{addCartesianGraphicalItem:r9,replaceCartesianGraphicalItem:a9,removeCartesianGraphicalItem:s9,addPolarGraphicalItem:o9,removePolarGraphicalItem:l9}=$N.actions,c9=$N.reducer,u9=n=>{var e=ct(),t=C.useRef(null);return C.useLayoutEffect(()=>{t.current===null?e(r9(n)):t.current!==n&&e(a9({prev:t.current,next:n})),t.current=n},[e,n]),C.useLayoutEffect(()=>()=>{t.current&&(e(s9(t.current)),t.current=null)},[e]),null},d9=C.memo(u9);function f9(n){var e=ct();return C.useLayoutEffect(()=>(e(o9(n)),()=>{e(l9(n))}),[e,n]),null}var h9=["key"],p9=["onMouseEnter","onClick","onMouseLeave"],m9=["id"],g9=["id"];function bM(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Mt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?bM(Object(t),!0).forEach(function(i){v9(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):bM(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function v9(n,e,t){return(e=y9(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function y9(n){var e=b9(n,"string");return typeof e=="symbol"?e:e+""}function b9(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Ga(){return Ga=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Ga.apply(null,arguments)}function Dp(n,e){if(n==null)return{};var t,i,r=A9(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function A9(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function S9(n){var e=C.useMemo(()=>n1(n.children,ri),[n.children]),t=ye(i=>MV(i,n.id,e));return t==null?null:C.createElement(QV,{legendPayload:t})}var x9=C.memo(n=>{var{dataKey:e,nameKey:t,sectors:i,stroke:r,strokeWidth:s,fill:l,name:c,hide:d,tooltipType:f,id:h}=n,p={dataDefinedOnItem:i.map(g=>g.tooltipPayload),getPosition:g=>{var y;return(y=i[Number(g)])===null||y===void 0?void 0:y.tooltipPosition},settings:{stroke:r,strokeWidth:s,fill:l,dataKey:e,nameKey:t,name:Qh(c,e),hide:d,type:f,color:l,unit:"",graphicalItemId:h}};return C.createElement(UN,{tooltipEntrySettings:p})}),E9=(n,e)=>n>e?"start":n<e?"end":"middle",w9=(n,e,t)=>Cn(typeof e=="function"?e(n):e,t,t*.8),C9=(n,e,t)=>{var{top:i,left:r,width:s,height:l}=e,c=pD(s,l),d=r+Cn(n.cx,s,s/2),f=i+Cn(n.cy,l,l/2),h=Cn(n.innerRadius,c,0),p=w9(t,n.outerRadius,c),g=n.maxRadius||Math.sqrt(s*s+l*l)/2;return{cx:d,cy:f,innerRadius:h,outerRadius:p,maxRadius:g}},O9=(n,e)=>{var t=bn(e-n),i=Math.min(Math.abs(e-n),360);return t*i},T9=(n,e)=>{if(C.isValidElement(n))return C.cloneElement(n,e);if(typeof n=="function")return n(e);var t=et("recharts-pie-label-line",typeof n!="boolean"?n.className:""),{key:i}=e,r=Dp(e,h9);return C.createElement(Hb,Ga({},r,{type:"linear",className:t}))},M9=(n,e,t)=>{if(C.isValidElement(n))return C.cloneElement(n,e);var i=t;if(typeof n=="function"&&(i=n(e),C.isValidElement(i)))return i;var r=et("recharts-pie-label-text",jN(n));return C.createElement(Mp,Ga({},e,{alignmentBaseline:"middle",className:r}),i)};function _9(n){var{sectors:e,props:t,showLabels:i}=n,{label:r,labelLine:s,dataKey:l}=t;if(!i||!r||!e)return null;var c=cr(t),d=Gc(r),f=Gc(s),h=typeof r=="object"&&"offsetRadius"in r&&typeof r.offsetRadius=="number"&&r.offsetRadius||20,p=e.map((g,y)=>{var S=(g.startAngle+g.endAngle)/2,A=Ft(g.cx,g.cy,g.outerRadius+h,S),x=Mt(Mt(Mt(Mt({},c),g),{},{stroke:"none"},d),{},{index:y,textAnchor:E9(A.x,g.cx)},A),E=Mt(Mt(Mt(Mt({},c),g),{},{fill:"none",stroke:g.fill},f),{},{index:y,points:[Ft(g.cx,g.cy,g.outerRadius,S),A],key:"line"});return C.createElement(hr,{zIndex:wn.label,key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(y)},C.createElement(Dn,null,s&&T9(s,E),M9(r,x,pt(g,l))))});return C.createElement(Dn,{className:"recharts-pie-labels"},p)}function P9(n){var{sectors:e,props:t,showLabels:i}=n,{label:r}=t;return typeof r=="object"&&r!=null&&"position"in r?C.createElement(NN,{label:r}):C.createElement(_9,{sectors:e,props:t,showLabels:i})}function D9(n){var{sectors:e,activeShape:t,inactiveShape:i,allOtherPieProps:r,shape:s,id:l}=n,c=ye(zs),d=ye(XA),f=ye(B$),{onMouseEnter:h,onClick:p,onMouseLeave:g}=r,y=Dp(r,p9),S=i1(h,r.dataKey,l),A=r1(g),x=a1(p,r.dataKey,l);return e==null||e.length===0?null:C.createElement(C.Fragment,null,e.map((E,O)=>{if(E?.startAngle===0&&E?.endAngle===0&&e.length!==1)return null;var T=f==null||f===l,P=String(O)===c&&(d==null||r.dataKey===d)&&T,M=c?i:null,_=t&&P?t:M,N=Mt(Mt({},E),{},{stroke:E.stroke,tabIndex:-1,[$P]:O,[qP]:l});return C.createElement(Dn,Ga({key:"sector-".concat(E?.startAngle,"-").concat(E?.endAngle,"-").concat(E.midAngle,"-").concat(O),tabIndex:-1,className:"recharts-pie-sector"},hu(y,E,O),{onMouseEnter:S(E,O),onMouseLeave:A(E,O),onClick:x(E,O)}),C.createElement(FN,Ga({option:s??_,index:O,shapeType:"sector",isActive:P},N)))}))}function L9(n){var e,{pieSettings:t,displayedData:i,cells:r,offset:s}=n,{cornerRadius:l,startAngle:c,endAngle:d,dataKey:f,nameKey:h,tooltipType:p}=t,g=Math.abs(t.minAngle),y=O9(c,d),S=Math.abs(y),A=i.length<=1?0:(e=t.paddingAngle)!==null&&e!==void 0?e:0,x=i.filter(_=>pt(_,f,0)!==0).length,E=(S>=360?x:x-1)*A,O=S-x*g-E,T=i.reduce((_,N)=>{var j=pt(N,f,0);return _+(be(j)?j:0)},0),P;if(T>0){var M;P=i.map((_,N)=>{var j=pt(_,f,0),F=pt(_,h,N),X=C9(t,s,_),$=(be(j)?j:0)/T,q,se=Mt(Mt({},_),r&&r[N]&&r[N].props);N?q=M.endAngle+bn(y)*A*(j!==0?1:0):q=c;var re=q+bn(y)*((j!==0?g:0)+$*O),ce=(q+re)/2,B=(X.innerRadius+X.outerRadius)/2,H=[{name:F,value:j,payload:se,dataKey:f,type:p,graphicalItemId:t.id}],ie=Ft(X.cx,X.cy,B,ce);return M=Mt(Mt(Mt(Mt({},t.presentationProps),{},{percent:$,cornerRadius:typeof l=="string"?parseFloat(l):l,name:F,tooltipPayload:H,midAngle:ce,middleRadius:B,tooltipPosition:ie},se),X),{},{value:j,dataKey:f,startAngle:q,endAngle:re,payload:se,paddingAngle:bn(y)*A}),M})}return P}function N9(n){var{showLabels:e,sectors:t,children:i}=n,r=C.useMemo(()=>!e||!t?[]:t.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[t,e]);return C.createElement(dV,{value:e?r:void 0},i)}function R9(n){var{props:e,previousSectorsRef:t,id:i}=n,{sectors:r,isAnimationActive:s,animationBegin:l,animationDuration:c,animationEasing:d,activeShape:f,inactiveShape:h,onAnimationStart:p,onAnimationEnd:g}=e,y=cp(e,"recharts-pie-"),S=t.current,[A,x]=C.useState(!1),E=C.useCallback(()=>{typeof g=="function"&&g(),x(!1)},[g]),O=C.useCallback(()=>{typeof p=="function"&&p(),x(!0)},[p]);return C.createElement(N9,{showLabels:!A,sectors:r},C.createElement(lp,{animationId:y,begin:l,duration:c,isActive:s,easing:d,onAnimationStart:O,onAnimationEnd:E,key:y},T=>{var P,M=[],_=r&&r[0],N=(P=_?.startAngle)!==null&&P!==void 0?P:0;return r?.forEach((j,F)=>{var X=S&&S[F],$=F>0?Ns(j,"paddingAngle",0):0;if(X){var q=qt(X.endAngle-X.startAngle,j.endAngle-j.startAngle,T),se=Mt(Mt({},j),{},{startAngle:N+$,endAngle:N+q+$});M.push(se),N=se.endAngle}else{var{endAngle:re,startAngle:ce}=j,B=qt(0,re-ce,T),H=Mt(Mt({},j),{},{startAngle:N+$,endAngle:N+B+$});M.push(H),N=H.endAngle}}),t.current=M,C.createElement(Dn,null,C.createElement(D9,{sectors:M,activeShape:f,inactiveShape:h,allOtherPieProps:e,shape:e.shape,id:i}))}),C.createElement(P9,{showLabels:!A,sectors:r,props:e}),e.children)}var I9={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:wn.area};function k9(n){var{id:e}=n,t=Dp(n,m9),{hide:i,className:r,rootTabIndex:s}=n,l=C.useMemo(()=>n1(n.children,ri),[n.children]),c=ye(h=>_V(h,e,l)),d=C.useRef(null),f=et("recharts-pie",r);return i||c==null?(d.current=null,C.createElement(Dn,{tabIndex:s,className:f})):C.createElement(hr,{zIndex:n.zIndex},C.createElement(x9,{dataKey:n.dataKey,nameKey:n.nameKey,sectors:c,stroke:n.stroke,strokeWidth:n.strokeWidth,fill:n.fill,name:n.name,hide:n.hide,tooltipType:n.tooltipType,id:e}),C.createElement(Dn,{tabIndex:s,className:f},C.createElement(R9,{props:Mt(Mt({},t),{},{sectors:c}),previousSectorsRef:d,id:e})))}function Y0(n){var e=An(n,I9),{id:t}=e,i=Dp(e,g9),r=cr(i);return C.createElement(HN,{id:t,type:"pie"},s=>C.createElement(C.Fragment,null,C.createElement(f9,{type:"pie",id:s,data:i.data,dataKey:i.dataKey,hide:i.hide,angleAxisId:0,radiusAxisId:0,name:i.name,nameKey:i.nameKey,tooltipType:i.tooltipType,legendType:i.legendType,fill:i.fill,cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,paddingAngle:i.paddingAngle,minAngle:i.minAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius,cornerRadius:i.cornerRadius,presentationProps:r,maxRadius:e.maxRadius}),C.createElement(S9,Ga({},i,{id:s})),C.createElement(k9,Ga({},i,{id:s}))))}Y0.displayName="Pie";function AM(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function SM(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?AM(Object(t),!0).forEach(function(i){j9(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):AM(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function j9(n,e,t){return(e=B9(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function B9(n){var e=z9(n,"string");return typeof e=="symbol"?e:e+""}function z9(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var qN=0,F9={xAxis:{},yAxis:{},zAxis:{}},GN=Gn({name:"cartesianAxis",initialState:F9,reducers:{addXAxis:{reducer(n,e){n.xAxis[e.payload.id]=e.payload},prepare:yt()},replaceXAxis:{reducer(n,e){var{prev:t,next:i}=e.payload;n.xAxis[t.id]!==void 0&&(t.id!==i.id&&delete n.xAxis[t.id],n.xAxis[i.id]=i)},prepare:yt()},removeXAxis:{reducer(n,e){delete n.xAxis[e.payload.id]},prepare:yt()},addYAxis:{reducer(n,e){n.yAxis[e.payload.id]=e.payload},prepare:yt()},replaceYAxis:{reducer(n,e){var{prev:t,next:i}=e.payload;n.yAxis[t.id]!==void 0&&(t.id!==i.id&&delete n.yAxis[t.id],n.yAxis[i.id]=i)},prepare:yt()},removeYAxis:{reducer(n,e){delete n.yAxis[e.payload.id]},prepare:yt()},addZAxis:{reducer(n,e){n.zAxis[e.payload.id]=e.payload},prepare:yt()},replaceZAxis:{reducer(n,e){var{prev:t,next:i}=e.payload;n.zAxis[t.id]!==void 0&&(t.id!==i.id&&delete n.zAxis[t.id],n.zAxis[i.id]=i)},prepare:yt()},removeZAxis:{reducer(n,e){delete n.zAxis[e.payload.id]},prepare:yt()},updateYAxisWidth(n,e){var{id:t,width:i}=e.payload,r=n.yAxis[t];if(r){var s,l=r.widthHistory||[];if(l.length===3&&l[0]===l[2]&&i===l[1]&&i!==r.width&&Math.abs(i-((s=l[0])!==null&&s!==void 0?s:0))<=1)return;var c=[...l,i].slice(-3);n.yAxis[t]=SM(SM({},r),{},{width:i,widthHistory:c})}}}}),{addXAxis:U9,replaceXAxis:H9,removeXAxis:$9,addYAxis:q9,replaceYAxis:G9,removeYAxis:V9,addZAxis:zW,replaceZAxis:FW,removeZAxis:UW,updateYAxisWidth:Y9}=GN.actions,X9=GN.reducer,K9=Y([Yt],n=>({top:n.top,bottom:n.bottom,left:n.left,right:n.right})),W9=Y([K9,Jr,ea],(n,e,t)=>{if(!(!n||e==null||t==null))return{x:n.left,y:n.top,width:Math.max(0,e-n.left-n.right),height:Math.max(0,t-n.top-n.bottom)}}),VN=()=>ye(W9),xM=(n,e,t)=>{var i=t??n;if(!rn(i))return Cn(i,e,0)},Z9=(n,e,t)=>{var i={},r=n.filter(Ap),s=n.filter(f=>f.stackId==null),l=r.reduce((f,h)=>{var p=f[h.stackId];return p==null&&(p=[]),p.push(h),f[h.stackId]=p,f},i),c=Object.entries(l).map(f=>{var h,[p,g]=f,y=g.map(A=>A.dataKey),S=xM(e,t,(h=g[0])===null||h===void 0?void 0:h.barSize);return{stackId:p,dataKeys:y,barSize:S}}),d=s.map(f=>{var h=[f.dataKey].filter(g=>g!=null),p=xM(e,t,f.barSize);return{stackId:void 0,dataKeys:h,barSize:p}});return[...c,...d]};function EM(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function bf(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?EM(Object(t),!0).forEach(function(i){Q9(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):EM(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Q9(n,e,t){return(e=J9(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function J9(n){var e=eY(n,"string");return typeof e=="symbol"?e:e+""}function eY(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function tY(n,e,t,i,r){var s,l=i.length;if(!(l<1)){var c=Cn(n,t,0,!0),d,f=[];if(Ke((s=i[0])===null||s===void 0?void 0:s.barSize)){var h=!1,p=t/l,g=i.reduce((O,T)=>O+(T.barSize||0),0);g+=(l-1)*c,g>=t&&(g-=(l-1)*c,c=0),g>=t&&p>0&&(h=!0,p*=.9,g=l*p);var y=(t-g)/2>>0,S={offset:y-c,size:0};d=i.reduce((O,T)=>{var P,M={stackId:T.stackId,dataKeys:T.dataKeys,position:{offset:S.offset+S.size+c,size:h?p:(P=T.barSize)!==null&&P!==void 0?P:0}},_=[...O,M];return S=M.position,_},f)}else{var A=Cn(e,t,0,!0);t-2*A-(l-1)*c<=0&&(c=0);var x=(t-2*A-(l-1)*c)/l;x>1&&(x>>=0);var E=Ke(r)?Math.min(x,r):x;d=i.reduce((O,T,P)=>[...O,{stackId:T.stackId,dataKeys:T.dataKeys,position:{offset:A+(x+c)*P+(x-E)/2,size:E}}],f)}return d}}var nY=(n,e,t,i,r,s,l)=>{var c=rn(l)?e:l,d=tY(t,i,r!==s?r:s,n,c);return r!==s&&d!=null&&(d=d.map(f=>bf(bf({},f),{},{position:bf(bf({},f.position),{},{offset:f.position.offset-r/2})}))),d},iY=(n,e)=>{var t=AA(e);if(!(!n||t==null||e==null)){var{stackId:i}=e;if(i!=null){var r=n[i];if(r){var{stackedData:s}=r;if(s)return s.find(l=>l.key===t)}}}},rY=(n,e)=>{if(!(n==null||e==null)){var t=n.find(i=>i.stackId===e.stackId&&e.dataKey!=null&&i.dataKeys.includes(e.dataKey));if(t!=null)return t.position}};function aY(n,e){return n&&typeof n=="object"&&"zIndex"in n&&typeof n.zIndex=="number"&&Ke(n.zIndex)?n.zIndex:e}var YN=n=>{var{chartData:e}=n,t=ct(),i=ui();return C.useEffect(()=>i?()=>{}:(t(DT(e)),()=>{t(DT(void 0))}),[e,t,i]),null},wM={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},XN=Gn({name:"brush",initialState:wM,reducers:{setBrushSettings(n,e){return e.payload==null?wM:e.payload}}}),{setBrushSettings:HW}=XN.actions,sY=XN.reducer;function oY(n){return(n%180+180)%180}var lY=function(e){var{width:t,height:i}=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=oY(r),l=s*Math.PI/180,c=Math.atan(i/t),d=l>c&&l<Math.PI-c?i/Math.sin(l):t/Math.cos(l);return Math.abs(d)},cY={dots:[],areas:[],lines:[]},KN=Gn({name:"referenceElements",initialState:cY,reducers:{addDot:(n,e)=>{n.dots.push(e.payload)},removeDot:(n,e)=>{var t=Hi(n).dots.findIndex(i=>i===e.payload);t!==-1&&n.dots.splice(t,1)},addArea:(n,e)=>{n.areas.push(e.payload)},removeArea:(n,e)=>{var t=Hi(n).areas.findIndex(i=>i===e.payload);t!==-1&&n.areas.splice(t,1)},addLine:(n,e)=>{n.lines.push(e.payload)},removeLine:(n,e)=>{var t=Hi(n).lines.findIndex(i=>i===e.payload);t!==-1&&n.lines.splice(t,1)}}}),{addDot:$W,removeDot:qW,addArea:GW,removeArea:VW,addLine:YW,removeLine:XW}=KN.actions,uY=KN.reducer,dY=C.createContext(void 0),fY=n=>{var{children:e}=n,[t]=C.useState("".concat(Vc("recharts"),"-clip")),i=VN();if(i==null)return null;var{x:r,y:s,width:l,height:c}=i;return C.createElement(dY.Provider,{value:t},C.createElement("defs",null,C.createElement("clipPath",{id:t},C.createElement("rect",{x:r,y:s,height:c,width:l}))),e)};function WN(n,e){if(e<1)return[];if(e===1)return n;for(var t=[],i=0;i<n.length;i+=e){var r=n[i];r!==void 0&&t.push(r)}return t}function hY(n,e,t){var i={width:n.width+e.width,height:n.height+e.height};return lY(i,t)}function pY(n,e,t){var i=t==="width",{x:r,y:s,width:l,height:c}=n;return e===1?{start:i?r:s,end:i?r+l:s+c}:{start:i?r+l:s+c,end:i?r:s}}function su(n,e,t,i,r){if(n*e<n*i||n*e>n*r)return!1;var s=t();return n*(e-n*s/2-i)>=0&&n*(e+n*s/2-r)<=0}function mY(n,e){return WN(n,e+1)}function gY(n,e,t,i,r){for(var s=(i||[]).slice(),{start:l,end:c}=e,d=0,f=1,h=l,p=function(){var S=i?.[d];if(S===void 0)return{v:WN(i,f)};var A=d,x,E=()=>(x===void 0&&(x=t(S,A)),x),O=S.coordinate,T=d===0||su(n,O,E,h,c);T||(d=0,h=l,f+=1),T&&(h=O+n*(E()/2+r),d+=f)},g;f<=s.length;)if(g=p(),g)return g.v;return[]}function vY(n,e,t,i,r){var s=(i||[]).slice(),l=s.length;if(l===0)return[];for(var{start:c,end:d}=e,f=1;f<=l;f++){for(var h=(l-1)%f,p=c,g=!0,y=function(){var P=i[A];if(P==null)return 0;var M=A,_,N=()=>(_===void 0&&(_=t(P,M)),_),j=P.coordinate,F=A===h||su(n,j,N,p,d);if(!F)return g=!1,1;F&&(p=j+n*(N()/2+r))},S,A=h;A<l&&(S=y(),!(S!==0&&S===1));A+=f);if(g){for(var x=[],E=h;E<l;E+=f){var O=i[E];O!=null&&x.push(O)}return x}}return[]}function CM(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function En(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?CM(Object(t),!0).forEach(function(i){yY(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):CM(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function yY(n,e,t){return(e=bY(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function bY(n){var e=AY(n,"string");return typeof e=="symbol"?e:e+""}function AY(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function SY(n,e,t,i,r){for(var s=(i||[]).slice(),l=s.length,{start:c}=e,{end:d}=e,f=function(g){var y=s[g];if(y==null)return 1;var S=y,A,x=()=>(A===void 0&&(A=t(y,g)),A);if(g===l-1){var E=n*(S.coordinate+n*x()/2-d);s[g]=S=En(En({},S),{},{tickCoord:E>0?S.coordinate-E*n:S.coordinate})}else s[g]=S=En(En({},S),{},{tickCoord:S.coordinate});if(S.tickCoord!=null){var O=su(n,S.tickCoord,x,c,d);O&&(d=S.tickCoord-n*(x()/2+r),s[g]=En(En({},S),{},{isShow:!0}))}},h=l-1;h>=0;h--)f(h);return s}function xY(n,e,t,i,r,s){var l=(i||[]).slice(),c=l.length,{start:d,end:f}=e;if(s){var h=i[c-1];if(h!=null){var p=t(h,c-1),g=n*(h.coordinate+n*p/2-f);if(l[c-1]=h=En(En({},h),{},{tickCoord:g>0?h.coordinate-g*n:h.coordinate}),h.tickCoord!=null){var y=su(n,h.tickCoord,()=>p,d,f);y&&(f=h.tickCoord-n*(p/2+r),l[c-1]=En(En({},h),{},{isShow:!0}))}}}for(var S=s?c-1:c,A=function(O){var T=l[O];if(T==null)return 1;var P=T,M,_=()=>(M===void 0&&(M=t(T,O)),M);if(O===0){var N=n*(P.coordinate-n*_()/2-d);l[O]=P=En(En({},P),{},{tickCoord:N<0?P.coordinate-N*n:P.coordinate})}else l[O]=P=En(En({},P),{},{tickCoord:P.coordinate});if(P.tickCoord!=null){var j=su(n,P.tickCoord,_,d,f);j&&(d=P.tickCoord+n*(_()/2+r),l[O]=En(En({},P),{},{isShow:!0}))}},x=0;x<S;x++)A(x);return l}function EY(n,e,t){var{tick:i,ticks:r,viewBox:s,minTickGap:l,orientation:c,interval:d,tickFormatter:f,unit:h,angle:p}=n;if(!r||!r.length||!i)return[];if(be(d)||op.isSsr){var g;return(g=mY(r,be(d)?d:0))!==null&&g!==void 0?g:[]}var y=[],S=c==="top"||c==="bottom"?"width":"height",A=h&&S==="width"?zc(h,{fontSize:e,letterSpacing:t}):{width:0,height:0},x=(M,_)=>{var N=typeof f=="function"?f(M.value,_):M.value;return S==="width"?hY(zc(N,{fontSize:e,letterSpacing:t}),A,p):zc(N,{fontSize:e,letterSpacing:t})[S]},E=r[0],O=r[1],T=r.length>=2&&E!=null&&O!=null?bn(O.coordinate-E.coordinate):1,P=pY(s,T,S);return d==="equidistantPreserveStart"?gY(T,P,x,r,l):d==="equidistantPreserveEnd"?vY(T,P,x,r,l):(d==="preserveStart"||d==="preserveStartEnd"?y=xY(T,P,x,r,l,d==="preserveStartEnd"):y=SY(T,P,x,r,l),y.filter(M=>M.isShow))}var wY=n=>{var{ticks:e,label:t,labelGapWithTick:i=5,tickSize:r=0,tickMargin:s=0}=n,l=0;if(e){Array.from(e).forEach(h=>{if(h){var p=h.getBoundingClientRect();p.width>l&&(l=p.width)}});var c=t?t.getBoundingClientRect().width:0,d=r+s,f=l+d+c+(t?i:0);return Math.round(f)}return 0},CY=["axisLine","width","height","className","hide","ticks","axisType"];function OY(n,e){if(n==null)return{};var t,i,r=TY(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function TY(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function Fs(){return Fs=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Fs.apply(null,arguments)}function OM(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Ct(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?OM(Object(t),!0).forEach(function(i){MY(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):OM(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function MY(n,e,t){return(e=_Y(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function _Y(n){var e=PY(n,"string");return typeof e=="symbol"?e:e+""}function PY(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var _s={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:wn.axis};function DY(n){var{x:e,y:t,width:i,height:r,orientation:s,mirror:l,axisLine:c,otherSvgProps:d}=n;if(!c)return null;var f=Ct(Ct(Ct({},d),cr(c)),{},{fill:"none"});if(s==="top"||s==="bottom"){var h=+(s==="top"&&!l||s==="bottom"&&l);f=Ct(Ct({},f),{},{x1:e,y1:t+h*r,x2:e+i,y2:t+h*r})}else{var p=+(s==="left"&&!l||s==="right"&&l);f=Ct(Ct({},f),{},{x1:e+p*i,y1:t,x2:e+p*i,y2:t+r})}return C.createElement("line",Fs({},f,{className:et("recharts-cartesian-axis-line",Ns(c,"className"))}))}function LY(n,e,t,i,r,s,l,c,d){var f,h,p,g,y,S,A=c?-1:1,x=n.tickSize||l,E=be(n.tickCoord)?n.tickCoord:n.coordinate;switch(s){case"top":f=h=n.coordinate,g=t+ +!c*r,p=g-A*x,S=p-A*d,y=E;break;case"left":p=g=n.coordinate,h=e+ +!c*i,f=h-A*x,y=f-A*d,S=E;break;case"right":p=g=n.coordinate,h=e+ +c*i,f=h+A*x,y=f+A*d,S=E;break;default:f=h=n.coordinate,g=t+ +c*r,p=g+A*x,S=p+A*d,y=E;break}return{line:{x1:f,y1:p,x2:h,y2:g},tick:{x:y,y:S}}}function NY(n,e){switch(n){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function RY(n,e){switch(n){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function IY(n){var{option:e,tickProps:t,value:i}=n,r,s=et(t.className,"recharts-cartesian-axis-tick-value");if(C.isValidElement(e))r=C.cloneElement(e,Ct(Ct({},t),{},{className:s}));else if(typeof e=="function")r=e(Ct(Ct({},t),{},{className:s}));else{var l="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(l=et(l,jN(e))),r=C.createElement(Mp,Fs({},t,{className:l}),i)}return r}var kY=C.forwardRef((n,e)=>{var{ticks:t=[],tick:i,tickLine:r,stroke:s,tickFormatter:l,unit:c,padding:d,tickTextProps:f,orientation:h,mirror:p,x:g,y,width:S,height:A,tickSize:x,tickMargin:E,fontSize:O,letterSpacing:T,getTicksConfig:P,events:M,axisType:_}=n,N=EY(Ct(Ct({},P),{},{ticks:t}),O,T),j=NY(h,p),F=RY(h,p),X=cr(P),$=Gc(i),q={};typeof r=="object"&&(q=r);var se=Ct(Ct({},X),{},{fill:"none"},q),re=N.map(H=>Ct({entry:H},LY(H,g,y,S,A,h,x,p,E))),ce=re.map(H=>{var{entry:ie,line:le}=H;return C.createElement(Dn,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(ie.value,"-").concat(ie.coordinate,"-").concat(ie.tickCoord)},r&&C.createElement("line",Fs({},se,le,{className:et("recharts-cartesian-axis-tick-line",Ns(r,"className"))})))}),B=re.map((H,ie)=>{var le,pe,{entry:I,tick:K}=H,ne=Ct(Ct(Ct(Ct({verticalAnchor:F},X),{},{textAnchor:j,stroke:"none",fill:s},K),{},{index:ie,payload:I,visibleTicksCount:N.length,tickFormatter:l,padding:d},f),{},{angle:(le=(pe=f?.angle)!==null&&pe!==void 0?pe:X.angle)!==null&&le!==void 0?le:0}),oe=Ct(Ct({},ne),$);return C.createElement(Dn,Fs({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(I.value,"-").concat(I.coordinate,"-").concat(I.tickCoord)},hu(M,I,ie)),i&&C.createElement(IY,{option:i,tickProps:oe,value:"".concat(typeof l=="function"?l(I.value,ie):I.value).concat(c||"")}))});return C.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(_,"-ticks")},B.length>0&&C.createElement(hr,{zIndex:wn.label},C.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(_,"-tick-labels"),ref:e},B)),ce.length>0&&C.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(_,"-tick-lines")},ce))}),jY=C.forwardRef((n,e)=>{var{axisLine:t,width:i,height:r,className:s,hide:l,ticks:c,axisType:d}=n,f=OY(n,CY),[h,p]=C.useState(""),[g,y]=C.useState(""),S=C.useRef(null);C.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var x;return wY({ticks:S.current,label:(x=n.labelRef)===null||x===void 0?void 0:x.current,labelGapWithTick:5,tickSize:n.tickSize,tickMargin:n.tickMargin})}}));var A=C.useCallback(x=>{if(x){var E=x.getElementsByClassName("recharts-cartesian-axis-tick-value");S.current=E;var O=E[0];if(O){var T=window.getComputedStyle(O),P=T.fontSize,M=T.letterSpacing;(P!==h||M!==g)&&(p(P),y(M))}}},[h,g]);return l||i!=null&&i<=0||r!=null&&r<=0?null:C.createElement(hr,{zIndex:n.zIndex},C.createElement(Dn,{className:et("recharts-cartesian-axis",s)},C.createElement(DY,{x:n.x,y:n.y,width:i,height:r,orientation:n.orientation,mirror:n.mirror,axisLine:t,otherSvgProps:cr(n)}),C.createElement(kY,{ref:A,axisType:d,events:f,fontSize:h,getTicksConfig:n,height:n.height,letterSpacing:g,mirror:n.mirror,orientation:n.orientation,padding:n.padding,stroke:n.stroke,tick:n.tick,tickFormatter:n.tickFormatter,tickLine:n.tickLine,tickMargin:n.tickMargin,tickSize:n.tickSize,tickTextProps:n.tickTextProps,ticks:c,unit:n.unit,width:n.width,x:n.x,y:n.y}),C.createElement($G,{x:n.x,y:n.y,width:n.width,height:n.height,lowerWidth:n.width,upperWidth:n.width},C.createElement(JG,{label:n.label,labelRef:n.labelRef}),n.children)))}),s1=C.forwardRef((n,e)=>{var t=An(n,_s);return C.createElement(jY,Fs({},t,{ref:e}))});s1.displayName="CartesianAxis";var BY={},ZN=Gn({name:"errorBars",initialState:BY,reducers:{addErrorBar:(n,e)=>{var{itemId:t,errorBar:i}=e.payload;n[t]||(n[t]=[]),n[t].push(i)},replaceErrorBar:(n,e)=>{var{itemId:t,prev:i,next:r}=e.payload;n[t]&&(n[t]=n[t].map(s=>s.dataKey===i.dataKey&&s.direction===i.direction?r:s))},removeErrorBar:(n,e)=>{var{itemId:t,errorBar:i}=e.payload;n[t]&&(n[t]=n[t].filter(r=>r.dataKey!==i.dataKey||r.direction!==i.direction))}}}),{addErrorBar:KW,replaceErrorBar:WW,removeErrorBar:ZW}=ZN.actions,zY=ZN.reducer,FY=["children"];function UY(n,e){if(n==null)return{};var t,i,r=HY(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function HY(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var $Y={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},qY=C.createContext($Y);function GY(n){var{children:e}=n,t=UY(n,FY);return C.createElement(qY.Provider,{value:t},e)}function QN(n,e){var t,i,r=ye(f=>ia(f,n)),s=ye(f=>ra(f,e)),l=(t=r?.allowDataOverflow)!==null&&t!==void 0?t:en.allowDataOverflow,c=(i=s?.allowDataOverflow)!==null&&i!==void 0?i:tn.allowDataOverflow,d=l||c;return{needClip:d,needClipX:l,needClipY:c}}function VY(n){var{xAxisId:e,yAxisId:t,clipPathId:i}=n,r=VN(),{needClipX:s,needClipY:l,needClip:c}=QN(e,t);if(!c||!r)return null;var{x:d,y:f,width:h,height:p}=r;return C.createElement("clipPath",{id:"clipPath-".concat(i)},C.createElement("rect",{x:s?d:d-h/2,y:l?f:f-p/2,width:s?h:h*2,height:l?p:p*2}))}var jy={exports:{}},By={};var TM;function YY(){if(TM)return By;TM=1;var n=ul();function e(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var t=typeof Object.is=="function"?Object.is:e,i=n.useSyncExternalStore,r=n.useRef,s=n.useEffect,l=n.useMemo,c=n.useDebugValue;return By.useSyncExternalStoreWithSelector=function(d,f,h,p,g){var y=r(null);if(y.current===null){var S={hasValue:!1,value:null};y.current=S}else S=y.current;y=l(function(){function x(M){if(!E){if(E=!0,O=M,M=p(M),g!==void 0&&S.hasValue){var _=S.value;if(g(_,M))return T=_}return T=M}if(_=T,t(O,M))return _;var N=p(M);return g!==void 0&&g(_,N)?(O=M,_):(O=M,T=N)}var E=!1,O,T,P=h===void 0?null:h;return[function(){return x(f())},P===null?void 0:function(){return x(P())}]},[f,h,p,g]);var A=i(d,y[0],y[1]);return s(function(){S.hasValue=!0,S.value=A},[A]),c(A),A},By}var MM;function XY(){return MM||(MM=1,jy.exports=YY()),jy.exports}XY();function KY(n){n()}function WY(){let n=null,e=null;return{clear(){n=null,e=null},notify(){KY(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){const t=[];let i=n;for(;i;)t.push(i),i=i.next;return t},subscribe(t){let i=!0;const r=e={callback:t,next:null,prev:e};return r.prev?r.prev.next=r:n=r,function(){!i||n===null||(i=!1,r.next?r.next.prev=r.prev:e=r.prev,r.prev?r.prev.next=r.next:n=r.next)}}}}var _M={notify(){},get:()=>[]};function ZY(n,e){let t,i=_M,r=0,s=!1;function l(A){h();const x=i.subscribe(A);let E=!1;return()=>{E||(E=!0,x(),p())}}function c(){i.notify()}function d(){S.onStateChange&&S.onStateChange()}function f(){return s}function h(){r++,t||(t=n.subscribe(d),i=WY())}function p(){r--,t&&r===0&&(t(),t=void 0,i.clear(),i=_M)}function g(){s||(s=!0,h())}function y(){s&&(s=!1,p())}const S={addNestedSub:l,notifyNestedSubs:c,handleChangeWrapper:d,isSubscribed:f,trySubscribe:g,tryUnsubscribe:y,getListeners:()=>i};return S}var QY=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",JY=QY(),eX=()=>typeof navigator<"u"&&navigator.product==="ReactNative",tX=eX(),nX=()=>JY||tX?C.useLayoutEffect:C.useEffect,iX=nX();function PM(n,e){return n===e?n!==0||e!==0||1/n===1/e:n!==n&&e!==e}function rX(n,e){if(PM(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;const t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(!Object.prototype.hasOwnProperty.call(e,t[r])||!PM(n[t[r]],e[t[r]]))return!1;return!0}var aX=Symbol.for("react-redux-context"),sX=typeof globalThis<"u"?globalThis:{};function oX(){if(!C.createContext)return{};const n=sX[aX]??=new Map;let e=n.get(C.createContext);return e||(e=C.createContext(null),n.set(C.createContext,e)),e}var lX=oX();function cX(n){const{children:e,context:t,serverState:i,store:r}=n,s=C.useMemo(()=>{const d=ZY(r);return{store:r,subscription:d,getServerState:i?()=>i:void 0}},[r,i]),l=C.useMemo(()=>r.getState(),[r]);iX(()=>{const{subscription:d}=s;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==r.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[s,l]);const c=t||lX;return C.createElement(c.Provider,{value:s},e)}var uX=cX,dX=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function fX(n,e){return n==null&&e==null?!0:typeof n=="number"&&typeof e=="number"?n===e||n!==n&&e!==e:n===e}function o1(n,e){var t=new Set([...Object.keys(n),...Object.keys(e)]);for(var i of t)if(dX.has(i)){if(n[i]==null&&e[i]==null)continue;if(!rX(n[i],e[i]))return!1}else if(!fX(n[i],e[i]))return!1;return!0}function Gs(n,e){var t,i;return(t=(i=n.graphicalItems.cartesianItems.find(r=>r.id===e))===null||i===void 0?void 0:i.xAxisId)!==null&&t!==void 0?t:qN}function Vs(n,e){var t,i;return(t=(i=n.graphicalItems.cartesianItems.find(r=>r.id===e))===null||i===void 0?void 0:i.yAxisId)!==null&&t!==void 0?t:qN}var hX="Invariant failed";function pX(n,e){throw new Error(hX)}function X0(){return X0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},X0.apply(null,arguments)}function xh(n){return C.createElement(FN,X0({shapeType:"rectangle",activeClassName:"recharts-active-bar"},n))}var mX=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(i,r)=>{if(be(e))return e;var s=be(i)||rn(i);return s?e(i,r):(s||pX(),t)}},gX=(n,e,t)=>t,vX=(n,e)=>e,Pu=Y([EA,vX],(n,e)=>n.filter(t=>t.type==="bar").find(t=>t.id===e)),yX=Y([Pu],n=>n?.maxBarSize),bX=(n,e,t,i)=>i,AX=Y([We,EA,Gs,Vs,gX],(n,e,t,i,r)=>e.filter(s=>n==="horizontal"?s.xAxisId===t:s.yAxisId===i).filter(s=>s.isPanorama===r).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),SX=(n,e,t)=>{var i=We(n),r=Gs(n,e),s=Vs(n,e);if(!(r==null||s==null))return i==="horizontal"?U0(n,"yAxis",s,t):U0(n,"xAxis",r,t)},xX=(n,e)=>{var t=We(n),i=Gs(n,e),r=Vs(n,e);if(!(i==null||r==null))return t==="horizontal"?bT(n,"xAxis",i):bT(n,"yAxis",r)},EX=Y([AX,B8,xX],Z9),wX=(n,e,t)=>{var i,r,s=Pu(n,e);if(s==null)return 0;var l=Gs(n,e),c=Vs(n,e);if(l==null||c==null)return 0;var d=We(n),f=uL(n),{maxBarSize:h}=s,p=rn(h)?f:h,g,y;return d==="horizontal"?(g=cl(n,"xAxis",l,t),y=ll(n,"xAxis",l,t)):(g=cl(n,"yAxis",c,t),y=ll(n,"yAxis",c,t)),(i=(r=Kf(g,y,!0))!==null&&r!==void 0?r:p)!==null&&i!==void 0?i:0},JN=(n,e,t)=>{var i=We(n),r=Gs(n,e),s=Vs(n,e);if(!(r==null||s==null)){var l,c;return i==="horizontal"?(l=cl(n,"xAxis",r,t),c=ll(n,"xAxis",r,t)):(l=cl(n,"yAxis",s,t),c=ll(n,"yAxis",s,t)),Kf(l,c)}},CX=Y([EX,uL,j8,dL,wX,JN,yX],nY),OX=(n,e,t)=>{var i=Gs(n,e);if(i!=null)return cl(n,"xAxis",i,t)},TX=(n,e,t)=>{var i=Vs(n,e);if(i!=null)return cl(n,"yAxis",i,t)},MX=(n,e,t)=>{var i=Gs(n,e);if(i!=null)return ll(n,"xAxis",i,t)},_X=(n,e,t)=>{var i=Vs(n,e);if(i!=null)return ll(n,"yAxis",i,t)},PX=Y([CX,Pu],rY),DX=Y([SX,Pu],iY),LX=Y([Yt,jb,OX,TX,MX,_X,PX,We,_8,JN,DX,Pu,bX],(n,e,t,i,r,s,l,c,d,f,h,p,g)=>{var{chartData:y,dataStartIndex:S,dataEndIndex:A}=d;if(!(p==null||l==null||e==null||c!=="horizontal"&&c!=="vertical"||t==null||i==null||r==null||s==null||f==null)){var{data:x}=p,E;if(x!=null&&x.length>0?E=x:E=y?.slice(S,A+1),E!=null)return sK({layout:c,barSettings:p,pos:l,parentViewBox:e,bandSize:f,xAxis:t,yAxis:i,xAxisTicks:r,yAxisTicks:s,stackedData:h,displayedData:E,offset:n,cells:g,dataStartIndex:S})}}),NX=["index"];function K0(){return K0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},K0.apply(null,arguments)}function RX(n,e){if(n==null)return{};var t,i,r=IX(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function IX(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var eR=C.createContext(void 0),kX=n=>{var e=C.useContext(eR);if(e!=null)return e.stackId;if(n!=null)return x6(n)},jX=(n,e)=>"recharts-bar-stack-clip-path-".concat(n,"-").concat(e),BX=n=>{var e=C.useContext(eR);if(e!=null){var{stackId:t}=e;return"url(#".concat(jX(t,n),")")}},tR=n=>{var{index:e}=n,t=RX(n,NX),i=BX(e);return C.createElement(Dn,K0({className:"recharts-bar-stack-layer",clipPath:i},t))},zX=["onMouseEnter","onMouseLeave","onClick"],FX=["value","background","tooltipPosition"],UX=["id"],HX=["onMouseEnter","onClick","onMouseLeave"];function Zr(){return Zr=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Zr.apply(null,arguments)}function DM(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Mn(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?DM(Object(t),!0).forEach(function(i){$X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):DM(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function $X(n,e,t){return(e=qX(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function qX(n){var e=GX(n,"string");return typeof e=="symbol"?e:e+""}function GX(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Eh(n,e){if(n==null)return{};var t,i,r=VX(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function VX(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var YX=n=>{var{dataKey:e,name:t,fill:i,legendType:r,hide:s}=n;return[{inactive:s,dataKey:e,type:r,color:i,value:Qh(t,e),payload:n}]},XX=C.memo(n=>{var{dataKey:e,stroke:t,strokeWidth:i,fill:r,name:s,hide:l,unit:c,tooltipType:d,id:f}=n,h={dataDefinedOnItem:void 0,getPosition:dl,settings:{stroke:t,strokeWidth:i,fill:r,dataKey:e,nameKey:void 0,name:Qh(s,e),hide:l,type:d,color:r,unit:c,graphicalItemId:f}};return C.createElement(UN,{tooltipEntrySettings:h})});function KX(n){var e=ye(zs),{data:t,dataKey:i,background:r,allOtherBarProps:s}=n,{onMouseEnter:l,onMouseLeave:c,onClick:d}=s,f=Eh(s,zX),h=i1(l,i,s.id),p=r1(c),g=a1(d,i,s.id);if(!r||t==null)return null;var y=Gc(r);return C.createElement(hr,{zIndex:aY(r,wn.barBackground)},t.map((S,A)=>{var{value:x,background:E,tooltipPosition:O}=S,T=Eh(S,FX);if(!E)return null;var P=h(S,A),M=p(S,A),_=g(S,A),N=Mn(Mn(Mn(Mn(Mn({option:r,isActive:String(A)===e},T),{},{fill:"#eee"},E),y),hu(f,S,A)),{},{onMouseEnter:P,onMouseLeave:M,onClick:_,dataKey:i,index:A,className:"recharts-bar-background-rectangle"});return C.createElement(xh,Zr({key:"background-bar-".concat(A)},N))}))}function WX(n){var{showLabels:e,children:t,rects:i}=n,r=i?.map(s=>{var l={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return Mn(Mn({},l),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:l,fill:s.fill})});return C.createElement(uV,{value:e?r:void 0},t)}function ZX(n){var{shape:e,activeBar:t,baseProps:i,entry:r,index:s,dataKey:l}=n,c=ye(zs),d=ye(XA),f=t&&String(s)===c&&(d==null||l===d),h=f?t:e;return f?C.createElement(hr,{zIndex:wn.activeBar},C.createElement(tR,{index:s},C.createElement(xh,Zr({},i,{name:String(i.name)},r,{isActive:f,option:h,index:s,dataKey:l})))):C.createElement(xh,Zr({},i,{name:String(i.name)},r,{isActive:f,option:h,index:s,dataKey:l}))}function QX(n){var{shape:e,baseProps:t,entry:i,index:r,dataKey:s}=n;return C.createElement(xh,Zr({},t,{name:String(t.name)},i,{isActive:!1,option:e,index:r,dataKey:s}))}function JX(n){var e,{data:t,props:i}=n,r=(e=cr(i))!==null&&e!==void 0?e:{},{id:s}=r,l=Eh(r,UX),{shape:c,dataKey:d,activeBar:f}=i,{onMouseEnter:h,onClick:p,onMouseLeave:g}=i,y=Eh(i,HX),S=i1(h,d,s),A=r1(g),x=a1(p,d,s);return t?C.createElement(C.Fragment,null,t.map((E,O)=>C.createElement(tR,Zr({index:O,key:"rectangle-".concat(E?.x,"-").concat(E?.y,"-").concat(E?.value,"-").concat(O),className:"recharts-bar-rectangle"},hu(y,E,O),{onMouseEnter:S(E,O),onMouseLeave:A(E,O),onClick:x(E,O)}),f?C.createElement(ZX,{shape:c,activeBar:f,baseProps:l,entry:E,index:O,dataKey:d}):C.createElement(QX,{shape:c,baseProps:l,entry:E,index:O,dataKey:d})))):null}function eK(n){var{props:e,previousRectanglesRef:t}=n,{data:i,layout:r,isAnimationActive:s,animationBegin:l,animationDuration:c,animationEasing:d,onAnimationEnd:f,onAnimationStart:h}=e,p=t.current,g=cp(e,"recharts-bar-"),[y,S]=C.useState(!1),A=!y,x=C.useCallback(()=>{typeof f=="function"&&f(),S(!1)},[f]),E=C.useCallback(()=>{typeof h=="function"&&h(),S(!0)},[h]);return C.createElement(WX,{showLabels:A,rects:i},C.createElement(lp,{animationId:g,begin:l,duration:c,isActive:s,easing:d,onAnimationEnd:x,onAnimationStart:E,key:g},O=>{var T=O===1?i:i?.map((P,M)=>{var _=p&&p[M];if(_)return Mn(Mn({},P),{},{x:qt(_.x,P.x,O),y:qt(_.y,P.y,O),width:qt(_.width,P.width,O),height:qt(_.height,P.height,O)});if(r==="horizontal"){var N=qt(0,P.height,O),j=qt(P.stackedBarStart,P.y,O);return Mn(Mn({},P),{},{y:j,height:N})}var F=qt(0,P.width,O),X=qt(P.stackedBarStart,P.x,O);return Mn(Mn({},P),{},{width:F,x:X})});return O>0&&(t.current=T??null),T==null?null:C.createElement(Dn,null,C.createElement(JX,{props:e,data:T}))}),C.createElement(NN,{label:e.label}),e.children)}function tK(n){var e=C.useRef(null);return C.createElement(eK,{previousRectanglesRef:e,props:n})}var nR=0,nK=(n,e)=>{var t=Array.isArray(n.value)?n.value[1]:n.value;return{x:n.x,y:n.y,value:t,errorVal:pt(n,e)}};class iK extends C.PureComponent{render(){var{hide:e,data:t,dataKey:i,className:r,xAxisId:s,yAxisId:l,needClip:c,background:d,id:f}=this.props;if(e||t==null)return null;var h=et("recharts-bar",r),p=f;return C.createElement(Dn,{className:h,id:f},c&&C.createElement("defs",null,C.createElement(VY,{clipPathId:p,xAxisId:s,yAxisId:l})),C.createElement(Dn,{className:"recharts-bar-rectangles",clipPath:c?"url(#clipPath-".concat(p,")"):void 0},C.createElement(KX,{data:t,dataKey:i,background:d,allOtherBarProps:this.props}),C.createElement(tK,this.props)))}}var rK={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:nR,xAxisId:0,yAxisId:0,zIndex:wn.bar};function aK(n){var{xAxisId:e,yAxisId:t,hide:i,legendType:r,minPointSize:s,activeBar:l,animationBegin:c,animationDuration:d,animationEasing:f,isAnimationActive:h}=n,{needClip:p}=QN(e,t),g=fl(),y=ui(),S=n1(n.children,ri),A=ye(O=>LX(O,n.id,y,S));if(g!=="vertical"&&g!=="horizontal")return null;var x,E=A?.[0];return E==null||E.height==null||E.width==null?x=0:x=g==="vertical"?E.height/2:E.width/2,C.createElement(GY,{xAxisId:e,yAxisId:t,data:A,dataPointFormatter:nK,errorBarOffset:x},C.createElement(iK,Zr({},n,{layout:g,needClip:p,data:A,xAxisId:e,yAxisId:t,hide:i,legendType:r,minPointSize:s,activeBar:l,animationBegin:c,animationDuration:d,animationEasing:f,isAnimationActive:h})))}function sK(n){var{layout:e,barSettings:{dataKey:t,minPointSize:i},pos:r,bandSize:s,xAxis:l,yAxis:c,xAxisTicks:d,yAxisTicks:f,stackedData:h,displayedData:p,offset:g,cells:y,parentViewBox:S,dataStartIndex:A}=n,x=e==="horizontal"?c:l,E=h?x.scale.domain():null,O=E6({numericAxis:x}),T=x.scale.map(O);return p.map((P,M)=>{var _,N,j,F,X,$;if(h){var q=h[M+A];if(q==null)return null;_=v6(q,E)}else _=pt(P,t),Array.isArray(_)||(_=[O,_]);var se=mX(i,nR)(_[1],M);if(e==="horizontal"){var re,ce=c.scale.map(_[0]),B=c.scale.map(_[1]);if(ce==null||B==null)return null;N=vO({axis:l,ticks:d,bandSize:s,offset:r.offset,entry:P,index:M}),j=(re=B??ce)!==null&&re!==void 0?re:void 0,F=r.size;var H=ce-B;if(X=ur(H)?0:H,$={x:N,y:g.top,width:F,height:g.height},Math.abs(se)>0&&Math.abs(X)<Math.abs(se)){var ie=bn(X||se)*(Math.abs(se)-Math.abs(X));j-=ie,X+=ie}}else{var le=l.scale.map(_[0]),pe=l.scale.map(_[1]);if(le==null||pe==null)return null;if(N=le,j=vO({axis:c,ticks:f,bandSize:s,offset:r.offset,entry:P,index:M}),F=pe-le,X=r.size,$={x:g.left,y:j,width:g.width,height:X},Math.abs(se)>0&&Math.abs(F)<Math.abs(se)){var I=bn(F||se)*(Math.abs(se)-Math.abs(F));F+=I}}if(N==null||j==null||F==null||X==null)return null;var K=Mn(Mn({},P),{},{stackedBarStart:T,x:N,y:j,width:F,height:X,value:h?_:_[1],payload:P,background:$,tooltipPosition:{x:N+F/2,y:j+X/2},parentViewBox:S},y&&y[M]&&y[M].props);return K}).filter(Boolean)}function oK(n){var e=An(n,rK),t=kX(e.stackId),i=ui();return C.createElement(HN,{id:e.id,type:"bar"},r=>C.createElement(C.Fragment,null,C.createElement(ZV,{legendPayload:YX(e)}),C.createElement(XX,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),C.createElement(d9,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:t,hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:i}),C.createElement(hr,{zIndex:e.zIndex},C.createElement(aK,Zr({},e,{id:r})))))}var Da=C.memo(oK,o1);Da.displayName="Bar";var lK=["domain","range"],cK=["domain","range"];function LM(n,e){if(n==null)return{};var t,i,r=uK(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function uK(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function NM(n,e){return n===e?!0:Array.isArray(n)&&n.length===2&&Array.isArray(e)&&e.length===2?n[0]===e[0]&&n[1]===e[1]:!1}function iR(n,e){if(n===e)return!0;var{domain:t,range:i}=n,r=LM(n,lK),{domain:s,range:l}=e,c=LM(e,cK);return!NM(t,s)||!NM(i,l)?!1:o1(r,c)}var dK=["type"],fK=["dangerouslySetInnerHTML","ticks","scale"],hK=["id","scale"];function W0(){return W0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},W0.apply(null,arguments)}function RM(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function IM(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?RM(Object(t),!0).forEach(function(i){pK(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):RM(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function pK(n,e,t){return(e=mK(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function mK(n){var e=gK(n,"string");return typeof e=="symbol"?e:e+""}function gK(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Z0(n,e){if(n==null)return{};var t,i,r=vK(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function vK(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function yK(n){var e=ct(),t=C.useRef(null),i=WP(),{type:r}=n,s=Z0(n,dK),l=yp(i,"xAxis",r),c=C.useMemo(()=>{if(l!=null)return IM(IM({},s),{},{type:l})},[s,l]);return C.useLayoutEffect(()=>{c!=null&&(t.current===null?e(U9(c)):t.current!==c&&e(H9({prev:t.current,next:c})),t.current=c)},[c,e]),C.useLayoutEffect(()=>()=>{t.current&&(e($9(t.current)),t.current=null)},[e]),null}var bK=n=>{var{xAxisId:e,className:t}=n,i=ye(jb),r=ui(),s="xAxis",l=ye(E=>qL(E,s,e,r)),c=ye(E=>FL(E,e)),d=ye(E=>B7(E,e)),f=ye(E=>SL(E,e));if(c==null||d==null||f==null)return null;var{dangerouslySetInnerHTML:h,ticks:p,scale:g}=n,y=Z0(n,fK),{id:S,scale:A}=f,x=Z0(f,hK);return C.createElement(s1,W0({},y,x,{x:d.x,y:d.y,width:c.width,height:c.height,className:et("recharts-".concat(s," ").concat(s),t),viewBox:i,ticks:l,axisType:s}))},AK={allowDataOverflow:en.allowDataOverflow,allowDecimals:en.allowDecimals,allowDuplicatedCategory:en.allowDuplicatedCategory,angle:en.angle,axisLine:_s.axisLine,height:en.height,hide:!1,includeHidden:en.includeHidden,interval:en.interval,label:!1,minTickGap:en.minTickGap,mirror:en.mirror,orientation:en.orientation,padding:en.padding,reversed:en.reversed,scale:en.scale,tick:en.tick,tickCount:en.tickCount,tickLine:_s.tickLine,tickSize:_s.tickSize,type:en.type,xAxisId:0},SK=n=>{var e=An(n,AK);return C.createElement(C.Fragment,null,C.createElement(yK,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),C.createElement(bK,e))},La=C.memo(SK,iR);La.displayName="XAxis";var xK=["type"],EK=["dangerouslySetInnerHTML","ticks","scale"],wK=["id","scale"];function Q0(){return Q0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Q0.apply(null,arguments)}function kM(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function jM(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?kM(Object(t),!0).forEach(function(i){CK(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):kM(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function CK(n,e,t){return(e=OK(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function OK(n){var e=TK(n,"string");return typeof e=="symbol"?e:e+""}function TK(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function J0(n,e){if(n==null)return{};var t,i,r=MK(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function MK(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function _K(n){var e=ct(),t=C.useRef(null),i=WP(),{type:r}=n,s=J0(n,xK),l=yp(i,"yAxis",r),c=C.useMemo(()=>{if(l!=null)return jM(jM({},s),{},{type:l})},[l,s]);return C.useLayoutEffect(()=>{c!=null&&(t.current===null?e(q9(c)):t.current!==c&&e(G9({prev:t.current,next:c})),t.current=c)},[c,e]),C.useLayoutEffect(()=>()=>{t.current&&(e(V9(t.current)),t.current=null)},[e]),null}function PK(n){var{yAxisId:e,className:t,width:i,label:r}=n,s=C.useRef(null),l=C.useRef(null),c=ye(jb),d=ui(),f=ct(),h="yAxis",p=ye(_=>UL(_,e)),g=ye(_=>F7(_,e)),y=ye(_=>qL(_,h,e,d)),S=ye(_=>xL(_,e));if(C.useLayoutEffect(()=>{if(!(i!=="auto"||!p||JA(r)||C.isValidElement(r)||S==null)){var _=s.current;if(_){var N=_.getCalculatedWidth();Math.round(p.width)!==Math.round(N)&&f(Y9({id:e,width:N}))}}},[y,p,f,r,e,i,S]),p==null||g==null||S==null)return null;var{dangerouslySetInnerHTML:A,ticks:x,scale:E}=n,O=J0(n,EK),{id:T,scale:P}=S,M=J0(S,wK);return C.createElement(s1,Q0({},O,M,{ref:s,labelRef:l,x:g.x,y:g.y,tickTextProps:i==="auto"?{width:void 0}:{width:i},width:p.width,height:p.height,className:et("recharts-".concat(h," ").concat(h),t),viewBox:c,ticks:y,axisType:h}))}var DK={allowDataOverflow:tn.allowDataOverflow,allowDecimals:tn.allowDecimals,allowDuplicatedCategory:tn.allowDuplicatedCategory,angle:tn.angle,axisLine:_s.axisLine,hide:!1,includeHidden:tn.includeHidden,interval:tn.interval,label:!1,minTickGap:tn.minTickGap,mirror:tn.mirror,orientation:tn.orientation,padding:tn.padding,reversed:tn.reversed,scale:tn.scale,tick:tn.tick,tickCount:tn.tickCount,tickLine:_s.tickLine,tickSize:_s.tickSize,type:tn.type,width:tn.width,yAxisId:0},LK=n=>{var e=An(n,DK);return C.createElement(C.Fragment,null,C.createElement(_K,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),C.createElement(PK,e))},Na=C.memo(LK,iR);Na.displayName="YAxis";var NK=(n,e)=>e,l1=Y([NK,We,yL,sn,oN,aa,tq,Yt],lq),c1=n=>{var e=n.currentTarget.getBoundingClientRect(),t=e.width/n.currentTarget.offsetWidth,i=e.height/n.currentTarget.offsetHeight;return{chartX:Math.round((n.clientX-e.left)/t),chartY:Math.round((n.clientY-e.top)/i)}},rR=Li("mouseClick"),aR=mu();aR.startListening({actionCreator:rR,effect:(n,e)=>{var t=n.payload,i=l1(e.getState(),c1(t));i?.activeIndex!=null&&e.dispatch(e$({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}});var eb=Li("mouseMove"),sR=mu(),Af=null;sR.startListening({actionCreator:eb,effect:(n,e)=>{var t=n.payload;Af!==null&&cancelAnimationFrame(Af);var i=c1(t);Af=requestAnimationFrame(()=>{var r=e.getState(),s=HA(r,r.tooltip.settings.shared);if(s==="axis"){var l=l1(r,i);l?.activeIndex!=null?e.dispatch(QL({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):e.dispatch(ZL())}Af=null})}});function RK(n,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":n==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var BM={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},oR=Gn({name:"rootProps",initialState:BM,reducers:{updateOptions:(n,e)=>{var t;n.accessibilityLayer=e.payload.accessibilityLayer,n.barCategoryGap=e.payload.barCategoryGap,n.barGap=(t=e.payload.barGap)!==null&&t!==void 0?t:BM.barGap,n.barSize=e.payload.barSize,n.maxBarSize=e.payload.maxBarSize,n.stackOffset=e.payload.stackOffset,n.syncId=e.payload.syncId,n.syncMethod=e.payload.syncMethod,n.className=e.payload.className,n.baseValue=e.payload.baseValue,n.reverseStackOrder=e.payload.reverseStackOrder}}}),IK=oR.reducer,{updateOptions:kK}=oR.actions,jK=null,BK={updatePolarOptions:(n,e)=>e.payload},lR=Gn({name:"polarOptions",initialState:jK,reducers:BK}),{updatePolarOptions:zK}=lR.actions,FK=lR.reducer,cR=Li("keyDown"),uR=Li("focus"),u1=mu();u1.startListening({actionCreator:cR,effect:(n,e)=>{var t=e.getState(),i=t.rootProps.accessibilityLayer!==!1;if(i){var{keyboardInteraction:r}=t.tooltip,s=n.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var l=$A(r,Sl(t),Ou(t),Mu(t)),c=l==null?-1:Number(l);if(!(!Number.isFinite(c)||c<0)){var d=aa(t);if(s==="Enter"){var f=yh(t,"axis","hover",String(r.index));e.dispatch($0({active:!r.active,activeIndex:r.index,activeCoordinate:f}));return}var h=q7(t),p=h==="left-to-right"?1:-1,g=s==="ArrowRight"?1:-1,y=c+g*p;if(!(d==null||y>=d.length||y<0)){var S=yh(t,"axis","hover",String(y));e.dispatch($0({active:!0,activeIndex:y.toString(),activeCoordinate:S}))}}}}}});u1.startListening({actionCreator:uR,effect:(n,e)=>{var t=e.getState(),i=t.rootProps.accessibilityLayer!==!1;if(i){var{keyboardInteraction:r}=t.tooltip;if(!r.active&&r.index==null){var s="0",l=yh(t,"axis","hover",String(s));e.dispatch($0({active:!0,activeIndex:s,activeCoordinate:l}))}}}});var Oi=Li("externalEvent"),dR=mu(),zy=new Map;dR.startListening({actionCreator:Oi,effect:(n,e)=>{var{handler:t,reactEvent:i}=n.payload;if(t!=null){i.persist();var r=i.type,s=zy.get(r);s!==void 0&&cancelAnimationFrame(s);var l=requestAnimationFrame(()=>{try{var c=e.getState(),d={activeCoordinate:F$(c),activeDataKey:XA(c),activeIndex:zs(c),activeLabel:uN(c),activeTooltipIndex:zs(c),isTooltipActive:U$(c)};t(d,i)}finally{zy.delete(r)}});zy.set(r,l)}}});var UK=Y([bl],n=>n.tooltipItemPayloads),HK=Y([UK,(n,e)=>e,(n,e,t)=>t],(n,e,t)=>{if(e!=null){var i=n.find(s=>s.settings.graphicalItemId===t);if(i!=null){var{getPosition:r}=i;if(r!=null)return r(e)}}}),fR=Li("touchMove"),hR=mu();hR.startListening({actionCreator:fR,effect:(n,e)=>{var t=n.payload;if(!(t.touches==null||t.touches.length===0)){var i=e.getState(),r=HA(i,i.tooltip.settings.shared);if(r==="axis"){var s=t.touches[0];if(s==null)return;var l=l1(i,c1({clientX:s.clientX,clientY:s.clientY,currentTarget:t.currentTarget}));l?.activeIndex!=null&&e.dispatch(QL({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(r==="item"){var c,d=t.touches[0];if(document.elementFromPoint==null||d==null)return;var f=document.elementFromPoint(d.clientX,d.clientY);if(!f||!f.getAttribute)return;var h=f.getAttribute($P),p=(c=f.getAttribute(qP))!==null&&c!==void 0?c:void 0,g=Al(i).find(A=>A.id===p);if(h==null||g==null||p==null)return;var{dataKey:y}=g,S=HK(i,h,p);e.dispatch(WL({activeDataKey:y,activeIndex:h,activeCoordinate:S,activeGraphicalItemId:p}))}}}});var $K=hP({brush:sY,cartesianAxis:X9,chartData:zq,errorBars:zY,graphicalItems:c9,layout:f6,legend:AF,options:Rq,polarAxis:xV,polarOptions:FK,referenceElements:uY,rootProps:IK,tooltip:t$,zIndex:xq}),qK=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return j4({reducer:$K,preloadedState:e,middleware:i=>{var r;return i({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([aR.middleware,sR.middleware,u1.middleware,dR.middleware,hR.middleware])},enhancers:i=>{var r=i;return typeof i=="function"&&(r=i()),r.concat(MP({type:"raf"}))},devTools:{serialize:{replacer:RK},name:"recharts-".concat(t)}})};function pR(n){var{preloadedState:e,children:t,reduxStoreName:i}=n,r=ui(),s=C.useRef(null);if(r)return t;s.current==null&&(s.current=qK(e,i));var l=Pb;return C.createElement(uX,{context:l,store:s.current},t)}function GK(n){var{layout:e,margin:t}=n,i=ct(),r=ui();return C.useEffect(()=>{r||(i(c6(e)),i(l6(t)))},[i,r,e,t]),null}var mR=C.memo(GK,o1);function gR(n){var e=ct();return C.useEffect(()=>{e(kK(n))},[e,n]),null}function zM(n){var{zIndex:e,isPanorama:t}=n,i=C.useRef(null),r=ct();return C.useLayoutEffect(()=>(i.current&&r(Aq({zIndex:e,element:i.current,isPanorama:t})),()=>{r(Sq({zIndex:e,isPanorama:t}))}),[r,e,t]),C.createElement("g",{tabIndex:-1,ref:i})}function FM(n){var{children:e,isPanorama:t}=n,i=ye(uq);if(!i||i.length===0)return e;var r=i.filter(l=>l<0),s=i.filter(l=>l>0);return C.createElement(C.Fragment,null,r.map(l=>C.createElement(zM,{key:l,zIndex:l,isPanorama:t})),e,s.map(l=>C.createElement(zM,{key:l,zIndex:l,isPanorama:t})))}var VK=["children"];function YK(n,e){if(n==null)return{};var t,i,r=XK(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function XK(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function wh(){return wh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},wh.apply(null,arguments)}var KK={width:"100%",height:"100%",display:"block"},WK=C.forwardRef((n,e)=>{var t=XP(),i=KP(),r=lD();if(!qa(t)||!qa(i))return null;var{children:s,otherAttributes:l,title:c,desc:d}=n,f,h;return l!=null&&(typeof l.tabIndex=="number"?f=l.tabIndex:f=r?0:void 0,typeof l.role=="string"?h=l.role:h=r?"application":void 0),C.createElement(bb,wh({},l,{title:c,desc:d,role:h,tabIndex:f,width:t,height:i,style:KK,ref:e}),s)}),ZK=n=>{var{children:e}=n,t=ye(np);if(!t)return null;var{width:i,height:r,y:s,x:l}=t;return C.createElement(bb,{width:i,height:r,x:l,y:s},e)},UM=C.forwardRef((n,e)=>{var{children:t}=n,i=YK(n,VK),r=ui();return r?C.createElement(ZK,null,C.createElement(FM,{isPanorama:!0},t)):C.createElement(WK,wh({ref:e},i),C.createElement(FM,{isPanorama:!1},t))});function QK(){var n=ct(),[e,t]=C.useState(null),i=ye(_6);return C.useEffect(()=>{if(e!=null){var r=e.getBoundingClientRect(),s=r.width/e.offsetWidth;Ke(s)&&s!==i&&n(d6(s))}},[e,n,i]),t}function HM(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function JK(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?HM(Object(t),!0).forEach(function(i){eW(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):HM(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function eW(n,e,t){return(e=tW(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function tW(n){var e=nW(n,"string");return typeof e=="symbol"?e:e+""}function nW(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Ua(){return Ua=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Ua.apply(null,arguments)}var iW=()=>(Xq(),null);function Ch(n){if(typeof n=="number")return n;if(typeof n=="string"){var e=parseFloat(n);if(!Number.isNaN(e))return e}return 0}var rW=C.forwardRef((n,e)=>{var t,i,r=C.useRef(null),[s,l]=C.useState({containerWidth:Ch((t=n.style)===null||t===void 0?void 0:t.width),containerHeight:Ch((i=n.style)===null||i===void 0?void 0:i.height)}),c=C.useCallback((f,h)=>{l(p=>{var g=Math.round(f),y=Math.round(h);return p.containerWidth===g&&p.containerHeight===y?p:{containerWidth:g,containerHeight:y}})},[]),d=C.useCallback(f=>{if(typeof e=="function"&&e(f),f!=null&&typeof ResizeObserver<"u"){var{width:h,height:p}=f.getBoundingClientRect();c(h,p);var g=S=>{var A=S[0];if(A!=null){var{width:x,height:E}=A.contentRect;c(x,E)}},y=new ResizeObserver(g);y.observe(f),r.current=y}},[e,c]);return C.useEffect(()=>()=>{var f=r.current;f?.disconnect()},[c]),C.createElement(C.Fragment,null,C.createElement(vu,{width:s.containerWidth,height:s.containerHeight}),C.createElement("div",Ua({ref:d},n)))}),aW=C.forwardRef((n,e)=>{var{width:t,height:i}=n,[r,s]=C.useState({containerWidth:Ch(t),containerHeight:Ch(i)}),l=C.useCallback((d,f)=>{s(h=>{var p=Math.round(d),g=Math.round(f);return h.containerWidth===p&&h.containerHeight===g?h:{containerWidth:p,containerHeight:g}})},[]),c=C.useCallback(d=>{if(typeof e=="function"&&e(d),d!=null){var{width:f,height:h}=d.getBoundingClientRect();l(f,h)}},[e,l]);return C.createElement(C.Fragment,null,C.createElement(vu,{width:r.containerWidth,height:r.containerHeight}),C.createElement("div",Ua({ref:c},n)))}),sW=C.forwardRef((n,e)=>{var{width:t,height:i}=n;return C.createElement(C.Fragment,null,C.createElement(vu,{width:t,height:i}),C.createElement("div",Ua({ref:e},n)))}),oW=C.forwardRef((n,e)=>{var{width:t,height:i}=n;return typeof t=="string"||typeof i=="string"?C.createElement(aW,Ua({},n,{ref:e})):typeof t=="number"&&typeof i=="number"?C.createElement(sW,Ua({},n,{width:t,height:i,ref:e})):C.createElement(C.Fragment,null,C.createElement(vu,{width:t,height:i}),C.createElement("div",Ua({ref:e},n)))});function lW(n){return n?rW:oW}var cW=C.forwardRef((n,e)=>{var{children:t,className:i,height:r,onClick:s,onContextMenu:l,onDoubleClick:c,onMouseDown:d,onMouseEnter:f,onMouseLeave:h,onMouseMove:p,onMouseUp:g,onTouchEnd:y,onTouchMove:S,onTouchStart:A,style:x,width:E,responsive:O,dispatchTouchEvents:T=!0}=n,P=C.useRef(null),M=ct(),[_,N]=C.useState(null),[j,F]=C.useState(null),X=QK(),$=Bb(),q=$?.width>0?$.width:E,se=$?.height>0?$.height:r,re=C.useCallback(J=>{X(J),typeof e=="function"&&e(J),N(J),F(J),J!=null&&(P.current=J)},[X,e,N,F]),ce=C.useCallback(J=>{M(rR(J)),M(Oi({handler:s,reactEvent:J}))},[M,s]),B=C.useCallback(J=>{M(eb(J)),M(Oi({handler:f,reactEvent:J}))},[M,f]),H=C.useCallback(J=>{M(ZL()),M(Oi({handler:h,reactEvent:J}))},[M,h]),ie=C.useCallback(J=>{M(eb(J)),M(Oi({handler:p,reactEvent:J}))},[M,p]),le=C.useCallback(()=>{M(uR())},[M]),pe=C.useCallback(J=>{M(cR(J.key))},[M]),I=C.useCallback(J=>{M(Oi({handler:l,reactEvent:J}))},[M,l]),K=C.useCallback(J=>{M(Oi({handler:c,reactEvent:J}))},[M,c]),ne=C.useCallback(J=>{M(Oi({handler:d,reactEvent:J}))},[M,d]),oe=C.useCallback(J=>{M(Oi({handler:g,reactEvent:J}))},[M,g]),ve=C.useCallback(J=>{M(Oi({handler:A,reactEvent:J}))},[M,A]),xe=C.useCallback(J=>{T&&M(fR(J)),M(Oi({handler:S,reactEvent:J}))},[M,T,S]),de=C.useCallback(J=>{M(Oi({handler:y,reactEvent:J}))},[M,y]),ut=lW(O);return C.createElement(vN.Provider,{value:_},C.createElement(D_.Provider,{value:j},C.createElement(ut,{width:q??x?.width,height:se??x?.height,className:et("recharts-wrapper",i),style:JK({position:"relative",cursor:"default",width:q,height:se},x),onClick:ce,onContextMenu:I,onDoubleClick:K,onFocus:le,onKeyDown:pe,onMouseDown:ne,onMouseEnter:B,onMouseLeave:H,onMouseMove:ie,onMouseUp:oe,onTouchEnd:de,onTouchMove:xe,onTouchStart:ve,ref:re},C.createElement(iW,null),t)))}),uW=["width","height","responsive","children","className","style","compact","title","desc"];function dW(n,e){if(n==null)return{};var t,i,r=fW(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function fW(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var vR=C.forwardRef((n,e)=>{var{width:t,height:i,responsive:r,children:s,className:l,style:c,compact:d,title:f,desc:h}=n,p=dW(n,uW),g=cr(p);return d?C.createElement(C.Fragment,null,C.createElement(vu,{width:t,height:i}),C.createElement(UM,{otherAttributes:g,title:f,desc:h},s)):C.createElement(cW,{className:l,style:c,width:t,height:i,responsive:r??!1,onClick:n.onClick,onMouseLeave:n.onMouseLeave,onMouseEnter:n.onMouseEnter,onMouseMove:n.onMouseMove,onMouseDown:n.onMouseDown,onMouseUp:n.onMouseUp,onContextMenu:n.onContextMenu,onDoubleClick:n.onDoubleClick,onTouchStart:n.onTouchStart,onTouchMove:n.onTouchMove,onTouchEnd:n.onTouchEnd},C.createElement(UM,{otherAttributes:g,title:f,desc:h,ref:e},C.createElement(fY,null,s)))});function tb(){return tb=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},tb.apply(null,arguments)}var hW={top:5,right:5,bottom:5,left:5},pW={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:hW,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},mW=C.forwardRef(function(e,t){var i,r=An(e.categoricalChartProps,pW),{chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,categoricalChartProps:f}=e,h={chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,eventEmitter:void 0};return C.createElement(pR,{preloadedState:{options:h},reduxStoreName:(i=f.id)!==null&&i!==void 0?i:s},C.createElement(YN,{chartData:f.data}),C.createElement(mR,{layout:r.layout,margin:r.margin}),C.createElement(gR,{baseValue:r.baseValue,accessibilityLayer:r.accessibilityLayer,barCategoryGap:r.barCategoryGap,maxBarSize:r.maxBarSize,stackOffset:r.stackOffset,barGap:r.barGap,barSize:r.barSize,syncId:r.syncId,syncMethod:r.syncMethod,className:r.className,reverseStackOrder:r.reverseStackOrder}),C.createElement(vR,tb({},r,{ref:t})))}),gW=["axis","item"],ms=C.forwardRef((n,e)=>C.createElement(mW,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:gW,tooltipPayloadSearcher:yN,categoricalChartProps:n,ref:e}));function vW(n){var e=ct();return C.useEffect(()=>{e(zK(n))},[e,n]),null}var yW=["layout"];function nb(){return nb=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},nb.apply(null,arguments)}function bW(n,e){if(n==null)return{};var t,i,r=AW(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function AW(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var SW={top:5,right:5,bottom:5,left:5},yR={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:SW,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},xW=C.forwardRef(function(e,t){var i,r=An(e.categoricalChartProps,yR),{layout:s}=r,l=bW(r,yW),{chartName:c,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:h}=e,p={chartName:c,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:h,eventEmitter:void 0};return C.createElement(pR,{preloadedState:{options:p},reduxStoreName:(i=r.id)!==null&&i!==void 0?i:c},C.createElement(YN,{chartData:r.data}),C.createElement(mR,{layout:s,margin:r.margin}),C.createElement(gR,{baseValue:void 0,accessibilityLayer:r.accessibilityLayer,barCategoryGap:r.barCategoryGap,maxBarSize:r.maxBarSize,stackOffset:r.stackOffset,barGap:r.barGap,barSize:r.barSize,syncId:r.syncId,syncMethod:r.syncMethod,className:r.className,reverseStackOrder:r.reverseStackOrder}),C.createElement(vW,{cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius}),C.createElement(vR,nb({},l,{ref:t})))});function $M(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function qM(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?$M(Object(t),!0).forEach(function(i){EW(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):$M(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function EW(n,e,t){return(e=wW(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function wW(n){var e=CW(n,"string");return typeof e=="symbol"?e:e+""}function CW(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var OW=["item"],TW=qM(qM({},yR),{},{layout:"centric",startAngle:0,endAngle:360}),GM=C.forwardRef((n,e)=>{var t=An(n,TW);return C.createElement(xW,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:OW,tooltipPayloadSearcher:yN,categoricalChartProps:t,ref:e})});Zo.workerSrc=new URL("/hospital-buin-paine-dashboard/assets/pdf.worker-BA9kU3Pw.mjs",import.meta.url).href;const MW=[{item:"HSLB13000",zona:"NC-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Escritorio simple 120x70 cm",proveedor:"MELMAN SPA",cantidad:3,piso:7,recinto:"SALA VOLUNTARIADO",fechaInstalacion:"03/08/2026"},{item:"HSLB13009",zona:"NC-reas Adminitrativas en General",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Escritorio en L Administrativo",proveedor:"MELMAN SPA",cantidad:2,piso:3,recinto:"OFICINA SUBDIRECTOR MDICO",fechaInstalacion:"17/07/2026"},{item:"HSLB13018",zona:"NC-reas Administrativas en General",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Escritorio en L Administrativo",proveedor:"MELMAN SPA",cantidad:3,piso:3,recinto:"OFICINA COMUNICACIONES",fechaInstalacion:"17/07/2026"},{item:"HSLB13027",zona:"NC-reas Adminitrativas en General",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Escritorio en L Administrativo",proveedor:"MELMAN SPA",cantidad:1,piso:3,recinto:"OFICINA SECRETARA",fechaInstalacion:"17/07/2026"},{item:"HSLB13037",zona:"CM-Salas de Procedimientos no Invasivos",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Escritorio de Consultas",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"SALA PROCEDIMIENTOS GINECO-OBSTTRICO",fechaInstalacion:"01/07/2026"},{item:"HSLB13049",zona:"CM-Consultas Ambulatorias",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Escritorio de Consultas",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"BOX CIRUGA ADULTOS",fechaInstalacion:"01/07/2026"},{item:"HSLB13064",zona:"CM-Salas de Procedimientos no Invasivos",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Escritorio simple 120x70 cm",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"SALA DE PROCEDIMIENTOS OFTALMO COMPLEJO",fechaInstalacion:"01/07/2026"},{item:"HSLB13081",zona:"CM-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Escritorio en L Administrativo",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"SALA MULTIPROPSITO",fechaInstalacion:"01/07/2026"},{item:"HSLB13090",zona:"CM-Consultas Ambulatorias",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Escritorio de Consultas",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"BOX ENFERMERA SALUD MENTAL",fechaInstalacion:"01/07/2026"},{item:"HSLB13100",zona:"CM-Consultas Ambulatorias",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Escritorio de Consultas",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"BOX ENFERMERA INFANTO JUVENIL",fechaInstalacion:"01/07/2026"},{item:"HSLB13109",zona:"CN-Salas y Habitaciones de Hospitalizacin",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Escritorio de Consultas",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"SALA DE ATENCIN",fechaInstalacion:"01/07/2026"},{item:"HSLB13119",zona:"CM-Consultas Ambulatorias",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Escritorio de Consultas",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"BOX ATENCIN ",fechaInstalacion:"01/07/2026"},{item:"HSLB13128",zona:"CN-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Escritorio en L Administrativo",proveedor:"MELMAN SPA",cantidad:1,piso:6,recinto:"OFICINA JEFE CR ATENCIN CERRADA",fechaInstalacion:"03/08/2026"},{item:"HSLB13138",zona:"CN-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Escritorio en L Administrativo",proveedor:"MELMAN SPA",cantidad:1,piso:5,recinto:"OFICINA JEFE MQ INFANTIL",fechaInstalacion:"17/07/2026"},{item:"HSLB15216",zona:"CA-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Banca Madera C",proveedor:"MELMAN SPA",cantidad:1,piso:4,recinto:"VESTUARIO FUNCIONARIOS",fechaInstalacion:"17/07/2026"},{item:"HSLB13155",zona:"CN-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Escritorio en L Administrativo",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"OF. JEFE CR AT. URGENCIA",fechaInstalacion:"01/07/2026"},{item:"HSLB13165",zona:"CN-Laboratorios",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Escritorio simple 120x70 cm",proveedor:"MELMAN SPA",cantidad:6,piso:2,recinto:"MDULO DE TRABAJO TECNLOGO MDICO",fechaInstalacion:"01/07/2026"},{item:"HSLB13174",zona:"CN-Imagenologa",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Escritorio simple 120x70 cm",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"SALA ECOTOMOGRAFO GINECO-OBSTETRICO (EQUIPO/VESTIDOR)",fechaInstalacion:"01/07/2026"},{item:"HSLB13181",zona:"CA-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Escritorio en L Administrativo",proveedor:"MELMAN SPA",cantidad:1,piso:3,recinto:"OFICINA COORDINADOR ESTERILIZACIN",fechaInstalacion:"17/07/2026"},{item:"HSLB13191",zona:"CM-reas de Rehabilitacin",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Escritorio de Consultas",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"BOX INDIFERENCIADO (FONOAUDIO Y TERAPIA OCU)(1)",fechaInstalacion:"01/07/2026"},{item:"HSLB13201",zona:"CM-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Escritorio en L Administrativo",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"OFICINA SUPERVISORA",fechaInstalacion:"01/07/2026"},{item:"HSLB13210",zona:"NC-reas de Servicios Generales",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Escritorio en L Administrativo",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"OFICINA JEFE TIC",fechaInstalacion:"01/07/2026"},{item:"HSLB13219",zona:"NC-reas de Servicios Generales",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Escritorio simple 120x70 cm",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"OFICINA COORDINADOR ROPERA",fechaInstalacion:"01/07/2026"},{item:"HSLB13231",zona:"NC-reas Adminitrativas en General",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Escritorio en L Administrativo",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"OF. JEFE ABASTECIMIENTO",fechaInstalacion:"01/07/2026"},{item:"HSLB13241",zona:"NC-reas de Servicios Generales",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Escritorio simple 120x70 cm",proveedor:"MELMAN SPA",cantidad:4,piso:2,recinto:"MDULO DE TRABAJO EJECUTIVO DE COMPRA",fechaInstalacion:"01/07/2026"},{item:"HSLB13249",zona:"NC-reas de Servicios Generales",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Escritorio en L Administrativo",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"OFICINA COORDINADOR CENTRAL",fechaInstalacion:"01/07/2026"},{item:"HSLB13258",zona:"CM-Consultas Ambulatorias",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Escritorio de Consultas",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"BOX DE ATENCIN",fechaInstalacion:"01/07/2026"},{item:"HSLB13267",zona:"NC-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Escritorio simple 120x70 cm",proveedor:"MELMAN SPA",cantidad:1,piso:3,recinto:"SALA DE CAPACITACIN MASIVA",fechaInstalacion:"17/07/2026"},{item:"HSLB13276",zona:"NC-reas Administrativas en General",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Escritorio en L Administrativo",proveedor:"MELMAN SPA",cantidad:2,piso:1,recinto:"MDULO DE TRABAJO ADMINISTRATIVOS MANTENCIN DE AGENDA",fechaInstalacion:"01/07/2026"},{item:"HSLB13285",zona:"CA-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Escritorio en L Administrativo",proveedor:"MELMAN SPA",cantidad:1,piso:3,recinto:"SALA DE ENTREVISTAS",fechaInstalacion:"17/07/2026"},{item:"HSLB13295",zona:"CN-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Mesa Lateral",proveedor:"MELMAN SPA",cantidad:1,piso:5,recinto:"SALA DE ESTAR FAMILIARES Y ENTREVISTAS",fechaInstalacion:"17/07/2026"},{item:"HSLB13304",zona:"CM-Consultas Ambulatorias",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Mesa Prvulo Tipo I",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"OFICINA ASISTENTE SOCIAL PSICOPEDAGOGA",fechaInstalacion:"01/07/2026"},{item:"HSLB13313",zona:"CN-Urgencia",servicio:"Urgencia",familia:"Mesa",nombre:"Mesa Plegable",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"BODEGA CATSTROFES ( Mesa Plegable Rectangular)",fechaInstalacion:"01/07/2026"},{item:"HSLB13322",zona:"NC-reas Adminitrativas en General",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Mesa Reuniones Tipo I",proveedor:"MELMAN SPA",cantidad:1,piso:3,recinto:"OFICINA SUBDIRECTOR MDICO",fechaInstalacion:"17/07/2026"},{item:"HSLB15221",zona:"CA-reas de Tratamiento Especial",servicio:"Dilisis",familia:"Mesa",nombre:"Mesa Tipo Casino",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"KITCHENETTE",fechaInstalacion:"01/07/2026"},{item:"HSLB13338",zona:"CM-Consultas Ambulatorias",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Mesa Reuniones Tipo I",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"SALA ESTIMULACIN COGNITIVA",fechaInstalacion:"01/07/2026"},{item:"HSLB13347",zona:"CA-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Mesa Reuniones Tipo I",proveedor:"MELMAN SPA",cantidad:1,piso:3,recinto:"SALA DE ESTAR FAMILIARES",fechaInstalacion:"17/07/2026"},{item:"HSLB13356",zona:"CM-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Mesa Reuniones Plegable",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"SALA MULTIUSO",fechaInstalacion:"01/07/2026"},{item:"HSLB13365",zona:"NC-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Mesa Reuniones Tipo I",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"SALA MULTIUSO (labores administrativas)",fechaInstalacion:"01/07/2026"},{item:"HSLB13374",zona:"CM-Consultas Ambulatorias",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Mesa Reuniones Tipo II",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"SALA DE REUNIONES",fechaInstalacion:"01/07/2026"},{item:"HSLB13383",zona:"NC-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Mesa Reuniones Tipo II",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"SALA DE REUNIONES C/KITCHENETTE",fechaInstalacion:"01/07/2026"},{item:"HSLB13392",zona:"NC-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Mesa Reuniones Tipo III",proveedor:"MELMAN SPA",cantidad:1,piso:3,recinto:"SALA DE CAPACITACIN PERSONALIZADA",fechaInstalacion:"17/07/2026"},{item:"HSLB13400",zona:"CM-Consultas Ambulatorias",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Mesa Tipo Casino Circular",proveedor:"MELMAN SPA",cantidad:2,piso:2,recinto:"SALA DE ESTAR /COMEDOR",fechaInstalacion:"01/07/2026"},{item:"HSLB13409",zona:"CN-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Mesa Tipo Casino Circular",proveedor:"MELMAN SPA",cantidad:1,piso:5,recinto:"ESTAR PERSONAL C/ KITCHENETTE",fechaInstalacion:"17/07/2026"},{item:"HSLB13417",zona:"CN-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Mesa Tipo Casino",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"ESTAR PERSONAL C/ KITCHENETTE",fechaInstalacion:"01/07/2026"},{item:"HSLB13424",zona:"CA-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Mesa Tipo Casino Circular",proveedor:"MELMAN SPA",cantidad:1,piso:3,recinto:"ESTAR PERSONAL C/ KITCHENETTE",fechaInstalacion:"17/07/2026"},{item:"HSLB13436",zona:"NC-SAMU",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Mesa Tipo Casino Circular",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"ESTAR PERSONAL",fechaInstalacion:"01/07/2026"},{item:"HSLB13450",zona:"NC-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Mobiliario",nombre:"Caja Fuerte Tipo I",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"MDULO DE TRABAJO SOME RECAUDACIN",fechaInstalacion:"01/07/2026"},{item:"HSLB13459",zona:"CM-Sala Cuna y Jardn Infantil",servicio:"Administracin y apoyo general",familia:"Mobiliario",nombre:"Cama Apilable",proveedor:"MELMAN SPA",cantidad:14,piso:1,recinto:"NIVEL MEDIO MAYOR",fechaInstalacion:"01/07/2026"},{item:"HSLB13468",zona:"CN-Urgencia",servicio:"Urgencia",familia:"Mobiliario",nombre:"Escalera Tijera",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"BODEGA DE INSUMOS CLNICOS",fechaInstalacion:"01/07/2026"},{item:"HSLB13481",zona:"NC-Casino",servicio:"Comedor para funcionarios y pblico",familia:"Otro",nombre:"Carro Bandejero",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"E. CARROS SUCIOS",fechaInstalacion:"01/07/2026"},{item:"HSLB13490",zona:"CM-Central de Alimentacin",servicio:"Central de Alimentacin ",familia:"Otro",nombre:"Carro de Transporte",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"REA ARMADO DESAYUNOS, POSTRES Y COLACIONES",fechaInstalacion:"01/07/2026"},{item:"HSLB13499",zona:"CM-Sala Cuna y Jardn Infantil",servicio:"Administracin y apoyo general",familia:"Otro",nombre:"Colchoneta Reposo A",proveedor:"MELMAN SPA",cantidad:14,piso:1,recinto:"NIVEL MEDIO MAYOR (120 x 60 cm)",fechaInstalacion:"01/07/2026"},{item:"HSLB13508",zona:"CM-Sala Cuna y Jardn Infantil",servicio:"Administracin y apoyo general",familia:"Otro",nombre:"Librero",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"NIVEL MEDIO MAYOR",fechaInstalacion:"01/07/2026"},{item:"HSLB13517",zona:"NC-reas Adminitrativas en General",servicio:"Administracin y apoyo general",familia:"Otro",nombre:"Mueble Tipo Biblioteca A",proveedor:"MELMAN SPA",cantidad:2,piso:3,recinto:"SECRETARA C/ARCHIVO Y FOTOCOP.",fechaInstalacion:"17/07/2026"},{item:"HSLB13526",zona:"NC-reas Administrativas en General",servicio:"Administracin y apoyo general",familia:"Otro",nombre:"Mueble Tipo Biblioteca A",proveedor:"MELMAN SPA",cantidad:3,piso:3,recinto:"MD. TRABAJO (calidad)",fechaInstalacion:"17/07/2026"},{item:"HSLB13533",zona:"NC-reas Administrativas en General",servicio:"Administracin y apoyo general",familia:"Otro",nombre:"Mueble Tipo Biblioteca A",proveedor:"MELMAN SPA",cantidad:1,piso:3,recinto:"COORDINADOR GESTIN DE PACIENTES",fechaInstalacion:"17/07/2026"},{item:"HSLB13539",zona:"NC-reas Adminitrativas en General",servicio:"Administracin y apoyo general",familia:"Otro",nombre:"Mueble Tipo Biblioteca A",proveedor:"MELMAN SPA",cantidad:1,piso:3,recinto:"OFICINA JEFE CAE",fechaInstalacion:"17/07/2026"},{item:"HSLB15226",zona:"CA-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Otro",nombre:"Mueble Tipo Biblioteca A",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"OFICINA JEFE CUIDADOS PALIATIVOS",fechaInstalacion:"01/07/2026"},{item:"HSLB13556",zona:"CM-Consultas Ambulatorias",servicio:"Administracin y apoyo general",familia:"Otro",nombre:"Mueble Tipo Biblioteca B",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"BOX PSICLOGO ADULTO",fechaInstalacion:"01/07/2026"},{item:"HSLB13563",zona:"CM-Consultas Ambulatorias",servicio:"Administracin y apoyo general",familia:"Otro",nombre:"Mueble Tipo Biblioteca B",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"BOX TERAPEUTA OCUPACIONAL",fechaInstalacion:"01/07/2026"},{item:"HSLB13572",zona:"CN-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Otro",nombre:"Mueble Tipo Biblioteca A",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"OFICINA ENFERMERA COORDINADORA",fechaInstalacion:"01/07/2026"},{item:"HSLB13579",zona:"CM-Consultas Ambulatorias",servicio:"Administracin y apoyo general",familia:"Otro",nombre:"Mueble Tipo Biblioteca B",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"SALA ESTIMULACIN COGNITIVA",fechaInstalacion:"01/07/2026"},{item:"HSLB13588",zona:"CN-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Otro",nombre:"Mueble Tipo Biblioteca A",proveedor:"MELMAN SPA",cantidad:1,piso:6,recinto:"OFICINA JEFE MQ ADULTO",fechaInstalacion:"03/08/2026"},{item:"HSLB13718",zona:"CN-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Otro",nombre:"Mueble Tipo Biblioteca A",proveedor:"MELMAN SPA",cantidad:1,piso:4,recinto:"SALA DE ENTREVISTAS",fechaInstalacion:"17/07/2026"},{item:"HSLB13600",zona:"CN-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Otro",nombre:"Mueble Tipo Biblioteca A",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"OF. JEFE CR AT. URGENCIA",fechaInstalacion:"01/07/2026"},{item:"HSLB13610",zona:"CN-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Otro",nombre:"Mueble Tipo Biblioteca A",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"OFICINA SECRETARA",fechaInstalacion:"01/07/2026"},{item:"HSLB13619",zona:"CN-Imagenologa",servicio:"Administracin y apoyo general",familia:"Otro",nombre:"Mueble Tipo Biblioteca A",proveedor:"MELMAN SPA",cantidad:4,piso:1,recinto:"MDULO DE TRABAJO (INFORMES)",fechaInstalacion:"01/07/2026"},{item:"HSLB13627",zona:"CM-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Otro",nombre:"Mueble Tipo Biblioteca A",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"MESN C/ARCHIVO Y FOTOCOPIADORA",fechaInstalacion:"01/07/2026"},{item:"HSLB13640",zona:"CA-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Otro",nombre:"Mueble Tipo Biblioteca A",proveedor:"MELMAN SPA",cantidad:1,piso:4,recinto:"OFICINA NUTRICIONISTA",fechaInstalacion:"17/07/2026"},{item:"HSLB13649",zona:"NC-reas Adminitrativas en General",servicio:"Administracin y apoyo general",familia:"Otro",nombre:"Mueble Tipo Biblioteca A",proveedor:"MELMAN SPA",cantidad:4,piso:3,recinto:"MDULOS DE TRABAJO (sala de digitalizacin datos)",fechaInstalacion:"17/07/2026"},{item:"HSLB13658",zona:"NC-reas de Servicios Generales",servicio:"Administracin y apoyo general",familia:"Otro",nombre:"Mueble Tipo Biblioteca A",proveedor:"MELMAN SPA",cantidad:1,piso:3,recinto:"SECRETARIA C/ARCHIVO, FOTOCOP.",fechaInstalacion:"17/07/2026"},{item:"HSLB13667",zona:"NC-reas de Servicios Generales",servicio:"Administracin y apoyo general",familia:"Otro",nombre:"Mueble Tipo Biblioteca A",proveedor:"MELMAN SPA",cantidad:1,piso:3,recinto:"SECRETARIA C/ARCHIVO, FOTOCOP.",fechaInstalacion:"17/07/2026"},{item:"HSLB13679",zona:"NC-reas Adminitrativas en General",servicio:"Administracin y apoyo general",familia:"Otro",nombre:"Mueble Tipo Biblioteca A",proveedor:"MELMAN SPA",cantidad:1,piso:3,recinto:"COORDINADOR TESORERA",fechaInstalacion:"17/07/2026"},{item:"HSLB13687",zona:"NC-reas de Servicios Generales",servicio:"Administracin y apoyo general",familia:"Otro",nombre:"Mueble Tipo Biblioteca A",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"OFICINA ADMINISTRADOR DE CONTRATOS",fechaInstalacion:"01/07/2026"},{item:"HSLB14126",zona:"CM-reas de Rehabilitacin",servicio:"Med fsica y rehabilitacin",familia:"Otro",nombre:"Pizarra Acrlica",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"GIMNASIO ADULTO REHABILITACIN CARDIOVASCULAR",fechaInstalacion:"01/07/2026"},{item:"HSLB14135",zona:"CN-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Otro",nombre:"Velador",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"RESIDENCIA MDICA C/BAO",fechaInstalacion:"01/07/2026"},{item:"HSLB14144",zona:"CM-Residencias Mdicas",servicio:"Administracin y apoyo general",familia:"Otro",nombre:"Velador",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"RESIDENCIA MDICA C/BAO",fechaInstalacion:"01/07/2026"},{item:"HSLB14153",zona:"CN-Imagenologa",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Banca Madera A",proveedor:"MELMAN SPA",cantidad:2,piso:1,recinto:"SALA ECOTOMOGRAFO GINECO-OBSTETRICO (EQUIPO/VESTIDOR)",fechaInstalacion:"01/07/2026"},{item:"HSLB14162",zona:"CM-reas de Rehabilitacin",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Apilable de Base Ancha",proveedor:"MELMAN SPA",cantidad:10,piso:1,recinto:"GIMNASIO PEDIATRICO",fechaInstalacion:"01/07/2026"},{item:"HSLB14171",zona:"NC-reas Adminitrativas en General",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:1,piso:3,recinto:"OFICINA DIRECTOR C/BAO",fechaInstalacion:"17/07/2026"},{item:"HSLB14180",zona:"NC-reas Administrativas en General",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:1,piso:3,recinto:"MD. TRABAJO (Winsig)",fechaInstalacion:"17/07/2026"},{item:"HSLB14189",zona:"NC-reas Adminitrativas en General",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:2,piso:3,recinto:"COORDINADOR GESTIN DEL CUIDADO AT. ABIERTA",fechaInstalacion:"17/07/2026"},{item:"HSLB14198",zona:"CM-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"MDULO DE TRABAJO OIRS",fechaInstalacion:"01/07/2026"},{item:"HSLB14207",zona:"CM-Salas de Procedimientos no Invasivos",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"SALA PROCEDIMIENTOS GINECO-OBSTTRICO",fechaInstalacion:"01/07/2026"},{item:"HSLB14220",zona:"CM-Consultas Ambulatorias",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"BOX CIRUGA ADULTOS",fechaInstalacion:"01/07/2026"},{item:"HSLB14233",zona:"CM-Consultas Ambulatorias",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"BOX CARDIO OTORRINO",fechaInstalacion:"01/07/2026"},{item:"HSLB14242",zona:"CM-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"RECAUDACIN ODONTOLOGA",fechaInstalacion:"01/07/2026"},{item:"HSLB14251",zona:"CM-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"OFICINA ENFERMERA",fechaInstalacion:"01/07/2026"},{item:"HSLB14260",zona:"CM-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"OFICINA JEFE SALUD MENTAL",fechaInstalacion:"01/07/2026"},{item:"HSLB14269",zona:"CM-Consultas Ambulatorias",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"BOX PSICLOGO INFANTO JUVENIL",fechaInstalacion:"01/07/2026"},{item:"HSLB14278",zona:"CM-Consultas Ambulatorias",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"BOX PSIQUIATRA ADULTO",fechaInstalacion:"01/07/2026"},{item:"HSLB14287",zona:"CN-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:2,piso:1,recinto:"ESTACIN DE ENFERMERA",fechaInstalacion:"01/07/2026"},{item:"HSLB14295",zona:"CM-Consultas Ambulatorias",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"SALA DE ENTREVISTAS",fechaInstalacion:"01/07/2026"},{item:"HSLB14304",zona:"CN-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:1,piso:6,recinto:"OFICINA JEFE CR ATENCIN CERRADA",fechaInstalacion:"03/08/2026"},{item:"HSLB14314",zona:"CN-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:6,piso:5,recinto:"ESTACIN DE ENFERMERA",fechaInstalacion:"17/07/2026"},{item:"HSLB14324",zona:"CN-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:1,piso:5,recinto:"MDULO TRABAJO SUPERVISOR",fechaInstalacion:"17/07/2026"},{item:"HSLB14333",zona:"CN-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:1,piso:4,recinto:"LACTARIO",fechaInstalacion:"17/07/2026"},{item:"HSLB14342",zona:"CA-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:3,piso:3,recinto:"ESTACIN DE ENFERMERA",fechaInstalacion:"17/07/2026"},{item:"HSLB14351",zona:"CN-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"COORDINADOR CR AT. URGENCIA",fechaInstalacion:"01/07/2026"},{item:"HSLB14360",zona:"CN-Urgencia",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"SALA ENTREVISTA ACOGIDA",fechaInstalacion:"01/07/2026"},{item:"HSLB14369",zona:"CN-Laboratorios",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"SECCIN BIOQUMICA",fechaInstalacion:"01/07/2026"},{item:"HSLB14378",zona:"CN-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:2,piso:2,recinto:"MESN RECEPCIN",fechaInstalacion:"01/07/2026"},{item:"HSLB14387",zona:"CN-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"OFICINA JEFE IMAGENOLOGA",fechaInstalacion:"01/07/2026"},{item:"HSLB14396",zona:"CN-Imagenologa",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"SALA ECOTOMOGRAFO INDIFERENCIADO (EQUIPO/VESTIDOR)",fechaInstalacion:"01/07/2026"},{item:"HSLB14406",zona:"CM-Farmacia General",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:4,piso:2,recinto:"RECEPCIN DESPACHO DIGITACIN (VENTANILLAS)",fechaInstalacion:"01/07/2026"},{item:"HSLB14416",zona:"CA-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:1,piso:3,recinto:"MESN RECEPCIN",fechaInstalacion:"17/07/2026"},{item:"HSLB15242",zona:"CA-Otros Servicios Adyacentes",servicio:"Pabellones",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:1,piso:3,recinto:"SALA RECUPERACIN URGENCIA",fechaInstalacion:"17/07/2026"},{item:"HSLB14425",zona:"CM-reas de Rehabilitacin",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"SALA DE TERAPIA GRUPAL (12 MAX)",fechaInstalacion:"01/07/2026"},{item:"HSLB14434",zona:"CM-reas de Rehabilitacin",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"SALA PREPARACIN DE PACIENTES",fechaInstalacion:"01/07/2026"},{item:"HSLB14443",zona:"CM-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"SECRETARIA C/ARCH. Y FOTO",fechaInstalacion:"01/07/2026"},{item:"HSLB14452",zona:"NC-reas Adminitrativas en General",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:1,piso:3,recinto:"MESN DE RECEPCIN",fechaInstalacion:"17/07/2026"},{item:"HSLB14461",zona:"NC-reas de Servicios Generales",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:1,piso:3,recinto:"SECRETARIA C/ARCHIVO, FOTOCOP.",fechaInstalacion:"17/07/2026"},{item:"HSLB14470",zona:"NC-Locales Externos",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"PORTERA c/BAO (1)",fechaInstalacion:"01/07/2026"},{item:"HSLB14479",zona:"NC-reas de Servicios Generales",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:1,piso:3,recinto:"SECRETARIA C/ARCHIVO, FOTOCOP.",fechaInstalacion:"17/07/2026"},{item:"HSLB14496",zona:"NC-reas Adminitrativas en General",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:1,piso:3,recinto:"MDULO DE TRABAJO (presupuesto)",fechaInstalacion:"17/07/2026"},{item:"HSLB14505",zona:"NC-reas de Servicios Generales",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"SECRETARA C/ARCHIVO Y FOTOCOPIADORA",fechaInstalacion:"01/07/2026"},{item:"HSLB14513",zona:"NC-reas de Servicios Generales",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"OFICINA COORDINADOR CENTRAL",fechaInstalacion:"01/07/2026"},{item:"HSLB14522",zona:"NC-reas Adminitrativas en General",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"COORDINADOR SALUD DEL TRABAJADOR",fechaInstalacion:"01/07/2026"},{item:"HSLB14531",zona:"NC-reas Adminitrativas en General",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:1,piso:3,recinto:"COORDINADOR CAPACITACIN Y FORMACIN",fechaInstalacion:"17/07/2026"},{item:"HSLB14540",zona:"NC-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"SALA MULTIUSO (labores administrativas)",fechaInstalacion:"01/07/2026"},{item:"HSLB14549",zona:"CN-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:6,piso:4,recinto:"ESTACIN DE ENFERMERA",fechaInstalacion:"17/07/2026"},{item:"HSLB14558",zona:"NC-reas Administrativas en General",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"MDULO DE TRABAJO PROFESIONALES  DEMANDA CONSULTAS MDICAS",fechaInstalacion:"01/07/2026"},{item:"HSLB14567",zona:"CM-Sala Cuna y Jardn Infantil",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Lactante",proveedor:"MELMAN SPA",cantidad:9,piso:1,recinto:"NIVEL SALA CUNA 2",fechaInstalacion:"01/07/2026"},{item:"HSLB14576",zona:"CN-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Prvulo",proveedor:"MELMAN SPA",cantidad:4,piso:5,recinto:"AULA HOSPITALARIA",fechaInstalacion:"17/07/2026"},{item:"HSLB14585",zona:"CN-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla tipo Casino",proveedor:"MELMAN SPA",cantidad:4,piso:1,recinto:"SALA DE ESTAR FAMILIARES",fechaInstalacion:"01/07/2026"},{item:"HSLB14594",zona:"CN-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla tipo Casino",proveedor:"MELMAN SPA",cantidad:4,piso:6,recinto:"SALA DE ESTAR FAMILIARES Y ENTREVISTAS",fechaInstalacion:"03/08/2026"},{item:"HSLB14605",zona:"CN-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla tipo Casino",proveedor:"MELMAN SPA",cantidad:4,piso:2,recinto:"ESTAR PERSONAL C/ KITCHENETTE",fechaInstalacion:"01/07/2026"},{item:"HSLB14615",zona:"NC-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla tipo Casino",proveedor:"MELMAN SPA",cantidad:4,piso:1,recinto:"ESTAR PERSONAL C/ KITCHENETTE",fechaInstalacion:"01/07/2026"},{item:"HSLB14625",zona:"NC-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Tipo Universitaria",proveedor:"MELMAN SPA",cantidad:25,piso:3,recinto:"SALA DE CAPACITACIN MASIVA",fechaInstalacion:"17/07/2026"},{item:"HSLB14634",zona:"NC-reas Adminitrativas en General",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:4,piso:3,recinto:"OFICINA SUBDIRECTOR MDICO",fechaInstalacion:"17/07/2026"},{item:"HSLB14644",zona:"NC-reas Administrativas en General",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:2,piso:3,recinto:"OFICINA ASESOR JURDICO",fechaInstalacion:"17/07/2026"},{item:"HSLB14653",zona:"NC-reas Adminitrativas en General",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:2,piso:3,recinto:"OFICINA SECRETARA",fechaInstalacion:"17/07/2026"},{item:"HSLB14662",zona:"CM-Salas de Procedimientos no Invasivos",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"SALA PROCEDIMIENTOS MONITOREO FETAL",fechaInstalacion:"01/07/2026"},{item:"HSLB14671",zona:"CM-Consultas Ambulatorias",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:2,piso:2,recinto:"BOX MEDICINA ADULTOS",fechaInstalacion:"01/07/2026"},{item:"HSLB14680",zona:"CM-Salas de Procedimientos no Invasivos",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"SALA PROCEDIMIENTOS TRAUMATOLOGA INFANTIL",fechaInstalacion:"01/07/2026"},{item:"HSLB15251",zona:"CM-Otros Servicios Adyacentes",servicio:"Odontologa",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:3,piso:2,recinto:"ESTAC. SILLA DE RUEDAS",fechaInstalacion:"01/07/2026"},{item:"HSLB14698",zona:"CM-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:2,piso:1,recinto:"OFICINA ENFERMERA",fechaInstalacion:"01/07/2026"},{item:"HSLB14707",zona:"CM-Consultas Ambulatorias",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:2,piso:2,recinto:"BOX ENFERMERA SALUD MENTAL",fechaInstalacion:"01/07/2026"},{item:"HSLB14716",zona:"CM-Consultas Ambulatorias",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:2,piso:2,recinto:"BOX ENFERMERA INFANTO JUVENIL",fechaInstalacion:"01/07/2026"},{item:"HSLB14725",zona:"CN-Salas y Habitaciones de Hospitalizacin",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:2,piso:1,recinto:"SALA DE ATENCIN",fechaInstalacion:"01/07/2026"},{item:"HSLB14734",zona:"CN-Salas y Habitaciones de Hospitalizacin",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:4,piso:1,recinto:"TALLER COMPUTACIN",fechaInstalacion:"01/07/2026"},{item:"HSLB14743",zona:"CM-Consultas Ambulatorias",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:4,piso:2,recinto:"SALA MULTIUSO",fechaInstalacion:"01/07/2026"},{item:"HSLB14752",zona:"CM-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:8,piso:2,recinto:"SALA DE REUNIONES",fechaInstalacion:"01/07/2026"},{item:"HSLB14761",zona:"CN-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:2,piso:6,recinto:"OFICINA JEFE MQ ADULTO",fechaInstalacion:"03/08/2026"},{item:"HSLB14770",zona:"CN-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:2,piso:4,recinto:"OFICINA CHILE CRECE CONTIGO",fechaInstalacion:"17/07/2026"},{item:"HSLB14777",zona:"CA-Sala Parto o Pabelln de Parto",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:2,piso:3,recinto:"SALA MULTIUSO",fechaInstalacion:"17/07/2026"},{item:"HSLB14786",zona:"CN-Urgencia",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:2,piso:1,recinto:"MODULO DE TRABAJO OIRS",fechaInstalacion:"01/07/2026"},{item:"HSLB14795",zona:"CN-Urgencia",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"BOX URGENCIA(3)",fechaInstalacion:"01/07/2026"},{item:"HSLB14803",zona:"CN-Urgencia",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:2,piso:1,recinto:"SALA OBSERVACIN (INFANTIL)",fechaInstalacion:"04/05/2026"},{item:"HSLB14813",zona:"CN-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:2,piso:2,recinto:"OFICINA JEFE LABORATORIO",fechaInstalacion:"01/07/2026"},{item:"HSLB14821",zona:"CN-Laboratorios",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:2,piso:2,recinto:"TOMA DE MUESTRA COMUN",fechaInstalacion:"01/07/2026"},{item:"HSLB14830",zona:"CM-Farmacia General",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:2,piso:2,recinto:"MDULOS DE ENTREVISTA Y EDUCACIN",fechaInstalacion:"01/07/2026"},{item:"HSLB14839",zona:"CM-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:2,piso:1,recinto:"OFICINA JEFE REHABILITACIN",fechaInstalacion:"01/07/2026"},{item:"HSLB14848",zona:"CM-reas de Rehabilitacin",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"SALA PREPARACIN DE PACIENTES",fechaInstalacion:"01/07/2026"},{item:"HSLB14856",zona:"CM-Sala Mortuoria",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:2,piso:1,recinto:"MESN RECEPCIN DE REGISTRO DE INFORMES",fechaInstalacion:"01/07/2026"},{item:"HSLB14866",zona:"NC-reas de Servicios Generales",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:2,piso:3,recinto:"OFICINA MEDIOAMBIENTAL",fechaInstalacion:"17/07/2026"},{item:"HSLB14875",zona:"NC-reas de Servicios Generales",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:2,piso:3,recinto:"SECRETARIA C/ARCHIVO, FOTOCOP.",fechaInstalacion:"17/07/2026"},{item:"HSLB14887",zona:"NC-reas Adminitrativas en General",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:2,piso:3,recinto:"MDULO DE TRABAJO (gestin financiera)",fechaInstalacion:"17/07/2026"},{item:"HSLB14896",zona:"NC-reas de Servicios Generales",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:2,piso:2,recinto:"OFICINA ADMINISTRADOR DE CONTRATOS",fechaInstalacion:"01/07/2026"},{item:"HSLB14905",zona:"NC-reas Adminitrativas en General",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:4,piso:3,recinto:"OF. JEFE CR GESTIN DE LAS PERSONAS",fechaInstalacion:"17/07/2026"},{item:"HSLB14914",zona:"NC-reas Adminitrativas en General",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:2,piso:2,recinto:"COORD. SALUD OCUP. Y PREVEN. DE RIESGOS",fechaInstalacion:"01/07/2026"},{item:"HSLB14923",zona:"NC-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:20,piso:3,recinto:"AUDITORIO",fechaInstalacion:"17/07/2026"},{item:"HSLB14932",zona:"NC-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:4,piso:2,recinto:"SALA MULTIUSO (labores administrativas)",fechaInstalacion:"01/07/2026"},{item:"HSLB14941",zona:"CM-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:2,piso:1,recinto:"OFICINA 2 EDUCADORAS",fechaInstalacion:"01/07/2026"},{item:"HSLB14950",zona:"CM-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:2,piso:2,recinto:"OFICINA ENFERMERA COORDINADORA",fechaInstalacion:"01/07/2026"},{item:"HSLB14959",zona:"CM-Consultas Ambulatorias",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silln 1 Cuerpo",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"BOX PSICLOGO ADULTO",fechaInstalacion:"01/07/2026"},{item:"HSLB14968",zona:"CN-Salas y Habitaciones de Hospitalizacin",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silln 1 Cuerpo",proveedor:"MELMAN SPA",cantidad:2,piso:1,recinto:"SALA ESTAR COMEDOR",fechaInstalacion:"01/07/2026"},{item:"HSLB14976",zona:"NC-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silln 1 Cuerpo",proveedor:"MELMAN SPA",cantidad:3,piso:2,recinto:"SALA DE LECTURA",fechaInstalacion:"01/07/2026"},{item:"HSLB14985",zona:"CM-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silln 2 Cuerpo",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"SALA ENTREVISTA A PACIENTES",fechaInstalacion:"01/07/2026"},{item:"HSLB14994",zona:"CN-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silln 2 Cuerpo",proveedor:"MELMAN SPA",cantidad:6,piso:5,recinto:"SALA DE ESPERA",fechaInstalacion:"17/07/2026"},{item:"HSLB15003",zona:"CN-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silln 2 Cuerpo",proveedor:"MELMAN SPA",cantidad:2,piso:6,recinto:"SALA DE ESTAR FAMILIARES Y ENTREVISTAS",fechaInstalacion:"03/08/2026"},{item:"HSLB15010",zona:"CA-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silln 2 Cuerpo",proveedor:"MELMAN SPA",cantidad:1,piso:3,recinto:"ESTAR PERSONAL C/ KITCHENETTE",fechaInstalacion:"17/07/2026"},{item:"HSLB15019",zona:"CN-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silln 2 Cuerpo",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"ESTAR PERSONAL C/ KITCHENETTE",fechaInstalacion:"01/07/2026"},{item:"HSLB15029",zona:"CM-reas de Rehabilitacin",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silln 2 Cuerpo",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"BOX PSICOLOGO / A. SOCIAL",fechaInstalacion:"01/07/2026"},{item:"HSLB15041",zona:"CN-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silln 2 Cuerpo",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"ESTAR PERSONAL C/ KITCHENETTE",fechaInstalacion:"01/07/2026"},{item:"HSLB15050",zona:"CN-Pensionado",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silln Bergere",proveedor:"MELMAN SPA",cantidad:1,piso:5,recinto:"SALA 1 CAMA",fechaInstalacion:"17/07/2026"},{item:"HSLB15059",zona:"CN-Salas y Habitaciones de Hospitalizacin",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silln Bergere",proveedor:"MELMAN SPA",cantidad:4,piso:7,recinto:"SALA 4 CAMAS",fechaInstalacion:"03/08/2026"},{item:"HSLB15068",zona:"CN-Salas y Habitaciones de Hospitalizacin",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silln Bergere",proveedor:"MELMAN SPA",cantidad:1,piso:7,recinto:"SALA 1 CAMA",fechaInstalacion:"03/08/2026"},{item:"HSLB15080",zona:"CN-Salas y Habitaciones de Hospitalizacin",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silln Bergere",proveedor:"MELMAN SPA",cantidad:4,piso:6,recinto:"SALA 4 CAMAS",fechaInstalacion:"03/08/2026"},{item:"HSLB15093",zona:"CN-Salas y Habitaciones de Hospitalizacin",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silln Bergere",proveedor:"MELMAN SPA",cantidad:1,piso:5,recinto:"SALA 1 CAMA",fechaInstalacion:"17/07/2026"},{item:"HSLB15102",zona:"CN-Salas y Habitaciones de Hospitalizacin",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silln Bergere",proveedor:"MELMAN SPA",cantidad:4,piso:4,recinto:"SALA 4 CAMAS",fechaInstalacion:"17/07/2026"},{item:"HSLB15112",zona:"CA-Unidad de Paciente Crtico",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silln Bergere",proveedor:"MELMAN SPA",cantidad:1,piso:3,recinto:"SALA 1 CAMA",fechaInstalacion:"01/07/2026"},{item:"HSLB15121",zona:"CA-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silln Bergere",proveedor:"MELMAN SPA",cantidad:1,piso:3,recinto:"RESIDENCIA MDICA",fechaInstalacion:"17/07/2026"},{item:"HSLB15143",zona:"CM-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silln Tipo Poltrona",proveedor:"MELMAN SPA",cantidad:2,piso:2,recinto:"SALA ENTREVISTA A PACIENTES",fechaInstalacion:"01/07/2026"},{item:"HSLB15265",zona:"NC-SAMU",servicio:"Urgencia",familia:"Mobiliario",nombre:"Cama 1 1/2 Plaza",proveedor:"MELMAN SPA",cantidad:2,piso:1,recinto:"RESIDENCIA DOBLE",fechaInstalacion:"01/07/2026"},{item:"HSLB15274",zona:"CM-Sala Cuna y Jardn Infantil",servicio:"Administracin y apoyo general",familia:"Otro",nombre:"Contenedor",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"NIVEL SALA CUNA 2",fechaInstalacion:"01/07/2026"},{item:"HSLB15172",zona:"CN-Laboratorios",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Escritorio simple 120x70 cm",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"TOMA DE MUESTRA COMUN",fechaInstalacion:"01/07/2026"},{item:"HSLB15275",zona:"CM-Sala Cuna y Jardn Infantil",servicio:"Administracin y apoyo general",familia:"Mesa",nombre:"Mesa Prvulo Inclusin",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"NIVEL SALA CUNA 2",fechaInstalacion:"01/07/2026"},{item:"HSLB13698",zona:"NC-reas Adminitrativas en General",servicio:"Administracin y apoyo general",familia:"Otro",nombre:"Mueble Tipo Biblioteca A",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"COORDINADOR SALUD DEL TRABAJADOR",fechaInstalacion:"01/07/2026"},{item:"HSLB15278",zona:"NC-Otros Servicios Adyacentes",servicio:"Administracin y apoyo general",familia:"Otro",nombre:"Mueble Tipo Biblioteca A",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"SALA MULTIUSO (labores administrativas)",fechaInstalacion:"01/07/2026"},{item:"HSLB15282",zona:"CM-Otros Servicios Adyacentes",servicio:"Psiquiatra",familia:"Silla",nombre:"Silla Alta Cafeteria",proveedor:"MELMAN SPA",cantidad:6,piso:2,recinto:"TALLER DE COCINA",fechaInstalacion:"01/06/2026"},{item:"HSLB15292",zona:"CN-Salas y Habitaciones de Hospitalizacin",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"SALA DE ATENCIN",fechaInstalacion:"01/07/2026"},{item:"HSLB15305",zona:"CA-Central de Esterilizacin",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:2,piso:3,recinto:"REA EQUIPO AIRE COMPRIMIDO- OSMOSIS INVERSA",fechaInstalacion:"17/07/2026"},{item:"HSLB15312",zona:"NC-reas de Servicios Generales",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Ergonmica",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"PREPARACIN DE CARROS",fechaInstalacion:"01/07/2026"},{item:"HSLB15321",zona:"CN-Salas de Procedimientos Invasivos y/o de Mayor Complejidad",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"SALA PROCEDIMIENTOS ENDOSCOPA INDIFERENCIADO",fechaInstalacion:"01/07/2026"},{item:"HSLB15330",zona:"CM-Servicio Dental",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:2,piso:2,recinto:"BOX DENTAL POLIFUNCIONAL(5)",fechaInstalacion:"01/06/2026"},{item:"HSLB15339",zona:"CM-Consultas Ambulatorias",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:1,piso:2,recinto:"SALA DE PROCEDIMIENTO",fechaInstalacion:"01/07/2026"},{item:"HSLB15346",zona:"CN-Urgencia",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:1,piso:1,recinto:"BOX MONITOREO FETAL C / BAO",fechaInstalacion:"01/07/2026"},{item:"HSLB15355",zona:"CN-Urgencia",servicio:"Administracin y apoyo general",familia:"Silla",nombre:"Silla Visita",proveedor:"MELMAN SPA",cantidad:2,piso:1,recinto:"BOX AT. ACOGIDA C/BAO Y DUCHA",fechaInstalacion:"01/07/2026"}],bR={totalItems:1973,totalQty:4456,uniqueRecintos:812,uniqueNombres:79,uniqueServicios:39,uniqueZonas:29,proveedores:3,familias:4,byFamilia:[{name:"Silla",qty:3233},{name:"Mesa",qty:694},{name:"Otro",qty:426},{name:"Mobiliario",qty:103}],byProveedor:[{name:"MELMAN SPA",qty:4256},{name:"ALLMEDICA",qty:106},{name:"COMERCIAL HAGELIN",qty:94}],byPiso:[{name:"Piso 1",piso:1,qty:1466},{name:"Piso 2",piso:2,qty:1547},{name:"Piso 3",piso:3,qty:845},{name:"Piso 4",piso:4,qty:184},{name:"Piso 5",piso:5,qty:137},{name:"Piso 6",piso:6,qty:150},{name:"Piso 7",piso:7,qty:127}],byServicio:[{name:"Administracin y apoyo general",qty:825},{name:"Consultas medicas generales",qty:376},{name:"Urgencia",qty:311},{name:"Comedor funcionarios/pblico",qty:307},{name:"Sala Cuna",qty:296},{name:"Hospitalizacin",qty:230},{name:"Hospital de da",qty:212},{name:"Psiquiatra",qty:179},{name:"UHCIP",qty:170},{name:"Laboratorio",qty:166},{name:"Med fsica y rehabilitacin",qty:144},{name:"Imagenologa",qty:90},{name:"Pabellones",qty:86},{name:"Contabilidad",qty:83},{name:"Dilisis",qty:76},{name:"Farmacia",qty:75},{name:"UTI",qty:71},{name:"Central de Alimentacin",qty:69},{name:"Odontologa",qty:68},{name:"Cafetera",qty:66},{name:"Consultas Ambulatorias",qty:59},{name:"Mantenimiento",qty:52},{name:"Biblioteca",qty:52},{name:"Parto Integral",qty:48},{name:"Laboratorio UMT",qty:46},{name:"Cuidados Paliativos",qty:45},{name:"Vestuario",qty:41},{name:"Auditorio",qty:40},{name:"Abastecimiento",qty:32},{name:"Esterilizacin",qty:29},{name:"Chile Crece Contigo",qty:26},{name:"Neonatologa",qty:25},{name:"SEDILE",qty:14},{name:"Lavandera",qty:12},{name:"Morgue",qty:11},{name:"Telemedicina",qty:8},{name:"Circulacin Rehabilitacin",qty:8},{name:"Exterior portera",qty:6},{name:"Ciruga menor",qty:2}],byNombre:[{name:"Silla Visita",qty:1285},{name:"Silla Ergonmica",qty:631},{name:"Silla tipo Casino",qty:478},{name:"Mueble Tipo Biblioteca A",qty:272},{name:"Silla Butaca Espera 3 Cuerpos",qty:223},{name:"Silln Bergere",qty:185},{name:"Escritorio en L Administrativo",qty:178},{name:"Escritorio simple 120x70 cm",qty:122},{name:"Silln 2 Cuerpo",qty:103},{name:"Mesa Tipo Casino",qty:74},{name:"Punto de Registro",qty:67},{name:"Banca Madera B",qty:59},{name:"Escritorio de Consultas",qty:58},{name:"Colchoneta Reposo A",qty:56},{name:"Mesa Reuniones Tipo I",qty:54},{name:"Silla Prvulo",qty:52},{name:"Mesa Tipo Casino Circular",qty:41},{name:"Silla Tipo Universitaria",qty:33},{name:"Mesa Lateral",qty:31},{name:"Silln 1 Cuerpo",qty:31},{name:"Banca Madera A",qty:29},{name:"Cama Apilable",qty:28},{name:"Banca Madera C",qty:21},{name:"Perchero",qty:20},{name:"Velador",qty:20}],byMes:[{name:"Mayo 2026",qty:66},{name:"Junio 2026",qty:44},{name:"Julio 2026",qty:4069},{name:"Agosto 2026",qty:277}],bySemana:[{name:"29/06 - 05/07",qty:2924},{name:"13/07 - 19/07",qty:1145},{name:"03/08 - 09/08",qty:277},{name:"04/05 - 10/05",qty:66},{name:"01/06 - 07/06",qty:44}],byDia:[{name:"01/07/2026",qty:2924},{name:"17/07/2026",qty:1145},{name:"03/08/2026",qty:277},{name:"04/05/2026",qty:66},{name:"01/06/2026",qty:44}],fechaStats:{fechaMin:"04/05/2026",fechaMax:"03/08/2026",totalMeses:4,totalSemanas:5}},R={primary:"#00b4d8",primaryDark:"#0090b0",green:"#10b981",orange:"#f59e0b",red:"#ef4444",purple:"#8b5cf6",cyan:"#00b4d8",bg:"#f0f6fa",sidebar:"#0f1e2e",white:"#ffffff",border:"#d6e8f0",borderLight:"#e8f4fa",text:"#0f1e2e",textMuted:"#4a6580"},xn=["#00b4d8","#0090b0","#67d9f0","#1b3a5c","#10b981","#f59e0b","#8b5cf6","#ef4444","#14b8a6","#f97316","#3b82f6","#e879f9"],zr={Silla:"#00b4d8",Mesa:"#f59e0b",Otro:"#10b981",Mobiliario:"#1b3a5c"},Le={chart:D.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[D.jsx("rect",{x:"3",y:"12",width:"4",height:"9",rx:"1.5",fill:"white",fillOpacity:"0.9"}),D.jsx("rect",{x:"10",y:"7",width:"4",height:"14",rx:"1.5",fill:"white",fillOpacity:"0.75"}),D.jsx("rect",{x:"17",y:"3",width:"4",height:"18",rx:"1.5",fill:"white",fillOpacity:"0.6"}),D.jsx("rect",{x:"3",y:"3",width:"18",height:"1.5",rx:"0.75",fill:"white",fillOpacity:"0.3"})]}),folder:D.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[D.jsx("path",{d:"M2 7C2 5.9 2.9 5 4 5H9.5L11.5 7H20C21.1 7 22 7.9 22 9V18C22 19.1 21.1 20 20 20H4C2.9 20 2 19.1 2 18V7Z",fill:"white",fillOpacity:"0.85"}),D.jsx("path",{d:"M2 9H22",stroke:"white",strokeOpacity:"0.4",strokeWidth:"1.5"})]}),building:D.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[D.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",fill:"white",fillOpacity:"0.2"}),D.jsx("rect",{x:"3",y:"3",width:"18",height:"5",rx:"2",fill:"white",fillOpacity:"0.85"}),D.jsx("rect",{x:"6",y:"10",width:"3",height:"3",rx:"0.75",fill:"white",fillOpacity:"0.9"}),D.jsx("rect",{x:"10.5",y:"10",width:"3",height:"3",rx:"0.75",fill:"white",fillOpacity:"0.9"}),D.jsx("rect",{x:"15",y:"10",width:"3",height:"3",rx:"0.75",fill:"white",fillOpacity:"0.9"}),D.jsx("rect",{x:"6",y:"15",width:"3",height:"3",rx:"0.75",fill:"white",fillOpacity:"0.75"}),D.jsx("rect",{x:"10.5",y:"15",width:"3",height:"3",rx:"0.75",fill:"white",fillOpacity:"0.75"}),D.jsx("rect",{x:"15",y:"15",width:"3",height:"3",rx:"0.75",fill:"white",fillOpacity:"0.75"})]}),layers:D.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[D.jsx("path",{d:"M12 3L22 8L12 13L2 8L12 3Z",fill:"white",fillOpacity:"0.9"}),D.jsx("path",{d:"M2 12L12 17L22 12",stroke:"white",strokeOpacity:"0.75",strokeWidth:"2",strokeLinecap:"round"}),D.jsx("path",{d:"M2 16L12 21L22 16",stroke:"white",strokeOpacity:"0.55",strokeWidth:"2",strokeLinecap:"round"})]}),hospital:D.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[D.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"3",fill:"white",fillOpacity:"0.2"}),D.jsx("rect",{x:"10.5",y:"5",width:"3",height:"14",rx:"1.5",fill:"white",fillOpacity:"0.9"}),D.jsx("rect",{x:"5",y:"10.5",width:"14",height:"3",rx:"1.5",fill:"white",fillOpacity:"0.9"})]}),box:D.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[D.jsx("path",{d:"M12 3L21 7.5V16.5L12 21L3 16.5V7.5L12 3Z",fill:"white",fillOpacity:"0.25"}),D.jsx("path",{d:"M12 3L21 7.5L12 12L3 7.5L12 3Z",fill:"white",fillOpacity:"0.9"}),D.jsx("path",{d:"M12 12V21",stroke:"white",strokeOpacity:"0.75",strokeWidth:"1.5",strokeLinecap:"round"}),D.jsx("path",{d:"M21 7.5V16.5L12 21",stroke:"white",strokeOpacity:"0.65",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),D.jsx("path",{d:"M3 7.5V16.5L12 21",stroke:"white",strokeOpacity:"0.5",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),calendar:D.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[D.jsx("rect",{x:"3",y:"5",width:"18",height:"16",rx:"2.5",fill:"white",fillOpacity:"0.2"}),D.jsx("rect",{x:"3",y:"5",width:"18",height:"6",rx:"2.5",fill:"white",fillOpacity:"0.85"}),D.jsx("rect",{x:"6",y:"3",width:"2",height:"4",rx:"1",fill:"white",fillOpacity:"0.9"}),D.jsx("rect",{x:"16",y:"3",width:"2",height:"4",rx:"1",fill:"white",fillOpacity:"0.9"}),D.jsx("rect",{x:"6",y:"14",width:"2.5",height:"2.5",rx:"0.5",fill:"white",fillOpacity:"0.8"}),D.jsx("rect",{x:"10.75",y:"14",width:"2.5",height:"2.5",rx:"0.5",fill:"white",fillOpacity:"0.8"}),D.jsx("rect",{x:"15.5",y:"14",width:"2.5",height:"2.5",rx:"0.5",fill:"white",fillOpacity:"0.8"})]}),document:D.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[D.jsx("rect",{x:"4",y:"2",width:"16",height:"20",rx:"2.5",fill:"white",fillOpacity:"0.2"}),D.jsx("path",{d:"M4 5.5C4 3.567 5.567 2 7.5 2H14L20 8V18.5C20 20.433 18.433 22 16.5 22H7.5C5.567 22 4 20.433 4 18.5V5.5Z",fill:"white",fillOpacity:"0.85"}),D.jsx("path",{d:"M14 2L20 8H16C14.895 8 14 7.105 14 6V2Z",fill:"white",fillOpacity:"0.5"}),D.jsx("rect",{x:"7",y:"11",width:"10",height:"1.5",rx:"0.75",fill:"white",fillOpacity:"0.4"}),D.jsx("rect",{x:"7",y:"14",width:"7",height:"1.5",rx:"0.75",fill:"white",fillOpacity:"0.4"})]}),list:D.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[D.jsx("rect",{x:"3",y:"5",width:"18",height:"14",rx:"2.5",fill:"white",fillOpacity:"0.2"}),D.jsx("rect",{x:"6",y:"8",width:"2",height:"2",rx:"0.5",fill:"white",fillOpacity:"0.9"}),D.jsx("rect",{x:"10",y:"8",width:"8",height:"2",rx:"0.75",fill:"white",fillOpacity:"0.85"}),D.jsx("rect",{x:"6",y:"12",width:"2",height:"2",rx:"0.5",fill:"white",fillOpacity:"0.9"}),D.jsx("rect",{x:"10",y:"12",width:"8",height:"2",rx:"0.75",fill:"white",fillOpacity:"0.85"}),D.jsx("rect",{x:"6",y:"16",width:"2",height:"2",rx:"0.5",fill:"white",fillOpacity:"0.9"}),D.jsx("rect",{x:"10",y:"16",width:"5",height:"2",rx:"0.75",fill:"white",fillOpacity:"0.85"})]}),stack:D.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[D.jsx("rect",{x:"3",y:"15",width:"18",height:"6",rx:"2",fill:"white",fillOpacity:"0.9"}),D.jsx("rect",{x:"3",y:"9",width:"18",height:"5",rx:"2",fill:"white",fillOpacity:"0.7"}),D.jsx("rect",{x:"3",y:"3",width:"18",height:"5",rx:"2",fill:"white",fillOpacity:"0.5"})]}),location:D.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[D.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9C5 14.25 12 22 12 22C12 22 19 14.25 19 9C19 5.13 15.87 2 12 2Z",fill:"white",fillOpacity:"0.85"}),D.jsx("circle",{cx:"12",cy:"9",r:"3",fill:"white",fillOpacity:"0.4"})]}),tag:D.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[D.jsx("path",{d:"M3 3H11L21 13L13 21L3 11V3Z",fill:"white",fillOpacity:"0.85"}),D.jsx("circle",{cx:"7.5",cy:"7.5",r:"1.5",fill:"white",fillOpacity:"0.4"})]}),search:D.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[D.jsx("circle",{cx:"11",cy:"11",r:"7",fill:"white",fillOpacity:"0.85"}),D.jsx("circle",{cx:"11",cy:"11",r:"4",fill:"white",fillOpacity:"0.35"}),D.jsx("path",{d:"M16.5 16.5L21 21",stroke:"white",strokeOpacity:"0.9",strokeWidth:"2.5",strokeLinecap:"round"})]})};function Ci({label:n,value:e,sub:t,icon:i,color:r=R.primary,compact:s=!1}){return D.jsxs("div",{style:{background:R.white,border:`1px solid ${R.borderLight}`,borderRadius:20,padding:s?"18px 20px":"22px 24px",display:"flex",alignItems:"center",gap:16,boxShadow:"0 2px 12px rgba(99,102,241,0.06), 0 1px 3px rgba(0,0,0,0.04)",transition:"all 0.22s ease",cursor:"default",position:"relative",overflow:"hidden"},onMouseEnter:l=>{l.currentTarget.style.boxShadow=`0 8px 28px ${r}20, 0 2px 8px rgba(0,0,0,0.06)`,l.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:l=>{l.currentTarget.style.boxShadow="0 2px 12px rgba(99,102,241,0.06), 0 1px 3px rgba(0,0,0,0.04)",l.currentTarget.style.transform="translateY(0)"},children:[D.jsx("div",{style:{position:"absolute",right:-16,top:-16,width:80,height:80,borderRadius:"50%",background:`${r}10`,pointerEvents:"none"}}),D.jsx("div",{style:{width:s?44:52,height:s?44:52,borderRadius:14,background:`linear-gradient(135deg, ${r} 0%, ${r}bb 100%)`,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,boxShadow:`0 4px 12px ${r}40`},children:D.jsx("div",{style:{width:s?22:26,height:s?22:26,display:"flex"},children:i})}),D.jsxs("div",{style:{flex:1,minWidth:0},children:[D.jsx("div",{style:{fontSize:11,color:R.textMuted,fontWeight:600,textTransform:"uppercase",letterSpacing:.8,marginBottom:4},children:n}),D.jsxs("div",{style:{fontSize:s?22:28,fontWeight:800,color:R.text,lineHeight:1.1,letterSpacing:"-0.5px"},children:[typeof e=="number"?e.toLocaleString("es-CL"):e,t&&D.jsx("span",{style:{fontSize:s?11:12,color:R.textMuted,fontWeight:500,marginLeft:5,letterSpacing:0},children:t})]})]})]})}function Dc({label:n,value:e,color:t,icon:i}){return D.jsxs("div",{style:{display:"flex",alignItems:"center",gap:16,padding:"16px 20px",background:R.white,borderRadius:16,border:`1px solid ${R.borderLight}`,boxShadow:"0 2px 12px rgba(99,102,241,0.06), 0 1px 3px rgba(0,0,0,0.04)"},children:[D.jsx("div",{style:{width:48,height:48,background:`linear-gradient(135deg, ${t} 0%, ${t}bb 100%)`,borderRadius:14,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:`0 4px 12px ${t}40`,flexShrink:0},children:D.jsx("div",{style:{width:24,height:24,display:"flex"},children:i})}),D.jsxs("div",{style:{flex:1},children:[D.jsx("div",{style:{fontSize:28,fontWeight:700,color:R.text,lineHeight:1,marginBottom:4},children:e}),D.jsx("div",{style:{fontSize:12,color:R.textMuted,fontWeight:500},children:n})]})]})}function Un({children:n,count:e,action:t,icon:i}){return D.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:16,marginTop:28},children:[D.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[i&&D.jsx("div",{style:{width:32,height:32,background:`linear-gradient(135deg, ${R.primary} 0%, ${R.primaryDark} 100%)`,borderRadius:9,display:"inline-flex",alignItems:"center",justifyContent:"center",boxShadow:`0 3px 8px ${R.primary}35`},children:D.jsx("div",{style:{width:16,height:16,display:"flex"},children:i})}),D.jsx("h2",{style:{fontSize:17,fontWeight:700,color:R.text,margin:0,letterSpacing:"-0.3px"},children:n}),e!==void 0&&D.jsx("span",{style:{background:`${R.primary}15`,color:R.primary,padding:"3px 10px",borderRadius:20,fontSize:11,fontWeight:700},children:e})]}),t&&D.jsx("button",{style:{background:`${R.primary}12`,color:R.primary,border:"none",fontSize:12,fontWeight:700,cursor:"pointer",padding:"6px 14px",borderRadius:20,transition:"all 0.2s ease",letterSpacing:.3},onMouseEnter:r=>{r.currentTarget.style.background=R.primary,r.currentTarget.style.color="#fff"},onMouseLeave:r=>{r.currentTarget.style.background=`${R.primary}12`,r.currentTarget.style.color=R.primary},children:t})]})}function Ir({active:n,payload:e}){if(!n||!e||!e.length)return null;const t=e[0];return D.jsxs("div",{style:{background:R.sidebar,border:"none",borderRadius:14,padding:"10px 16px",boxShadow:"0 8px 24px rgba(0,0,0,0.25)"},children:[D.jsx("div",{style:{fontSize:11,color:"#8b8fa8",marginBottom:4,fontWeight:500},children:t.payload.name||t.name}),D.jsx("div",{style:{fontSize:20,fontWeight:800,color:t.color||R.primary,letterSpacing:"-0.5px"},children:(t.value||t.payload.qty||t.payload.value||0).toLocaleString("es-CL")})]})}function jo({data:n,columns:e,maxRows:t=10}){const[i,r]=C.useState(!1),s=i?n:n.slice(0,t);return D.jsxs("div",{style:{background:R.white,borderRadius:18,overflow:"hidden",border:`1px solid ${R.borderLight}`,boxShadow:"0 2px 16px rgba(99,102,241,0.07), 0 1px 4px rgba(0,0,0,0.04)"},children:[D.jsx("div",{style:{display:"grid",gridTemplateColumns:e.map(l=>l.width||"1fr").join(" "),columnGap:24,background:`${R.primary}08`,borderBottom:`1px solid ${R.borderLight}`,padding:"13px 20px",fontWeight:700,fontSize:11,color:R.primary,letterSpacing:.8,textTransform:"uppercase"},children:e.map(l=>D.jsx("div",{style:{textAlign:l.align||"left"},children:l.label},l.key))}),s.map((l,c)=>D.jsx("div",{style:{display:"grid",gridTemplateColumns:e.map(d=>d.width||"1fr").join(" "),columnGap:24,padding:"13px 20px",borderBottom:c<s.length-1?`1px solid ${R.borderLight}`:"none",transition:"background 0.15s ease"},onMouseEnter:d=>d.currentTarget.style.background=`${R.primary}05`,onMouseLeave:d=>d.currentTarget.style.background=R.white,children:e.map(d=>{const f=l[d.key];return D.jsx("div",{style:{textAlign:d.align||"left",fontSize:13.5,color:d.highlight?R.text:R.textMuted,fontWeight:d.highlight?600:400,fontFamily:d.mono?"'SF Mono', 'Monaco', monospace":"inherit"},children:d.render?d.render(f,l):f},d.key)})},c)),n.length>t&&D.jsx("div",{style:{padding:"14px 20px",textAlign:"center",borderTop:`1px solid ${R.borderLight}`,background:`${R.primary}05`},children:D.jsx("button",{onClick:()=>r(!i),style:{background:R.primary,color:R.white,border:"none",padding:"8px 22px",borderRadius:10,fontSize:13,fontWeight:600,cursor:"pointer",transition:"all 0.2s ease",boxShadow:`0 4px 12px ${R.primary}40`},onMouseEnter:l=>{l.currentTarget.style.background=R.primaryDark,l.currentTarget.style.transform="translateY(-1px)"},onMouseLeave:l=>{l.currentTarget.style.background=R.primary,l.currentTarget.style.transform="translateY(0)"},children:i?"Mostrar menos":`Ver ${n.length-t} ms`})})]})}function Bo({value:n,max:e,color:t=R.primary}){const i=Math.min(100,n/e*100);return D.jsx("div",{style:{background:R.borderLight,borderRadius:4,height:6,overflow:"hidden"},children:D.jsx("div",{style:{background:t,width:`${i}%`,height:"100%",borderRadius:4,transition:"width 0.4s ease"}})})}function _W({data:n}){const[e,t]=C.useState({zona:"",familia:"",proveedor:"",piso:"",servicio:"",search:"",fechaDesde:"",fechaHasta:""}),[i,r]=C.useState(1),s=20,l=C.useMemo(()=>[...new Set(n.map(x=>x.zona))].filter(Boolean).sort(),[n]),c=C.useMemo(()=>[...new Set(n.map(x=>x.familia))].filter(Boolean).sort(),[n]),d=C.useMemo(()=>[...new Set(n.map(x=>x.proveedor))].filter(Boolean).sort(),[n]),f=C.useMemo(()=>[...new Set(n.map(x=>x.piso))].filter(Boolean).sort((x,E)=>x-E),[n]),h=C.useMemo(()=>bR.byServicio.map(x=>x.name).sort(),[]),p=x=>{if(!x)return null;const[E,O,T]=x.split("/");return new Date(Number(T),Number(O)-1,Number(E))},g=C.useMemo(()=>{const x=e.fechaDesde?new Date(e.fechaDesde):null,E=e.fechaHasta?new Date(e.fechaHasta):null;return n.filter(O=>{const T=!e.zona||O.zona===e.zona,P=!e.familia||O.familia===e.familia,M=!e.proveedor||O.proveedor===e.proveedor,_=!e.piso||O.piso.toString()===e.piso,N=!e.servicio||O.servicio===e.servicio,j=!e.search||O.nombre?.toLowerCase().includes(e.search.toLowerCase())||O.recinto?.toLowerCase().includes(e.search.toLowerCase())||O.item?.toLowerCase().includes(e.search.toLowerCase()),F=p(O.fechaInstalacion),X=!x||!F||F>=x,$=!E||!F||F<=E;return T&&P&&M&&_&&N&&j&&X&&$})},[n,e]),y=Math.ceil(g.length/s),S=g.slice((i-1)*s,i*s);C.useEffect(()=>{r(1)},[e]);const A=({label:x,value:E,onChange:O,options:T,placeholder:P})=>D.jsxs("div",{style:{flex:1,minWidth:150},children:[D.jsx("label",{style:{display:"block",fontSize:11,fontWeight:600,color:R.textMuted,marginBottom:6,textTransform:"uppercase",letterSpacing:.5},children:x}),D.jsxs("select",{value:E,onChange:M=>O(M.target.value),style:{width:"100%",padding:"8px 12px",borderRadius:8,border:`1px solid ${R.border}`,background:R.white,fontSize:13,color:R.text,cursor:"pointer",transition:"border-color 0.2s ease"},onFocus:M=>M.target.style.borderColor=R.primary,onBlur:M=>M.target.style.borderColor=R.border,children:[D.jsx("option",{value:"",children:P}),T.map((M,_)=>D.jsx("option",{value:M,children:M},_))]})]});return D.jsxs(D.Fragment,{children:[D.jsx(Un,{icon:Le.search,children:"Datos Completos del Inventario"}),D.jsxs("div",{style:{background:R.white,borderRadius:20,padding:24,border:`1px solid ${R.borderLight}`,boxShadow:"0 2px 16px rgba(99,102,241,0.07), 0 1px 4px rgba(0,0,0,0.04)",marginBottom:24},children:[D.jsx("div",{style:{marginBottom:20},children:D.jsx("input",{type:"text",placeholder:" Buscar por nombre, recinto o cdigo...",value:e.search,onChange:x=>t({...e,search:x.target.value}),style:{width:"100%",padding:"12px 16px",borderRadius:12,border:`1.5px solid ${R.borderLight}`,fontSize:14,color:R.text,transition:"border-color 0.2s ease",background:R.bg,boxSizing:"border-box"},onFocus:x=>x.target.style.borderColor=R.primary,onBlur:x=>x.target.style.borderColor=R.borderLight})}),D.jsxs("div",{style:{display:"flex",gap:12,marginBottom:20,flexWrap:"wrap"},children:[D.jsx(A,{label:"Familia",value:e.familia,onChange:x=>t({...e,familia:x}),options:c,placeholder:"Todas las familias"}),D.jsx(A,{label:"Piso",value:e.piso,onChange:x=>t({...e,piso:x}),options:f.map(String),placeholder:"Todos los pisos"}),D.jsx(A,{label:"Proveedor",value:e.proveedor,onChange:x=>t({...e,proveedor:x}),options:d,placeholder:"Todos los proveedores"}),D.jsx(A,{label:"Zona",value:e.zona,onChange:x=>t({...e,zona:x}),options:l,placeholder:"Todas las zonas"}),D.jsx(A,{label:"Servicio",value:e.servicio,onChange:x=>t({...e,servicio:x}),options:h,placeholder:"Todos los servicios"}),D.jsxs("div",{style:{flex:1,minWidth:150},children:[D.jsx("label",{style:{display:"block",fontSize:11,fontWeight:600,color:R.textMuted,marginBottom:6,textTransform:"uppercase",letterSpacing:.5},children:"Fecha Desde"}),D.jsx("input",{type:"date",value:e.fechaDesde,onChange:x=>t({...e,fechaDesde:x.target.value}),style:{width:"100%",padding:"8px 12px",borderRadius:8,border:`1px solid ${R.border}`,background:R.white,fontSize:13,color:R.text,cursor:"pointer",transition:"border-color 0.2s ease"},onFocus:x=>x.target.style.borderColor=R.primary,onBlur:x=>x.target.style.borderColor=R.border})]}),D.jsxs("div",{style:{flex:1,minWidth:150},children:[D.jsx("label",{style:{display:"block",fontSize:11,fontWeight:600,color:R.textMuted,marginBottom:6,textTransform:"uppercase",letterSpacing:.5},children:"Fecha Hasta"}),D.jsx("input",{type:"date",value:e.fechaHasta,onChange:x=>t({...e,fechaHasta:x.target.value}),style:{width:"100%",padding:"8px 12px",borderRadius:8,border:`1px solid ${R.border}`,background:R.white,fontSize:13,color:R.text,cursor:"pointer",transition:"border-color 0.2s ease"},onFocus:x=>x.target.style.borderColor=R.primary,onBlur:x=>x.target.style.borderColor=R.border})]}),Object.values(e).some(x=>x)&&D.jsx("div",{style:{flex:1,minWidth:150,display:"flex",alignItems:"flex-end"},children:D.jsx("button",{onClick:()=>t({zona:"",familia:"",proveedor:"",piso:"",servicio:"",search:"",fechaDesde:"",fechaHasta:""}),style:{padding:"8px 16px",borderRadius:8,border:`1px solid ${R.border}`,background:R.white,color:R.textMuted,fontSize:13,fontWeight:600,cursor:"pointer",transition:"all 0.2s ease",width:"100%"},onMouseEnter:x=>{x.currentTarget.style.background=R.red,x.currentTarget.style.color=R.white,x.currentTarget.style.borderColor=R.red},onMouseLeave:x=>{x.currentTarget.style.background=R.white,x.currentTarget.style.color=R.textMuted,x.currentTarget.style.borderColor=R.border},children:"Limpiar filtros"})})]}),D.jsxs("div",{style:{marginBottom:16,fontSize:13,color:R.textMuted,fontWeight:500},children:["Mostrando ",D.jsx("span",{style:{color:R.primary,fontWeight:700},children:g.length})," de ",n.length," registros",g.length!==n.length&&D.jsxs("span",{style:{marginLeft:8},children:["(",(g.length/n.length*100).toFixed(1),"% del total)"]})]}),D.jsx("div",{style:{overflowX:"auto"},children:D.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[D.jsx("thead",{children:D.jsxs("tr",{style:{background:R.bg,borderBottom:`2px solid ${R.border}`},children:[D.jsx("th",{style:{padding:"12px 16px",textAlign:"left",fontSize:11,fontWeight:600,color:R.textMuted,textTransform:"uppercase",letterSpacing:.5},children:"tem"}),D.jsx("th",{style:{padding:"12px 16px",textAlign:"left",fontSize:11,fontWeight:600,color:R.textMuted,textTransform:"uppercase",letterSpacing:.5},children:"Nombre"}),D.jsx("th",{style:{padding:"12px 16px",textAlign:"left",fontSize:11,fontWeight:600,color:R.textMuted,textTransform:"uppercase",letterSpacing:.5},children:"Familia"}),D.jsx("th",{style:{padding:"12px 16px",textAlign:"center",fontSize:11,fontWeight:600,color:R.textMuted,textTransform:"uppercase",letterSpacing:.5},children:"Cant."}),D.jsx("th",{style:{padding:"12px 16px",textAlign:"center",fontSize:11,fontWeight:600,color:R.textMuted,textTransform:"uppercase",letterSpacing:.5},children:"Piso"}),D.jsx("th",{style:{padding:"12px 16px",textAlign:"left",fontSize:11,fontWeight:600,color:R.textMuted,textTransform:"uppercase",letterSpacing:.5},children:"Recinto"}),D.jsx("th",{style:{padding:"12px 16px",textAlign:"left",fontSize:11,fontWeight:600,color:R.textMuted,textTransform:"uppercase",letterSpacing:.5},children:"Proveedor"}),D.jsx("th",{style:{padding:"12px 16px",textAlign:"left",fontSize:11,fontWeight:600,color:R.textMuted,textTransform:"uppercase",letterSpacing:.5},children:"Zona"}),D.jsx("th",{style:{padding:"12px 16px",textAlign:"center",fontSize:11,fontWeight:600,color:R.textMuted,textTransform:"uppercase",letterSpacing:.5},children:"Fecha Inst."})]})}),D.jsx("tbody",{children:S.length>0?S.map((x,E)=>D.jsxs("tr",{style:{borderBottom:`1px solid ${R.borderLight}`,transition:"background 0.15s ease"},onMouseEnter:O=>O.currentTarget.style.background=R.bg,onMouseLeave:O=>O.currentTarget.style.background=R.white,children:[D.jsx("td",{style:{padding:"12px 16px",fontSize:13,color:R.textMuted,fontFamily:"'SF Mono', monospace"},children:x.item}),D.jsx("td",{style:{padding:"12px 16px",fontSize:13,color:R.text,fontWeight:600},children:x.nombre}),D.jsx("td",{style:{padding:"12px 16px",fontSize:13,color:R.text},children:D.jsx("span",{style:{padding:"4px 10px",borderRadius:6,background:zr[x.familia]?`${zr[x.familia]}15`:R.borderLight,color:zr[x.familia]||R.textMuted,fontSize:12,fontWeight:600},children:x.familia})}),D.jsx("td",{style:{padding:"12px 16px",fontSize:14,color:R.text,textAlign:"center",fontWeight:700},children:x.cantidad}),D.jsx("td",{style:{padding:"12px 16px",fontSize:13,color:R.text,textAlign:"center",fontWeight:600},children:x.piso}),D.jsx("td",{style:{padding:"12px 16px",fontSize:12,color:R.textMuted,maxWidth:200,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:x.recinto}),D.jsx("td",{style:{padding:"12px 16px",fontSize:12,color:R.text},children:x.proveedor}),D.jsx("td",{style:{padding:"12px 16px",fontSize:11,color:R.textMuted,maxWidth:180,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:x.zona}),D.jsx("td",{style:{padding:"12px 16px",fontSize:12,color:R.primary,textAlign:"center",fontWeight:600,whiteSpace:"nowrap"},children:x.fechaInstalacion})]},E)):D.jsx("tr",{children:D.jsx("td",{colSpan:9,style:{padding:"40px",textAlign:"center",color:R.textMuted,fontSize:14},children:"No se encontraron resultados con los filtros aplicados"})})})]})}),y>1&&D.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:20,paddingTop:20,borderTop:`1px solid ${R.borderLight}`},children:[D.jsxs("div",{style:{fontSize:13,color:R.textMuted},children:["Pgina ",i," de ",y]}),D.jsxs("div",{style:{display:"flex",gap:8},children:[D.jsx("button",{onClick:()=>r(Math.max(1,i-1)),disabled:i===1,style:{padding:"8px 16px",borderRadius:8,border:`1px solid ${R.border}`,background:i===1?R.borderLight:R.white,color:i===1?R.textMuted:R.text,fontSize:13,fontWeight:600,cursor:i===1?"not-allowed":"pointer",transition:"all 0.2s ease"},onMouseEnter:x=>{i!==1&&(x.currentTarget.style.background=R.primary,x.currentTarget.style.color=R.white,x.currentTarget.style.borderColor=R.primary)},onMouseLeave:x=>{i!==1&&(x.currentTarget.style.background=R.white,x.currentTarget.style.color=R.text,x.currentTarget.style.borderColor=R.border)},children:" Anterior"}),D.jsx("button",{onClick:()=>r(Math.min(y,i+1)),disabled:i===y,style:{padding:"8px 16px",borderRadius:8,border:`1px solid ${R.border}`,background:i===y?R.borderLight:R.white,color:i===y?R.textMuted:R.text,fontSize:13,fontWeight:600,cursor:i===y?"not-allowed":"pointer",transition:"all 0.2s ease"},onMouseEnter:x=>{i!==y&&(x.currentTarget.style.background=R.primary,x.currentTarget.style.color=R.white,x.currentTarget.style.borderColor=R.primary)},onMouseLeave:x=>{i!==y&&(x.currentTarget.style.background=R.white,x.currentTarget.style.color=R.text,x.currentTarget.style.borderColor=R.border)},children:"Siguiente "})]})]})]})]})}function PW({url:n}){const e=C.useRef(null),t=C.useRef([]),[i,r]=C.useState(0),[s,l]=C.useState(1),[c,d]=C.useState(1),[f,h]=C.useState(0),[p,g]=C.useState(!0),[y,S]=C.useState(null),A=C.useRef(null),x=C.useRef(new Map),E=C.useCallback(async(M,_)=>{x.current.forEach(N=>N.cancel()),x.current.clear();for(let N=1;N<=M.numPages;N++){const j=await M.getPage(N),F=j.getViewport({scale:_}),X=t.current[N-1];if(!X)continue;const $=window.devicePixelRatio||1;X.width=F.width*$,X.height=F.height*$,X.style.width=F.width+"px",X.style.height=F.height+"px";const q=X.getContext("2d");q.scale($,$);const se=j.render({canvasContext:q,viewport:F});x.current.set(N,se);try{await se.promise}catch{}}},[]),O=C.useCallback(M=>{const _=e.current?.clientWidth??900;return Math.max(.3,(_-24)/M)},[]);C.useEffect(()=>{g(!0),S(null),r(0),t.current=[],A.current=null,x.current.forEach(M=>M.cancel()),x.current.clear(),v_(n).promise.then(async M=>{A.current=M,r(M.numPages);const N=(await M.getPage(1)).getViewport({scale:1});h(N.width);const j=O(N.width);d(j),g(!1),setTimeout(()=>E(M,j),60)}).catch(()=>{S("No se pudo cargar el PDF."),g(!1)})},[n,E,O]),C.useEffect(()=>{if(!e.current||f===0)return;const M=new ResizeObserver(()=>{if(!A.current)return;const _=O(f);d(_),E(A.current,_)});return M.observe(e.current),()=>M.disconnect()},[f,O,E]);const T=C.useCallback(()=>{if(!A.current||f===0)return;const M=O(f);d(M),E(A.current,M)},[f,O,E]),P=C.useCallback(M=>{d(_=>{const N=Math.min(4,Math.max(.3,parseFloat((_+M).toFixed(2))));return A.current&&E(A.current,N),N})},[E]);return C.useEffect(()=>{const M=e.current;if(!M)return;const _=()=>{const N=M.getBoundingClientRect();t.current.forEach((j,F)=>{if(!j)return;const X=j.getBoundingClientRect();X.top<=N.top+N.height*.6&&X.bottom>=N.top&&l(F+1)})};return M.addEventListener("scroll",_),()=>M.removeEventListener("scroll",_)},[i]),D.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100%"},children:[D.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,padding:"10px 16px",borderBottom:"1px solid #e5e7eb",background:"#f8fafc",flexShrink:0},children:[D.jsx("button",{onClick:()=>P(-.15),style:Fy,title:"Alejar",children:""}),D.jsxs("span",{style:{fontSize:13,fontWeight:600,color:"#374151",minWidth:48,textAlign:"center"},children:[Math.round(c*100),"%"]}),D.jsx("button",{onClick:()=>P(.15),style:Fy,title:"Acercar",children:"+"}),D.jsx("button",{onClick:T,style:{...Fy,width:"auto",padding:"0 10px",fontSize:12},title:"Ajustar al ancho",children:" Ajustar"}),D.jsx("span",{style:{flex:1}}),i>0&&D.jsxs("span",{style:{fontSize:12,color:"#6b7280"},children:["Pg. ",s," / ",i]}),D.jsx("a",{href:n,target:"_blank",rel:"noopener noreferrer",style:{fontSize:12,color:"#2563eb",fontWeight:600,textDecoration:"none",padding:"4px 10px",border:"1px solid #2563eb",borderRadius:6},children:" Nueva pestaa"})]}),D.jsxs("div",{ref:e,style:{flex:1,overflowY:"auto",overflowX:"hidden",background:"#525659",padding:"16px 12px",display:"flex",flexDirection:"column",alignItems:"center",gap:12,minHeight:600},children:[p&&D.jsx("div",{style:{color:"#fff",marginTop:60,fontSize:15},children:"Cargando PDF"}),y&&D.jsx("div",{style:{color:"#fca5a5",marginTop:60,fontSize:15},children:y}),!p&&!y&&Array.from({length:i}).map((M,_)=>D.jsx("canvas",{ref:N=>{N&&(t.current[_]=N)},style:{boxShadow:"0 2px 8px rgba(0,0,0,0.4)",background:"#fff",display:"block",maxWidth:"100%"}},_))]})]})}const Fy={width:32,height:32,border:"1px solid #d1d5db",borderRadius:6,background:"#fff",cursor:"pointer",fontSize:16,fontWeight:700,display:"flex",alignItems:"center",justifyContent:"center"};function DW(){const[n,e]=C.useState("Resumen"),t=bR,i=[{name:"Resumen",icon:Le.chart,color:R.primary},{name:"Por Familia",icon:Le.folder,color:R.orange},{name:"Por Proveedor",icon:Le.building,color:R.green},{name:"Por Piso",icon:Le.layers,color:R.cyan},{name:"Por Servicio",icon:Le.hospital,color:R.red},{name:"Por Producto",icon:Le.box,color:R.purple},{name:"Por Fecha",icon:Le.calendar,color:"#f59e0b"},{name:"Esp. Tcnicas",icon:Le.document,color:"#14b8a6"}],r=[{code:"201.001",name:"Estacin de Trabajo",file:"EETT 201.001 ESTACION DE TRABAJO (REV2).pdf"},{code:"201.002",name:"Mesa Lateral",file:"EETT 201.002 MESA LATERAL (REV1).pdf"},{code:"201.003",name:"Mesa Prvulo Inclusin",file:"EETT 201.003 MESA PARVULO INCLUSION (REV1).pdf"},{code:"201.004",name:"Mesa Prvulo Tipo I",file:"EETT 201.004 MESA PARVULO TIPO I (REV1).pdf"},{code:"201.005",name:"Mesa Prvulo Tipo II",file:"EETT 201.005 MESA PARVULO TIPO II (REV1).pdf"},{code:"201.008",name:"Mesa Reuniones Tipo I",file:"EETT 201.008 MESA REUNIONES TIPO I (REV1).pdf"},{code:"201.009",name:"Mesa Reuniones Tipo II",file:"EETT 201.009 MESA REUNIONES TIPO II (REV3).pdf"},{code:"201.010",name:"Mesa Reuniones Tipo III",file:"EETT 201.010 MESA REUNIONES TIPO III (REV3).pdf"},{code:"201.011",name:"Mesa Tipo Casino",file:"EETT 201.011 MESA TIPO CASINO (REV1).pdf"},{code:"202.001",name:"Atril Graduable",file:"EETT 202.001 ATRIL GRADUABLE (REV1).pdf"},{code:"202.006",name:"Cama Apilable",file:"EETT 202.006 CAMA APILABLE (REV1).pdf"},{code:"202.008",name:"Cuna Alta",file:"EETT 202.008 CUNA ALTA (REV1).pdf"},{code:"202.009",name:"Cuna Baja",file:"EETT 202.009 CUNA BAJA (REV1).pdf"},{code:"202.012",name:"Mueble Locker",file:"EETT 202.012 MUEBLE LOCKER (REV1).pdf"},{code:"203.014",name:"Librero",file:"EETT 203.014 LIBRERO (REV1).pdf"},{code:"203.015",name:"Mueble Arrimo",file:"EETT 203.015 MUEBLE ARRIMO (REV1).pdf"},{code:"203.016",name:"Mueble Tipo Biblioteca",file:"EETT 203.016 MUEBLE TIPO BIBLIOTECA.pdf"},{code:"203.018",name:"Perchero",file:"EETT 203.018 PERCHERO (REV1).pdf"},{code:"203.022",name:"Contenedor",file:"EETT 203.022 CONTENEDOR.pdf"},{code:"204.001",name:"Banca",file:"EETT 204.001 BANCA (REV1).pdf"},{code:"204.002",name:"Banca Madera",file:"EETT 204.002 BANCA MADERA (REV1).pdf"},{code:"204.003",name:"Silla Adulto",file:"EETT 204.003 SILLA ADULTO (REV1).pdf"},{code:"204.005",name:"Silla Bacnica",file:"EETT 204.005 SILLA BACINICA (REV1).pdf"},{code:"204.006",name:"Silla Ergonmica",file:"EETT 204.006 SILLA ERGONOMICA (REV1).pdf"},{code:"204.007",name:"Silla Lactante",file:"EETT 204.007 SILLA LACTANTE (REV1).pdf"},{code:"204.009",name:"Silla Prvulo",file:"EETT 204.009 SILLA PARVULO (REV1).pdf"},{code:"204.010",name:"Silla Tipo Casino",file:"EETT 204.010 SILLA TIPO CASINO (REV1).pdf"},{code:"204.011",name:"Silla Tipo Universitaria",file:"EETT 204.011 SILLA TIPO UNIVERSITARIA (REV1).pdf"},{code:"204.012",name:"Silla Visita",file:"EETT 204.012 SILLA VISITA (REV1).pdf"},{code:"204.013",name:"Silln 1 Cuerpo",file:"EETT 204.013 SILLON 1 CUERPO (REV1).pdf"},{code:"204.014",name:"Silln 2 Cuerpo",file:"EETT 204.014 SILLON 2 CUERPO (REV1).pdf"},{code:"204.015",name:"Silln Bergere",file:"EETT 204.015 SILLON BERGERE (REV1).pdf"},{code:"204.019",name:"Silla de Apoyo Hora Ingesta",file:"EETT 204.019 SILLA DE APOYO HORA INGESTA.pdf"},{code:"204.020",name:"Silla Butaca Espera 3 Cuerpos",file:"EETT 204.020 SILLA BUTACA ESPERA 3 CUERPOS.pdf"}],[s,l]=C.useState(null),[c,d]=C.useState(""),f=h=>h.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase();return D.jsxs("div",{style:{minHeight:"100vh",background:R.bg,display:"flex"},children:[D.jsxs("div",{style:{width:72,minWidth:72,background:R.sidebar,padding:"20px 0",display:"flex",flexDirection:"column",alignItems:"center",gap:0,position:"sticky",top:0,height:"100vh",boxShadow:"4px 0 24px rgba(0,0,0,0.18)",zIndex:10},children:[D.jsx("img",{src:"/hospital-buin-paine-dashboard/logo-buin-paine.png",alt:"Hospital Buin Paine",style:{width:52,height:52,objectFit:"contain",display:"block",flexShrink:0,marginBottom:20}}),D.jsx("div",{style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",gap:6,width:"100%",paddingTop:4},children:i.map(h=>{const p=n===h.name;return D.jsx("button",{onClick:()=>e(h.name),title:h.name,style:{width:52,height:52,background:p?`linear-gradient(135deg, ${h.color} 0%, ${h.color}cc 100%)`:"transparent",border:"none",borderRadius:15,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.18s ease",boxShadow:p?`0 4px 16px ${h.color}55`:"none",padding:0,marginBottom:0},onMouseEnter:g=>{p||(g.currentTarget.style.background=`${h.color}22`)},onMouseLeave:g=>{p||(g.currentTarget.style.background="transparent")},children:D.jsx("div",{style:{width:26,height:26,opacity:p?1:.5,filter:p?"none":"drop-shadow(0 0 0 transparent)",transition:"opacity 0.18s ease"},children:h.icon})},h.name)})}),D.jsx("div",{style:{padding:"16px 0 4px 0",display:"flex",alignItems:"center",justifyContent:"center"},children:D.jsx("div",{style:{width:32,height:2,borderRadius:2,background:"rgba(255,255,255,0.12)"}})})]}),D.jsx("div",{style:{flex:1,overflow:"auto",background:R.bg},children:D.jsxs("div",{style:{maxWidth:1280,margin:"0 auto",padding:"36px 40px"},children:[D.jsxs("div",{style:{marginBottom:36,display:"flex",alignItems:"flex-start",justifyContent:"space-between"},children:[D.jsxs("div",{children:[D.jsx("h1",{style:{fontSize:30,fontWeight:800,margin:0,color:R.text,letterSpacing:"-0.5px"},children:n==="Resumen"?"Resumen General":n==="Por Familia"?"Anlisis por Familia":n==="Por Proveedor"?"Anlisis por Proveedor":n==="Por Piso"?"Distribucin por Piso":n==="Por Servicio"?"Anlisis por Servicio":n==="Por Producto"?"Top Productos":n==="Por Fecha"?"Cronograma de Instalacin":"Especificaciones Tcnicas"}),D.jsx("p",{style:{fontSize:13,color:R.textMuted,margin:"6px 0 0 0",fontWeight:400},children:"Dashboard Mobiliario No Clnico  Hospital Buin Paine"})]}),(()=>{const h=i.find(p=>p.name===n);return D.jsxs("div",{style:{background:`${h?.color||R.primary}18`,color:h?.color||R.primary,padding:"8px 16px",borderRadius:20,fontSize:13,fontWeight:600,display:"flex",alignItems:"center",gap:8,border:`1px solid ${h?.color||R.primary}30`},children:[D.jsx("div",{style:{width:18,height:18,display:"flex",filter:`brightness(0) saturate(100%) invert(30%) sepia(80%) saturate(500%) hue-rotate(${n==="Por Familia"?"20":n==="Por Proveedor"?"120":n==="Por Servicio"?"0":"230"}deg)`},children:h?.icon}),D.jsx("span",{children:n})]})})()]}),n==="Resumen"&&D.jsxs(D.Fragment,{children:[D.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(260px, 1fr))",gap:16,marginBottom:32},children:[D.jsx(Ci,{label:"Total Items",value:t.totalItems,sub:"tems",icon:Le.list,color:R.primary}),D.jsx(Ci,{label:"Total Unidades",value:t.totalQty,sub:"unidades",icon:Le.stack,color:R.green}),D.jsx(Ci,{label:"Recintos",value:t.uniqueRecintos,sub:"espacios",icon:Le.location,color:R.orange}),D.jsx(Ci,{label:"Productos",value:t.uniqueNombres,sub:"tipos",icon:Le.tag,color:R.purple})]}),D.jsx(Un,{action:"Ver ms",children:"Estado del Inventario"}),D.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:16,marginBottom:32},children:[D.jsx(Dc,{label:"Familias",value:t.familias,color:R.green,icon:Le.folder}),D.jsx(Dc,{label:"Proveedores",value:t.proveedores,color:R.orange,icon:Le.building}),D.jsx(Dc,{label:"Servicios",value:t.uniqueServicios,color:R.primary,icon:Le.hospital}),D.jsx(Dc,{label:"Zonas",value:t.uniqueZonas,color:R.purple,icon:Le.layers})]}),D.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:20,marginBottom:32},children:[D.jsxs("div",{style:{background:R.white,borderRadius:18,padding:24,border:`1px solid ${R.borderLight}`,boxShadow:"0 2px 16px rgba(99,102,241,0.07), 0 1px 4px rgba(0,0,0,0.04)"},children:[D.jsx("h3",{style:{fontSize:16,fontWeight:700,color:R.text,marginBottom:20,marginTop:0},children:"Distribucin por Familia"}),D.jsx(Nr,{width:"100%",height:280,children:D.jsxs(GM,{children:[D.jsx(Y0,{data:t.byFamilia,dataKey:"qty",nameKey:"name",cx:"50%",cy:"50%",innerRadius:60,outerRadius:90,paddingAngle:2,children:t.byFamilia.map((h,p)=>D.jsx(ri,{fill:zr[h.name]||xn[p]},p))}),D.jsx(Rr,{content:D.jsx(Ir,{})}),D.jsx(O0,{wrapperStyle:{fontSize:12,color:R.textMuted},iconType:"square"})]})})]}),D.jsxs("div",{style:{background:R.white,borderRadius:18,padding:24,border:`1px solid ${R.borderLight}`,boxShadow:"0 2px 16px rgba(99,102,241,0.07), 0 1px 4px rgba(0,0,0,0.04)"},children:[D.jsx("h3",{style:{fontSize:16,fontWeight:700,color:R.text,marginBottom:20,marginTop:0},children:"Top Proveedores"}),D.jsx(Nr,{width:"100%",height:280,children:D.jsxs(ms,{data:t.byProveedor,children:[D.jsx(La,{dataKey:"name",tick:{fill:R.textMuted,fontSize:11},axisLine:{stroke:R.border}}),D.jsx(Na,{tick:{fill:R.textMuted,fontSize:11},axisLine:{stroke:R.border}}),D.jsx(Rr,{content:D.jsx(Ir,{})}),D.jsx(Da,{dataKey:"qty",name:"Cantidad",radius:[6,6,0,0],children:t.byProveedor.map((h,p)=>D.jsx(ri,{fill:xn[p]},p))})]})})]})]}),D.jsx(Un,{action:"Ver todos",children:"Top 5 Productos"}),D.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))",gap:16,marginBottom:40},children:t.byNombre.slice(0,5).map((h,p)=>D.jsx(Ci,{label:h.name,value:h.qty,sub:"uds",icon:[Le.tag,Le.box,Le.folder,Le.stack,Le.list][p],color:xn[p],compact:!0},p))}),D.jsx(_W,{data:MW})]}),n==="Por Familia"&&D.jsxs(D.Fragment,{children:[D.jsx(Un,{count:t.familias,children:"Anlisis por Familia"}),D.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1.2fr 1fr",gap:20,marginBottom:32},children:[D.jsx("div",{style:{background:R.white,borderRadius:18,padding:24,border:`1px solid ${R.borderLight}`,boxShadow:"0 2px 16px rgba(99,102,241,0.07), 0 1px 4px rgba(0,0,0,0.04)"},children:D.jsx(Nr,{width:"100%",height:320,children:D.jsxs(GM,{children:[D.jsx(Y0,{data:t.byFamilia,dataKey:"qty",nameKey:"name",cx:"50%",cy:"50%",innerRadius:70,outerRadius:100,paddingAngle:3,label:h=>`${(h.qty/t.totalQty*100).toFixed(1)}%`,children:t.byFamilia.map((h,p)=>D.jsx(ri,{fill:zr[h.name]||xn[p]},p))}),D.jsx(Rr,{content:D.jsx(Ir,{})}),D.jsx(O0,{wrapperStyle:{fontSize:13}})]})})}),D.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:16},children:t.byFamilia.map((h,p)=>D.jsx(Ci,{label:h.name,value:h.qty,sub:`${(h.qty/t.totalQty*100).toFixed(1)}%`,icon:[Le.tag,Le.folder,Le.box,Le.stack][p],color:zr[h.name]||xn[p],compact:!0},p))})]}),D.jsx(jo,{data:t.byFamilia.map((h,p)=>({...h,rank:p+1,pctQty:(h.qty/t.totalQty*100).toFixed(1)+"%"})),columns:[{key:"rank",label:"#",align:"center",mono:!0,width:"60px"},{key:"name",label:"Familia",highlight:!0,width:"200px"},{key:"qty",label:"Cantidad",align:"right",mono:!0,width:"120px"},{key:"pctQty",label:"% del Total",align:"right",mono:!0,width:"120px"},{key:"qty",label:"Distribucin",render:h=>D.jsx(Bo,{value:h,max:3233,color:R.primary})}],maxRows:4})]}),n==="Por Proveedor"&&D.jsxs(D.Fragment,{children:[D.jsx(Un,{count:t.proveedores,children:"Anlisis por Proveedor"}),D.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:16,marginBottom:32},children:t.byProveedor.map((h,p)=>D.jsx(Ci,{label:h.name,value:h.qty,sub:`${(h.qty/t.totalQty*100).toFixed(1)}%`,icon:[Le.building,Le.building,Le.building][p]||Le.building,color:xn[p]},p))}),D.jsx("div",{style:{background:R.white,borderRadius:18,padding:24,border:`1px solid ${R.borderLight}`,boxShadow:"0 2px 16px rgba(99,102,241,0.07), 0 1px 4px rgba(0,0,0,0.04)",marginBottom:24},children:D.jsx(Nr,{width:"100%",height:280,children:D.jsxs(ms,{data:t.byProveedor,children:[D.jsx(La,{dataKey:"name",tick:{fill:R.textMuted,fontSize:11},axisLine:{stroke:R.border}}),D.jsx(Na,{tick:{fill:R.textMuted,fontSize:11},axisLine:{stroke:R.border}}),D.jsx(Rr,{content:D.jsx(Ir,{})}),D.jsx(Da,{dataKey:"qty",name:"Cantidad",radius:[6,6,0,0],children:t.byProveedor.map((h,p)=>D.jsx(ri,{fill:xn[p]},p))})]})})}),D.jsx(jo,{data:t.byProveedor.map((h,p)=>({...h,rank:p+1,pctQty:(h.qty/t.totalQty*100).toFixed(1)+"%"})),columns:[{key:"rank",label:"#",align:"center",mono:!0,width:"60px"},{key:"name",label:"Proveedor",highlight:!0},{key:"qty",label:"Cantidad",align:"right",mono:!0,width:"120px"},{key:"pctQty",label:"% del Total",align:"right",mono:!0,width:"120px"},{key:"qty",label:"Distribucin",render:h=>D.jsx(Bo,{value:h,max:4256,color:R.green})}],maxRows:3})]}),n==="Por Piso"&&D.jsxs(D.Fragment,{children:[D.jsx(Un,{children:"Distribucin por Piso"}),D.jsx("div",{style:{background:R.white,borderRadius:18,padding:24,border:`1px solid ${R.borderLight}`,boxShadow:"0 2px 16px rgba(99,102,241,0.07), 0 1px 4px rgba(0,0,0,0.04)",marginBottom:24},children:D.jsx(Nr,{width:"100%",height:320,children:D.jsxs(ms,{data:t.byPiso,children:[D.jsx(La,{dataKey:"name",tick:{fill:R.textMuted,fontSize:12},axisLine:{stroke:R.border}}),D.jsx(Na,{tick:{fill:R.textMuted,fontSize:11},axisLine:{stroke:R.border}}),D.jsx(Rr,{content:D.jsx(Ir,{})}),D.jsx(Da,{dataKey:"qty",name:"Cantidad",radius:[6,6,0,0],children:t.byPiso.map((h,p)=>D.jsx(ri,{fill:xn[p]},p))})]})})}),D.jsx(jo,{data:t.byPiso.map(h=>({...h,pctQty:(h.qty/t.totalQty*100).toFixed(1)+"%"})),columns:[{key:"name",label:"Piso",highlight:!0,width:"150px"},{key:"qty",label:"Cantidad",align:"right",mono:!0,width:"120px"},{key:"pctQty",label:"% del Total",align:"right",mono:!0,width:"120px"},{key:"qty",label:"Distribucin",render:h=>D.jsx(Bo,{value:h,max:1547,color:R.orange})}]}),D.jsx(Un,{children:"Resumen por Piso"}),D.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))",gap:16},children:t.byPiso.map(h=>D.jsx(Ci,{label:h.name,value:h.qty,sub:"unidades",icon:Le.layers,color:xn[h.piso-1],compact:!0},h.piso))})]}),n==="Por Servicio"&&D.jsxs(D.Fragment,{children:[D.jsx(Un,{count:t.uniqueServicios,children:"Cantidad por Servicio"}),D.jsx("div",{style:{background:R.white,borderRadius:18,padding:24,border:`1px solid ${R.borderLight}`,boxShadow:"0 2px 16px rgba(99,102,241,0.07), 0 1px 4px rgba(0,0,0,0.04)",marginBottom:24},children:D.jsx(Nr,{width:"100%",height:560,children:D.jsxs(ms,{data:t.byServicio.slice(0,20),layout:"vertical",margin:{left:10},children:[D.jsx(La,{type:"number",tick:{fill:R.textMuted,fontSize:11},axisLine:{stroke:R.border}}),D.jsx(Na,{type:"category",dataKey:"name",width:200,tick:{fill:R.text,fontSize:11},axisLine:{stroke:R.border}}),D.jsx(Rr,{content:D.jsx(Ir,{})}),D.jsx(Da,{dataKey:"qty",name:"Cantidad",radius:[0,6,6,0],children:t.byServicio.slice(0,20).map((h,p)=>D.jsx(ri,{fill:xn[p%xn.length]},p))})]})})}),D.jsx(jo,{data:t.byServicio.map((h,p)=>({...h,rank:p+1,pctQty:(h.qty/t.totalQty*100).toFixed(1)+"%"})),columns:[{key:"rank",label:"#",align:"center",mono:!0,width:"60px"},{key:"name",label:"Servicio",highlight:!0},{key:"qty",label:"Cantidad",align:"right",mono:!0,width:"120px"},{key:"pctQty",label:"% del Total",align:"right",mono:!0,width:"120px"},{key:"qty",label:"Distribucin",render:h=>D.jsx(Bo,{value:h,max:825,color:R.primary})}],maxRows:15})]}),n==="Por Producto"&&D.jsxs(D.Fragment,{children:[D.jsx(Un,{count:t.uniqueNombres,children:"Top 25 Productos"}),D.jsx("div",{style:{background:R.white,borderRadius:18,padding:24,border:`1px solid ${R.borderLight}`,boxShadow:"0 2px 16px rgba(99,102,241,0.07), 0 1px 4px rgba(0,0,0,0.04)",marginBottom:24},children:D.jsx(Nr,{width:"100%",height:600,children:D.jsxs(ms,{data:t.byNombre,layout:"vertical",margin:{left:10},children:[D.jsx(La,{type:"number",tick:{fill:R.textMuted,fontSize:11},axisLine:{stroke:R.border}}),D.jsx(Na,{type:"category",dataKey:"name",width:220,tick:{fill:R.text,fontSize:11},axisLine:{stroke:R.border}}),D.jsx(Rr,{content:D.jsx(Ir,{})}),D.jsx(Da,{dataKey:"qty",name:"Cantidad",radius:[0,6,6,0],children:t.byNombre.map((h,p)=>{const g=h.name.includes("Silla")||h.name.includes("Silln")?zr.Silla:h.name.includes("Escritorio")||h.name.includes("Mesa")?zr.Mesa:h.name.includes("Mueble")||h.name.includes("Banca")?zr.Otro:xn[p%xn.length];return D.jsx(ri,{fill:g},p)})})]})})}),D.jsx(jo,{data:t.byNombre.map((h,p)=>({...h,rank:p+1,pctQty:(h.qty/t.totalQty*100).toFixed(1)+"%"})),columns:[{key:"rank",label:"#",align:"center",mono:!0,width:"60px"},{key:"name",label:"Producto",highlight:!0},{key:"qty",label:"Cantidad",align:"right",mono:!0,width:"120px"},{key:"pctQty",label:"% del Total",align:"right",mono:!0,width:"120px"},{key:"qty",label:"Distribucin",render:h=>D.jsx(Bo,{value:h,max:1285,color:R.orange})}],maxRows:15})]}),n==="Por Fecha"&&D.jsxs(D.Fragment,{children:[D.jsx(Un,{icon:Le.calendar,children:"Cronograma de Instalacin"}),D.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))",gap:16,marginBottom:32},children:[D.jsx(Ci,{label:"Fecha Inicio",value:t.fechaStats.fechaMin,sub:"primera instalacin",icon:Le.calendar,color:R.green,compact:!0}),D.jsx(Ci,{label:"Fecha Trmino",value:t.fechaStats.fechaMax,sub:"ltima instalacin",icon:Le.calendar,color:R.orange,compact:!0}),D.jsx(Ci,{label:"Meses",value:t.fechaStats.totalMeses,sub:"de instalacin",icon:Le.chart,color:R.primary,compact:!0}),D.jsx(Ci,{label:"Semanas",value:t.fechaStats.totalSemanas,sub:"programadas",icon:Le.layers,color:R.purple,compact:!0})]}),D.jsx(Un,{children:"Distribucin Mensual"}),D.jsx("div",{style:{background:R.white,borderRadius:18,padding:24,border:`1px solid ${R.borderLight}`,boxShadow:"0 2px 16px rgba(99,102,241,0.07), 0 1px 4px rgba(0,0,0,0.04)",marginBottom:24},children:D.jsx(Nr,{width:"100%",height:300,children:D.jsxs(ms,{data:t.byMes,children:[D.jsx(La,{dataKey:"name",tick:{fill:R.textMuted,fontSize:12},axisLine:{stroke:R.border}}),D.jsx(Na,{tick:{fill:R.textMuted,fontSize:11},axisLine:{stroke:R.border}}),D.jsx(Rr,{content:D.jsx(Ir,{})}),D.jsx(Da,{dataKey:"qty",name:"Cantidad",radius:[6,6,0,0],children:t.byMes.map((h,p)=>D.jsx(ri,{fill:xn[p]},p))})]})})}),D.jsx(jo,{data:t.byMes.map((h,p)=>({...h,rank:p+1,pctQty:(h.qty/t.totalQty*100).toFixed(1)+"%"})),columns:[{key:"rank",label:"#",align:"center",mono:!0,width:"60px"},{key:"name",label:"Mes",highlight:!0,width:"200px"},{key:"qty",label:"Cantidad",align:"right",mono:!0,width:"120px"},{key:"pctQty",label:"% del Total",align:"right",mono:!0,width:"120px"},{key:"qty",label:"Distribucin",render:h=>D.jsx(Bo,{value:h,max:4069,color:R.primary})}],maxRows:4}),D.jsx(Un,{children:"Top 5 Semanas con Ms Instalaciones"}),D.jsx("div",{style:{background:R.white,borderRadius:18,padding:24,border:`1px solid ${R.borderLight}`,boxShadow:"0 2px 16px rgba(99,102,241,0.07), 0 1px 4px rgba(0,0,0,0.04)",marginBottom:24},children:D.jsx(Nr,{width:"100%",height:280,children:D.jsxs(ms,{data:t.bySemana,children:[D.jsx(La,{dataKey:"name",tick:{fill:R.textMuted,fontSize:11},axisLine:{stroke:R.border},angle:-15,textAnchor:"end",height:60}),D.jsx(Na,{tick:{fill:R.textMuted,fontSize:11},axisLine:{stroke:R.border}}),D.jsx(Rr,{content:D.jsx(Ir,{})}),D.jsx(Da,{dataKey:"qty",name:"Cantidad",radius:[6,6,0,0],children:t.bySemana.map((h,p)=>D.jsx(ri,{fill:xn[p]},p))})]})})}),D.jsx(Un,{children:"Top 5 Das con Ms Instalaciones"}),D.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:16,marginBottom:24},children:t.byDia.map((h,p)=>D.jsx(Dc,{label:h.name,value:h.qty,color:xn[p],icon:Le.calendar},p))}),D.jsxs("div",{style:{background:`${R.orange}10`,border:`1px solid ${R.orange}40`,borderRadius:18,padding:20,display:"flex",alignItems:"flex-start",gap:16},children:[D.jsx("div",{style:{width:40,height:40,background:R.orange,borderRadius:8,display:"flex",alignItems:"center",justifyContent:"center",fontSize:20,flexShrink:0},children:""}),D.jsxs("div",{children:[D.jsx("div",{style:{fontSize:16,fontWeight:700,color:R.text,marginBottom:6},children:"Pico de Instalacin Detectado"}),D.jsxs("div",{style:{fontSize:14,color:R.textMuted,lineHeight:1.5},children:["El 01/07/2026 concentra ",D.jsx("strong",{style:{color:R.text},children:"2,924 unidades"})," (",(2924/t.totalQty*100).toFixed(1),"% del total). Se recomienda coordinar recursos adicionales de instalacin para esta fecha."]})]})]})]}),n==="Esp. Tcnicas"&&D.jsxs(D.Fragment,{children:[D.jsx(Un,{count:`${r.length}`,icon:Le.document,children:"Especificaciones Tcnicas de Mobiliario"}),D.jsxs("div",{style:{background:R.white,borderRadius:18,border:`1px solid ${R.borderLight}`,boxShadow:"0 2px 16px rgba(99,102,241,0.07), 0 1px 4px rgba(0,0,0,0.04)",marginBottom:16,display:"flex",alignItems:"center",overflow:"hidden",height:52},children:[D.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,padding:"0 14px",borderRight:`1px solid ${R.border}`,flexShrink:0,height:"100%"},children:[D.jsx("span",{style:{fontSize:14,color:R.textMuted},children:""}),D.jsx("input",{type:"text",placeholder:"Buscar...",value:c,onChange:h=>d(h.target.value),style:{width:140,padding:"0",border:"none",outline:"none",fontSize:13,color:R.text,background:"transparent"}}),c&&D.jsx("button",{onClick:()=>d(""),style:{border:"none",background:"none",cursor:"pointer",color:R.textMuted,fontSize:16,lineHeight:1,padding:0},children:""})]}),D.jsx("div",{style:{display:"flex",gap:6,alignItems:"center",overflowX:"auto",padding:"0 12px",flex:1,height:"100%",scrollbarWidth:"none"},children:(()=>{const h=r.filter(p=>f(p.name).includes(f(c))||f(p.code).includes(f(c)));return h.length===0?D.jsxs("span",{style:{fontSize:12,color:R.textMuted,whiteSpace:"nowrap"},children:['Sin resultados para "',c,'"']}):h.map(p=>D.jsxs("button",{onClick:()=>{l(p.file),d("")},style:{padding:"4px 11px",borderRadius:20,flexShrink:0,border:`1px solid ${s===p.file?R.primary:R.border}`,background:s===p.file?R.primary:R.bg,color:s===p.file?R.white:R.text,fontSize:12,fontWeight:s===p.file?600:400,cursor:"pointer",whiteSpace:"nowrap",transition:"all 0.15s ease"},children:[D.jsx("span",{style:{fontFamily:"monospace",fontSize:10,opacity:.7,marginRight:4},children:p.code}),p.name]},p.code))})()})]}),D.jsx("div",{style:{background:R.white,borderRadius:18,border:`1px solid ${R.borderLight}`,boxShadow:"0 2px 16px rgba(99,102,241,0.07), 0 1px 4px rgba(0,0,0,0.04)",overflow:"hidden",display:"flex",flexDirection:"column",minHeight:700},children:s?D.jsxs(D.Fragment,{children:[D.jsxs("div",{style:{padding:"11px 16px",borderBottom:`1px solid ${R.border}`,background:R.bg,fontSize:13,fontWeight:600,color:R.text,display:"flex",alignItems:"center",gap:8},children:[D.jsx("span",{style:{fontFamily:"monospace",fontSize:11,color:R.primary},children:r.find(h=>h.file===s)?.code}),D.jsx("span",{style:{color:R.textMuted},children:""}),r.find(h=>h.file===s)?.name]}),D.jsx(PW,{url:`/hospital-buin-paine-dashboard/eett/${encodeURIComponent(s)}`},s)]}):D.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",color:R.textMuted,gap:12,minHeight:500},children:[D.jsx("div",{style:{fontSize:48},children:""}),D.jsx("div",{style:{fontSize:16,fontWeight:600,color:R.text},children:"Selecciona una especificacin"}),D.jsx("div",{style:{fontSize:13},children:"Busca por nombre o cdigo y haz clic en el chip para ver la ficha tcnica"})]})})]}),D.jsxs("div",{style:{marginTop:48,padding:"20px 0",borderTop:`1px solid ${R.border}`,display:"flex",justifyContent:"space-between",fontSize:12,color:R.textMuted},children:[D.jsx("span",{children:"Hospital Buin Paine  Mobiliario No Clnico"}),D.jsxs("span",{children:["Fuente: MNC_Claude_20260209.xlsx  ",t.totalQty.toLocaleString("es-CL")," unidades"]})]})]})})]})}Jk.createRoot(document.getElementById("root")).render(D.jsx(C.StrictMode,{children:D.jsx(DW,{})}));
